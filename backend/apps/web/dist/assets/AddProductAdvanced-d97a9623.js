import{u as B,r as u,j as e,A as c}from"./index-09c3368c.js";import{N as G,I as L,P as q}from"./NestedSKUManager-f82465e3.js";import{A as Q,P as R,C as X,S as Y,a as _}from"./AlertBox-ad9089e9.js";import{X as H}from"./XMarkIcon-93d59038.js";import{P as J}from"./PlusIcon-3d2e3b30.js";import{C as W}from"./CubeIcon-1f7f940f.js";import{C as Z}from"./ChevronRightIcon-4b094a17.js";import{C as ee}from"./CheckCircleIcon-377c1a08.js";import{I as se}from"./InformationCircleIcon-90a29bbe.js";import{C as te}from"./CurrencyDollarIcon-a9a09c91.js";import{T as S}from"./TagIcon-88ee5672.js";import"./QRCodeGenerator-edf9c63c.js";import"./GlassModal-a6c5f610.js";import"./QrCodeIcon-0fb2cc7f.js";import"./ArrowDownTrayIcon-2accbe6b.js";import"./PencilIcon-619ae986.js";import"./ChevronDownIcon-05511def.js";import"./Cog6ToothIcon-f8515c56.js";import"./TrashIcon-41cd83e4.js";import"./ExclamationTriangleIcon-8f54841e.js";import"./categoryDataManager-0be0a985.js";import"./CheckIcon-ef591eb6.js";const Ce=()=>{var V;const k=B(),[m,b]=u.useState(0),[s,$]=u.useState({name:"",slug:"",description:"",shortDescription:"",categories:[],tags:[],price:"",comparePrice:"",costPrice:"",profit:"",profitMargin:"",baseSKU:"",hasVariants:!1,skuVariants:[],images:[],status:"draft",visibility:"visible",featured:!1,metaTitle:"",metaDescription:"",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"",openGraphDescription:"",openGraphImage:"",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"",searchDescription:"",searchImage:"",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0}),[n,j]=u.useState({}),[f,C]=u.useState(""),[w,P]=u.useState([]),[h,N]=u.useState({show:!1,message:"",type:"warning"}),p=[{id:"basic",title:"åŸºæœ¬è³‡è¨Š",description:"è¨­å®šç”¢å“åç¨±ã€æè¿°å’ŒåŸºç¤ SKU",icon:se,isCompleted:!1},{id:"pricing",title:"å®šåƒ¹è¨­å®š",description:"è¨­å®šåƒ¹æ ¼ã€æˆæœ¬å’Œåˆ©æ½¤ï¼ˆç„¡è®Šé«”å•†å“ï¼‰",icon:te,isCompleted:!1},{id:"variants",title:"SKU è®Šé«”ç®¡ç†",description:"è¨­å®šäº”å±¤å·¢ç‹€ SKU è®Šé«”å’Œåº«å­˜",icon:S,isCompleted:!1},{id:"categories",title:"å•†å“åˆ†é¡",description:"è¨­å®šå•†å“åˆ†é¡æ­¸å±¬",icon:S,isCompleted:!1},{id:"media",title:"åœ–ç‰‡åª’é«”",description:"ä¸Šå‚³ç”¢å“åœ–ç‰‡å’Œåª’é«”",icon:q,isCompleted:!1},{id:"seo",title:"SEO è¨­å®š",description:"æœå°‹å¼•æ“å„ªåŒ–è¨­å®š",icon:S,isCompleted:!1}],o=(t,a)=>{$(i=>({...i,[t]:a})),n[t]&&j(i=>({...i,[t]:null}))},T=(t,a)=>{o(t,a)},U=()=>{f.trim()&&!s.tags.includes(f.trim())&&(o("tags",[...s.tags,f.trim()]),C(""))},I=t=>{o("tags",s.tags.filter(a=>a!==t))},F=t=>{b(t),j({})},D=t=>{setTimeout(()=>{const a=document.querySelector(`[name="${t}"], #${t}`);a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),a.focus())},100)},K=()=>{const t=parseFloat(s.price)||0,a=parseFloat(s.costPrice)||0,i=t-a,l=a>0?(i/t*100).toFixed(2):0;o("profit",i.toFixed(2)),o("profitMargin",l)},y=t=>t?t.toLowerCase().trim().replace(/[\u4e00-\u9fff]/g,a=>`char-${a.charCodeAt(0)}`).replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50):"",O=t=>{const a=p[t],i={};switch(a.id){case"basic":s.name.trim()||(i.name="ç”¢å“åç¨±ç‚ºå¿…å¡«é …ç›®"),s.slug.trim()?/^[a-z0-9-]+$/.test(s.slug)||(i.slug="è·¯ç”±åªèƒ½åŒ…å«å°å¯«è‹±æ–‡ã€æ•¸å­—å’Œé€£å­—ç¬¦"):i.slug="ç”¢å“è·¯ç”±ç‚ºå¿…å¡«é …ç›®",s.description.trim()||(i.description="ç”¢å“æè¿°ç‚ºå¿…å¡«é …ç›®"),s.baseSKU.trim()?/^[a-z0-9]+$/.test(s.baseSKU)||(i.baseSKU="åŸºç¤ SKU åªèƒ½åŒ…å«å°å¯«è‹±æ–‡å’Œæ•¸å­—"):i.baseSKU="åŸºç¤ SKU ç‚ºå¿…å¡«é …ç›®";break;case"pricing":s.hasVariants||(!s.price||parseFloat(s.price)<=0)&&(i.price="è«‹è¼¸å…¥æœ‰æ•ˆçš„éŠ·å”®åƒ¹æ ¼");break;case"variants":s.hasVariants&&(s.skuVariants.length===0?i.skuVariants="è«‹è¨­å®šè‡³å°‘ä¸€å€‹ SKU è®Šé«”":s.skuVariants.filter(r=>r.isActive&&(!r.price||r.trackQuantity&&!r.quantity)).length>0&&(i.skuVariants="è«‹ç‚ºæ‰€æœ‰å•Ÿç”¨çš„è®Šé«”è¨­å®šåƒ¹æ ¼å’Œåº«å­˜"));break}return j(i),Object.keys(i).length===0},E=()=>{O(m)&&(w.includes(m)||P(t=>[...t,m]),b(t=>Math.min(t+1,p.length-1)))},A=()=>{b(t=>Math.max(t-1,0))},M=async()=>{const t={};let a=-1,i=null;for(let l=0;l<p.length;l++){const r=p[l],d={};switch(r.id){case"basic":s.name.trim()||(d.name="ç”¢å“åç¨±ç‚ºå¿…å¡«é …ç›®",a===-1&&(a=l,i="name")),s.slug.trim()?/^[a-z0-9-]+$/.test(s.slug)||(d.slug="è·¯ç”±åªèƒ½åŒ…å«å°å¯«è‹±æ–‡ã€æ•¸å­—å’Œé€£å­—ç¬¦",a===-1&&(a=l,i="slug")):(d.slug="ç”¢å“è·¯ç”±ç‚ºå¿…å¡«é …ç›®",a===-1&&(a=l,i="slug")),s.description.trim()||(d.description="ç”¢å“æè¿°ç‚ºå¿…å¡«é …ç›®",a===-1&&(a=l,i="description")),s.baseSKU.trim()?/^[a-z0-9]+$/.test(s.baseSKU)||(d.baseSKU="åŸºç¤ SKU åªèƒ½åŒ…å«å°å¯«è‹±æ–‡å’Œæ•¸å­—",a===-1&&(a=l,i="baseSKU")):(d.baseSKU="åŸºç¤ SKU ç‚ºå¿…å¡«é …ç›®",a===-1&&(a=l,i="baseSKU"));break;case"pricing":s.hasVariants||(!s.price||parseFloat(s.price)<=0)&&(d.price="è«‹è¼¸å…¥æœ‰æ•ˆçš„éŠ·å”®åƒ¹æ ¼",a===-1&&(a=l,i="price"));break;case"variants":s.hasVariants&&(s.skuVariants.length===0?(d.skuVariants="è«‹è¨­å®šè‡³å°‘ä¸€å€‹ SKU è®Šé«”",a===-1&&(a=l,i="skuVariants")):s.skuVariants.filter(x=>x.isActive&&(!x.price||x.trackQuantity&&!x.quantity)).length>0&&(d.skuVariants="è«‹ç‚ºæ‰€æœ‰å•Ÿç”¨çš„è®Šé«”è¨­å®šåƒ¹æ ¼å’Œåº«å­˜",a===-1&&(a=l,i="skuVariants")));break}Object.keys(d).length>0&&(t[r.id]=d)}if(Object.keys(t).length>0){j(t[p[a].id]||{}),b(a);const l=Object.values(t).reduce((r,d)=>r+Object.keys(d).length,0);N({show:!0,type:"warning",title:"è«‹å®Œæˆå¿…å¡«é …ç›®",message:e.jsxs("div",{children:[e.jsxs("p",{children:["ç™¼ç¾ ",l," å€‹æœªå®Œæˆçš„å¿…å¡«é …ç›®ï¼š"]}),e.jsx("ul",{className:"mt-2 text-xs space-y-1",children:Object.entries(t).map(([r,d])=>{var x;const g=(x=p.find(v=>v.id===r))==null?void 0:x.title;return Object.values(d).map((v,z)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-current rounded-full mr-2"}),g,": ",v]},`${r}-${z}`))}).flat()})]})}),D(i);return}try{const l={...s,price:parseFloat(s.price)||0,comparePrice:parseFloat(s.comparePrice)||0,costPrice:parseFloat(s.costPrice)||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),productId:`${s.baseSKU}-${Date.now()}`,images:s.images.map(r=>({id:r.id,url:r.url,name:r.name,size:r.size,isMain:r===s.images[0]})),skuVariants:s.hasVariants?s.skuVariants.map(r=>{var d,g,x;return{...r,price:parseFloat(r.price)||0,comparePrice:parseFloat(r.comparePrice)||0,costPrice:parseFloat(r.costPrice)||0,quantity:parseInt(r.quantity)||0,lowStockThreshold:parseInt(r.lowStockThreshold)||0,weight:parseFloat(r.weight)||0,dimensions:{length:parseFloat((d=r.dimensions)==null?void 0:d.length)||0,width:parseFloat((g=r.dimensions)==null?void 0:g.width)||0,height:parseFloat((x=r.dimensions)==null?void 0:x.height)||0},trackQuantity:!!r.trackQuantity,allowBackorder:!!r.allowBackorder,isActive:!!r.isActive}}):[],hasVariants:!!s.hasVariants,featured:!!s.featured};console.log("æº–å‚™æäº¤çš„ç”¢å“è³‡æ–™:",l),await new Promise(r=>setTimeout(r,1e3)),N({show:!0,type:"success",title:"ç”¢å“å‰µå»ºæˆåŠŸ",message:`ç”¢å“ "${s.name}" å·²æˆåŠŸå‰µå»ºï¼
ç”¢å“ ID: ${l.productId}`}),setTimeout(()=>{k("/products")},2e3)}catch(l){console.error("å‰µå»ºç”¢å“å¤±æ•—:",l),N({show:!0,type:"error",title:"å‰µå»ºå¤±æ•—",message:"å‰µå»ºç”¢å“æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚"})}};return e.jsx("div",{className:c.pageContainer,children:e.jsxs("div",{className:c.contentContainerFluid,children:[e.jsx(Q,{show:h.show,onClose:()=>N({...h,show:!1}),title:h.title,message:h.message,type:h.type,autoClose:h.type==="success"?3e3:0}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"w-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"æ–°å¢ç”¢å“"}),e.jsx("p",{className:"text-gray-600 font-chinese mt-1",children:"å‰µå»ºæ–°çš„ç”¢å“ä¸¦è¨­å®šè©³ç´°è³‡è¨Š"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["æ­¥é©Ÿ ",m+1," / ",p.length,": ",(V=p[m])==null?void 0:V.title]})})]}),e.jsx("div",{className:"flex-1",children:e.jsx(R,{steps:p,currentStep:m,onStepClick:F,completedSteps:w,compact:!0})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-8",children:[m===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"åŸºæœ¬è³‡è¨Š"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ç”¢å“åç¨± ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",id:"name",value:s.name,onChange:t=>{if(o("name",t.target.value),!s.slug||s.slug===y(s.name)){const a=y(t.target.value);o("slug",a)}},className:`${c.input} ${n.name?"border-red-500":""}`,placeholder:"è¼¸å…¥ç”¢å“åç¨±"}),n.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ç”¢å“è·¯ç”± (Slug) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",name:"slug",id:"slug",value:s.slug,onChange:t=>o("slug",t.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:`${c.input} ${n.slug?"border-red-500":""}`,placeholder:"product-slug",pattern:"[a-z0-9-]+"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"/products/"})})]}),e.jsx("button",{type:"button",onClick:()=>o("slug",y(s.name)),className:"px-3 py-2 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!s.name,children:"è‡ªå‹•ç”Ÿæˆ"})]}),n.slug&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.slug}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["ç”¢å“ç¶²å€å°‡æ˜¯: ",window.location.origin,"/",s.categories.length>0?s.categories[0].slug||"category":"products","/",s.slug||"product-slug"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["åŸºç¤ SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"baseSKU",id:"baseSKU",value:s.baseSKU,onChange:t=>{const a=t.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");o("baseSKU",a)},className:`${c.input} ${n.baseSKU?"border-red-500":""}`,placeholder:"ä¾‹å¦‚ï¼šiphone",maxLength:20}),n.baseSKU&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.baseSKU}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["åŸºç¤ SKU å°‡ä½œç‚ºæ‰€æœ‰è®Šé«”çš„å‰ç¶´ï¼Œä¾‹å¦‚ï¼š",s.baseSKU||"iphone","bkpro"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç°¡çŸ­æè¿°"}),e.jsx("input",{type:"text",value:s.shortDescription,onChange:t=>o("shortDescription",t.target.value),className:c.input,placeholder:"ä¸€å¥è©±æè¿°ç”¢å“ç‰¹è‰²"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["ç”¢å“æè¿° ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",id:"description",value:s.description,onChange:t=>o("description",t.target.value),rows:4,className:`${c.input} ${n.description?"border-red-500":""}`,placeholder:"è©³ç´°æè¿°ç”¢å“åŠŸèƒ½ã€ç‰¹è‰²å’Œä½¿ç”¨æ–¹æ³•"}),n.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç”¢å“æ¨™ç±¤"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.tags.map(t=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-[#cc824d] text-white",children:[t,e.jsx("button",{type:"button",onClick:()=>I(t),className:"ml-2 text-white hover:text-gray-200",children:e.jsx(H,{className:"w-4 h-4"})})]},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:t=>C(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),U()),className:c.input,placeholder:"è¼¸å…¥æ¨™ç±¤åç¨±"}),e.jsx("button",{type:"button",onClick:U,className:c.btnSecondary,children:e.jsx(J,{className:"w-4 h-4"})})]})]})]})]}),m===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"å®šåƒ¹è¨­å®š"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:["ğŸ’¡ ",e.jsx("strong",{children:"æ³¨æ„ï¼š"}),"å¦‚æœæ‚¨çš„å•†å“æœ‰å¤šå€‹è®Šé«”ï¼ˆå¦‚ä¸åŒé¡è‰²ã€å°ºå¯¸ç­‰ï¼‰ï¼Œåƒ¹æ ¼å°‡åœ¨ä¸‹ä¸€æ­¥çš„ SKU è®Šé«”ç®¡ç†ä¸­è¨­å®šã€‚ æ­¤è™•çš„å®šåƒ¹åƒ…é©ç”¨æ–¼ç„¡è®Šé«”çš„å–®ä¸€å•†å“ã€‚"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["éŠ·å”®åƒ¹æ ¼ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),e.jsx("input",{type:"number",name:"price",id:"price",value:s.price,onChange:t=>{o("price",t.target.value),setTimeout(K,100)},className:`${c.input} pl-12 ${n.price?"border-red-500":""}`,placeholder:"0",min:"0",step:"0.01"})]}),n.price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ¯”è¼ƒåƒ¹æ ¼ï¼ˆåŸåƒ¹ï¼‰"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),e.jsx("input",{type:"number",value:s.comparePrice,onChange:t=>o("comparePrice",t.target.value),className:`${c.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æˆæœ¬åƒ¹æ ¼"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),e.jsx("input",{type:"number",value:s.costPrice,onChange:t=>{o("costPrice",t.target.value),setTimeout(K,100)},className:`${c.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ©æ½¤"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),e.jsx("input",{type:"text",value:s.profit,readOnly:!0,className:`${c.input} pl-12 bg-gray-50`,placeholder:"0"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ©æ½¤ç‡"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s.profitMargin,readOnly:!0,className:`${c.input} pr-8 bg-gray-50`,placeholder:"0"}),e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]})]})]}),m===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"SKU è®Šé«”ç®¡ç†"}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("input",{type:"checkbox",id:"hasVariants",checked:s.hasVariants,onChange:t=>o("hasVariants",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"hasVariants",className:"ml-2 text-sm text-gray-700",children:"æ­¤ç”¢å“æœ‰å¤šå€‹ SKU è®Šé«” (å¦‚ä¸åŒé¡è‰²ã€å°ºå¯¸ã€è¦æ ¼ç­‰)"})]}),!s.hasVariants&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(W,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"æ­¤å•†å“ç‚ºå–®ä¸€ SKU å•†å“"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å¦‚æœå•†å“æœ‰ä¸åŒçš„è®Šé«”é¸é …ï¼Œè«‹å‹¾é¸ä¸Šæ–¹çš„è®Šé«”é¸é …"}),s.baseSKU&&e.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"å•†å“ SKU:"}),e.jsx("p",{className:"font-mono text-lg text-[#cc824d]",children:s.baseSKU})]})]}),s.hasVariants&&e.jsx(G,{baseSKU:s.baseSKU,skuVariants:s.skuVariants,onChange:t=>o("skuVariants",t),basePrice:s.price,baseComparePrice:s.comparePrice,baseCostPrice:s.costPrice,productName:s.name,productCategories:s.categories}),n.skuVariants&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.skuVariants})]})]}),m===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"å•†å“åˆ†é¡è¨­å®š"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"é¸æ“‡å•†å“åˆ†é¡ (å¯è¤‡é¸)"}),e.jsx(X,{selectedCategories:s.categories,onChange:t=>o("categories",t)})]})]}),m===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"åœ–ç‰‡åª’é«”"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç”¢å“åœ–ç‰‡"}),e.jsx(L,{images:s.images,onChange:t=>o("images",t),maxImages:10})]})]}),m===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:c.sectionTitle,children:"SEO è¨­å®š"}),e.jsx(Y,{productData:s,onChange:T,errors:n,categories:s.categories})]})]}),e.jsxs("div",{className:"border-t border-gray-200 px-8 py-6 flex items-center justify-between bg-gray-50 rounded-b-xl",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>k("/products"),className:c.btnSecondary,children:"å–æ¶ˆ"}),m>0&&e.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"ä¸Šä¸€æ­¥"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["æ­¥é©Ÿ ",m+1," / ",p.length]}),e.jsx("div",{className:"flex space-x-3",children:m<p.length-1?e.jsxs("button",{type:"button",onClick:E,className:"inline-flex items-center px-6 py-2 bg-[#cc824d] text-white rounded-lg text-sm font-medium hover:bg-[#b86c37] transition-colors shadow-sm",children:["ä¸‹ä¸€æ­¥",e.jsx(Z,{className:"w-4 h-4 ml-2"})]}):e.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center px-8 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"å‰µå»ºç”¢å“"]})})]})]})]})]})})};export{Ce as default};
