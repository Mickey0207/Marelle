async function t(e,n={}){const c=typeof window<"u"&&window.__MARELLE_API_BASE__||"/",s=await fetch(e.startsWith("http")?e:c.replace(/\/$/,"")+e,{credentials:"include",headers:{"Content-Type":"application/json",...n.headers||{}},...n}),o=await s.text(),a=o?JSON.parse(o):void 0;if(!s.ok){const r=new Error((a==null?void 0:a.error)||`HTTP ${s.status}`);throw r.status=s.status,r}return a}async function d(){return t("/backend/admins")}async function i(e,n){return t(`/backend/admins/${e}`,{method:"PATCH",body:JSON.stringify(n)})}async function u(){return t("/backend/roles")}async function l(e){return t("/backend/roles",{method:"POST",body:JSON.stringify({name:e})})}async function y(e){return t(`/backend/roles/${encodeURIComponent(e)}/modules`)}async function f(e,n){return t(`/backend/roles/${encodeURIComponent(e)}/modules`,{method:"PUT",body:JSON.stringify({modules:n})})}async function m(){const e=await t("/backend/modules");return Array.isArray(e)?e.map(n=>({key:n.key,label:n.label||n.key})):[]}async function b(e){return t("/backend/admins",{method:"POST",body:JSON.stringify(e)})}async function k(e){return t(`/backend/admins/${e}/send-reset-email`,{method:"POST"})}export{m as a,u as b,b as c,f as d,l as e,y as g,d as l,k as s,i as u};
