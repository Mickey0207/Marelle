import{r,j as e}from"./index-5be64975.js";import{S as i}from"./StandardTable-046e436b.js";import{p as d}from"./paymentTypes-e4fcadae.js";import{G as m}from"./GlassModal-8d9cbd14.js";import{T as h}from"./TabNavigation-b0ee78ba.js";import{I as x}from"./IconActionButton-2bcd0b2a.js";import{E as b}from"./EyeIcon-db27fda4.js";import"./chevron-down-e41c1b61.js";import"./XMarkIcon-404a829f.js";function p({title:a,titleId:l,...t},c){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},t),a?r.createElement("title",{id:l},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const j=r.forwardRef(p),u=j,C=Date.now(),y=Array.from({length:12}).map((a,l)=>{const t=l%4!==0,c=Math.floor(l*41%3e3)+500,o=[3,6,12][l%3],n=new Date(C-l*2*36e5).toISOString();return{id:`CI-${l+1}`,MerchantTradeNo:`CIMTN${8e5+l}`,TradeNo:`CITN${9e5+l}`,RtnCode:t?1:0,RtnMsg:t?"申請成功":"申請失敗",TradeAmt:c,PaymentType:"Credit",TradeDate:n,CheckMacValue:`MOCKEDCHECKMACCI${l}`,BNPLTradeNo:`BNPL${7e5+l}`,BNPLInstallment:o,MerchantID:"2000132",StoreID:"",CustomField1:"",CustomField2:"",CustomField3:"",CustomField4:""}}),N={getList(){return[...y]}},g=[{key:"MerchantTradeNo",label:"特店交易編號"},{key:"TradeNo",label:"綠界交易編號"},{key:"RtnMsg",label:"狀態訊息"},{key:"TradeAmt",label:"交易金額",render:a=>e.jsxs("span",{children:["$",a]})},{key:"PaymentType",label:"付款方式",render:a=>d.formatWithChinese(a)},{key:"TradeDate",label:"訂單成立時間"},{key:"_actions",label:"操作",sortable:!1,render:(a,l)=>e.jsx(x,{Icon:b,label:"查看詳情",variant:"blue",onClick:()=>{var t;return(t=l.__onView)==null?void 0:t.call(l,l)}})}];function E(){const[a,l]=r.useState(null),[t,c]=r.useState("basic"),o=r.useMemo(()=>N.getList().map(n=>({...n,__onView:()=>{l(n),c("basic")}})),[]);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-serif font-bold text-[#2d1e0f]",children:"通知中心"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"綠界無卡分期申請"})]}),e.jsx(i,{data:o,columns:g,title:"綠界無卡分期申請結果",exportFileName:"ecpay-cardless-installments",getRowId:n=>n.id,emptyIcon:u}),e.jsx(m,{isOpen:!!a,onClose:()=>l(null),title:"無卡分期申請詳情",size:"max-w-5xl",contentMaxHeight:"max-h-[calc(85vh-80px)]",children:a&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"border-b",children:e.jsx(h,{tabs:[{key:"basic",label:"基本資料"},{key:"bnpl",label:"BNPL 詳情"},{key:"meta",label:"其他"}],mode:"controlled",activeKey:t,onTabChange:n=>c(n.key),layout:"left",className:"px-4"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[t==="basic"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(s,{label:"特店交易編號",children:a.MerchantTradeNo}),e.jsx(s,{label:"綠界交易編號",children:a.TradeNo}),e.jsx(s,{label:"交易金額",children:`NT$${a.TradeAmt}`}),e.jsx(s,{label:"付款方式",children:d.formatWithChinese(a.PaymentType)}),e.jsx(s,{label:"狀態代碼",children:a.RtnCode}),e.jsx(s,{label:"狀態訊息",children:a.RtnMsg}),e.jsx(s,{label:"訂單成立時間",children:a.TradeDate}),e.jsx("div",{className:"col-span-2",children:e.jsx(s,{label:"檢查碼",children:e.jsx("code",{className:"text-xs break-all",children:a.CheckMacValue})})})]}),t==="bnpl"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(s,{label:"無卡分期申請編號",children:a.BNPLTradeNo||"-"}),e.jsx(s,{label:"分期期數",children:a.BNPLInstallment||"-"})]}),t==="meta"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(s,{label:"特店編號",children:a.MerchantID}),e.jsx(s,{label:"店舖代號",children:a.StoreID||"-"}),e.jsx(s,{label:"自訂欄位1",children:a.CustomField1||"-"}),e.jsx(s,{label:"自訂欄位2",children:a.CustomField2||"-"}),e.jsx(s,{label:"自訂欄位3",children:a.CustomField3||"-"}),e.jsx(s,{label:"自訂欄位4",children:a.CustomField4||"-"})]})]})]})})]})}const s=({label:a,children:l})=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2",children:[e.jsx("div",{className:"text-sm text-gray-500 font-chinese col-span-1",children:a}),e.jsx("div",{className:"col-span-2 text-gray-900 text-sm break-words",children:l||"-"})]});export{E as default};
