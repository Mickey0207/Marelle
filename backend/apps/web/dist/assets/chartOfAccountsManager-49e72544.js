const i=["資產","負債","權益","收入","費用"],s=["借","貸"],n=[{id:"acc-1101",code:"1101",name:"現金",type:"資產",normal:"借",active:!0},{id:"acc-1121",code:"1121",name:"應收帳款",type:"資產",normal:"借",active:!0},{id:"acc-1141",code:"1141",name:"存貨",type:"資產",normal:"借",active:!0},{id:"acc-2101",code:"2101",name:"應付帳款",type:"負債",normal:"貸",active:!0},{id:"acc-3110",code:"3110",name:"股本",type:"權益",normal:"貸",active:!0},{id:"acc-4101",code:"4101",name:"銷貨收入",type:"收入",normal:"貸",active:!0},{id:"acc-5101",code:"5101",name:"銷貨成本",type:"費用",normal:"借",active:!0},{id:"acc-7101",code:"7101",name:"運費",type:"費用",normal:"借",active:!0}],o=[{id:"auto-ord-created",name:"訂單建立（應收）",eventKey:"訂單建立",active:!0,lines:[{accountCode:"1121",side:"借",amountSource:"訂單含稅總額",note:"應收帳款增加"},{accountCode:"4101",side:"貸",amountSource:"銷貨收入（未稅-折扣）",note:"銷貨收入"},{accountCode:"5101",side:"借",amountSource:"銷貨成本",note:"銷貨成本"},{accountCode:"1141",side:"貸",amountSource:"銷貨成本",note:"存貨減少"}]},{id:"auto-ord-paid",name:"訂單收款（現金）",eventKey:"訂單收款",active:!0,lines:[{accountCode:"1101",side:"借",amountSource:"收款金額",note:"現金（或銀行存款）"},{accountCode:"1121",side:"貸",amountSource:"收款金額",note:"應收帳款轉銷"}]},{id:"auto-ord-refund",name:"訂單退款",eventKey:"訂單退款",active:!0,lines:[{accountCode:"4101",side:"借",amountSource:"退款總額",note:"沖銷收入"},{accountCode:"1101",side:"貸",amountSource:"退款總額",note:"現金流出"}]}];function u(e){return JSON.parse(JSON.stringify(e))}function d(){return u(n)}function m(e){return u(n.find(c=>c.code===e)||null)}function f(e){if(!e||!e.code)return{success:!1,message:"缺少代碼"};if(n.some(t=>t.code===e.code))return{success:!1,message:"代碼已存在"};const c={id:`acc-${e.code}`,code:e.code,name:e.name||"未命名科目",type:i.includes(e.type)?e.type:"資產",normal:s.includes(e.normal)?e.normal:"借",active:e.active!==!1};return n.push(c),{success:!0,data:u(c)}}function l(e,c){const t=n.findIndex(a=>a.code===e);return t===-1?{success:!1}:(n[t]={...n[t],...c,code:n[t].code},{success:!0,data:u(n[t])})}function v(e){const c=n.findIndex(t=>t.code===e);return c===-1?{success:!1}:(n.splice(c,1),{success:!0})}function S(){return u(o)}function r(e){return u(o.find(c=>c.id===e)||null)}function A(e){if(!e||!e.id)return{success:!1};const c=o.findIndex(t=>t.id===e.id);return c===-1?o.push(e):o[c]={...o[c],...e},{success:!0,data:u(r(e.id))}}function C(e){const c=o.findIndex(t=>t.id===e);return c===-1?{success:!1}:(o.splice(c,1),{success:!0})}const x={listAccounts:d,getAccountByCode:m,createAccount:f,updateAccount:l,deleteAccount:v,listAutomations:S,getAutomationById:r,upsertAutomation:A,deleteAutomation:C,TYPES:i,NORMAL:s};export{x as c};
