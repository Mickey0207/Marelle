import{r as h,j as e,A as g}from"./index-09c3368c.js";import{P as y}from"./categoryDataManager-0be0a985.js";import{C}from"./ChevronDownIcon-05511def.js";import{C as G}from"./ChevronRightIcon-4b094a17.js";import{C as S}from"./CheckIcon-ef591eb6.js";import{X as v}from"./XMarkIcon-93d59038.js";import{P as k}from"./NestedSKUManager-f82465e3.js";import{E as T}from"./ExclamationTriangleIcon-8f54841e.js";function M({title:s,titleId:l,...c},a){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},c),s?h.createElement("title",{id:l},s):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const O=h.forwardRef(M),Y=O;function $({title:s,titleId:l,...c},a){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":l},c),s?h.createElement("title",{id:l},s):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const E=h.forwardRef($),U=E,L=(s,l)=>{const c=String(l||"").trim().toLowerCase();if(!c)return Array.isArray(s)?s:[];const a=r=>{const i=String(r.name||"").toLowerCase().includes(c),n=(r.children||[]).map(a).filter(Boolean);return i||n.length?{...r,children:n}:null};return(Array.isArray(s)?s:[]).map(a).filter(Boolean)},w={hasSelectedChildren(s,l){const c=new Set(l||[]);let a=!1;return function r(i){for(const n of i.children||[]){if(c.has(n.id)){a=!0;return}if(r(n),a)return}}(s),a},allChildrenSelected(s,l){const c=new Set(l||[]);let a=!0;return function r(i){for(const n of i.children||[])c.has(n.id)||(a=!1),r(n)}(s),a&&(s.children||[]).length>0},collectAllIds(s){const l=[];return function c(a){for(const r of a||[])l.push(r.id),r.children&&c(r.children)}(Array.isArray(s)?s:[]),l}},I=({category:s,selectedCategories:l,onToggle:c,expandedItems:a,onExpandToggle:r,level:i=1})=>{const n=s.children&&s.children.length>0,x=a.includes(s.id),u=l.includes(s.id),p=w.hasSelectedChildren(s,l),b=w.allChildrenSelected(s,l),f=()=>u?"checked":p&&!b?"indeterminate":"unchecked",N=m=>{m.stopPropagation(),c(s.id)},j=m=>{m.stopPropagation(),n&&r(s.id)},t=()=>{switch(i){case 1:return"pl-0";case 2:return"pl-6";case 3:return"pl-12";case 4:return"pl-18";case 5:return"pl-24";default:return"pl-0"}},d=()=>{switch(i){case 1:return"font-semibold text-gray-900 text-base";case 2:return"font-medium text-gray-800 text-sm";case 3:return"font-medium text-gray-700 text-sm";case 4:return"text-gray-600 text-sm";case 5:return"text-gray-500 text-xs";default:return"text-gray-600 text-sm"}},o=f();return e.jsxs("div",{className:"select-none",children:[e.jsxs("div",{className:`flex items-center py-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors ${t()}`,onClick:()=>n&&r(s.id),children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 mr-2",children:n?e.jsx("button",{onClick:j,className:"p-1 hover:bg-gray-200 rounded",children:x?e.jsx(C,{className:"w-4 h-4 text-gray-500"}):e.jsx(G,{className:"w-4 h-4 text-gray-500"})}):e.jsx("div",{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative mr-3",children:[e.jsx("input",{type:"checkbox",checked:o==="checked",onChange:N,className:"sr-only"}),e.jsxs("div",{onClick:N,className:`w-4 h-4 border-2 rounded flex items-center justify-center cursor-pointer transition-colors ${o==="checked"?"bg-[#cc824d] border-[#cc824d] text-white":o==="indeterminate"?"bg-[#cc824d]/20 border-[#cc824d] text-[#cc824d]":"border-gray-300 hover:border-[#cc824d]"}`,children:[o==="checked"&&e.jsx(S,{className:"w-3 h-3"}),o==="indeterminate"&&e.jsx(U,{className:"w-3 h-3"})]})]}),e.jsx("span",{className:`flex-1 ${d()}`,children:s.name}),e.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["L",i]})]}),n&&x&&e.jsx("div",{className:"ml-2",children:s.children.map(m=>e.jsx(I,{category:m,selectedCategories:l,onToggle:c,expandedItems:a,onExpandToggle:r,level:i+1},m.id))})]})},_=({selectedCategories:s=[],onChange:l})=>{const[c,a]=h.useState(["electronics","clothing"]),[r,i]=h.useState(""),n=t=>{const d=s.includes(t)?s.filter(o=>o!==t):[...s,t];l(d)},x=t=>{a(d=>d.includes(t)?d.filter(o=>o!==t):[...d,t])},u=()=>{const t=w.collectAllIds(y);a(t)},p=()=>{a([])},b=()=>{l([])},f=L(y,r),j=(()=>{const t=[],d=o=>{o.forEach(m=>{s.includes(m.id)&&t.push(m.name),m.children&&d(m.children)})};return d(y),t})();return e.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"分類選擇器"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:u,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"展開全部"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:p,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"收合全部"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:b,className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"清除選擇"})]})]}),e.jsx("input",{type:"text",placeholder:"搜尋分類...",value:r,onChange:t=>i(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"}),j.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["已選擇 ",j.length," 個分類："]}),e.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:j.map(t=>e.jsx("span",{className:"inline-block px-2 py-1 bg-[#cc824d] text-white text-xs rounded-full",children:t},t))})]})]}),e.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:f.length>0?e.jsx("div",{className:"space-y-1",children:f.map(t=>e.jsx(I,{category:t,selectedCategories:s,onToggle:n,expandedItems:c,onExpandToggle:x,level:1},t.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:r?"找不到符合的分類":"沒有可用的分類"})}),e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50 text-xs text-gray-600",children:["已選擇 ",s.length," 個分類"]})]})},H=({productData:s,onChange:l,errors:c={},categories:a=[]})=>{const[r,i]=h.useState(""),[n,x]=h.useState(!1),[u,p]=h.useState(!1);h.useEffect(()=>{const t=a.length>0?a[0].slug||"category":"products",d=s.slug||"product-slug";i(`${window.location.origin}/${t}/${d}`)},[s.slug,a]);const b=async(t,d,o)=>{if(t){if(!t.type.startsWith("image/")){alert("請選擇圖片檔案");return}if(t.size>5*1024*1024){alert("圖片檔案不能超過 5MB");return}o(!0);try{const m=URL.createObjectURL(t);await new Promise(F=>setTimeout(F,1e3)),l(d,m)}catch(m){console.error("圖片上傳失敗:",m),alert("圖片上傳失敗，請稍後再試")}finally{o(!1)}}},f=t=>{l(t,"")},N=()=>{if(s.name){const t=`${s.name} - Marelle`;l("metaTitle",t)}},j=()=>{if(s.description){const t=s.description.replace(/\n/g," ").substring(0,150)+(s.description.length>150?"...":"");l("metaDescription",t)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"搜尋結果預覽"}),e.jsxs("div",{className:"bg-white border rounded-lg p-4 max-w-lg",children:[e.jsx("div",{className:"text-blue-600 text-lg font-medium leading-tight hover:underline cursor-pointer",children:s.metaTitle||s.name||"Spring - Ecommerce website template"}),e.jsx("div",{className:"text-green-700 text-sm mt-1",children:r}),e.jsx("div",{className:"text-gray-600 text-sm mt-2 leading-relaxed",children:s.metaDescription||s.shortDescription||"Discover Beautifully designed Template for retail store with a distinct design and subtle animations. You will be able to set up your new store website in no ..."})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"此預覽使用 Google 搜尋結果頁面的典型字符限制。搜尋引擎會實驗性調整其字符限制，可能決定顯示不同內容。"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"標題標籤 (Title Tag)"}),e.jsx("button",{type:"button",onClick:N,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!s.name,children:"自動生成"})]}),e.jsx("input",{type:"text",value:s.metaTitle||"",onChange:t=>l("metaTitle",t.target.value),className:`${g.input} ${c.metaTitle?"border-red-500":""}`,placeholder:"搜尋引擎顯示的標題",maxLength:"60"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"建議長度：50-60 字符"}),e.jsxs("span",{children:[(s.metaTitle||"").length,"/60"]})]}),c.metaTitle&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.metaTitle})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"元描述 (Meta Description)"}),e.jsx("button",{type:"button",onClick:j,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!s.description,children:"自動生成"})]}),e.jsx("textarea",{value:s.metaDescription||"",onChange:t=>l("metaDescription",t.target.value),rows:3,className:`${g.input} ${c.metaDescription?"border-red-500":""}`,placeholder:"搜尋引擎顯示的描述",maxLength:"160"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"建議長度：150-160 字符"}),e.jsxs("span",{children:[(s.metaDescription||"").length,"/160"]})]}),c.metaDescription&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.metaDescription})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"網站地圖索引 (Sitemap Indexing)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"sitemap-on",name:"sitemapIndexing",checked:s.sitemapIndexing!==!1,onChange:()=>l("sitemapIndexing",!0),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"sitemap-on",className:"text-sm font-medium text-gray-700",children:"開啟"}),e.jsx("p",{className:"text-xs text-gray-500",children:"允許搜尋引擎在搜尋結果中返回使用此模板的靜態頁面"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"sitemap-off",name:"sitemapIndexing",checked:s.sitemapIndexing===!1,onChange:()=>l("sitemapIndexing",!1),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"sitemap-off",className:"text-sm font-medium text-gray-700",children:"關閉"}),e.jsx("p",{className:"text-xs text-gray-500",children:"此頁面模板永遠不會出現在搜尋結果或您的網站地圖中"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"控制搜尋引擎是否可以在搜尋結果中返回使用此模板的靜態頁面。"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"頁面規範網址 (Page Canonical URL)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"canonical-auto",name:"canonicalType",checked:!s.customCanonicalUrl,onChange:()=>l("customCanonicalUrl",""),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"canonical-auto",className:"text-sm font-medium text-gray-700",children:"自動生成"}),e.jsx("p",{className:"text-xs text-gray-500",children:"使用頁面的默認網址作為規範網址"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"canonical-custom",name:"canonicalType",checked:!!s.customCanonicalUrl,onChange:()=>{s.customCanonicalUrl||l("customCanonicalUrl",r)},className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("label",{htmlFor:"canonical-custom",className:"text-sm font-medium text-gray-700",children:"自定義規範網址"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"指定自定義的規範網址以避免重複內容"}),s.customCanonicalUrl!==void 0&&e.jsx("input",{type:"url",value:s.customCanonicalUrl||"",onChange:t=>l("customCanonicalUrl",t.target.value),className:`${g.input} text-sm`,placeholder:"https://"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"指引搜尋引擎到您偏好的頁面網址以避免重複內容。這將覆蓋網站設定中的全域規範標籤。"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"開放圖表設定"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"在 Facebook、X (Twitter)、LinkedIn 和 Pinterest 上分享時容器顯示的資訊。"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片預覽"}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-32 h-20 bg-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:s.openGraphImage?e.jsx("img",{src:s.openGraphImage,alt:"Open Graph",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"預覽圖片"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:s.openGraphTitle||s.metaTitle||s.name||"Springring - 電子商務網站模板"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.openGraphDescription||s.metaDescription||s.shortDescription||"探索設計精美的零售商店模板，它擁有獨特的設計和精緻的動畫效果。"}),e.jsx("p",{className:"text-xs text-gray-500",children:"marelle.com.tw/"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片"}),e.jsxs("div",{className:"space-y-3",children:[s.openGraphImage?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:s.openGraphImage,alt:"Open Graph",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>f("openGraphImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(v,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"openGraphImageUpload",accept:"image/*",onChange:t=>{var o;const d=(o=t.target.files)==null?void 0:o[0];d&&b(d,"openGraphImage",x)},className:"hidden",disabled:n}),e.jsxs("label",{htmlFor:"openGraphImageUpload",className:"cursor-pointer block",children:[e.jsx(k,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),e.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-300"}),e.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),e.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),e.jsx("input",{type:"url",value:s.openGraphImage||"",onChange:t=>l("openGraphImage",t.target.value),className:g.input,placeholder:"https://example.com/image.jpg"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"為獲得最佳效果，請使用至少 1200px x 630px (1.9:1 比例) 的影像。"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaTitleForOG",checked:s.useMetaTitleForOG!==!1,onChange:t=>l("useMetaTitleForOG",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaTitleForOG",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),s.useMetaTitleForOG===!1&&e.jsx("input",{type:"text",value:s.openGraphTitle||"",onChange:t=>l("openGraphTitle",t.target.value),className:g.input,placeholder:"開放圖表標題"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaDescriptionForOG",checked:s.useMetaDescriptionForOG!==!1,onChange:t=>l("useMetaDescriptionForOG",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaDescriptionForOG",className:"text-xs text-gray-600",children:"與 SEO Meta 描述相同"})]})]}),s.useMetaDescriptionForOG===!1&&e.jsx("textarea",{value:s.openGraphDescription||"",onChange:t=>l("openGraphDescription",t.target.value),rows:3,className:g.input,placeholder:"開放圖表描述"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"網站搜尋設定"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"網站搜尋結果中顯示的資訊。在此處進行更改，請重新發布您的網站，然後在搜尋設定中開始重新索引您的網站。"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"excludeFromSearch",checked:s.excludeFromSearch||!1,onChange:t=>l("excludeFromSearch",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"excludeFromSearch",className:"ml-2 text-sm text-gray-700",children:"從網站搜尋結果中排除網頁"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaTitleForSearch",checked:s.useMetaTitleForSearch!==!1,onChange:t=>l("useMetaTitleForSearch",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaTitleForSearch",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),s.useMetaTitleForSearch===!1&&e.jsx("input",{type:"text",value:s.searchTitle||"",onChange:t=>l("searchTitle",t.target.value),className:g.input,placeholder:"搜尋標題"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaDescriptionForSearch",checked:s.useMetaDescriptionForSearch!==!1,onChange:t=>l("useMetaDescriptionForSearch",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaDescriptionForSearch",className:"text-xs text-gray-600",children:"與 SEO 提述標籤相同"})]})]}),s.useMetaDescriptionForSearch===!1&&e.jsx("textarea",{value:s.searchDescription||"",onChange:t=>l("searchDescription",t.target.value),rows:3,className:g.input,placeholder:"搜尋描述"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋圖片"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useOpenGraphImageForSearch",checked:s.useOpenGraphImageForSearch!==!1,onChange:t=>l("useOpenGraphImageForSearch",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useOpenGraphImageForSearch",className:"text-xs text-gray-600",children:"與 Open Graph 圖片 URL 相同"})]})]}),s.useOpenGraphImageForSearch===!1&&e.jsxs("div",{className:"space-y-3",children:[s.searchImage?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:s.searchImage,alt:"搜尋圖片",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>f("searchImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(v,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"searchImageUpload",accept:"image/*",onChange:t=>{var o;const d=(o=t.target.files)==null?void 0:o[0];d&&b(d,"searchImage",p)},className:"hidden",disabled:u}),e.jsxs("label",{htmlFor:"searchImageUpload",className:"cursor-pointer block",children:[e.jsx(k,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:u?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),e.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-300"}),e.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),e.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),e.jsx("input",{type:"url",value:s.searchImage||"",onChange:t=>l("searchImage",t.target.value),className:g.input,placeholder:"https://example.com/image.jpg"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"發布設定"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品狀態"}),e.jsxs("select",{value:s.status||"draft",onChange:t=>l("status",t.target.value),className:g.select,children:[e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"active",children:"上架"}),e.jsx("option",{value:"archived",children:"下架"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"可見性"}),e.jsxs("select",{value:s.visibility||"visible",onChange:t=>l("visibility",t.target.value),className:g.select,children:[e.jsx("option",{value:"visible",children:"公開"}),e.jsx("option",{value:"hidden",children:"隱藏"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:s.featured||!1,onChange:t=>l("featured",t.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700",children:"設為精選產品"})]})})]})]})},q=({steps:s,currentStep:l,onStepClick:c,completedSteps:a=[],compact:r=!1})=>{var i;return e.jsxs("div",{className:r?"mb-4":"mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute ${r?"top-4":"top-6"} left-0 right-0 h-0.5 bg-gray-200`}),e.jsx("div",{className:`absolute ${r?"top-4":"top-6"} left-0 h-0.5 bg-[#cc824d] transition-all duration-500 ease-in-out`,style:{width:`${a.length/(s.length-1)*100}%`}}),e.jsx("div",{className:"relative flex justify-between",children:s.map((n,x)=>{const u=l===x,p=a.includes(x);return e.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>c(x),children:[e.jsxs("div",{className:`
                  relative ${r?"w-8 h-8":"w-12 h-12"} rounded-full border-2 flex items-center justify-center transition-all duration-300 z-10
                  ${u?"bg-[#cc824d] border-[#cc824d] text-white shadow-lg scale-110":p?"bg-[#cc824d] border-[#cc824d] text-white":"bg-white border-gray-300 text-gray-400 group-hover:border-[#cc824d] group-hover:text-[#cc824d]"}
                `,children:[p&&!u?e.jsx(S,{className:r?"w-4 h-4":"w-6 h-6"}):e.jsx("span",{className:`${r?"text-xs":"text-sm"} font-semibold`,children:x+1}),u&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#cc824d] opacity-20 animate-ping"})]}),e.jsxs("div",{className:`${r?"mt-2":"mt-3"} text-center`,children:[e.jsx("div",{className:`
                    ${r?"text-xs":"text-sm"} font-medium transition-colors duration-200
                    ${u?"text-[#cc824d]":p?"text-gray-700":"text-gray-500 group-hover:text-[#cc824d]"}
                  `,children:n.title}),!r&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-20 mx-auto leading-tight",children:n.description})]})]},n.id)})})]}),!r&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["步驟 ",l+1," / ",s.length,": ",(i=s[l])==null?void 0:i.title]})})]})},K=({show:s,onClose:l,title:c="提醒",message:a,type:r="warning",autoClose:i=5e3})=>{if(h.useEffect(()=>{if(s&&i>0){const u=setTimeout(()=>{l()},i);return()=>clearTimeout(u)}},[s,i,l]),!s)return null;const x={warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:"text-yellow-400",title:"text-yellow-800",closeButton:"text-yellow-400 hover:text-yellow-600"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400",title:"text-red-800",closeButton:"text-red-400 hover:text-red-600"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400",title:"text-green-800",closeButton:"text-green-400 hover:text-green-600"},info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400",title:"text-blue-800",closeButton:"text-blue-400 hover:text-blue-600"}}[r];return e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md w-full",children:e.jsxs("div",{className:`
        ${x.container} 
        border rounded-lg p-4 shadow-lg backdrop-blur-sm
        animate-in slide-in-from-right-full duration-300
      `,children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 ${x.icon}`,children:e.jsx(T,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${x.title}`,children:c}),a&&e.jsx("div",{className:"mt-1 text-sm",children:typeof a=="string"?e.jsx("p",{children:a}):a})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs("button",{type:"button",onClick:l,className:`
                inline-flex rounded-md p-1.5 transition-colors duration-200
                ${x.closeButton}
                hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-current
              `,children:[e.jsx("span",{className:"sr-only",children:"關閉"}),e.jsx(v,{className:"h-4 w-4"})]})})]}),i>0&&e.jsx("div",{className:"mt-3 w-full bg-white/30 rounded-full h-1",children:e.jsx("div",{className:"bg-current h-1 rounded-full transition-all duration-75 ease-out",style:{animation:`shrink ${i}ms linear forwards`}})})]})})};export{K as A,_ as C,q as P,H as S,Y as a};
