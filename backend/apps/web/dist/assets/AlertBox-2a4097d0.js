import{r as o,j as e,A as p}from"./index-5be64975.js";import{C as E}from"./ChevronDownIcon-47739443.js";import{C as U}from"./ChevronRightIcon-bd983f70.js";import{C as G}from"./CheckIcon-8874d163.js";import{X as I}from"./XMarkIcon-404a829f.js";import{P as C}from"./ImageUpload-68adf005.js";import{E as A}from"./ExclamationTriangleIcon-5236f94b.js";function L({title:s,titleId:t,...c},l){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},c),s?o.createElement("title",{id:t},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const B=o.forwardRef(L),Q=B;function P({title:s,titleId:t,...c},l){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},c),s?o.createElement("title",{id:t},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const R=o.forwardRef(P),z=R,W=(s,t)=>{const c=String(t||"").trim().toLowerCase();if(!c)return Array.isArray(s)?s:[];const l=a=>{const n=String(a.name||"").toLowerCase().includes(c),d=(a.children||[]).map(l).filter(Boolean);return n||d.length?{...a,children:d}:null};return(Array.isArray(s)?s:[]).map(l).filter(Boolean)},F={hasSelectedChildren(s,t){const c=new Set(t||[]);let l=!1;return function a(n){for(const d of n.children||[]){if(c.has(d.id)){l=!0;return}if(a(d),l)return}}(s),l},allChildrenSelected(s,t){const c=new Set(t||[]);let l=!0;return function a(n){for(const d of n.children||[])c.has(d.id)||(l=!1),a(d)}(s),l&&(s.children||[]).length>0},collectAllIds(s){const t=[];return function c(l){for(const a of l||[])t.push(a.id),a.children&&c(a.children)}(Array.isArray(s)?s:[]),t}},M=({category:s,selectedCategories:t,onToggle:c,expandedItems:l,onExpandToggle:a,level:n=1})=>{const d=s.children&&s.children.length>0,x=l.includes(s.id),h=t.includes(s.id),j=F.hasSelectedChildren(s,t),b=F.allChildrenSelected(s,t),v=()=>h?"checked":j&&!b?"indeterminate":"unchecked",w=u=>{u.stopPropagation(),c(s.id)},k=u=>{u.stopPropagation(),d&&a(s.id)},r=()=>{switch(n){case 1:return"pl-0";case 2:return"pl-6";case 3:return"pl-12";case 4:return"pl-18";case 5:return"pl-24";default:return"pl-0"}},f=()=>{switch(n){case 1:return"font-semibold text-gray-900 text-base";case 2:return"font-medium text-gray-800 text-sm";case 3:return"font-medium text-gray-700 text-sm";case 4:return"text-gray-600 text-sm";case 5:return"text-gray-500 text-xs";default:return"text-gray-600 text-sm"}},m=v();return e.jsxs("div",{className:"select-none",children:[e.jsxs("div",{className:`flex items-center py-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors ${r()}`,onClick:()=>d&&a(s.id),children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 mr-2",children:d?e.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-200 rounded",children:x?e.jsx(E,{className:"w-4 h-4 text-gray-500"}):e.jsx(U,{className:"w-4 h-4 text-gray-500"})}):e.jsx("div",{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative mr-3",children:[e.jsx("input",{type:"checkbox",checked:m==="checked",onChange:w,className:"sr-only"}),e.jsxs("div",{onClick:w,className:`w-4 h-4 border-2 rounded flex items-center justify-center cursor-pointer transition-colors ${m==="checked"?"bg-[#cc824d] border-[#cc824d] text-white":m==="indeterminate"?"bg-[#cc824d]/20 border-[#cc824d] text-[#cc824d]":"border-gray-300 hover:border-[#cc824d]"}`,children:[m==="checked"&&e.jsx(G,{className:"w-3 h-3"}),m==="indeterminate"&&e.jsx(z,{className:"w-3 h-3"})]})]}),e.jsx("span",{className:`flex-1 ${f()}`,children:s.name}),e.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["L",n]})]}),d&&x&&e.jsx("div",{className:"ml-2",children:s.children.map(u=>e.jsx(M,{category:u,selectedCategories:t,onToggle:c,expandedItems:l,onExpandToggle:a,level:n+1},u.id))})]})},V=({selectedCategories:s=[],onChange:t})=>{const[c,l]=o.useState([]),[a,n]=o.useState(""),[d,x]=o.useState(!1),[h,j]=o.useState(null),[b,v]=o.useState([]);o.useEffect(()=>{let i=!0;return(async()=>{try{x(!0),j(null);const g=await fetch("/backend/categories",{credentials:"include"});if(!g.ok)throw new Error("分類載入失敗");const y=await g.json();if(!i)return;v(Array.isArray(y)?y:[]);const O=(Array.isArray(y)?y:[]).map($=>$.id);l(O)}catch(g){if(!i)return;j((g==null?void 0:g.message)||"載入分類發生錯誤"),v([])}finally{i&&x(!1)}})(),()=>{i=!1}},[]);const w=i=>{const N=s.includes(i)?s.filter(g=>g!==i):[...s,i];t(N)},k=i=>{l(N=>N.includes(i)?N.filter(g=>g!==i):[...N,i])},r=()=>{const i=F.collectAllIds(b);l(i)},f=()=>{l([])},m=()=>{t([])},u=o.useMemo(()=>W(b,a),[b,a]),S=(()=>{const i=[],N=g=>{g.forEach(y=>{s.includes(y.id)&&i.push(y.name),y.children&&N(y.children)})};return N(b),i})();return e.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"分類選擇器"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:r,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"展開全部"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:f,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"收合全部"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:m,className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"清除選擇"})]})]}),e.jsx("input",{type:"text",placeholder:"搜尋分類...",value:a,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"}),S.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["已選擇 ",S.length," 個分類："]}),e.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:S.map(i=>e.jsx("span",{className:"inline-block px-2 py-1 bg-[#cc824d] text-white text-xs rounded-full",children:i},i))})]})]}),e.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:d?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"載入中..."}):h?e.jsx("div",{className:"text-center py-8 text-red-600",children:h}):u.length>0?e.jsx("div",{className:"space-y-1",children:u.map(i=>e.jsx(M,{category:i,selectedCategories:s,onToggle:w,expandedItems:c,onExpandToggle:k,level:1},i.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:a?"找不到符合的分類":"沒有可用的分類"})}),e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50 text-xs text-gray-600",children:["已選擇 ",s.length," 個分類"]})]})},Z=({productData:s,onChange:t,errors:c={},categories:l=[]})=>{const[a,n]=o.useState(""),[d,x]=o.useState(!1),[h,j]=o.useState(!1);o.useEffect(()=>{const r=s.slug||"product-slug";n(`${window.location.origin}/products/${r}`)},[s.slug]);const b=async(r,f,m)=>{if(r){if(!r.type.startsWith("image/")){alert("請選擇圖片檔案");return}if(r.size>5*1024*1024){alert("圖片檔案不能超過 5MB");return}m(!0);try{const u=URL.createObjectURL(r);await new Promise(T=>setTimeout(T,1e3)),t(f,u)}catch(u){console.error("圖片上傳失敗:",u),alert("圖片上傳失敗，請稍後再試")}finally{m(!1)}}},v=r=>{t(r,"")},w=()=>{if(s.name){const r=`${s.name} - Marelle`;t("metaTitle",r)}},k=()=>{if(s.description){const r=s.description.replace(/\n/g," ").substring(0,150)+(s.description.length>150?"...":"");t("metaDescription",r)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"搜尋結果預覽"}),e.jsxs("div",{className:"bg-white border rounded-lg p-4 max-w-lg",children:[e.jsx("div",{className:"text-blue-600 text-lg font-medium leading-tight hover:underline cursor-pointer",children:s.metaTitle||s.name||"Spring - Ecommerce website template"}),e.jsx("div",{className:"text-green-700 text-sm mt-1",children:a}),e.jsx("div",{className:"text-gray-600 text-sm mt-2 leading-relaxed",children:s.metaDescription||s.shortDescription||"Discover Beautifully designed Template for retail store with a distinct design and subtle animations. You will be able to set up your new store website in no ..."})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"此預覽使用 Google 搜尋結果頁面的典型字符限制。搜尋引擎會實驗性調整其字符限制，可能決定顯示不同內容。"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"標題標籤 (Title Tag)"}),e.jsx("button",{type:"button",onClick:w,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!s.name,children:"自動生成"})]}),e.jsx("input",{type:"text",value:s.metaTitle||"",onChange:r=>t("metaTitle",r.target.value),className:`${p.input} ${c.metaTitle?"border-red-500":""}`,placeholder:"搜尋引擎顯示的標題",maxLength:"60"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"建議長度：50-60 字符"}),e.jsxs("span",{children:[(s.metaTitle||"").length,"/60"]})]}),c.metaTitle&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.metaTitle})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"元描述 (Meta Description)"}),e.jsx("button",{type:"button",onClick:k,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!s.description,children:"自動生成"})]}),e.jsx("textarea",{value:s.metaDescription||"",onChange:r=>t("metaDescription",r.target.value),rows:3,className:`${p.input} ${c.metaDescription?"border-red-500":""}`,placeholder:"搜尋引擎顯示的描述",maxLength:"160"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"建議長度：150-160 字符"}),e.jsxs("span",{children:[(s.metaDescription||"").length,"/160"]})]}),c.metaDescription&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.metaDescription})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"網站地圖索引 (Sitemap Indexing)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"sitemap-on",name:"sitemapIndexing",checked:s.sitemapIndexing!==!1,onChange:()=>t("sitemapIndexing",!0),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"sitemap-on",className:"text-sm font-medium text-gray-700",children:"開啟"}),e.jsx("p",{className:"text-xs text-gray-500",children:"允許搜尋引擎在搜尋結果中返回使用此模板的靜態頁面"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"sitemap-off",name:"sitemapIndexing",checked:s.sitemapIndexing===!1,onChange:()=>t("sitemapIndexing",!1),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"sitemap-off",className:"text-sm font-medium text-gray-700",children:"關閉"}),e.jsx("p",{className:"text-xs text-gray-500",children:"此頁面模板永遠不會出現在搜尋結果或您的網站地圖中"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"控制搜尋引擎是否可以在搜尋結果中返回使用此模板的靜態頁面。"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"頁面規範網址 (Page Canonical URL)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"canonical-auto",name:"canonicalType",checked:!s.customCanonicalUrl,onChange:()=>t("customCanonicalUrl",""),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"canonical-auto",className:"text-sm font-medium text-gray-700",children:"自動生成"}),e.jsx("p",{className:"text-xs text-gray-500",children:"使用頁面的默認網址作為規範網址"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"radio",id:"canonical-custom",name:"canonicalType",checked:!!s.customCanonicalUrl,onChange:()=>{s.customCanonicalUrl||t("customCanonicalUrl",a)},className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("label",{htmlFor:"canonical-custom",className:"text-sm font-medium text-gray-700",children:"自定義規範網址"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"指定自定義的規範網址以避免重複內容"}),s.customCanonicalUrl!==void 0&&e.jsx("input",{type:"url",value:s.customCanonicalUrl||"",onChange:r=>t("customCanonicalUrl",r.target.value),className:`${p.input} text-sm`,placeholder:"https://"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"指引搜尋引擎到您偏好的頁面網址以避免重複內容。這將覆蓋網站設定中的全域規範標籤。"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"開放圖表設定"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"在 Facebook、X (Twitter)、LinkedIn 和 Pinterest 上分享時容器顯示的資訊。"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片預覽"}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-32 h-20 bg-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:s.openGraphImage?e.jsx("img",{src:s.openGraphImage,alt:"Open Graph",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-xs text-gray-500 text-center",children:"預覽圖片"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:s.openGraphTitle||s.metaTitle||s.name||"Springring - 電子商務網站模板"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.openGraphDescription||s.metaDescription||s.shortDescription||"探索設計精美的零售商店模板，它擁有獨特的設計和精緻的動畫效果。"}),e.jsx("p",{className:"text-xs text-gray-500",children:"marelle.com.tw/"})]})]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片"}),e.jsxs("div",{className:"space-y-3",children:[s.openGraphImage?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:s.openGraphImage,alt:"Open Graph",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>v("openGraphImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(I,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"openGraphImageUpload",accept:"image/*",onChange:r=>{var m;const f=(m=r.target.files)==null?void 0:m[0];f&&b(f,"openGraphImage",x)},className:"hidden",disabled:d}),e.jsxs("label",{htmlFor:"openGraphImageUpload",className:"cursor-pointer block",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:d?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),e.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-300"}),e.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),e.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),e.jsx("input",{type:"url",value:s.openGraphImage||"",onChange:r=>t("openGraphImage",r.target.value),className:p.input,placeholder:"https://example.com/image.jpg"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"為獲得最佳效果，請使用至少 1200px x 630px (1.9:1 比例) 的影像。"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaTitleForOG",checked:s.useMetaTitleForOG!==!1,onChange:r=>t("useMetaTitleForOG",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaTitleForOG",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),s.useMetaTitleForOG===!1&&e.jsx("input",{type:"text",value:s.openGraphTitle||"",onChange:r=>t("openGraphTitle",r.target.value),className:p.input,placeholder:"開放圖表標題"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaDescriptionForOG",checked:s.useMetaDescriptionForOG!==!1,onChange:r=>t("useMetaDescriptionForOG",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaDescriptionForOG",className:"text-xs text-gray-600",children:"與 SEO Meta 描述相同"})]})]}),s.useMetaDescriptionForOG===!1&&e.jsx("textarea",{value:s.openGraphDescription||"",onChange:r=>t("openGraphDescription",r.target.value),rows:3,className:p.input,placeholder:"開放圖表描述"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"網站搜尋設定"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"網站搜尋結果中顯示的資訊。在此處進行更改，請重新發布您的網站，然後在搜尋設定中開始重新索引您的網站。"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"excludeFromSearch",checked:s.excludeFromSearch||!1,onChange:r=>t("excludeFromSearch",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"excludeFromSearch",className:"ml-2 text-sm text-gray-700",children:"從網站搜尋結果中排除網頁"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaTitleForSearch",checked:s.useMetaTitleForSearch!==!1,onChange:r=>t("useMetaTitleForSearch",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaTitleForSearch",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),s.useMetaTitleForSearch===!1&&e.jsx("input",{type:"text",value:s.searchTitle||"",onChange:r=>t("searchTitle",r.target.value),className:p.input,placeholder:"搜尋標題"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useMetaDescriptionForSearch",checked:s.useMetaDescriptionForSearch!==!1,onChange:r=>t("useMetaDescriptionForSearch",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useMetaDescriptionForSearch",className:"text-xs text-gray-600",children:"與 SEO 提述標籤相同"})]})]}),s.useMetaDescriptionForSearch===!1&&e.jsx("textarea",{value:s.searchDescription||"",onChange:r=>t("searchDescription",r.target.value),rows:3,className:p.input,placeholder:"搜尋描述"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋圖片"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useOpenGraphImageForSearch",checked:s.useOpenGraphImageForSearch!==!1,onChange:r=>t("useOpenGraphImageForSearch",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"useOpenGraphImageForSearch",className:"text-xs text-gray-600",children:"與 Open Graph 圖片 URL 相同"})]})]}),s.useOpenGraphImageForSearch===!1&&e.jsxs("div",{className:"space-y-3",children:[s.searchImage?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:s.searchImage,alt:"搜尋圖片",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>v("searchImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(I,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",id:"searchImageUpload",accept:"image/*",onChange:r=>{var m;const f=(m=r.target.files)==null?void 0:m[0];f&&b(f,"searchImage",j)},className:"hidden",disabled:h}),e.jsxs("label",{htmlFor:"searchImageUpload",className:"cursor-pointer block",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:h?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),e.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-300"}),e.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),e.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),e.jsx("input",{type:"url",value:s.searchImage||"",onChange:r=>t("searchImage",r.target.value),className:p.input,placeholder:"https://example.com/image.jpg"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"發布設定"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品狀態"}),e.jsxs("select",{value:s.status||"draft",onChange:r=>t("status",r.target.value),className:p.select,children:[e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"active",children:"上架"}),e.jsx("option",{value:"archived",children:"下架"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"可見性"}),e.jsxs("select",{value:s.visibility||"visible",onChange:r=>t("visibility",r.target.value),className:p.select,children:[e.jsx("option",{value:"visible",children:"公開"}),e.jsx("option",{value:"hidden",children:"隱藏"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:s.featured||!1,onChange:r=>t("featured",r.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700",children:"設為精選產品"})]})})]})]})},D=({steps:s,currentStep:t,onStepClick:c,completedSteps:l=[],compact:a=!1})=>{var n;return e.jsxs("div",{className:a?"mb-4":"mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute ${a?"top-4":"top-6"} left-0 right-0 h-0.5 bg-gray-200`}),e.jsx("div",{className:`absolute ${a?"top-4":"top-6"} left-0 h-0.5 bg-[#cc824d] transition-all duration-500 ease-in-out`,style:{width:`${l.length/(s.length-1)*100}%`}}),e.jsx("div",{className:"relative flex justify-between",children:s.map((d,x)=>{const h=t===x,j=l.includes(x);return e.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>c(x),children:[e.jsxs("div",{className:`
                  relative ${a?"w-8 h-8":"w-12 h-12"} rounded-full border-2 flex items-center justify-center transition-all duration-300 z-10
                  ${h?"bg-[#cc824d] border-[#cc824d] text-white shadow-lg scale-110":j?"bg-[#cc824d] border-[#cc824d] text-white":"bg-white border-gray-300 text-gray-400 group-hover:border-[#cc824d] group-hover:text-[#cc824d]"}
                `,children:[j&&!h?e.jsx(G,{className:a?"w-4 h-4":"w-6 h-6"}):e.jsx("span",{className:`${a?"text-xs":"text-sm"} font-semibold`,children:x+1}),h&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#cc824d] opacity-20 animate-ping"})]}),e.jsxs("div",{className:`${a?"mt-2":"mt-3"} text-center`,children:[e.jsx("div",{className:`
                    ${a?"text-xs":"text-sm"} font-medium transition-colors duration-200
                    ${h?"text-[#cc824d]":j?"text-gray-700":"text-gray-500 group-hover:text-[#cc824d]"}
                  `,children:d.title}),!a&&e.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-20 mx-auto leading-tight",children:d.description})]})]},d.id)})})]}),!a&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["步驟 ",t+1," / ",s.length,": ",(n=s[t])==null?void 0:n.title]})})]})},ee=({show:s,onClose:t,title:c="提醒",message:l,type:a="warning",autoClose:n=5e3})=>{if(o.useEffect(()=>{if(s&&n>0){const h=setTimeout(()=>{t()},n);return()=>clearTimeout(h)}},[s,n,t]),!s)return null;const x={warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:"text-yellow-400",title:"text-yellow-800",closeButton:"text-yellow-400 hover:text-yellow-600"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400",title:"text-red-800",closeButton:"text-red-400 hover:text-red-600"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400",title:"text-green-800",closeButton:"text-green-400 hover:text-green-600"},info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400",title:"text-blue-800",closeButton:"text-blue-400 hover:text-blue-600"}}[a];return e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md w-full",children:e.jsxs("div",{className:`
        ${x.container} 
        border rounded-lg p-4 shadow-lg backdrop-blur-sm
        animate-in slide-in-from-right-full duration-300
      `,children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 ${x.icon}`,children:e.jsx(A,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:`text-sm font-medium ${x.title}`,children:c}),l&&e.jsx("div",{className:"mt-1 text-sm",children:typeof l=="string"?e.jsx("p",{children:l}):l})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs("button",{type:"button",onClick:t,className:`
                inline-flex rounded-md p-1.5 transition-colors duration-200
                ${x.closeButton}
                hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-current
              `,children:[e.jsx("span",{className:"sr-only",children:"關閉"}),e.jsx(I,{className:"h-4 w-4"})]})})]}),n>0&&e.jsx("div",{className:"mt-3 w-full bg-white/30 rounded-full h-1",children:e.jsx("div",{className:"bg-current h-1 rounded-full transition-all duration-75 ease-out",style:{animation:`shrink ${n}ms linear forwards`}})})]})})};export{ee as A,V as C,D as P,Z as S,Q as a};
