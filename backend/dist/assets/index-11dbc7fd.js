var x5=Object.defineProperty;var y5=(t,e,s)=>e in t?x5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var zm=(t,e,s)=>(y5(t,typeof e!="symbol"?e+"":e,s),s);function v5(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function b5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bv={exports:{}},nm={},jv={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),j5=Symbol.for("react.portal"),N5=Symbol.for("react.fragment"),w5=Symbol.for("react.strict_mode"),_5=Symbol.for("react.profiler"),S5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),k5=Symbol.for("react.forward_ref"),T5=Symbol.for("react.suspense"),E5=Symbol.for("react.memo"),A5=Symbol.for("react.lazy"),Gg=Symbol.iterator;function D5(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var Nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wv=Object.assign,_v={};function Bl(t,e,s){this.props=t,this.context=e,this.refs=_v,this.updater=s||Nv}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sv(){}Sv.prototype=Bl.prototype;function Uf(t,e,s){this.props=t,this.context=e,this.refs=_v,this.updater=s||Nv}var Bf=Uf.prototype=new Sv;Bf.constructor=Uf;wv(Bf,Bl.prototype);Bf.isPureReactComponent=!0;var Hg=Array.isArray,Cv=Object.prototype.hasOwnProperty,zf={current:null},kv={key:!0,ref:!0,__self:!0,__source:!0};function Tv(t,e,s){var n,a={},i=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Cv.call(e,n)&&!kv.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ac,type:t,key:i,ref:l,props:a,_owner:zf.current}}function P5(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function M5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Kg=/\/+/g;function Wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M5(""+t.key):e.toString(36)}function Md(t,e,s,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ac:case j5:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+Wm(l,0):n,Hg(a)?(s="",t!=null&&(s=t.replace(Kg,"$&/")+"/"),Md(a,e,s,"",function(d){return d})):a!=null&&(Wf(a)&&(a=P5(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Kg,"$&/")+"/")+t)),e.push(a)),1;if(l=0,n=n===""?".":n+":",Hg(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Wm(i,o);l+=Md(i,e,s,c,a)}else if(c=D5(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Wm(i,o++),l+=Md(i,e,s,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function qc(t,e,s){if(t==null)return t;var n=[],a=0;return Md(t,n,"","",function(i){return e.call(s,i,a++)}),n}function I5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vs={current:null},Id={transition:null},R5={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:Id,ReactCurrentOwner:zf};function Ev(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:qc,forEach:function(t,e,s){qc(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!Wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Bl;je.Fragment=N5;je.Profiler=_5;je.PureComponent=Uf;je.StrictMode=w5;je.Suspense=T5;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R5;je.act=Ev;je.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wv({},t.props),a=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=zf.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Cv.call(e,c)&&!kv.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Ac,type:t.type,key:a,ref:i,props:n,_owner:l}};je.createContext=function(t){return t={$$typeof:C5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S5,_context:t},t.Consumer=t};je.createElement=Tv;je.createFactory=function(t){var e=Tv.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:k5,render:t}};je.isValidElement=Wf;je.lazy=function(t){return{$$typeof:A5,_payload:{_status:-1,_result:t},_init:I5}};je.memo=function(t,e){return{$$typeof:E5,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};je.unstable_act=Ev;je.useCallback=function(t,e){return vs.current.useCallback(t,e)};je.useContext=function(t){return vs.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return vs.current.useDeferredValue(t)};je.useEffect=function(t,e){return vs.current.useEffect(t,e)};je.useId=function(){return vs.current.useId()};je.useImperativeHandle=function(t,e,s){return vs.current.useImperativeHandle(t,e,s)};je.useInsertionEffect=function(t,e){return vs.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return vs.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return vs.current.useMemo(t,e)};je.useReducer=function(t,e,s){return vs.current.useReducer(t,e,s)};je.useRef=function(t){return vs.current.useRef(t)};je.useState=function(t){return vs.current.useState(t)};je.useSyncExternalStore=function(t,e,s){return vs.current.useSyncExternalStore(t,e,s)};je.useTransition=function(){return vs.current.useTransition()};je.version="18.3.1";jv.exports=je;var f=jv.exports;const Dc=b5(f),O5=v5({__proto__:null,default:Dc},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5=f,F5=Symbol.for("react.element"),V5=Symbol.for("react.fragment"),$5=Object.prototype.hasOwnProperty,U5=L5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B5={key:!0,ref:!0,__self:!0,__source:!0};function Av(t,e,s){var n,a={},i=null,l=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)$5.call(e,n)&&!B5.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:F5,type:t,key:i,ref:l,props:a,_owner:U5.current}}nm.Fragment=V5;nm.jsx=Av;nm.jsxs=Av;bv.exports=nm;var r=bv.exports,s0={},Dv={exports:{}},tr={},Pv={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,$){var D=M.length;M.push($);e:for(;0<D;){var z=D-1>>>1,Z=M[z];if(0<a(Z,$))M[z]=$,M[D]=Z,D=z;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var $=M[0],D=M.pop();if(D!==$){M[0]=D;e:for(var z=0,Z=M.length,B=Z>>>1;z<B;){var G=2*(z+1)-1,K=M[G],H=G+1,q=M[H];if(0>a(K,D))H<Z&&0>a(q,K)?(M[z]=q,M[H]=D,z=H):(M[z]=K,M[G]=D,z=G);else if(H<Z&&0>a(q,D))M[z]=q,M[H]=D,z=H;else break e}}return $}function a(M,$){var D=M.sortIndex-$.sortIndex;return D!==0?D:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,u=null,h=3,g=!1,p=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var $=s(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=M)n(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=s(d)}}function N(M){if(x=!1,b(M),!p)if(s(c)!==null)p=!0,R(w);else{var $=s(d);$!==null&&F(N,$.startTime-M)}}function w(M,$){p=!1,x&&(x=!1,v(P),P=-1),g=!0;var D=h;try{for(b($),u=s(c);u!==null&&(!(u.expirationTime>$)||M&&!A());){var z=u.callback;if(typeof z=="function"){u.callback=null,h=u.priorityLevel;var Z=z(u.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?u.callback=Z:u===s(c)&&n(c),b($)}else n(c);u=s(c)}if(u!==null)var B=!0;else{var G=s(d);G!==null&&F(N,G.startTime-$),B=!1}return B}finally{u=null,h=D,g=!1}}var k=!1,T=null,P=-1,E=5,C=-1;function A(){return!(t.unstable_now()-C<E)}function I(){if(T!==null){var M=t.unstable_now();C=M;var $=!0;try{$=T(!0,M)}finally{$?S():(k=!1,T=null)}}else k=!1}var S;if(typeof y=="function")S=function(){y(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,L=_.port2;_.port1.onmessage=I,S=function(){L.postMessage(null)}}else S=function(){j(I,0)};function R(M){T=M,k||(k=!0,S())}function F(M,$){P=j(function(){M(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,R(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(M){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var D=h;h=$;try{return M()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=h;h=M;try{return $()}finally{h=D}},t.unstable_scheduleCallback=function(M,$,D){var z=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=D+Z,M={id:m++,callback:$,priorityLevel:M,startTime:D,expirationTime:Z,sortIndex:-1},D>z?(M.sortIndex=D,e(d,M),s(c)===null&&M===s(d)&&(x?(v(P),P=-1):x=!0,F(N,D-z))):(M.sortIndex=Z,e(c,M),p||g||(p=!0,R(w))),M},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(M){var $=h;return function(){var D=h;h=$;try{return M.apply(this,arguments)}finally{h=D}}}})(Mv);Pv.exports=Mv;var z5=Pv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5=f,Qs=z5;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iv=new Set,Qo={};function yi(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(Qo[t]=e,t=0;t<e.length;t++)Iv.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=Object.prototype.hasOwnProperty,G5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},qg={};function H5(t){return r0.call(qg,t)?!0:r0.call(Yg,t)?!1:G5.test(t)?qg[t]=!0:(Yg[t]=!0,!1)}function K5(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y5(t,e,s,n){if(e===null||typeof e>"u"||K5(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bs(t,e,s,n,a,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new bs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new bs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new bs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new bs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new bs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new bs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new bs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new bs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new bs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function Hf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gf,Hf);Kt[e]=new bs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gf,Hf);Kt[e]=new bs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gf,Hf);Kt[e]=new bs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new bs(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new bs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kf(t,e,s,n){var a=Kt.hasOwnProperty(e)?Kt[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y5(e,s,a,n)&&(s=null),n||a===null?H5(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):a.mustUseProperty?t[a.propertyName]=s===null?a.type===3?!1:"":s:(e=a.attributeName,n=a.attributeNamespace,s===null?t.removeAttribute(e):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var Dn=W5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),Rv=Symbol.for("react.provider"),Ov=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),i0=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Lv=Symbol.for("react.offscreen"),Zg=Symbol.iterator;function Xl(t){return t===null||typeof t!="object"?null:(t=Zg&&t[Zg]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Gm;function ho(t){if(Gm===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Gm=e&&e[1]||""}return`
`+Gm+t}var Hm=!1;function Km(t,e){if(!t||Hm)return"";Hm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Hm=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?ho(t):""}function q5(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=Km(t.type,!1),t;case 11:return t=Km(t.type.render,!1),t;case 1:return t=Km(t.type,!0),t;default:return""}}function l0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case Vi:return"Portal";case n0:return"Profiler";case Yf:return"StrictMode";case a0:return"Suspense";case i0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ov:return(t.displayName||"Context")+".Consumer";case Rv:return(t._context.displayName||"Context")+".Provider";case qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zf:return e=t.displayName||null,e!==null?e:l0(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return l0(t(e))}catch{}}return null}function Z5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l0(e);case 8:return e===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q5(t){var e=Fv(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=Q5(t))}function Vv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=Fv(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o0(t,e){var s=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Qg(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=ga(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $v(t,e){e=e.checked,e!=null&&Kf(t,"checked",e,!1)}function c0(t,e){$v(t,e);var s=ga(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d0(t,e.type,s):e.hasOwnProperty("defaultValue")&&d0(t,e.type,ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xg(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function d0(t,e,s){(e!=="number"||nu(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var fo=Array.isArray;function il(t,e,s,n){if(t=t.options,e){e={};for(var a=0;a<s.length;a++)e["$"+s[a]]=!0;for(s=0;s<t.length;s++)a=e.hasOwnProperty("$"+t[s].value),t[s].selected!==a&&(t[s].selected=a),a&&n&&(t[s].defaultSelected=!0)}else{for(s=""+ga(s),e=null,a=0;a<t.length;a++){if(t[a].value===s){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function u0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jg(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(W(92));if(fo(s)){if(1<s.length)throw Error(W(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:ga(s)}}function Uv(t,e){var s=ga(e.value),n=ga(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X5=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(t){X5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),So[e]=So[t]})});function Wv(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||So.hasOwnProperty(t)&&So[t]?(""+e).trim():e+"px"}function Gv(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Wv(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,a):t[s]=a}}var J5=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h0(t,e){if(e){if(J5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function f0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function Qf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g0=null,ll=null,ol=null;function tx(t){if(t=Ic(t)){if(typeof g0!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cm(e),g0(t.stateNode,t.type,e))}}function Hv(t){ll?ol?ol.push(t):ol=[t]:ll=t}function Kv(){if(ll){var t=ll,e=ol;if(ol=ll=null,tx(t),e)for(t=0;t<e.length;t++)tx(e[t])}}function Yv(t,e){return t(e)}function qv(){}var Ym=!1;function Zv(t,e,s){if(Ym)return t(e,s);Ym=!0;try{return Yv(t,e,s)}finally{Ym=!1,(ll!==null||ol!==null)&&(qv(),Kv())}}function Jo(t,e){var s=t.stateNode;if(s===null)return null;var n=cm(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(W(231,e,typeof s));return s}var x0=!1;if(_n)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){x0=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{x0=!1}function e3(t,e,s,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(m){this.onError(m)}}var Co=!1,au=null,iu=!1,y0=null,t3={onError:function(t){Co=!0,au=t}};function s3(t,e,s,n,a,i,l,o,c){Co=!1,au=null,e3.apply(t3,arguments)}function r3(t,e,s,n,a,i,l,o,c){if(s3.apply(this,arguments),Co){if(Co){var d=au;Co=!1,au=null}else throw Error(W(198));iu||(iu=!0,y0=d)}}function vi(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function Qv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sx(t){if(vi(t)!==t)throw Error(W(188))}function n3(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var s=t,n=e;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return sx(a),t;if(i===n)return sx(a),e;i=i.sibling}throw Error(W(188))}if(s.return!==n.return)s=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l)throw Error(W(189))}}if(s.alternate!==n)throw Error(W(190))}if(s.tag!==3)throw Error(W(188));return s.stateNode.current===s?t:e}function Xv(t){return t=n3(t),t!==null?Jv(t):null}function Jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jv(t);if(e!==null)return e;t=t.sibling}return null}var e2=Qs.unstable_scheduleCallback,rx=Qs.unstable_cancelCallback,a3=Qs.unstable_shouldYield,i3=Qs.unstable_requestPaint,xt=Qs.unstable_now,l3=Qs.unstable_getCurrentPriorityLevel,Xf=Qs.unstable_ImmediatePriority,t2=Qs.unstable_UserBlockingPriority,lu=Qs.unstable_NormalPriority,o3=Qs.unstable_LowPriority,s2=Qs.unstable_IdlePriority,am=null,Jr=null;function c3(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(am,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:m3,d3=Math.log,u3=Math.LN2;function m3(t){return t>>>=0,t===0?32:31-(d3(t)/u3|0)|0}var Jc=64,ed=4194304;function po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ou(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?n=po(o):(i&=l,i!==0&&(n=po(i)))}else l=s&~a,l!==0?n=po(l):i!==0&&(n=po(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Lr(e),a=1<<s,n|=t[s],e&=~a;return n}function h3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f3(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Lr(i),o=1<<l,c=a[l];c===-1?(!(o&s)||o&n)&&(a[l]=h3(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function v0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function r2(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function qm(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Pc(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=s}function p3(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var a=31-Lr(s),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,s&=~i}}function Jf(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Lr(s),a=1<<n;a&e|t[n]&e&&(t[n]|=e),s&=~a}}var Ie=0;function n2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a2,ep,i2,l2,o2,b0=!1,td=[],ea=null,ta=null,sa=null,ec=new Map,tc=new Map,Wn=[],g3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function eo(t,e,s,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Ic(e),e!==null&&ep(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function x3(t,e,s,n,a){switch(e){case"focusin":return ea=eo(ea,t,e,s,n,a),!0;case"dragenter":return ta=eo(ta,t,e,s,n,a),!0;case"mouseover":return sa=eo(sa,t,e,s,n,a),!0;case"pointerover":var i=a.pointerId;return ec.set(i,eo(ec.get(i)||null,t,e,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,tc.set(i,eo(tc.get(i)||null,t,e,s,n,a)),!0}return!1}function c2(t){var e=Ka(t.target);if(e!==null){var s=vi(e);if(s!==null){if(e=s.tag,e===13){if(e=Qv(s),e!==null){t.blockedOn=e,o2(t.priority,function(){i2(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=j0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);p0=n,s.target.dispatchEvent(n),p0=null}else return e=Ic(s),e!==null&&ep(e),t.blockedOn=s,!1;e.shift()}return!0}function ax(t,e,s){Rd(t)&&s.delete(e)}function y3(){b0=!1,ea!==null&&Rd(ea)&&(ea=null),ta!==null&&Rd(ta)&&(ta=null),sa!==null&&Rd(sa)&&(sa=null),ec.forEach(ax),tc.forEach(ax)}function to(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,Qs.unstable_scheduleCallback(Qs.unstable_NormalPriority,y3)))}function sc(t){function e(a){return to(a,t)}if(0<td.length){to(td[0],t);for(var s=1;s<td.length;s++){var n=td[s];n.blockedOn===t&&(n.blockedOn=null)}}for(ea!==null&&to(ea,t),ta!==null&&to(ta,t),sa!==null&&to(sa,t),ec.forEach(e),tc.forEach(e),s=0;s<Wn.length;s++)n=Wn[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wn.length&&(s=Wn[0],s.blockedOn===null);)c2(s),s.blockedOn===null&&Wn.shift()}var cl=Dn.ReactCurrentBatchConfig,cu=!0;function v3(t,e,s,n){var a=Ie,i=cl.transition;cl.transition=null;try{Ie=1,tp(t,e,s,n)}finally{Ie=a,cl.transition=i}}function b3(t,e,s,n){var a=Ie,i=cl.transition;cl.transition=null;try{Ie=4,tp(t,e,s,n)}finally{Ie=a,cl.transition=i}}function tp(t,e,s,n){if(cu){var a=j0(t,e,s,n);if(a===null)ah(t,e,n,du,s),nx(t,n);else if(x3(a,t,e,s,n))n.stopPropagation();else if(nx(t,n),e&4&&-1<g3.indexOf(t)){for(;a!==null;){var i=Ic(a);if(i!==null&&a2(i),i=j0(t,e,s,n),i===null&&ah(t,e,n,du,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else ah(t,e,n,null,s)}}var du=null;function j0(t,e,s,n){if(du=null,t=Qf(n),t=Ka(t),t!==null)if(e=vi(t),e===null)t=null;else if(s=e.tag,s===13){if(t=Qv(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return du=t,null}function d2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l3()){case Xf:return 1;case t2:return 4;case lu:case o3:return 16;case s2:return 536870912;default:return 16}default:return 16}}var Hn=null,sp=null,Od=null;function u2(){if(Od)return Od;var t,e=sp,s=e.length,n,a="value"in Hn?Hn.value:Hn.textContent,i=a.length;for(t=0;t<s&&e[t]===a[t];t++);var l=s-t;for(n=1;n<=l&&e[s-n]===a[i-n];n++);return Od=a.slice(t,1<n?1-n:void 0)}function Ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function ix(){return!1}function sr(t){function e(s,n,a,i,l){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(s=t[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sd:ix,this.isPropagationStopped=ix,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rp=sr(zl),Mc=ot({},zl,{view:0,detail:0}),j3=sr(Mc),Zm,Qm,so,im=ot({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==so&&(so&&t.type==="mousemove"?(Zm=t.screenX-so.screenX,Qm=t.screenY-so.screenY):Qm=Zm=0,so=t),Zm)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),lx=sr(im),N3=ot({},im,{dataTransfer:0}),w3=sr(N3),_3=ot({},Mc,{relatedTarget:0}),Xm=sr(_3),S3=ot({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),C3=sr(S3),k3=ot({},zl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T3=sr(k3),E3=ot({},zl,{data:0}),ox=sr(E3),A3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P3[t])?!!e[t]:!1}function np(){return M3}var I3=ot({},Mc,{key:function(t){if(t.key){var e=A3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(t){return t.type==="keypress"?Ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R3=sr(I3),O3=ot({},im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=sr(O3),L3=ot({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),F3=sr(L3),V3=ot({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$3=sr(V3),U3=ot({},im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B3=sr(U3),z3=[9,13,27,32],ap=_n&&"CompositionEvent"in window,ko=null;_n&&"documentMode"in document&&(ko=document.documentMode);var W3=_n&&"TextEvent"in window&&!ko,m2=_n&&(!ap||ko&&8<ko&&11>=ko),dx=String.fromCharCode(32),ux=!1;function h2(t,e){switch(t){case"keyup":return z3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function G3(t,e){switch(t){case"compositionend":return f2(e);case"keypress":return e.which!==32?null:(ux=!0,dx);case"textInput":return t=e.data,t===dx&&ux?null:t;default:return null}}function H3(t,e){if(Ui)return t==="compositionend"||!ap&&h2(t,e)?(t=u2(),Od=sp=Hn=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m2&&e.locale!=="ko"?null:e.data;default:return null}}var K3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K3[t.type]:e==="textarea"}function p2(t,e,s,n){Hv(n),e=uu(e,"onChange"),0<e.length&&(s=new rp("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var To=null,rc=null;function Y3(t){C2(t,0)}function lm(t){var e=Wi(t);if(Vv(e))return t}function q3(t,e){if(t==="change")return e}var g2=!1;if(_n){var Jm;if(_n){var eh="oninput"in document;if(!eh){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),eh=typeof hx.oninput=="function"}Jm=eh}else Jm=!1;g2=Jm&&(!document.documentMode||9<document.documentMode)}function fx(){To&&(To.detachEvent("onpropertychange",x2),rc=To=null)}function x2(t){if(t.propertyName==="value"&&lm(rc)){var e=[];p2(e,rc,t,Qf(t)),Zv(Y3,e)}}function Z3(t,e,s){t==="focusin"?(fx(),To=e,rc=s,To.attachEvent("onpropertychange",x2)):t==="focusout"&&fx()}function Q3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lm(rc)}function X3(t,e){if(t==="click")return lm(e)}function J3(t,e){if(t==="input"||t==="change")return lm(e)}function e_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:e_;function nc(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!r0.call(e,a)||!Vr(t[a],e[a]))return!1}return!0}function px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gx(t,e){var s=px(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=px(s)}}function y2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v2(){for(var t=window,e=nu();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=nu(t.document)}return e}function ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t_(t){var e=v2(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&y2(s.ownerDocument.documentElement,s)){if(n!==null&&ip(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=gx(s,i);var l=gx(s,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s_=_n&&"documentMode"in document&&11>=document.documentMode,Bi=null,N0=null,Eo=null,w0=!1;function xx(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;w0||Bi==null||Bi!==nu(n)||(n=Bi,"selectionStart"in n&&ip(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eo&&nc(Eo,n)||(Eo=n,n=uu(N0,"onSelect"),0<n.length&&(e=new rp("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=Bi)))}function rd(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var zi={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},th={},b2={};_n&&(b2=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function om(t){if(th[t])return th[t];if(!zi[t])return t;var e=zi[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in b2)return th[t]=e[s];return t}var j2=om("animationend"),N2=om("animationiteration"),w2=om("animationstart"),_2=om("transitionend"),S2=new Map,yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){S2.set(t,e),yi(e,[t])}for(var sh=0;sh<yx.length;sh++){var rh=yx[sh],r_=rh.toLowerCase(),n_=rh[0].toUpperCase()+rh.slice(1);_a(r_,"on"+n_)}_a(j2,"onAnimationEnd");_a(N2,"onAnimationIteration");_a(w2,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(_2,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a_=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function vx(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,r3(n,e,void 0,t),t.currentTarget=null}function C2(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;vx(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;vx(a,o,d),i=c}}}if(iu)throw t=y0,iu=!1,y0=null,t}function He(t,e){var s=e[T0];s===void 0&&(s=e[T0]=new Set);var n=t+"__bubble";s.has(n)||(k2(e,t,2,!1),s.add(n))}function nh(t,e,s){var n=0;e&&(n|=4),k2(s,t,n,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function ac(t){if(!t[nd]){t[nd]=!0,Iv.forEach(function(s){s!=="selectionchange"&&(a_.has(s)||nh(s,!1,t),nh(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,nh("selectionchange",!1,e))}}function k2(t,e,s,n){switch(d2(e)){case 1:var a=v3;break;case 4:a=b3;break;default:a=tp}s=a.bind(null,e,s,t),a=void 0,!x0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,s,{capture:!0,passive:a}):t.addEventListener(e,s,!0):a!==void 0?t.addEventListener(e,s,{passive:a}):t.addEventListener(e,s,!1)}function ah(t,e,s,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ka(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Zv(function(){var d=i,m=Qf(s),u=[];e:{var h=S2.get(t);if(h!==void 0){var g=rp,p=t;switch(t){case"keypress":if(Ld(s)===0)break e;case"keydown":case"keyup":g=R3;break;case"focusin":p="focus",g=Xm;break;case"focusout":p="blur",g=Xm;break;case"beforeblur":case"afterblur":g=Xm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=w3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=F3;break;case j2:case N2:case w2:g=C3;break;case _2:g=$3;break;case"scroll":g=j3;break;case"wheel":g=B3;break;case"copy":case"cut":case"paste":g=T3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cx}var x=(e&4)!==0,j=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var y=d,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=Jo(y,v),N!=null&&x.push(ic(y,N,b)))),j)break;y=y.return}0<x.length&&(h=new g(h,p,null,s,m),u.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&s!==p0&&(p=s.relatedTarget||s.fromElement)&&(Ka(p)||p[Sn]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=s.relatedTarget||s.toElement,g=d,p=p?Ka(p):null,p!==null&&(j=vi(p),p!==j||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=d),g!==p)){if(x=lx,N="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=cx,N="onPointerLeave",v="onPointerEnter",y="pointer"),j=g==null?h:Wi(g),b=p==null?h:Wi(p),h=new x(N,y+"leave",g,s,m),h.target=j,h.relatedTarget=b,N=null,Ka(m)===d&&(x=new x(v,y+"enter",p,s,m),x.target=b,x.relatedTarget=j,N=x),j=N,g&&p)t:{for(x=g,v=p,y=0,b=x;b;b=Ti(b))y++;for(b=0,N=v;N;N=Ti(N))b++;for(;0<y-b;)x=Ti(x),y--;for(;0<b-y;)v=Ti(v),b--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ti(x),v=Ti(v)}x=null}else x=null;g!==null&&bx(u,h,g,x,!1),p!==null&&j!==null&&bx(u,j,p,x,!0)}}e:{if(h=d?Wi(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=q3;else if(mx(h))if(g2)w=J3;else{w=Q3;var k=Z3}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=X3);if(w&&(w=w(t,d))){p2(u,w,s,m);break e}k&&k(t,h,d),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&d0(h,"number",h.value)}switch(k=d?Wi(d):window,t){case"focusin":(mx(k)||k.contentEditable==="true")&&(Bi=k,N0=d,Eo=null);break;case"focusout":Eo=N0=Bi=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,xx(u,s,m);break;case"selectionchange":if(s_)break;case"keydown":case"keyup":xx(u,s,m)}var T;if(ap)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ui?h2(t,s)&&(P="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(m2&&s.locale!=="ko"&&(Ui||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ui&&(T=u2()):(Hn=m,sp="value"in Hn?Hn.value:Hn.textContent,Ui=!0)),k=uu(d,P),0<k.length&&(P=new ox(P,t,null,s,m),u.push({event:P,listeners:k}),T?P.data=T:(T=f2(s),T!==null&&(P.data=T)))),(T=W3?G3(t,s):H3(t,s))&&(d=uu(d,"onBeforeInput"),0<d.length&&(m=new ox("onBeforeInput","beforeinput",null,s,m),u.push({event:m,listeners:d}),m.data=T))}C2(u,e)})}function ic(t,e,s){return{instance:t,listener:e,currentTarget:s}}function uu(t,e){for(var s=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Jo(t,s),i!=null&&n.unshift(ic(t,i,a)),i=Jo(t,e),i!=null&&n.push(ic(t,i,a))),t=t.return}return n}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bx(t,e,s,n,a){for(var i=e._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Jo(s,i),c!=null&&l.unshift(ic(s,c,o))):a||(c=Jo(s,i),c!=null&&l.push(ic(s,c,o)))),s=s.return}l.length!==0&&t.push({event:e,listeners:l})}var i_=/\r\n?/g,l_=/\u0000|\uFFFD/g;function jx(t){return(typeof t=="string"?t:""+t).replace(i_,`
`).replace(l_,"")}function ad(t,e,s){if(e=jx(e),jx(t)!==e&&s)throw Error(W(425))}function mu(){}var _0=null,S0=null;function C0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(t){return Nx.resolve(null).then(t).catch(d_)}:k0;function d_(t){setTimeout(function(){throw t})}function ih(t,e){var s=e,n=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){t.removeChild(a),sc(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);sc(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),qr="__reactFiber$"+Wl,lc="__reactProps$"+Wl,Sn="__reactContainer$"+Wl,T0="__reactEvents$"+Wl,u_="__reactListeners$"+Wl,m_="__reactHandles$"+Wl;function Ka(t){var e=t[qr];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Sn]||s[qr]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=wx(t);t!==null;){if(s=t[qr])return s;t=wx(t)}return e}t=s,s=t.parentNode}return null}function Ic(t){return t=t[qr]||t[Sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cm(t){return t[lc]||null}var E0=[],Gi=-1;function Sa(t){return{current:t}}function Ye(t){0>Gi||(t.current=E0[Gi],E0[Gi]=null,Gi--)}function We(t,e){Gi++,E0[Gi]=t.current,t.current=e}var xa={},ls=Sa(xa),_s=Sa(!1),oi=xa;function _l(t,e){var s=t.type.contextTypes;if(!s)return xa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Ss(t){return t=t.childContextTypes,t!=null}function hu(){Ye(_s),Ye(ls)}function _x(t,e,s){if(ls.current!==xa)throw Error(W(168));We(ls,e),We(_s,s)}function T2(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(W(108,Z5(t)||"Unknown",a));return ot({},s,n)}function fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xa,oi=ls.current,We(ls,t),We(_s,_s.current),!0}function Sx(t,e,s){var n=t.stateNode;if(!n)throw Error(W(169));s?(t=T2(t,e,oi),n.__reactInternalMemoizedMergedChildContext=t,Ye(_s),Ye(ls),We(ls,t)):Ye(_s),We(_s,s)}var mn=null,dm=!1,lh=!1;function E2(t){mn===null?mn=[t]:mn.push(t)}function h_(t){dm=!0,E2(t)}function Ca(){if(!lh&&mn!==null){lh=!0;var t=0,e=Ie;try{var s=mn;for(Ie=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}mn=null,dm=!1}catch(a){throw mn!==null&&(mn=mn.slice(t+1)),e2(Xf,Ca),a}finally{Ie=e,lh=!1}}return null}var Hi=[],Ki=0,pu=null,gu=0,or=[],cr=0,ci=null,gn=1,xn="";function Fa(t,e){Hi[Ki++]=gu,Hi[Ki++]=pu,pu=t,gu=e}function A2(t,e,s){or[cr++]=gn,or[cr++]=xn,or[cr++]=ci,ci=t;var n=gn;t=xn;var a=32-Lr(n)-1;n&=~(1<<a),s+=1;var i=32-Lr(e)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,gn=1<<32-Lr(e)+a|s<<a|n,xn=i+t}else gn=1<<i|s<<a|n,xn=t}function lp(t){t.return!==null&&(Fa(t,1),A2(t,1,0))}function op(t){for(;t===pu;)pu=Hi[--Ki],Hi[Ki]=null,gu=Hi[--Ki],Hi[Ki]=null;for(;t===ci;)ci=or[--cr],or[cr]=null,xn=or[--cr],or[cr]=null,gn=or[--cr],or[cr]=null}var Ys=null,Hs=null,Qe=!1,Or=null;function D2(t,e){var s=hr(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Cx(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ys=t,Hs=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ys=t,Hs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=ci!==null?{id:gn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=hr(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Ys=t,Hs=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function D0(t){if(Qe){var e=Hs;if(e){var s=e;if(!Cx(t,e)){if(A0(t))throw Error(W(418));e=ra(s.nextSibling);var n=Ys;e&&Cx(t,e)?D2(n,s):(t.flags=t.flags&-4097|2,Qe=!1,Ys=t)}}else{if(A0(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,Ys=t}}}function kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ys=t}function id(t){if(t!==Ys)return!1;if(!Qe)return kx(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!C0(t.type,t.memoizedProps)),e&&(e=Hs)){if(A0(t))throw P2(),Error(W(418));for(;e;)D2(t,e),e=ra(e.nextSibling)}if(kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Hs=ra(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Hs=null}}else Hs=Ys?ra(t.stateNode.nextSibling):null;return!0}function P2(){for(var t=Hs;t;)t=ra(t.nextSibling)}function Sl(){Hs=Ys=null,Qe=!1}function cp(t){Or===null?Or=[t]:Or.push(t)}var f_=Dn.ReactCurrentBatchConfig;function ro(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(W(309));var n=s.stateNode}if(!n)throw Error(W(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!s._owner)throw Error(W(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tx(t){var e=t._init;return e(t._payload)}function M2(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function s(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=la(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,N){return y===null||y.tag!==6?(y=fh(b,v.mode,N),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,N){var w=b.type;return w===$i?m(v,y,b.props.children,N,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&Tx(w)===y.type)?(N=a(y,b.props),N.ref=ro(v,y,b),N.return=v,N):(N=Wd(b.type,b.key,b.props,null,v.mode,N),N.ref=ro(v,y,b),N.return=v,N)}function d(v,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=ph(b,v.mode,N),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function m(v,y,b,N,w){return y===null||y.tag!==7?(y=ei(b,v.mode,N,w),y.return=v,y):(y=a(y,b),y.return=v,y)}function u(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fh(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:return b=Wd(y.type,y.key,y.props,null,v.mode,b),b.ref=ro(v,null,y),b.return=v,b;case Vi:return y=ph(y,v.mode,b),y.return=v,y;case Un:var N=y._init;return u(v,N(y._payload),b)}if(fo(y)||Xl(y))return y=ei(y,v.mode,b,null),y.return=v,y;ld(v,y)}return null}function h(v,y,b,N){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===w?c(v,y,b,N):null;case Vi:return b.key===w?d(v,y,b,N):null;case Un:return w=b._init,h(v,y,w(b._payload),N)}if(fo(b)||Xl(b))return w!==null?null:m(v,y,b,N,null);ld(v,b)}return null}function g(v,y,b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,o(y,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zc:return v=v.get(N.key===null?b:N.key)||null,c(y,v,N,w);case Vi:return v=v.get(N.key===null?b:N.key)||null,d(y,v,N,w);case Un:var k=N._init;return g(v,y,b,k(N._payload),w)}if(fo(N)||Xl(N))return v=v.get(b)||null,m(y,v,N,w,null);ld(y,N)}return null}function p(v,y,b,N){for(var w=null,k=null,T=y,P=y=0,E=null;T!==null&&P<b.length;P++){T.index>P?(E=T,T=null):E=T.sibling;var C=h(v,T,b[P],N);if(C===null){T===null&&(T=E);break}t&&T&&C.alternate===null&&e(v,T),y=i(C,y,P),k===null?w=C:k.sibling=C,k=C,T=E}if(P===b.length)return s(v,T),Qe&&Fa(v,P),w;if(T===null){for(;P<b.length;P++)T=u(v,b[P],N),T!==null&&(y=i(T,y,P),k===null?w=T:k.sibling=T,k=T);return Qe&&Fa(v,P),w}for(T=n(v,T);P<b.length;P++)E=g(T,v,P,b[P],N),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?P:E.key),y=i(E,y,P),k===null?w=E:k.sibling=E,k=E);return t&&T.forEach(function(A){return e(v,A)}),Qe&&Fa(v,P),w}function x(v,y,b,N){var w=Xl(b);if(typeof w!="function")throw Error(W(150));if(b=w.call(b),b==null)throw Error(W(151));for(var k=w=null,T=y,P=y=0,E=null,C=b.next();T!==null&&!C.done;P++,C=b.next()){T.index>P?(E=T,T=null):E=T.sibling;var A=h(v,T,C.value,N);if(A===null){T===null&&(T=E);break}t&&T&&A.alternate===null&&e(v,T),y=i(A,y,P),k===null?w=A:k.sibling=A,k=A,T=E}if(C.done)return s(v,T),Qe&&Fa(v,P),w;if(T===null){for(;!C.done;P++,C=b.next())C=u(v,C.value,N),C!==null&&(y=i(C,y,P),k===null?w=C:k.sibling=C,k=C);return Qe&&Fa(v,P),w}for(T=n(v,T);!C.done;P++,C=b.next())C=g(T,v,P,C.value,N),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?P:C.key),y=i(C,y,P),k===null?w=C:k.sibling=C,k=C);return t&&T.forEach(function(I){return e(v,I)}),Qe&&Fa(v,P),w}function j(v,y,b,N){if(typeof b=="object"&&b!==null&&b.type===$i&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var w=b.key,k=y;k!==null;){if(k.key===w){if(w=b.type,w===$i){if(k.tag===7){s(v,k.sibling),y=a(k,b.props.children),y.return=v,v=y;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Un&&Tx(w)===k.type){s(v,k.sibling),y=a(k,b.props),y.ref=ro(v,k,b),y.return=v,v=y;break e}s(v,k);break}else e(v,k);k=k.sibling}b.type===$i?(y=ei(b.props.children,v.mode,N,b.key),y.return=v,v=y):(N=Wd(b.type,b.key,b.props,null,v.mode,N),N.ref=ro(v,y,b),N.return=v,v=N)}return l(v);case Vi:e:{for(k=b.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){s(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{s(v,y);break}else e(v,y);y=y.sibling}y=ph(b,v.mode,N),y.return=v,v=y}return l(v);case Un:return k=b._init,j(v,y,k(b._payload),N)}if(fo(b))return p(v,y,b,N);if(Xl(b))return x(v,y,b,N);ld(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(s(v,y.sibling),y=a(y,b),y.return=v,v=y):(s(v,y),y=fh(b,v.mode,N),y.return=v,v=y),l(v)):s(v,y)}return j}var Cl=M2(!0),I2=M2(!1),xu=Sa(null),yu=null,Yi=null,dp=null;function up(){dp=Yi=yu=null}function mp(t){var e=xu.current;Ye(xu),t._currentValue=e}function P0(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function dl(t,e){yu=t,dp=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ws=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(dp!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(yu===null)throw Error(W(308));Yi=t,yu.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var Ya=null;function hp(t){Ya===null?Ya=[t]:Ya.push(t)}function R2(t,e,s,n){var a=e.interleaved;return a===null?(s.next=s,hp(e)):(s.next=a.next,a.next=s),e.interleaved=s,Cn(t,n)}function Cn(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Bn=!1;function fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Cn(t,s)}return a=n.interleaved,a===null?(e.next=e,hp(n)):(e.next=a.next,a.next=e),n.interleaved=e,Cn(t,s)}function Fd(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Jf(t,s)}}function Ex(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=e:i=i.next=e}else a=i=e;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function vu(t,e,s,n){var a=t.updateQueue;Bn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;l=0,m=d=c=null,o=i;do{var h=o.lane,g=o.eventTime;if((n&h)===h){m!==null&&(m=m.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,x=o;switch(h=e,g=s,x.tag){case 1:if(p=x.payload,typeof p=="function"){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(g,u,h):p,h==null)break e;u=ot({},u,h);break e;case 2:Bn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=g,c=u):m=m.next=g,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(m===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,e=a.shared.interleaved,e!==null){a=e;do l|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);ui|=l,t.lanes=l,t.memoizedState=u}}function Ax(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(W(191,a));a.call(n)}}}var Rc={},en=Sa(Rc),oc=Sa(Rc),cc=Sa(Rc);function qa(t){if(t===Rc)throw Error(W(174));return t}function pp(t,e){switch(We(cc,e),We(oc,t),We(en,Rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=m0(e,t)}Ye(en),We(en,e)}function kl(){Ye(en),Ye(oc),Ye(cc)}function L2(t){qa(cc.current);var e=qa(en.current),s=m0(e,t.type);e!==s&&(We(oc,t),We(en,s))}function gp(t){oc.current===t&&(Ye(en),Ye(oc))}var st=Sa(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oh=[];function xp(){for(var t=0;t<oh.length;t++)oh[t]._workInProgressVersionPrimary=null;oh.length=0}var Vd=Dn.ReactCurrentDispatcher,ch=Dn.ReactCurrentBatchConfig,di=0,it=null,Et=null,Ot=null,ju=!1,Ao=!1,dc=0,p_=0;function Xt(){throw Error(W(321))}function yp(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Vr(t[s],e[s]))return!1;return!0}function vp(t,e,s,n,a,i){if(di=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vd.current=t===null||t.memoizedState===null?v_:b_,t=s(n,a),Ao){i=0;do{if(Ao=!1,dc=0,25<=i)throw Error(W(301));i+=1,Ot=Et=null,e.updateQueue=null,Vd.current=j_,t=s(n,a)}while(Ao)}if(Vd.current=Nu,e=Et!==null&&Et.next!==null,di=0,Ot=Et=it=null,ju=!1,e)throw Error(W(300));return t}function bp(){var t=dc!==0;return dc=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?it.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function jr(){if(Et===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Ot===null?it.memoizedState:Ot.next;if(e!==null)Ot=e,Et=t;else{if(t===null)throw Error(W(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ot===null?it.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function uc(t,e){return typeof e=="function"?e(t):e}function dh(t){var e=jr(),s=e.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=t;var n=Et,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((di&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=u,l=n):c=c.next=u,it.lanes|=m,ui|=m}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Vr(n,e.memoizedState)||(ws=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){a=t;do i=a.lane,it.lanes|=i,ui|=i,a=a.next;while(a!==t)}else a===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function uh(t){var e=jr(),s=e.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=t;var n=s.dispatch,a=s.pending,i=e.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);Vr(i,e.memoizedState)||(ws=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),s.lastRenderedState=i}return[i,n]}function F2(){}function V2(t,e){var s=it,n=jr(),a=e(),i=!Vr(n.memoizedState,a);if(i&&(n.memoizedState=a,ws=!0),n=n.queue,jp(B2.bind(null,s,n,t),[t]),n.getSnapshot!==e||i||Ot!==null&&Ot.memoizedState.tag&1){if(s.flags|=2048,mc(9,U2.bind(null,s,n,a,e),void 0,null),Lt===null)throw Error(W(349));di&30||$2(s,e,a)}return a}function $2(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function U2(t,e,s,n){e.value=s,e.getSnapshot=n,z2(e)&&W2(t)}function B2(t,e,s){return s(function(){z2(e)&&W2(t)})}function z2(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Vr(t,s)}catch{return!0}}function W2(t){var e=Cn(t,1);e!==null&&Fr(e,t,1,-1)}function Dx(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=y_.bind(null,it,t),[e.memoizedState,t]}function mc(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function G2(){return jr().memoizedState}function $d(t,e,s,n){var a=Hr();it.flags|=t,a.memoizedState=mc(1|e,s,void 0,n===void 0?null:n)}function um(t,e,s,n){var a=jr();n=n===void 0?null:n;var i=void 0;if(Et!==null){var l=Et.memoizedState;if(i=l.destroy,n!==null&&yp(n,l.deps)){a.memoizedState=mc(e,s,i,n);return}}it.flags|=t,a.memoizedState=mc(1|e,s,i,n)}function Px(t,e){return $d(8390656,8,t,e)}function jp(t,e){return um(2048,8,t,e)}function H2(t,e){return um(4,2,t,e)}function K2(t,e){return um(4,4,t,e)}function Y2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q2(t,e,s){return s=s!=null?s.concat([t]):null,um(4,4,Y2.bind(null,e,t),s)}function Np(){}function Z2(t,e){var s=jr();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&yp(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function Q2(t,e){var s=jr();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&yp(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function X2(t,e,s){return di&21?(Vr(s,e)||(s=r2(),it.lanes|=s,ui|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=s)}function g_(t,e){var s=Ie;Ie=s!==0&&4>s?s:4,t(!0);var n=ch.transition;ch.transition={};try{t(!1),e()}finally{Ie=s,ch.transition=n}}function J2(){return jr().memoizedState}function x_(t,e,s){var n=ia(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},eb(t))tb(e,s);else if(s=R2(t,e,s,n),s!==null){var a=ys();Fr(s,t,n,a),sb(s,e,n)}}function y_(t,e,s){var n=ia(t),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(eb(t))tb(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,Vr(o,l)){var c=e.interleaved;c===null?(a.next=a,hp(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}s=R2(t,e,a,n),s!==null&&(a=ys(),Fr(s,t,n,a),sb(s,e,n))}}function eb(t){var e=t.alternate;return t===it||e!==null&&e===it}function tb(t,e){Ao=ju=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function sb(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,Jf(t,s)}}var Nu={readContext:br,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},v_={readContext:br,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:Px,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,$d(4194308,4,Y2.bind(null,e,t),s)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var s=Hr();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=Hr();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=x_.bind(null,it,t),[n.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:Dx,useDebugValue:Np,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=Dx(!1),e=t[0];return t=g_.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=it,a=Hr();if(Qe){if(s===void 0)throw Error(W(407));s=s()}else{if(s=e(),Lt===null)throw Error(W(349));di&30||$2(n,e,s)}a.memoizedState=s;var i={value:s,getSnapshot:e};return a.queue=i,Px(B2.bind(null,n,i,t),[t]),n.flags|=2048,mc(9,U2.bind(null,n,i,s,e),void 0,null),s},useId:function(){var t=Hr(),e=Lt.identifierPrefix;if(Qe){var s=xn,n=gn;s=(n&~(1<<32-Lr(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=dc++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=p_++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},b_={readContext:br,useCallback:Z2,useContext:br,useEffect:jp,useImperativeHandle:q2,useInsertionEffect:H2,useLayoutEffect:K2,useMemo:Q2,useReducer:dh,useRef:G2,useState:function(){return dh(uc)},useDebugValue:Np,useDeferredValue:function(t){var e=jr();return X2(e,Et.memoizedState,t)},useTransition:function(){var t=dh(uc)[0],e=jr().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:V2,useId:J2,unstable_isNewReconciler:!1},j_={readContext:br,useCallback:Z2,useContext:br,useEffect:jp,useImperativeHandle:q2,useInsertionEffect:H2,useLayoutEffect:K2,useMemo:Q2,useReducer:uh,useRef:G2,useState:function(){return uh(uc)},useDebugValue:Np,useDeferredValue:function(t){var e=jr();return Et===null?e.memoizedState=t:X2(e,Et.memoizedState,t)},useTransition:function(){var t=uh(uc)[0],e=jr().memoizedState;return[t,e]},useMutableSource:F2,useSyncExternalStore:V2,useId:J2,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function M0(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:ot({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var mm={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=ys(),a=ia(t),i=bn(n,a);i.payload=e,s!=null&&(i.callback=s),e=na(t,i,a),e!==null&&(Fr(e,t,a,n),Fd(e,t,a))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=ys(),a=ia(t),i=bn(n,a);i.tag=1,i.payload=e,s!=null&&(i.callback=s),e=na(t,i,a),e!==null&&(Fr(e,t,a,n),Fd(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ys(),n=ia(t),a=bn(s,n);a.tag=2,e!=null&&(a.callback=e),e=na(t,a,n),e!==null&&(Fr(e,t,n,s),Fd(e,t,n))}};function Mx(t,e,s,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):e.prototype&&e.prototype.isPureReactComponent?!nc(s,n)||!nc(a,i):!0}function rb(t,e,s){var n=!1,a=xa,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(a=Ss(e)?oi:ls.current,n=e.contextTypes,i=(n=n!=null)?_l(t,a):xa),e=new e(s,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ix(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&mm.enqueueReplaceState(e,e.state,null)}function I0(t,e,s,n){var a=t.stateNode;a.props=s,a.state=t.memoizedState,a.refs={},fp(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=br(i):(i=Ss(e)?oi:ls.current,a.context=_l(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(M0(t,e,i,s),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&mm.enqueueReplaceState(a,a.state,null),vu(t,s,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var s="",n=e;do s+=q5(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function mh(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function R0(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function nb(t,e,s){s=bn(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){_u||(_u=!0,G0=n),R0(t,e)},s}function ab(t,e,s){s=bn(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;s.payload=function(){return n(a)},s.callback=function(){R0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){R0(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),s}function Rx(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new N_;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(s)||(a.add(s),t=O_.bind(null,t,e,s),e.then(t,t))}function Ox(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lx(t,e,s,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=bn(-1,1),e.tag=2,na(s,e,1))),s.lanes|=1),t)}var w_=Dn.ReactCurrentOwner,ws=!1;function ms(t,e,s,n){e.child=t===null?I2(e,null,s,n):Cl(e,t.child,s,n)}function Fx(t,e,s,n,a){s=s.render;var i=e.ref;return dl(e,a),n=vp(t,e,s,n,i,a),s=bp(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,kn(t,e,a)):(Qe&&s&&lp(e),e.flags|=1,ms(t,e,n,a),e.child)}function Vx(t,e,s,n,a){if(t===null){var i=s.type;return typeof i=="function"&&!Ap(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=i,ib(t,e,i,n,a)):(t=Wd(s.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:nc,s(l,n)&&t.ref===e.ref)return kn(t,e,a)}return e.flags|=1,t=la(i,n),t.ref=e.ref,t.return=e,e.child=t}function ib(t,e,s,n,a){if(t!==null){var i=t.memoizedProps;if(nc(i,n)&&t.ref===e.ref)if(ws=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(ws=!0);else return e.lanes=t.lanes,kn(t,e,a)}return O0(t,e,s,n,a)}function lb(t,e,s){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Zi,$s),$s|=s;else{if(!(s&1073741824))return t=i!==null?i.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Zi,$s),$s|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,We(Zi,$s),$s|=n}else i!==null?(n=i.baseLanes|s,e.memoizedState=null):n=s,We(Zi,$s),$s|=n;return ms(t,e,a,s),e.child}function ob(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function O0(t,e,s,n,a){var i=Ss(s)?oi:ls.current;return i=_l(e,i),dl(e,a),s=vp(t,e,s,n,i,a),n=bp(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,kn(t,e,a)):(Qe&&n&&lp(e),e.flags|=1,ms(t,e,s,a),e.child)}function $x(t,e,s,n,a){if(Ss(s)){var i=!0;fu(e)}else i=!1;if(dl(e,a),e.stateNode===null)Ud(t,e),rb(e,s,n),I0(e,s,n,a),n=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=br(d):(d=Ss(s)?oi:ls.current,d=_l(e,d));var m=s.getDerivedStateFromProps,u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Ix(e,l,n,d),Bn=!1;var h=e.memoizedState;l.state=h,vu(e,n,l,a),c=e.memoizedState,o!==n||h!==c||_s.current||Bn?(typeof m=="function"&&(M0(e,s,m,n),c=e.memoizedState),(o=Bn||Mx(e,s,o,n,h,c,d))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,O2(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Ir(e.type,o),l.props=d,u=e.pendingProps,h=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Ss(s)?oi:ls.current,c=_l(e,c));var g=s.getDerivedStateFromProps;(m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||h!==c)&&Ix(e,l,n,c),Bn=!1,h=e.memoizedState,l.state=h,vu(e,n,l,a);var p=e.memoizedState;o!==u||h!==p||_s.current||Bn?(typeof g=="function"&&(M0(e,s,g,n),p=e.memoizedState),(d=Bn||Mx(e,s,d,n,h,p,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),l.props=n,l.state=p,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return L0(t,e,s,n,i,a)}function L0(t,e,s,n,a,i){ob(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return a&&Sx(e,s,!1),kn(t,e,i);n=e.stateNode,w_.current=e;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=Cl(e,t.child,null,i),e.child=Cl(e,null,o,i)):ms(t,e,o,i),e.memoizedState=n.state,a&&Sx(e,s,!0),e.child}function cb(t){var e=t.stateNode;e.pendingContext?_x(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_x(t,e.context,!1),pp(t,e.containerInfo)}function Ux(t,e,s,n,a){return Sl(),cp(a),e.flags|=256,ms(t,e,s,n),e.child}var F0={dehydrated:null,treeContext:null,retryLane:0};function V0(t){return{baseLanes:t,cachePool:null,transitions:null}}function db(t,e,s){var n=e.pendingProps,a=st.current,i=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),We(st,a&1),t===null)return D0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,i?(n=e.mode,i=e.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=pm(l,n,0,null),t=ei(t,n,s,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=V0(s),e.memoizedState=F0,t):wp(e,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return __(t,e,l,n,o,a,s);if(i){i=n.fallback,l=e.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=la(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=la(o,i):(i=ei(i,l,s,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l=l===null?V0(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~s,e.memoizedState=F0,n}return i=t.child,t=i.sibling,n=la(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function wp(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,s,n){return n!==null&&cp(n),Cl(e,t.child,null,s),t=wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function __(t,e,s,n,a,i,l){if(s)return e.flags&256?(e.flags&=-257,n=mh(Error(W(422))),od(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=pm({mode:"visible",children:n.children},a,0,null),i=ei(i,a,l,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Cl(e,t.child,null,l),e.child.memoizedState=V0(l),e.memoizedState=F0,i);if(!(e.mode&1))return od(t,e,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(W(419)),n=mh(i,n,void 0),od(t,e,l,n)}if(o=(l&t.childLanes)!==0,ws||o){if(n=Lt,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cn(t,a),Fr(n,t,a,-1))}return Ep(),n=mh(Error(W(421))),od(t,e,l,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=L_.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Hs=ra(a.nextSibling),Ys=e,Qe=!0,Or=null,t!==null&&(or[cr++]=gn,or[cr++]=xn,or[cr++]=ci,gn=t.id,xn=t.overflow,ci=e),e=wp(e,n.children),e.flags|=4096,e)}function Bx(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),P0(t.return,e,s)}function hh(t,e,s,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function ub(t,e,s){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(ms(t,e,n.children,s),n=st.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bx(t,s,e);else if(t.tag===19)Bx(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(st,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(s=e.child,a=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(a=s),s=s.sibling;s=a,s===null?(a=e.child,e.child=null):(a=s.sibling,s.sibling=null),hh(e,!1,a,s,i);break;case"backwards":for(s=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&bu(t)===null){e.child=a;break}t=a.sibling,a.sibling=s,s=a,a=t}hh(e,!0,s,null,i);break;case"together":hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kn(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,s=la(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=la(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function S_(t,e,s){switch(e.tag){case 3:cb(e),Sl();break;case 5:L2(e);break;case 1:Ss(e.type)&&fu(e);break;case 4:pp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;We(xu,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(st,st.current&1),e.flags|=128,null):s&e.child.childLanes?db(t,e,s):(We(st,st.current&1),t=kn(t,e,s),t!==null?t.sibling:null);We(st,st.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return ub(t,e,s);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),We(st,st.current),n)break;return null;case 22:case 23:return e.lanes=0,lb(t,e,s)}return kn(t,e,s)}var mb,$0,hb,fb;mb=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};$0=function(){};hb=function(t,e,s,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,qa(en.current);var i=null;switch(s){case"input":a=o0(t,a),n=o0(t,n),i=[];break;case"select":a=ot({},a,{value:void 0}),n=ot({},n,{value:void 0}),i=[];break;case"textarea":a=u0(t,a),n=u0(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mu)}h0(s,n);var l;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};fb=function(t,e,s,n){s!==n&&(e.flags|=4)};function no(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var a=t.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function C_(t,e,s){var n=e.pendingProps;switch(op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Ss(e.type)&&hu(),Jt(e),null;case 3:return n=e.stateNode,kl(),Ye(_s),Ye(ls),xp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(Y0(Or),Or=null))),$0(t,e),Jt(e),null;case 5:gp(e);var a=qa(cc.current);if(s=e.type,t!==null&&e.stateNode!=null)hb(t,e,s,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(W(166));return Jt(e),null}if(t=qa(en.current),id(e)){n=e.stateNode,s=e.type;var i=e.memoizedProps;switch(n[qr]=e,n[lc]=i,t=(e.mode&1)!==0,s){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)He(go[a],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":Qg(n,i),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},He("invalid",n);break;case"textarea":Jg(n,i),He("invalid",n)}h0(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ad(n.textContent,o,t),a=["children",""+o]):Qo.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&He("scroll",n)}switch(s){case"input":Qc(n),Xg(n,i,!0);break;case"textarea":Qc(n),ex(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mu)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bv(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(s,{is:n.is}):(t=l.createElement(s),s==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,s),t[qr]=e,t[lc]=n,mb(t,e,!1,!1),e.stateNode=t;e:{switch(l=f0(s,n),s){case"dialog":He("cancel",t),He("close",t),a=n;break;case"iframe":case"object":case"embed":He("load",t),a=n;break;case"video":case"audio":for(a=0;a<go.length;a++)He(go[a],t);a=n;break;case"source":He("error",t),a=n;break;case"img":case"image":case"link":He("error",t),He("load",t),a=n;break;case"details":He("toggle",t),a=n;break;case"input":Qg(t,n),a=o0(t,n),He("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ot({},n,{value:void 0}),He("invalid",t);break;case"textarea":Jg(t,n),a=u0(t,n),He("invalid",t);break;default:a=n}h0(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Gv(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zv(t,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Xo(t,c):typeof c=="number"&&Xo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",t):c!=null&&Kf(t,i,c,l))}switch(s){case"input":Qc(t),Xg(t,n,!1);break;case"textarea":Qc(t),ex(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ga(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?il(t,!!n.multiple,i,!1):n.defaultValue!=null&&il(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=mu)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)fb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));if(s=qa(cc.current),qa(en.current),id(e)){if(n=e.stateNode,s=e.memoizedProps,n[qr]=e,(i=n.nodeValue!==s)&&(t=Ys,t!==null))switch(t.tag){case 3:ad(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(n.nodeValue,s,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[qr]=e,e.stateNode=n}return Jt(e),null;case 13:if(Ye(st),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Hs!==null&&e.mode&1&&!(e.flags&128))P2(),Sl(),e.flags|=98560,i=!1;else if(i=id(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[qr]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else Or!==null&&(Y0(Or),Or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Pt===0&&(Pt=3):Ep())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return kl(),$0(t,e),t===null&&ac(e.stateNode.containerInfo),Jt(e),null;case 10:return mp(e.type._context),Jt(e),null;case 17:return Ss(e.type)&&hu(),Jt(e),null;case 19:if(Ye(st),i=e.memoizedState,i===null)return Jt(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)no(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=bu(t),l!==null){for(e.flags|=128,no(i,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)i=s,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return We(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&xt()>El&&(e.flags|=128,n=!0,no(i,!1),e.lanes=4194304)}else{if(!n)if(t=bu(l),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Qe)return Jt(e),null}else 2*xt()-i.renderingStartTime>El&&s!==1073741824&&(e.flags|=128,n=!0,no(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(s=i.last,s!==null?s.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,s=st.current,We(st,n?s&1|2:s&1),e):(Jt(e),null);case 22:case 23:return Tp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$s&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function k_(t,e){switch(op(e),e.tag){case 1:return Ss(e.type)&&hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kl(),Ye(_s),Ye(ls),xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gp(e),null;case 13:if(Ye(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(st),null;case 4:return kl(),null;case 10:return mp(e.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var cd=!1,rs=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Q=null;function qi(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){dt(t,e,n)}else s.current=null}function U0(t,e,s){try{s()}catch(n){dt(t,e,n)}}var zx=!1;function E_(t,e){if(_0=cu,t=v2(),ip(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,m=0,u=t,h=null;t:for(;;){for(var g;u!==s||a!==0&&u.nodeType!==3||(o=l+a),u!==i||n!==0&&u.nodeType!==3||(c=l+n),u.nodeType===3&&(l+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===t)break t;if(h===s&&++d===a&&(o=l),h===i&&++m===n&&(c=l),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(S0={focusedElem:t,selectionRange:s},cu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,j=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ir(e.type,x),j);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){dt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=zx,zx=!1,p}function Do(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&U0(e,s,i)}a=a.next}while(a!==n)}}function hm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function B0(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function pb(t){var e=t.alternate;e!==null&&(t.alternate=null,pb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[lc],delete e[T0],delete e[u_],delete e[m_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gb(t){return t.tag===5||t.tag===3||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function z0(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=mu));else if(n!==4&&(t=t.child,t!==null))for(z0(t,e,s),t=t.sibling;t!==null;)z0(t,e,s),t=t.sibling}function W0(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(W0(t,e,s),t=t.sibling;t!==null;)W0(t,e,s),t=t.sibling}var zt=null,Rr=!1;function Rn(t,e,s){for(s=s.child;s!==null;)xb(t,e,s),s=s.sibling}function xb(t,e,s){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(am,s)}catch{}switch(s.tag){case 5:rs||qi(s,e);case 6:var n=zt,a=Rr;zt=null,Rn(t,e,s),zt=n,Rr=a,zt!==null&&(Rr?(t=zt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):zt.removeChild(s.stateNode));break;case 18:zt!==null&&(Rr?(t=zt,s=s.stateNode,t.nodeType===8?ih(t.parentNode,s):t.nodeType===1&&ih(t,s),sc(t)):ih(zt,s.stateNode));break;case 4:n=zt,a=Rr,zt=s.stateNode.containerInfo,Rr=!0,Rn(t,e,s),zt=n,Rr=a;break;case 0:case 11:case 14:case 15:if(!rs&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&U0(s,e,l),a=a.next}while(a!==n)}Rn(t,e,s);break;case 1:if(!rs&&(qi(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){dt(s,e,o)}Rn(t,e,s);break;case 21:Rn(t,e,s);break;case 22:s.mode&1?(rs=(n=rs)||s.memoizedState!==null,Rn(t,e,s),rs=n):Rn(t,e,s);break;default:Rn(t,e,s)}}function Gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new T_),e.forEach(function(n){var a=F_.bind(null,t,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Dr(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:zt=o.stateNode,Rr=!1;break e;case 3:zt=o.stateNode.containerInfo,Rr=!0;break e;case 4:zt=o.stateNode.containerInfo,Rr=!0;break e}o=o.return}if(zt===null)throw Error(W(160));xb(i,l,a),zt=null,Rr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){dt(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yb(e,t),e=e.sibling}function yb(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Wr(t),n&4){try{Do(3,t,t.return),hm(3,t)}catch(x){dt(t,t.return,x)}try{Do(5,t,t.return)}catch(x){dt(t,t.return,x)}}break;case 1:Dr(e,t),Wr(t),n&512&&s!==null&&qi(s,s.return);break;case 5:if(Dr(e,t),Wr(t),n&512&&s!==null&&qi(s,s.return),t.flags&32){var a=t.stateNode;try{Xo(a,"")}catch(x){dt(t,t.return,x)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=s!==null?s.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&$v(a,i),f0(o,l);var d=f0(o,i);for(l=0;l<c.length;l+=2){var m=c[l],u=c[l+1];m==="style"?Gv(a,u):m==="dangerouslySetInnerHTML"?zv(a,u):m==="children"?Xo(a,u):Kf(a,m,u,d)}switch(o){case"input":c0(a,i);break;case"textarea":Uv(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?il(a,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?il(a,!!i.multiple,i.defaultValue,!0):il(a,!!i.multiple,i.multiple?[]:"",!1))}a[lc]=i}catch(x){dt(t,t.return,x)}}break;case 6:if(Dr(e,t),Wr(t),n&4){if(t.stateNode===null)throw Error(W(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(x){dt(t,t.return,x)}}break;case 3:if(Dr(e,t),Wr(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{sc(e.containerInfo)}catch(x){dt(t,t.return,x)}break;case 4:Dr(e,t),Wr(t);break;case 13:Dr(e,t),Wr(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cp=xt())),n&4&&Gx(t);break;case 22:if(m=s!==null&&s.memoizedState!==null,t.mode&1?(rs=(d=rs)||m,Dr(e,t),rs=d):Dr(e,t),Wr(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(Q=t,m=t.child;m!==null;){for(u=Q=m;Q!==null;){switch(h=Q,g=h.child,h.tag){case 0:case 11:case 14:case 15:Do(4,h,h.return);break;case 1:qi(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,s=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(x){dt(n,s,x)}}break;case 5:qi(h,h.return);break;case 22:if(h.memoizedState!==null){Kx(u);continue}}g!==null?(g.return=h,Q=g):Kx(u)}m=m.sibling}e:for(m=null,u=t;;){if(u.tag===5){if(m===null){m=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Wv("display",l))}catch(x){dt(t,t.return,x)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(x){dt(t,t.return,x)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Dr(e,t),Wr(t),n&4&&Gx(t);break;case 21:break;default:Dr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(gb(s)){var n=s;break e}s=s.return}throw Error(W(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xo(a,""),n.flags&=-33);var i=Wx(t);W0(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Wx(t);z0(t,o,l);break;default:throw Error(W(161))}}catch(c){dt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A_(t,e,s){Q=t,vb(t)}function vb(t,e,s){for(var n=(t.mode&1)!==0;Q!==null;){var a=Q,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||cd;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||rs;o=cd;var d=rs;if(cd=l,(rs=c)&&!d)for(Q=a;Q!==null;)l=Q,c=l.child,l.tag===22&&l.memoizedState!==null?Yx(a):c!==null?(c.return=l,Q=c):Yx(a);for(;i!==null;)Q=i,vb(i),i=i.sibling;Q=a,cd=o,rs=d}Hx(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Q=i):Hx(t)}}function Hx(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rs||hm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!rs)if(s===null)n.componentDidMount();else{var a=e.elementType===e.type?s.memoizedProps:Ir(e.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ax(e,i,n);break;case 3:var l=e.updateQueue;if(l!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Ax(e,l,s)}break;case 5:var o=e.stateNode;if(s===null&&e.flags&4){s=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&sc(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}rs||e.flags&512&&B0(e)}catch(h){dt(e,e.return,h)}}if(e===t){Q=null;break}if(s=e.sibling,s!==null){s.return=e.return,Q=s;break}Q=e.return}}function Kx(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Q=s;break}Q=e.return}}function Yx(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{hm(4,e)}catch(c){dt(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){dt(e,a,c)}}var i=e.return;try{B0(e)}catch(c){dt(e,i,c)}break;case 5:var l=e.return;try{B0(e)}catch(c){dt(e,l,c)}}}catch(c){dt(e,e.return,c)}if(e===t){Q=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Q=o;break}Q=e.return}}var D_=Math.ceil,wu=Dn.ReactCurrentDispatcher,_p=Dn.ReactCurrentOwner,xr=Dn.ReactCurrentBatchConfig,Ce=0,Lt=null,Ct=null,Gt=0,$s=0,Zi=Sa(0),Pt=0,hc=null,ui=0,fm=0,Sp=0,Po=null,Ns=null,Cp=0,El=1/0,dn=null,_u=!1,G0=null,aa=null,dd=!1,Kn=null,Su=0,Mo=0,H0=null,Bd=-1,zd=0;function ys(){return Ce&6?xt():Bd!==-1?Bd:Bd=xt()}function ia(t){return t.mode&1?Ce&2&&Gt!==0?Gt&-Gt:f_.transition!==null?(zd===0&&(zd=r2()),zd):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:d2(t.type)),t):1}function Fr(t,e,s,n){if(50<Mo)throw Mo=0,H0=null,Error(W(185));Pc(t,s,n),(!(Ce&2)||t!==Lt)&&(t===Lt&&(!(Ce&2)&&(fm|=s),Pt===4&&Gn(t,Gt)),Cs(t,n),s===1&&Ce===0&&!(e.mode&1)&&(El=xt()+500,dm&&Ca()))}function Cs(t,e){var s=t.callbackNode;f3(t,e);var n=ou(t,t===Lt?Gt:0);if(n===0)s!==null&&rx(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&rx(s),e===1)t.tag===0?h_(qx.bind(null,t)):E2(qx.bind(null,t)),c_(function(){!(Ce&6)&&Ca()}),s=null;else{switch(n2(n)){case 1:s=Xf;break;case 4:s=t2;break;case 16:s=lu;break;case 536870912:s=s2;break;default:s=lu}s=kb(s,bb.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function bb(t,e){if(Bd=-1,zd=0,Ce&6)throw Error(W(327));var s=t.callbackNode;if(ul()&&t.callbackNode!==s)return null;var n=ou(t,t===Lt?Gt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Cu(t,n);else{e=n;var a=Ce;Ce|=2;var i=Nb();(Lt!==t||Gt!==e)&&(dn=null,El=xt()+500,Ja(t,e));do try{I_();break}catch(o){jb(t,o)}while(1);up(),wu.current=i,Ce=a,Ct!==null?e=0:(Lt=null,Gt=0,e=Pt)}if(e!==0){if(e===2&&(a=v0(t),a!==0&&(n=a,e=K0(t,a))),e===1)throw s=hc,Ja(t,0),Gn(t,n),Cs(t,xt()),s;if(e===6)Gn(t,n);else{if(a=t.current.alternate,!(n&30)&&!P_(a)&&(e=Cu(t,n),e===2&&(i=v0(t),i!==0&&(n=i,e=K0(t,i))),e===1))throw s=hc,Ja(t,0),Gn(t,n),Cs(t,xt()),s;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(W(345));case 2:Va(t,Ns,dn);break;case 3:if(Gn(t,n),(n&130023424)===n&&(e=Cp+500-xt(),10<e)){if(ou(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){ys(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=k0(Va.bind(null,t,Ns,dn),e);break}Va(t,Ns,dn);break;case 4:if(Gn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var l=31-Lr(n);i=1<<l,l=e[l],l>a&&(a=l),n&=~i}if(n=a,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D_(n/1960))-n,10<n){t.timeoutHandle=k0(Va.bind(null,t,Ns,dn),n);break}Va(t,Ns,dn);break;case 5:Va(t,Ns,dn);break;default:throw Error(W(329))}}}return Cs(t,xt()),t.callbackNode===s?bb.bind(null,t):null}function K0(t,e){var s=Po;return t.current.memoizedState.isDehydrated&&(Ja(t,e).flags|=256),t=Cu(t,e),t!==2&&(e=Ns,Ns=s,e!==null&&Y0(e)),t}function Y0(t){Ns===null?Ns=t:Ns.push.apply(Ns,t)}function P_(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!Vr(i(),a))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~Sp,e&=~fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Lr(e),n=1<<s;t[s]=-1,e&=~n}}function qx(t){if(Ce&6)throw Error(W(327));ul();var e=ou(t,0);if(!(e&1))return Cs(t,xt()),null;var s=Cu(t,e);if(t.tag!==0&&s===2){var n=v0(t);n!==0&&(e=n,s=K0(t,n))}if(s===1)throw s=hc,Ja(t,0),Gn(t,e),Cs(t,xt()),s;if(s===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Va(t,Ns,dn),Cs(t,xt()),null}function kp(t,e){var s=Ce;Ce|=1;try{return t(e)}finally{Ce=s,Ce===0&&(El=xt()+500,dm&&Ca())}}function mi(t){Kn!==null&&Kn.tag===0&&!(Ce&6)&&ul();var e=Ce;Ce|=1;var s=xr.transition,n=Ie;try{if(xr.transition=null,Ie=1,t)return t()}finally{Ie=n,xr.transition=s,Ce=e,!(Ce&6)&&Ca()}}function Tp(){$s=Zi.current,Ye(Zi)}function Ja(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,o_(s)),Ct!==null)for(s=Ct.return;s!==null;){var n=s;switch(op(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hu();break;case 3:kl(),Ye(_s),Ye(ls),xp();break;case 5:gp(n);break;case 4:kl();break;case 13:Ye(st);break;case 19:Ye(st);break;case 10:mp(n.type._context);break;case 22:case 23:Tp()}s=s.return}if(Lt=t,Ct=t=la(t.current,null),Gt=$s=e,Pt=0,hc=null,Sp=fm=ui=0,Ns=Po=null,Ya!==null){for(e=0;e<Ya.length;e++)if(s=Ya[e],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}s.pending=n}Ya=null}return t}function jb(t,e){do{var s=Ct;try{if(up(),Vd.current=Nu,ju){for(var n=it.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ju=!1}if(di=0,Ot=Et=it=null,Ao=!1,dc=0,_p.current=null,s===null||s.return===null){Pt=1,hc=e,Ct=null;break}e:{var i=t,l=s.return,o=s,c=e;if(e=Gt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var g=Ox(l);if(g!==null){g.flags&=-257,Lx(g,l,o,i,e),g.mode&1&&Rx(i,d,e),e=g,c=d;var p=e.updateQueue;if(p===null){var x=new Set;x.add(c),e.updateQueue=x}else p.add(c);break e}else{if(!(e&1)){Rx(i,d,e),Ep();break e}c=Error(W(426))}}else if(Qe&&o.mode&1){var j=Ox(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Lx(j,l,o,i,e),cp(Tl(c,o));break e}}i=c=Tl(c,o),Pt!==4&&(Pt=2),Po===null?Po=[i]:Po.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=nb(i,c,e);Ex(i,v);break e;case 1:o=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(aa===null||!aa.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=ab(i,o,e);Ex(i,N);break e}}i=i.return}while(i!==null)}_b(s)}catch(w){e=w,Ct===s&&s!==null&&(Ct=s=s.return);continue}break}while(1)}function Nb(){var t=wu.current;return wu.current=Nu,t===null?Nu:t}function Ep(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||!(ui&268435455)&&!(fm&268435455)||Gn(Lt,Gt)}function Cu(t,e){var s=Ce;Ce|=2;var n=Nb();(Lt!==t||Gt!==e)&&(dn=null,Ja(t,e));do try{M_();break}catch(a){jb(t,a)}while(1);if(up(),Ce=s,wu.current=n,Ct!==null)throw Error(W(261));return Lt=null,Gt=0,Pt}function M_(){for(;Ct!==null;)wb(Ct)}function I_(){for(;Ct!==null&&!a3();)wb(Ct)}function wb(t){var e=Cb(t.alternate,t,$s);t.memoizedProps=t.pendingProps,e===null?_b(t):Ct=e,_p.current=null}function _b(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=k_(s,e),s!==null){s.flags&=32767,Ct=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Ct=null;return}}else if(s=C_(s,e,$s),s!==null){Ct=s;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Pt===0&&(Pt=5)}function Va(t,e,s){var n=Ie,a=xr.transition;try{xr.transition=null,Ie=1,R_(t,e,s,n)}finally{xr.transition=a,Ie=n}return null}function R_(t,e,s,n){do ul();while(Kn!==null);if(Ce&6)throw Error(W(327));s=t.finishedWork;var a=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=s.lanes|s.childLanes;if(p3(t,i),t===Lt&&(Ct=Lt=null,Gt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||dd||(dd=!0,kb(lu,function(){return ul(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var l=Ie;Ie=1;var o=Ce;Ce|=4,_p.current=null,E_(t,s),yb(s,t),t_(S0),cu=!!_0,S0=_0=null,t.current=s,A_(s),i3(),Ce=o,Ie=l,xr.transition=i}else t.current=s;if(dd&&(dd=!1,Kn=t,Su=a),i=t.pendingLanes,i===0&&(aa=null),c3(s.stateNode),Cs(t,xt()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)a=e[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(_u)throw _u=!1,t=G0,G0=null,t;return Su&1&&t.tag!==0&&ul(),i=t.pendingLanes,i&1?t===H0?Mo++:(Mo=0,H0=t):Mo=0,Ca(),null}function ul(){if(Kn!==null){var t=n2(Su),e=xr.transition,s=Ie;try{if(xr.transition=null,Ie=16>t?16:t,Kn===null)var n=!1;else{if(t=Kn,Kn=null,Su=0,Ce&6)throw Error(W(331));var a=Ce;for(Ce|=4,Q=t.current;Q!==null;){var i=Q,l=i.child;if(Q.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Q=d;Q!==null;){var m=Q;switch(m.tag){case 0:case 11:case 15:Do(8,m,i)}var u=m.child;if(u!==null)u.return=m,Q=u;else for(;Q!==null;){m=Q;var h=m.sibling,g=m.return;if(pb(m),m===d){Q=null;break}if(h!==null){h.return=g,Q=h;break}Q=g}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}Q=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Q=l;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var y=t.current;for(Q=y;Q!==null;){l=Q;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,Q=b;else e:for(l=y;Q!==null;){if(o=Q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hm(9,o)}}catch(w){dt(o,o.return,w)}if(o===l){Q=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Q=N;break e}Q=o.return}}if(Ce=a,Ca(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(am,t)}catch{}n=!0}return n}finally{Ie=s,xr.transition=e}}return!1}function Zx(t,e,s){e=Tl(s,e),e=nb(t,e,1),t=na(t,e,1),e=ys(),t!==null&&(Pc(t,1,e),Cs(t,e))}function dt(t,e,s){if(t.tag===3)Zx(t,t,s);else for(;e!==null;){if(e.tag===3){Zx(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=Tl(s,t),t=ab(e,t,1),e=na(e,t,1),t=ys(),e!==null&&(Pc(e,1,t),Cs(e,t));break}}e=e.return}}function O_(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=ys(),t.pingedLanes|=t.suspendedLanes&s,Lt===t&&(Gt&s)===s&&(Pt===4||Pt===3&&(Gt&130023424)===Gt&&500>xt()-Cp?Ja(t,0):Sp|=s),Cs(t,e)}function Sb(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var s=ys();t=Cn(t,e),t!==null&&(Pc(t,e,s),Cs(t,s))}function L_(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Sb(t,s)}function F_(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(e),Sb(t,s)}var Cb;Cb=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||_s.current)ws=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return ws=!1,S_(t,e,s);ws=!!(t.flags&131072)}else ws=!1,Qe&&e.flags&1048576&&A2(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ud(t,e),t=e.pendingProps;var a=_l(e,ls.current);dl(e,s),a=vp(null,e,n,t,a,s);var i=bp();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ss(n)?(i=!0,fu(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,fp(e),a.updater=mm,e.stateNode=a,a._reactInternals=e,I0(e,n,t,s),e=L0(null,e,n,!0,i,s)):(e.tag=0,Qe&&i&&lp(e),ms(null,e,a,s),e=e.child),e;case 16:n=e.elementType;e:{switch(Ud(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=$_(n),t=Ir(n,t),a){case 0:e=O0(null,e,n,t,s);break e;case 1:e=$x(null,e,n,t,s);break e;case 11:e=Fx(null,e,n,t,s);break e;case 14:e=Vx(null,e,n,Ir(n.type,t),s);break e}throw Error(W(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ir(n,a),O0(t,e,n,a,s);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ir(n,a),$x(t,e,n,a,s);case 3:e:{if(cb(e),t===null)throw Error(W(387));n=e.pendingProps,i=e.memoizedState,a=i.element,O2(t,e),vu(e,n,null,s);var l=e.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Tl(Error(W(423)),e),e=Ux(t,e,n,s,a);break e}else if(n!==a){a=Tl(Error(W(424)),e),e=Ux(t,e,n,s,a);break e}else for(Hs=ra(e.stateNode.containerInfo.firstChild),Ys=e,Qe=!0,Or=null,s=I2(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sl(),n===a){e=kn(t,e,s);break e}ms(t,e,n,s)}e=e.child}return e;case 5:return L2(e),t===null&&D0(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,C0(n,a)?l=null:i!==null&&C0(n,i)&&(e.flags|=32),ob(t,e),ms(t,e,l,s),e.child;case 6:return t===null&&D0(e),null;case 13:return db(t,e,s);case 4:return pp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cl(e,null,n,s):ms(t,e,n,s),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ir(n,a),Fx(t,e,n,a,s);case 7:return ms(t,e,e.pendingProps,s),e.child;case 8:return ms(t,e,e.pendingProps.children,s),e.child;case 12:return ms(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,l=a.value,We(xu,n._currentValue),n._currentValue=l,i!==null)if(Vr(i.value,l)){if(i.children===a.children&&!_s.current){e=kn(t,e,s);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=bn(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),P0(i.return,s,e),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(W(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),P0(l,s,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ms(t,e,a.children,s),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,dl(e,s),a=br(a),n=n(a),e.flags|=1,ms(t,e,n,s),e.child;case 14:return n=e.type,a=Ir(n,e.pendingProps),a=Ir(n.type,a),Vx(t,e,n,a,s);case 15:return ib(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Ir(n,a),Ud(t,e),e.tag=1,Ss(n)?(t=!0,fu(e)):t=!1,dl(e,s),rb(e,n,a),I0(e,n,a,s),L0(null,e,n,!0,t,s);case 19:return ub(t,e,s);case 22:return lb(t,e,s)}throw Error(W(156,e.tag))};function kb(t,e){return e2(t,e)}function V_(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,s,n){return new V_(t,e,s,n)}function Ap(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $_(t){if(typeof t=="function")return Ap(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qf)return 11;if(t===Zf)return 14}return 2}function la(t,e){var s=t.alternate;return s===null?(s=hr(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Wd(t,e,s,n,a,i){var l=2;if(n=t,typeof t=="function")Ap(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case $i:return ei(s.children,a,i,e);case Yf:l=8,a|=8;break;case n0:return t=hr(12,s,e,a|2),t.elementType=n0,t.lanes=i,t;case a0:return t=hr(13,s,e,a),t.elementType=a0,t.lanes=i,t;case i0:return t=hr(19,s,e,a),t.elementType=i0,t.lanes=i,t;case Lv:return pm(s,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rv:l=10;break e;case Ov:l=9;break e;case qf:l=11;break e;case Zf:l=14;break e;case Un:l=16,n=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=hr(l,s,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function ei(t,e,s,n){return t=hr(7,t,n,e),t.lanes=s,t}function pm(t,e,s,n){return t=hr(22,t,n,e),t.elementType=Lv,t.lanes=s,t.stateNode={isHidden:!1},t}function fh(t,e,s){return t=hr(6,t,null,e),t.lanes=s,t}function ph(t,e,s){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U_(t,e,s,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Dp(t,e,s,n,a,i,l,o,c){return t=new U_(t,e,s,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(i),t}function B_(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function Tb(t){if(!t)return xa;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var s=t.type;if(Ss(s))return T2(t,s,e)}return e}function Eb(t,e,s,n,a,i,l,o,c){return t=Dp(s,n,!0,t,a,i,l,o,c),t.context=Tb(null),s=t.current,n=ys(),a=ia(s),i=bn(n,a),i.callback=e??null,na(s,i,a),t.current.lanes=a,Pc(t,a,n),Cs(t,n),t}function gm(t,e,s,n){var a=e.current,i=ys(),l=ia(a);return s=Tb(s),e.context===null?e.context=s:e.pendingContext=s,e=bn(i,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(a,e,l),t!==null&&(Fr(t,a,l,i),Fd(t,a,l)),l}function ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Pp(t,e){Qx(t,e),(t=t.alternate)&&Qx(t,e)}function z_(){return null}var Ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mp(t){this._internalRoot=t}xm.prototype.render=Mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));gm(t,e,null,null)};xm.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){gm(null,t,null,null)}),e[Sn]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=l2();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Wn.length&&e!==0&&e<Wn[s].priority;s++);Wn.splice(s,0,t),s===0&&c2(t)}};function Ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xx(){}function W_(t,e,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=ku(l);i.call(d)}}var l=Eb(e,n,t,0,null,!1,!1,"",Xx);return t._reactRootContainer=l,t[Sn]=l.current,ac(t.nodeType===8?t.parentNode:t),mi(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=ku(c);o.call(d)}}var c=Dp(t,0,!1,null,null,!1,!1,"",Xx);return t._reactRootContainer=c,t[Sn]=c.current,ac(t.nodeType===8?t.parentNode:t),mi(function(){gm(e,c,s,n)}),c}function vm(t,e,s,n,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=ku(l);o.call(c)}}gm(e,l,t,a)}else l=W_(s,e,t,a,n);return ku(l)}a2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=po(e.pendingLanes);s!==0&&(Jf(e,s|1),Cs(e,xt()),!(Ce&6)&&(El=xt()+500,Ca()))}break;case 13:mi(function(){var n=Cn(t,1);if(n!==null){var a=ys();Fr(n,t,1,a)}}),Pp(t,1)}};ep=function(t){if(t.tag===13){var e=Cn(t,134217728);if(e!==null){var s=ys();Fr(e,t,134217728,s)}Pp(t,134217728)}};i2=function(t){if(t.tag===13){var e=ia(t),s=Cn(t,e);if(s!==null){var n=ys();Fr(s,t,e,n)}Pp(t,e)}};l2=function(){return Ie};o2=function(t,e){var s=Ie;try{return Ie=t,e()}finally{Ie=s}};g0=function(t,e,s){switch(e){case"input":if(c0(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var a=cm(n);if(!a)throw Error(W(90));Vv(n),c0(n,a)}}}break;case"textarea":Uv(t,s);break;case"select":e=s.value,e!=null&&il(t,!!s.multiple,e,!1)}};Yv=kp;qv=mi;var G_={usingClientEntryPoint:!1,Events:[Ic,Wi,cm,Hv,Kv,kp]},ao={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H_={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xv(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{am=ud.inject(H_),Jr=ud}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;tr.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(e))throw Error(W(200));return B_(t,e,null,s)};tr.createRoot=function(t,e){if(!Ip(t))throw Error(W(299));var s=!1,n="",a=Ab;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Dp(t,1,!1,null,null,s,!1,n,a),t[Sn]=e.current,ac(t.nodeType===8?t.parentNode:t),new Mp(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Xv(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return mi(t)};tr.hydrate=function(t,e,s){if(!ym(e))throw Error(W(200));return vm(null,t,e,!0,s)};tr.hydrateRoot=function(t,e,s){if(!Ip(t))throw Error(W(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",l=Ab;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),e=Eb(e,null,t,1,s??null,a,!1,i,l),t[Sn]=e.current,ac(t),n)for(t=0;t<n.length;t++)s=n[t],a=s._getVersion,a=a(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,a]:e.mutableSourceEagerHydrationData.push(s,a);return new xm(e)};tr.render=function(t,e,s){if(!ym(e))throw Error(W(200));return vm(null,t,e,!1,s)};tr.unmountComponentAtNode=function(t){if(!ym(t))throw Error(W(40));return t._reactRootContainer?(mi(function(){vm(null,null,t,!1,function(){t._reactRootContainer=null,t[Sn]=null})}),!0):!1};tr.unstable_batchedUpdates=kp;tr.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!ym(s))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return vm(t,e,s,!1,n)};tr.version="18.3.1-next-f1338f8080-20240426";function Db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Db)}catch(t){console.error(t)}}Db(),Dv.exports=tr;var bm=Dv.exports,Jx=bm;s0.createRoot=Jx.createRoot,s0.hydrateRoot=Jx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},fc.apply(this,arguments)}var Yn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yn||(Yn={}));const ey="popstate";function K_(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:l,hash:o}=n.location;return q0("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Tu(a)}return q_(e,s,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y_(){return Math.random().toString(36).substr(2,8)}function ty(t,e){return{usr:t.state,key:t.key,idx:e}}function q0(t,e,s,n){return s===void 0&&(s=null),fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gl(e):e,{state:s,key:e&&e.key||n||Y_()})}function Tu(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gl(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function q_(t,e,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=Yn.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(fc({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function u(){o=Yn.Pop;let j=m(),v=j==null?null:j-d;d=j,c&&c({action:o,location:x.location,delta:v})}function h(j,v){o=Yn.Push;let y=q0(x.location,j,v);s&&s(y,j),d=m()+1;let b=ty(y,d),N=x.createHref(y);try{l.pushState(b,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(N)}i&&c&&c({action:o,location:x.location,delta:1})}function g(j,v){o=Yn.Replace;let y=q0(x.location,j,v);s&&s(y,j),d=m();let b=ty(y,d),N=x.createHref(y);l.replaceState(b,"",N),i&&c&&c({action:o,location:x.location,delta:0})}function p(j){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof j=="string"?j:Tu(j);return y=y.replace(/ $/,"%20"),lt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let x={get action(){return o},get location(){return t(a,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ey,u),c=j,()=>{a.removeEventListener(ey,u),c=null}},createHref(j){return e(a,j)},createURL:p,encodeLocation(j){let v=p(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(j){return l.go(j)}};return x}var sy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sy||(sy={}));function Z_(t,e,s){return s===void 0&&(s="/"),Q_(t,e,s,!1)}function Q_(t,e,s,n){let a=typeof e=="string"?Gl(e):e,i=Al(a.pathname||"/",s);if(i==null)return null;let l=Mb(t);X_(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=cS(i);o=lS(l[c],d,n)}return o}function Mb(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(lt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=oa([n,c.relativePath]),m=s.concat(c);i.children&&i.children.length>0&&(lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mb(i.children,e,m,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:aS(d,i.index),routesMeta:m})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Ib(i.path))a(i,l,c)}),e}function Ib(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Ib(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function X_(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:iS(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const J_=/^:[\w-]+$/,eS=3,tS=2,sS=1,rS=10,nS=-2,ry=t=>t==="*";function aS(t,e){let s=t.split("/"),n=s.length;return s.some(ry)&&(n+=nS),e&&(n+=tS),s.filter(a=>!ry(a)).reduce((a,i)=>a+(J_.test(i)?eS:i===""?sS:rS),n)}function iS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function lS(t,e,s){s===void 0&&(s=!1);let{routesMeta:n}=t,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",u=Eu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),h=c.route;if(!u&&d&&s&&!n[n.length-1].route.index&&(u=Eu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!u)return null;Object.assign(a,u.params),l.push({params:a,pathname:oa([i,u.pathname]),pathnameBase:hS(oa([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=oa([i,u.pathnameBase]))}return l}function Eu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=oS(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,u)=>{let{paramName:h,isOptional:g}=m;if(h==="*"){let x=o[u]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[u];return g&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function oS(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Pb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function cS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function dS(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:a=""}=typeof t=="string"?Gl(t):t;return{pathname:s?s.startsWith("/")?s:uS(s,e):e,search:fS(n),hash:pS(a)}}function uS(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function gh(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mS(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Rp(t,e){let s=mS(t);return e?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Op(t,e,s,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Gl(t):(a=fc({},t),lt(!a.pathname||!a.pathname.includes("?"),gh("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),gh("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),gh("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let u=e.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),u-=1;a.pathname=h.join("/")}o=u>=0?e[u]:"/"}let c=dS(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const oa=t=>t.join("/").replace(/\/\/+/g,"/"),hS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rb=["post","put","patch","delete"];new Set(Rb);const xS=["get",...Rb];new Set(xS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},pc.apply(this,arguments)}const jm=f.createContext(null),Ob=f.createContext(null),Pn=f.createContext(null),Nm=f.createContext(null),nn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Lb=f.createContext(null);function yS(t,e){let{relative:s}=e===void 0?{}:e;Hl()||lt(!1);let{basename:n,navigator:a}=f.useContext(Pn),{hash:i,pathname:l,search:o}=wm(t,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:oa([n,l])),a.createHref({pathname:c,search:o,hash:i})}function Hl(){return f.useContext(Nm)!=null}function ka(){return Hl()||lt(!1),f.useContext(Nm).location}function Fb(t){f.useContext(Pn).static||f.useLayoutEffect(t)}function Ta(){let{isDataRoute:t}=f.useContext(nn);return t?MS():vS()}function vS(){Hl()||lt(!1);let t=f.useContext(jm),{basename:e,future:s,navigator:n}=f.useContext(Pn),{matches:a}=f.useContext(nn),{pathname:i}=ka(),l=JSON.stringify(Rp(a,s.v7_relativeSplatPath)),o=f.useRef(!1);return Fb(()=>{o.current=!0}),f.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let u=Op(d,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:oa([e,u.pathname])),(m.replace?n.replace:n.push)(u,m.state,m)},[e,n,l,i,t])}const bS=f.createContext(null);function jS(t){let e=f.useContext(nn).outlet;return e&&f.createElement(bS.Provider,{value:t},e)}function Lp(){let{matches:t}=f.useContext(nn),e=t[t.length-1];return e?e.params:{}}function wm(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=f.useContext(Pn),{matches:a}=f.useContext(nn),{pathname:i}=ka(),l=JSON.stringify(Rp(a,n.v7_relativeSplatPath));return f.useMemo(()=>Op(t,JSON.parse(l),i,s==="path"),[t,l,i,s])}function NS(t,e){return wS(t,e)}function wS(t,e,s,n){Hl()||lt(!1);let{navigator:a}=f.useContext(Pn),{matches:i}=f.useContext(nn),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=ka(),m;if(e){var u;let j=typeof e=="string"?Gl(e):e;c==="/"||(u=j.pathname)!=null&&u.startsWith(c)||lt(!1),m=j}else m=d;let h=m.pathname||"/",g=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let p=Z_(t,{pathname:g}),x=TS(p&&p.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:oa([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:oa([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,s,n);return e&&x?f.createElement(Nm.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Yn.Pop}},x):x}function _S(){let t=PS(),e=gS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),s?f.createElement("pre",{style:a},s):null,i)}const SS=f.createElement(_S,null);class CS extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?f.createElement(nn.Provider,{value:this.props.routeContext},f.createElement(Lb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kS(t){let{routeContext:e,match:s,children:n}=t,a=f.useContext(jm);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(nn.Provider,{value:e},n)}function TS(t,e,s,n){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var i;if(!s)return null;if(s.errors)t=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let l=t,o=(a=s)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);m>=0||lt(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let u=l[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:h,errors:g}=s,p=u.route.loader&&h[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||p){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,u,h)=>{let g,p=!1,x=null,j=null;s&&(g=o&&u.route.id?o[u.route.id]:void 0,x=u.route.errorElement||SS,c&&(d<0&&h===0?(IS("route-fallback",!1),p=!0,j=null):d===h&&(p=!0,j=u.route.hydrateFallbackElement||null)));let v=e.concat(l.slice(0,h+1)),y=()=>{let b;return g?b=x:p?b=j:u.route.Component?b=f.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=m,f.createElement(kS,{match:u,routeContext:{outlet:m,matches:v,isDataRoute:s!=null},children:b})};return s&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?f.createElement(CS,{location:s.location,revalidation:s.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Vb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vb||{}),Au=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Au||{});function ES(t){let e=f.useContext(jm);return e||lt(!1),e}function AS(t){let e=f.useContext(Ob);return e||lt(!1),e}function DS(t){let e=f.useContext(nn);return e||lt(!1),e}function $b(t){let e=DS(),s=e.matches[e.matches.length-1];return s.route.id||lt(!1),s.route.id}function PS(){var t;let e=f.useContext(Lb),s=AS(Au.UseRouteError),n=$b(Au.UseRouteError);return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function MS(){let{router:t}=ES(Vb.UseNavigateStable),e=$b(Au.UseNavigateStable),s=f.useRef(!1);return Fb(()=>{s.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,pc({fromRouteId:e},i)))},[t,e])}const ny={};function IS(t,e,s){!e&&!ny[t]&&(ny[t]=!0)}function RS(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Fn(t){let{to:e,replace:s,state:n,relative:a}=t;Hl()||lt(!1);let{future:i,static:l}=f.useContext(Pn),{matches:o}=f.useContext(nn),{pathname:c}=ka(),d=Ta(),m=Op(e,Rp(o,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(m);return f.useEffect(()=>d(JSON.parse(u),{replace:s,state:n,relative:a}),[d,u,a,s,n]),null}function OS(t){return jS(t.context)}function se(t){lt(!1)}function LS(t){let{basename:e="/",children:s=null,location:n,navigationType:a=Yn.Pop,navigator:i,static:l=!1,future:o}=t;Hl()&&lt(!1);let c=e.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:l,future:pc({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Gl(n));let{pathname:m="/",search:u="",hash:h="",state:g=null,key:p="default"}=n,x=f.useMemo(()=>{let j=Al(m,c);return j==null?null:{location:{pathname:j,search:u,hash:h,state:g,key:p},navigationType:a}},[c,m,u,h,g,p,a]);return x==null?null:f.createElement(Pn.Provider,{value:d},f.createElement(Nm.Provider,{children:s,value:x}))}function FS(t){let{children:e,location:s}=t;return NS(Z0(e),s)}new Promise(()=>{});function Z0(t,e){e===void 0&&(e=[]);let s=[];return f.Children.forEach(t,(n,a)=>{if(!f.isValidElement(n))return;let i=[...e,a];if(n.type===f.Fragment){s.push.apply(s,Z0(n.props.children,i));return}n.type!==se&&lt(!1),!n.props.index||!n.props.children||lt(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Z0(n.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Du.apply(this,arguments)}function Ub(t,e){if(t==null)return{};var s={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}function VS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $S(t,e){return t.button===0&&(!e||e==="_self")&&!VS(t)}const US=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zS="6";try{window.__reactRouterVersion=zS}catch{}const WS=f.createContext({isTransitioning:!1}),GS="startTransition",ay=O5[GS];function HS(t){let{basename:e,children:s,future:n,window:a}=t,i=f.useRef();i.current==null&&(i.current=K_({window:a,v5Compat:!0}));let l=i.current,[o,c]=f.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},m=f.useCallback(u=>{d&&ay?ay(()=>c(u)):c(u)},[c,d]);return f.useLayoutEffect(()=>l.listen(m),[l,m]),f.useEffect(()=>RS(n),[n]),f.createElement(LS,{basename:e,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const KS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q0=f.forwardRef(function(e,s){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:u}=e,h=Ub(e,US),{basename:g}=f.useContext(Pn),p,x=!1;if(typeof d=="string"&&YS.test(d)&&(p=d,KS))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),w=Al(N.pathname,g);N.origin===b.origin&&w!=null?d=w+N.search+N.hash:x=!0}catch{}let j=yS(d,{relative:a}),v=ZS(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:u});function y(b){n&&n(b),b.defaultPrevented||v(b)}return f.createElement("a",Du({},h,{href:p||j,onClick:x||i?n:y,ref:s,target:c}))}),Bb=f.forwardRef(function(e,s){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:m}=e,u=Ub(e,BS),h=wm(c,{relative:u.relative}),g=ka(),p=f.useContext(Ob),{navigator:x,basename:j}=f.useContext(Pn),v=p!=null&&QS(h)&&d===!0,y=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,b=g.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(b=b.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&j&&(N=Al(N,j)||N);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=b===y||!l&&b.startsWith(y)&&b.charAt(w)==="/",T=N!=null&&(N===y||!l&&N.startsWith(y)&&N.charAt(y.length)==="/"),P={isActive:k,isPending:T,isTransitioning:v},E=k?n:void 0,C;typeof i=="function"?C=i(P):C=[i,k?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(P):o;return f.createElement(Q0,Du({},u,{"aria-current":E,className:C,ref:s,style:A,to:c,viewTransition:d}),typeof m=="function"?m(P):m)});var X0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X0||(X0={}));var iy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iy||(iy={}));function qS(t){let e=f.useContext(jm);return e||lt(!1),e}function ZS(t,e){let{target:s,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=e===void 0?{}:e,c=Ta(),d=ka(),m=wm(t,{relative:l});return f.useCallback(u=>{if($S(u,s)){u.preventDefault();let h=n!==void 0?n:Tu(d)===Tu(m);c(t,{replace:h,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,n,a,s,t,i,l,o])}function QS(t,e){e===void 0&&(e={});let s=f.useContext(WS);s==null&&lt(!1);let{basename:n}=qS(X0.useViewTransitionState),a=wm(t,{relative:e.relative});if(!s.isTransitioning)return!1;let i=Al(s.currentLocation.pathname,n)||s.currentLocation.pathname,l=Al(s.nextLocation.pathname,n)||s.nextLocation.pathname;return Eu(a.pathname,l)!=null||Eu(a.pathname,i)!=null}function un(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var qs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Dl={duration:.5,overwrite:!1,delay:0},Fp,Ht,Xe,fr=1e8,Ue=1/fr,J0=Math.PI*2,XS=J0/4,JS=0,Wb=Math.sqrt,e4=Math.cos,t4=Math.sin,Ft=function(e){return typeof e=="string"},mt=function(e){return typeof e=="function"},Tn=function(e){return typeof e=="number"},Vp=function(e){return typeof e>"u"},rn=function(e){return typeof e=="object"},ks=function(e){return e!==!1},$p=function(){return typeof window<"u"},md=function(e){return mt(e)||Ft(e)},Gb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},is=Array.isArray,ef=/(?:-?\.?\d|\.)+/gi,Hb=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,xh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Kb=/[+-]=-?[.\d]+/,Yb=/[^,'"\[\]\s]+/gi,s4=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,rt,Kr,tf,Up,Xs={},Pu={},qb,Zb=function(e){return(Pu=Pl(e,Xs))&&Ds},Bp=function(e,s){return console.warn("Invalid property",e,"set to",s,"Missing plugin? gsap.registerPlugin()")},gc=function(e,s){return!s&&console.warn(e)},Qb=function(e,s){return e&&(Xs[e]=s)&&Pu&&(Pu[e]=s)||Xs},xc=function(){return 0},r4={suppressEvents:!0,isStart:!0,kill:!1},Gd={suppressEvents:!0,kill:!1},n4={suppressEvents:!0},zp={},ca=[],sf={},Xb,Bs={},yh={},ly=30,Hd=[],Wp="",Gp=function(e){var s=e[0],n,a;if(rn(s)||mt(s)||(e=[e]),!(n=(s._gsap||{}).harness)){for(a=Hd.length;a--&&!Hd[a].targetTest(s););n=Hd[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new Nj(e[a],n)))||e.splice(a,1);return e},ti=function(e){return e._gsap||Gp(pr(e))[0]._gsap},Jb=function(e,s,n){return(n=e[s])&&mt(n)?e[s]():Vp(n)&&e.getAttribute&&e.getAttribute(s)||n},Ts=function(e,s){return(e=e.split(",")).forEach(s)||e},gt=function(e){return Math.round(e*1e5)/1e5||0},St=function(e){return Math.round(e*1e7)/1e7||0},ml=function(e,s){var n=s.charAt(0),a=parseFloat(s.substr(2));return e=parseFloat(e),n==="+"?e+a:n==="-"?e-a:n==="*"?e*a:e/a},a4=function(e,s){for(var n=s.length,a=0;e.indexOf(s[a])<0&&++a<n;);return a<n},Mu=function(){var e=ca.length,s=ca.slice(0),n,a;for(sf={},ca.length=0,n=0;n<e;n++)a=s[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Hp=function(e){return!!(e._initted||e._startAt||e.add)},ej=function(e,s,n,a){ca.length&&!Ht&&Mu(),e.render(s,n,a||!!(Ht&&s<0&&Hp(e))),ca.length&&!Ht&&Mu()},tj=function(e){var s=parseFloat(e);return(s||s===0)&&(e+"").match(Yb).length<2?s:Ft(e)?e.trim():e},sj=function(e){return e},Js=function(e,s){for(var n in s)n in e||(e[n]=s[n]);return e},i4=function(e){return function(s,n){for(var a in n)a in s||a==="duration"&&e||a==="ease"||(s[a]=n[a])}},Pl=function(e,s){for(var n in s)e[n]=s[n];return e},oy=function t(e,s){for(var n in s)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=rn(s[n])?t(e[n]||(e[n]={}),s[n]):s[n]);return e},Iu=function(e,s){var n={},a;for(a in e)a in s||(n[a]=e[a]);return n},Io=function(e){var s=e.parent||rt,n=e.keyframes?i4(is(e.keyframes)):Js;if(ks(e.inherit))for(;s;)n(e,s.vars.defaults),s=s.parent||s._dp;return e},l4=function(e,s){for(var n=e.length,a=n===s.length;a&&n--&&e[n]===s[n];);return n<0},rj=function(e,s,n,a,i){n===void 0&&(n="_first"),a===void 0&&(a="_last");var l=e[a],o;if(i)for(o=s[i];l&&l[i]>o;)l=l._prev;return l?(s._next=l._next,l._next=s):(s._next=e[n],e[n]=s),s._next?s._next._prev=s:e[a]=s,s._prev=l,s.parent=s._dp=e,s},_m=function(e,s,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=s._prev,l=s._next;i?i._next=l:e[n]===s&&(e[n]=l),l?l._prev=i:e[a]===s&&(e[a]=i),s._next=s._prev=s.parent=null},ya=function(e,s){e.parent&&(!s||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},si=function(e,s){if(e&&(!s||s._end>e._dur||s._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},o4=function(e){for(var s=e.parent;s&&s.parent;)s._dirty=1,s.totalDuration(),s=s.parent;return e},rf=function(e,s,n,a){return e._startAt&&(Ht?e._startAt.revert(Gd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(s,!0,a))},c4=function t(e){return!e||e._ts&&t(e.parent)},cy=function(e){return e._repeat?Ml(e._tTime,e=e.duration()+e._rDelay)*e:0},Ml=function(e,s){var n=Math.floor(e=St(e/s));return e&&n===e?n-1:n},Ru=function(e,s){return(e-s._start)*s._ts+(s._ts>=0?0:s._dirty?s.totalDuration():s._tDur)},Sm=function(e){return e._end=St(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ue)||0))},Cm=function(e,s){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=St(n._time-(e._ts>0?s/e._ts:((e._dirty?e.totalDuration():e._tDur)-s)/-e._ts)),Sm(e),n._dirty||si(n,e)),e},nj=function(e,s){var n;if((s._time||!s._dur&&s._initted||s._start<e._time&&(s._dur||!s.add))&&(n=Ru(e.rawTime(),s),(!s._dur||Oc(0,s.totalDuration(),n)-s._tTime>Ue)&&s.render(n,!0)),si(e,s)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Ue}},Zr=function(e,s,n,a){return s.parent&&ya(s),s._start=St((Tn(n)?n:n||e!==rt?ir(e,n,s):e._time)+s._delay),s._end=St(s._start+(s.totalDuration()/Math.abs(s.timeScale())||0)),rj(e,s,"_first","_last",e._sort?"_start":0),nf(s)||(e._recent=s),a||nj(e,s),e._ts<0&&Cm(e,e._tTime),e},aj=function(e,s){return(Xs.ScrollTrigger||Bp("scrollTrigger",s))&&Xs.ScrollTrigger.create(s,e)},ij=function(e,s,n,a,i){if(Yp(e,s,i),!e._initted)return 1;if(!n&&e._pt&&!Ht&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Xb!==Ws.frame)return ca.push(e),e._lazy=[i,a],1},d4=function t(e){var s=e.parent;return s&&s._ts&&s._initted&&!s._lock&&(s.rawTime()<0||t(s))},nf=function(e){var s=e.data;return s==="isFromStart"||s==="isStart"},u4=function(e,s,n,a){var i=e.ratio,l=s<0||!s&&(!e._start&&d4(e)&&!(!e._initted&&nf(e))||(e._ts<0||e._dp._ts<0)&&!nf(e))?0:1,o=e._rDelay,c=0,d,m,u;if(o&&e._repeat&&(c=Oc(0,e._tDur,s),m=Ml(c,o),e._yoyo&&m&1&&(l=1-l),m!==Ml(e._tTime,o)&&(i=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==i||Ht||a||e._zTime===Ue||!s&&e._zTime){if(!e._initted&&ij(e,s,a,n,c))return;for(u=e._zTime,e._zTime=s||(n?Ue:0),n||(n=s&&!u),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=c,d=e._pt;d;)d.r(l,d.d),d=d._next;s<0&&rf(e,s,n,!0),e._onUpdate&&!n&&Ks(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Ks(e,"onRepeat"),(s>=e._tDur||s<0)&&e.ratio===l&&(l&&ya(e,1),!n&&!Ht&&(Ks(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=s)},m4=function(e,s,n){var a;if(n>s)for(a=e._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>s)return a;a=a._next}else for(a=e._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<s)return a;a=a._prev}},Il=function(e,s,n,a){var i=e._repeat,l=St(s)||0,o=e._tTime/e._tDur;return o&&!a&&(e._time*=l/e._dur),e._dur=l,e._tDur=i?i<0?1e10:St(l*(i+1)+e._rDelay*i):l,o>0&&!a&&Cm(e,e._tTime=e._tDur*o),e.parent&&Sm(e),n||si(e.parent,e),e},dy=function(e){return e instanceof ps?si(e):Il(e,e._dur)},h4={_start:0,endTime:xc,totalDuration:xc},ir=function t(e,s,n){var a=e.labels,i=e._recent||h4,l=e.duration()>=fr?i.endTime(!1):e._dur,o,c,d;return Ft(s)&&(isNaN(s)||s in a)?(c=s.charAt(0),d=s.substr(-1)==="%",o=s.indexOf("="),c==="<"||c===">"?(o>=0&&(s=s.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(s.substr(1))||0)*(d?(o<0?i:n).totalDuration()/100:1)):o<0?(s in a||(a[s]=l),a[s]):(c=parseFloat(s.charAt(o-1)+s.substr(o+1)),d&&n&&(c=c/100*(is(n)?n[0]:n).totalDuration()),o>1?t(e,s.substr(0,o-1),n)+c:l+c)):s==null?l:+s},Ro=function(e,s,n){var a=Tn(s[1]),i=(a?2:1)+(e<2?0:1),l=s[i],o,c;if(a&&(l.duration=s[1]),l.parent=n,e){for(o=l,c=n;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=ks(c.vars.inherit)&&c.parent;l.immediateRender=ks(o.immediateRender),e<2?l.runBackwards=1:l.startAt=s[i-1]}return new _t(s[0],l,s[i+1])},Ea=function(e,s){return e||e===0?s(e):s},Oc=function(e,s,n){return n<e?e:n>s?s:n},ns=function(e,s){return!Ft(e)||!(s=s4.exec(e))?"":s[1]},f4=function(e,s,n){return Ea(n,function(a){return Oc(e,s,a)})},af=[].slice,lj=function(e,s){return e&&rn(e)&&"length"in e&&(!s&&!e.length||e.length-1 in e&&rn(e[0]))&&!e.nodeType&&e!==Kr},p4=function(e,s,n){return n===void 0&&(n=[]),e.forEach(function(a){var i;return Ft(a)&&!s||lj(a,1)?(i=n).push.apply(i,pr(a)):n.push(a)})||n},pr=function(e,s,n){return Xe&&!s&&Xe.selector?Xe.selector(e):Ft(e)&&!n&&(tf||!Rl())?af.call((s||Up).querySelectorAll(e),0):is(e)?p4(e,n):lj(e)?af.call(e,0):e?[e]:[]},lf=function(e){return e=pr(e)[0]||gc("Invalid scope")||{},function(s){var n=e.current||e.nativeElement||e;return pr(s,n.querySelectorAll?n:n===e?gc("Invalid scope")||Up.createElement("div"):e)}},oj=function(e){return e.sort(function(){return .5-Math.random()})},cj=function(e){if(mt(e))return e;var s=rn(e)?e:{each:e},n=ri(s.ease),a=s.from||0,i=parseFloat(s.base)||0,l={},o=a>0&&a<1,c=isNaN(a)||o,d=s.axis,m=a,u=a;return Ft(a)?m=u={center:.5,edges:.5,end:1}[a]||0:!o&&c&&(m=a[0],u=a[1]),function(h,g,p){var x=(p||s).length,j=l[x],v,y,b,N,w,k,T,P,E;if(!j){if(E=s.grid==="auto"?0:(s.grid||[1,fr])[1],!E){for(T=-fr;T<(T=p[E++].getBoundingClientRect().left)&&E<x;);E<x&&E--}for(j=l[x]=[],v=c?Math.min(E,x)*m-.5:a%E,y=E===fr?0:c?x*u/E-.5:a/E|0,T=0,P=fr,k=0;k<x;k++)b=k%E-v,N=y-(k/E|0),j[k]=w=d?Math.abs(d==="y"?N:b):Wb(b*b+N*N),w>T&&(T=w),w<P&&(P=w);a==="random"&&oj(j),j.max=T-P,j.min=P,j.v=x=(parseFloat(s.amount)||parseFloat(s.each)*(E>x?x-1:d?d==="y"?x/E:E:Math.max(E,x/E))||0)*(a==="edges"?-1:1),j.b=x<0?i-x:i,j.u=ns(s.amount||s.each)||0,n=n&&x<0?vj(n):n}return x=(j[h]-j.min)/j.max||0,St(j.b+(n?n(x):x)*j.v)+j.u}},of=function(e){var s=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var a=St(Math.round(parseFloat(n)/e)*e*s);return(a-a%1)/s+(Tn(n)?0:ns(n))}},dj=function(e,s){var n=is(e),a,i;return!n&&rn(e)&&(a=n=e.radius||fr,e.values?(e=pr(e.values),(i=!Tn(e[0]))&&(a*=a)):e=of(e.increment)),Ea(s,n?mt(e)?function(l){return i=e(l),Math.abs(i-l)<=a?i:l}:function(l){for(var o=parseFloat(i?l.x:l),c=parseFloat(i?l.y:0),d=fr,m=0,u=e.length,h,g;u--;)i?(h=e[u].x-o,g=e[u].y-c,h=h*h+g*g):h=Math.abs(e[u]-o),h<d&&(d=h,m=u);return m=!a||d<=a?e[m]:l,i||m===l||Tn(l)?m:m+ns(l)}:of(e))},uj=function(e,s,n,a){return Ea(is(e)?!s:n===!0?!!(n=0):!a,function(){return is(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(s-e+n*.99))/n)*n*a)/a})},g4=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(a){return s.reduce(function(i,l){return l(i)},a)}},x4=function(e,s){return function(n){return e(parseFloat(n))+(s||ns(n))}},y4=function(e,s,n){return hj(e,s,0,1,n)},mj=function(e,s,n){return Ea(n,function(a){return e[~~s(a)]})},v4=function t(e,s,n){var a=s-e;return is(e)?mj(e,t(0,e.length),s):Ea(n,function(i){return(a+(i-e)%a)%a+e})},b4=function t(e,s,n){var a=s-e,i=a*2;return is(e)?mj(e,t(0,e.length-1),s):Ea(n,function(l){return l=(i+(l-e)%i)%i||0,e+(l>a?i-l:l)})},yc=function(e){for(var s=0,n="",a,i,l,o;~(a=e.indexOf("random(",s));)l=e.indexOf(")",a),o=e.charAt(a+7)==="[",i=e.substr(a+7,l-a-7).match(o?Yb:ef),n+=e.substr(s,a-s)+uj(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),s=l+1;return n+e.substr(s,e.length-s)},hj=function(e,s,n,a,i){var l=s-e,o=a-n;return Ea(i,function(c){return n+((c-e)/l*o||0)})},j4=function t(e,s,n,a){var i=isNaN(e+s)?0:function(g){return(1-g)*e+g*s};if(!i){var l=Ft(e),o={},c,d,m,u,h;if(n===!0&&(a=1)&&(n=null),l)e={p:e},s={p:s};else if(is(e)&&!is(s)){for(m=[],u=e.length,h=u-2,d=1;d<u;d++)m.push(t(e[d-1],e[d]));u--,i=function(p){p*=u;var x=Math.min(h,~~p);return m[x](p-x)},n=s}else a||(e=Pl(is(e)?[]:{},e));if(!m){for(c in s)Kp.call(o,e,c,"get",s[c]);i=function(p){return Qp(p,o)||(l?e.p:e)}}}return Ea(n,i)},uy=function(e,s,n){var a=e.labels,i=fr,l,o,c;for(l in a)o=a[l]-s,o<0==!!n&&o&&i>(o=Math.abs(o))&&(c=l,i=o);return c},Ks=function(e,s,n){var a=e.vars,i=a[s],l=Xe,o=e._ctx,c,d,m;if(i)return c=a[s+"Params"],d=a.callbackScope||e,n&&ca.length&&Mu(),o&&(Xe=o),m=c?i.apply(d,c):i.call(d),Xe=l,m},xo=function(e){return ya(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ht),e.progress()<1&&Ks(e,"onInterrupt"),e},Xi,fj=[],pj=function(e){if(e)if(e=!e.name&&e.default||e,$p()||e.headless){var s=e.name,n=mt(e),a=s&&!n&&e.init?function(){this._props=[]}:e,i={init:xc,render:Qp,add:Kp,kill:L4,modifier:O4,rawVars:0},l={targetTest:0,get:0,getSetter:Zp,aliases:{},register:0};if(Rl(),e!==a){if(Bs[s])return;Js(a,Js(Iu(e,i),l)),Pl(a.prototype,Pl(i,Iu(e,l))),Bs[a.prop=s]=a,e.targetTest&&(Hd.push(a),zp[s]=1),s=(s==="css"?"CSS":s.charAt(0).toUpperCase()+s.substr(1))+"Plugin"}Qb(s,a),e.register&&e.register(Ds,a,Es)}else fj.push(e)},Ve=255,yo={aqua:[0,Ve,Ve],lime:[0,Ve,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ve],navy:[0,0,128],white:[Ve,Ve,Ve],olive:[128,128,0],yellow:[Ve,Ve,0],orange:[Ve,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ve,0,0],pink:[Ve,192,203],cyan:[0,Ve,Ve],transparent:[Ve,Ve,Ve,0]},vh=function(e,s,n){return e+=e<0?1:e>1?-1:0,(e*6<1?s+(n-s)*e*6:e<.5?n:e*3<2?s+(n-s)*(2/3-e)*6:s)*Ve+.5|0},gj=function(e,s,n){var a=e?Tn(e)?[e>>16,e>>8&Ve,e&Ve]:0:yo.black,i,l,o,c,d,m,u,h,g,p;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),yo[e])a=yo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),l=e.charAt(2),o=e.charAt(3),e="#"+i+i+l+l+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&Ve,a&Ve,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&Ve,e&Ve]}else if(e.substr(0,3)==="hsl"){if(a=p=e.match(ef),!s)c=+a[0]%360/360,d=+a[1]/100,m=+a[2]/100,l=m<=.5?m*(d+1):m+d-m*d,i=m*2-l,a.length>3&&(a[3]*=1),a[0]=vh(c+1/3,i,l),a[1]=vh(c,i,l),a[2]=vh(c-1/3,i,l);else if(~e.indexOf("="))return a=e.match(Hb),n&&a.length<4&&(a[3]=1),a}else a=e.match(ef)||yo.transparent;a=a.map(Number)}return s&&!p&&(i=a[0]/Ve,l=a[1]/Ve,o=a[2]/Ve,u=Math.max(i,l,o),h=Math.min(i,l,o),m=(u+h)/2,u===h?c=d=0:(g=u-h,d=m>.5?g/(2-u-h):g/(u+h),c=u===i?(l-o)/g+(l<o?6:0):u===l?(o-i)/g+2:(i-l)/g+4,c*=60),a[0]=~~(c+.5),a[1]=~~(d*100+.5),a[2]=~~(m*100+.5)),n&&a.length<4&&(a[3]=1),a},xj=function(e){var s=[],n=[],a=-1;return e.split(da).forEach(function(i){var l=i.match(Qi)||[];s.push.apply(s,l),n.push(a+=l.length+1)}),s.c=n,s},my=function(e,s,n){var a="",i=(e+a).match(da),l=s?"hsla(":"rgba(",o=0,c,d,m,u;if(!i)return e;if(i=i.map(function(h){return(h=gj(h,s,1))&&l+(s?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),n&&(m=xj(e),c=n.c,c.join(a)!==m.c.join(a)))for(d=e.replace(da,"1").split(Qi),u=d.length-1;o<u;o++)a+=d[o]+(~c.indexOf(o)?i.shift()||l+"0,0,0,0)":(m.length?m:i.length?i:n).shift());if(!d)for(d=e.split(da),u=d.length-1;o<u;o++)a+=d[o]+i[o];return a+d[u]},da=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in yo)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),N4=/hsl[a]?\(/,yj=function(e){var s=e.join(" "),n;if(da.lastIndex=0,da.test(s))return n=N4.test(s),e[1]=my(e[1],n),e[0]=my(e[0],n,xj(e[1])),!0},vc,Ws=function(){var t=Date.now,e=500,s=33,n=t(),a=n,i=1e3/240,l=i,o=[],c,d,m,u,h,g,p=function x(j){var v=t()-a,y=j===!0,b,N,w,k;if((v>e||v<0)&&(n+=v-s),a+=v,w=a-n,b=w-l,(b>0||y)&&(k=++u.frame,h=w-u.time*1e3,u.time=w=w/1e3,l+=b+(b>=i?4:i-b),N=1),y||(c=d(x)),N)for(g=0;g<o.length;g++)o[g](w,h,k,j)};return u={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(j){return h/(1e3/(j||60))},wake:function(){qb&&(!tf&&$p()&&(Kr=tf=window,Up=Kr.document||{},Xs.gsap=Ds,(Kr.gsapVersions||(Kr.gsapVersions=[])).push(Ds.version),Zb(Pu||Kr.GreenSockGlobals||!Kr.gsap&&Kr||{}),fj.forEach(pj)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&u.sleep(),d=m||function(j){return setTimeout(j,l-u.time*1e3+1|0)},vc=1,p(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(c),vc=0,d=xc},lagSmoothing:function(j,v){e=j||1/0,s=Math.min(v||33,e)},fps:function(j){i=1e3/(j||240),l=u.time*1e3+i},add:function(j,v,y){var b=v?function(N,w,k,T){j(N,w,k,T),u.remove(b)}:j;return u.remove(j),o[y?"unshift":"push"](b),Rl(),b},remove:function(j,v){~(v=o.indexOf(j))&&o.splice(v,1)&&g>=v&&g--},_listeners:o},u}(),Rl=function(){return!vc&&Ws.wake()},we={},w4=/^[\d.\-M][\d.\-,\s]/,_4=/["']/g,S4=function(e){for(var s={},n=e.substr(1,e.length-3).split(":"),a=n[0],i=1,l=n.length,o,c,d;i<l;i++)c=n[i],o=i!==l-1?c.lastIndexOf(","):c.length,d=c.substr(0,o),s[a]=isNaN(d)?d.replace(_4,"").trim():+d,a=c.substr(o+1).trim();return s},C4=function(e){var s=e.indexOf("(")+1,n=e.indexOf(")"),a=e.indexOf("(",s);return e.substring(s,~a&&a<n?e.indexOf(")",n+1):n)},k4=function(e){var s=(e+"").split("("),n=we[s[0]];return n&&s.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[S4(s[1])]:C4(e).split(",").map(tj)):we._CE&&w4.test(e)?we._CE("",e):n},vj=function(e){return function(s){return 1-e(1-s)}},bj=function t(e,s){for(var n=e._first,a;n;)n instanceof ps?t(n,s):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==s&&(n.timeline?t(n.timeline,s):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=s)),n=n._next},ri=function(e,s){return e&&(mt(e)?e:we[e]||k4(e))||s},bi=function(e,s,n,a){n===void 0&&(n=function(c){return 1-s(1-c)}),a===void 0&&(a=function(c){return c<.5?s(c*2)/2:1-s((1-c)*2)/2});var i={easeIn:s,easeOut:n,easeInOut:a},l;return Ts(e,function(o){we[o]=Xs[o]=i,we[l=o.toLowerCase()]=n;for(var c in i)we[l+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=we[o+"."+c]=i[c]}),i},jj=function(e){return function(s){return s<.5?(1-e(1-s*2))/2:.5+e((s-.5)*2)/2}},bh=function t(e,s,n){var a=s>=1?s:1,i=(n||(e?.3:.45))/(s<1?s:1),l=i/J0*(Math.asin(1/a)||0),o=function(m){return m===1?1:a*Math.pow(2,-10*m)*t4((m-l)*i)+1},c=e==="out"?o:e==="in"?function(d){return 1-o(1-d)}:jj(o);return i=J0/i,c.config=function(d,m){return t(e,d,m)},c},jh=function t(e,s){s===void 0&&(s=1.70158);var n=function(l){return l?--l*l*((s+1)*l+s)+1:0},a=e==="out"?n:e==="in"?function(i){return 1-n(1-i)}:jj(n);return a.config=function(i){return t(e,i)},a};Ts("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var s=e<5?e+1:e;bi(t+",Power"+(s-1),e?function(n){return Math.pow(n,s)}:function(n){return n},function(n){return 1-Math.pow(1-n,s)},function(n){return n<.5?Math.pow(n*2,s)/2:1-Math.pow((1-n)*2,s)/2})});we.Linear.easeNone=we.none=we.Linear.easeIn;bi("Elastic",bh("in"),bh("out"),bh());(function(t,e){var s=1/e,n=2*s,a=2.5*s,i=function(o){return o<s?t*o*o:o<n?t*Math.pow(o-1.5/e,2)+.75:o<a?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};bi("Bounce",function(l){return 1-i(1-l)},i)})(7.5625,2.75);bi("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});bi("Circ",function(t){return-(Wb(1-t*t)-1)});bi("Sine",function(t){return t===1?1:-e4(t*XS)+1});bi("Back",jh("in"),jh("out"),jh());we.SteppedEase=we.steps=Xs.SteppedEase={config:function(e,s){e===void 0&&(e=1);var n=1/e,a=e+(s?0:1),i=s?1:0,l=1-Ue;return function(o){return((a*Oc(0,l,o)|0)+i)*n}}};Dl.ease=we["quad.out"];Ts("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Wp+=t+","+t+"Params,"});var Nj=function(e,s){this.id=JS++,e._gsap=this,this.target=e,this.harness=s,this.get=s?s.get:Jb,this.set=s?s.getSetter:Zp},bc=function(){function t(s){this.vars=s,this._delay=+s.delay||0,(this._repeat=s.repeat===1/0?-2:s.repeat||0)&&(this._rDelay=s.repeatDelay||0,this._yoyo=!!s.yoyo||!!s.yoyoEase),this._ts=1,Il(this,+s.duration,1,1),this.data=s.data,Xe&&(this._ctx=Xe,Xe.data.push(this)),vc||Ws.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Il(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,a){if(Rl(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Cm(this,n),!i._dp||i.parent||nj(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Zr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ue||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ej(this,n,a)),this},e.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+cy(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},e.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+cy(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?Ml(this._tTime,i)+1:1},e.timeScale=function(n,a){if(!arguments.length)return this._rts===-Ue?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Ru(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ue?0:this._rts,this.totalTime(Oc(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),Sm(this),o4(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Rl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ue&&(this._tTime-=Ue)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Zr(a,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ks(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ru(a.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=n4);var a=Ht;return Ht=n,Hp(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ht=a,this},e.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,dy(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,dy(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,a){return this.totalTime(ir(this,n),ks(a))},e.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,ks(a)),this._dur||(this._zTime=-Ue),this},e.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},e.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ue:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ue,this},e.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-Ue)},e.eventCallback=function(n,a,i){var l=this.vars;return arguments.length>1?(a?(l[n]=a,i&&(l[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete l[n],this):l[n]},e.then=function(n){var a=this;return new Promise(function(i){var l=mt(n)?n:sj,o=function(){var d=a.then;a.then=null,mt(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),i(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?o():a._prom=o})},e.kill=function(){xo(this)},t}();Js(bc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ue,_prom:0,_ps:!1,_rts:1});var ps=function(t){zb(e,t);function e(n,a){var i;return n===void 0&&(n={}),i=t.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=ks(n.sortChildren),rt&&Zr(n.parent||rt,un(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&aj(un(i),n.scrollTrigger),i}var s=e.prototype;return s.to=function(a,i,l){return Ro(0,arguments,this),this},s.from=function(a,i,l){return Ro(1,arguments,this),this},s.fromTo=function(a,i,l,o){return Ro(2,arguments,this),this},s.set=function(a,i,l){return i.duration=0,i.parent=this,Io(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new _t(a,i,ir(this,l),1),this},s.call=function(a,i,l){return Zr(this,_t.delayedCall(0,a,i),l)},s.staggerTo=function(a,i,l,o,c,d,m){return l.duration=i,l.stagger=l.stagger||o,l.onComplete=d,l.onCompleteParams=m,l.parent=this,new _t(a,l,ir(this,c)),this},s.staggerFrom=function(a,i,l,o,c,d,m){return l.runBackwards=1,Io(l).immediateRender=ks(l.immediateRender),this.staggerTo(a,i,l,o,c,d,m)},s.staggerFromTo=function(a,i,l,o,c,d,m,u){return o.startAt=l,Io(o).immediateRender=ks(o.immediateRender),this.staggerTo(a,i,o,c,d,m,u)},s.render=function(a,i,l){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,m=a<=0?0:St(a),u=this._zTime<0!=a<0&&(this._initted||!d),h,g,p,x,j,v,y,b,N,w,k,T;if(this!==rt&&m>c&&a>=0&&(m=c),m!==this._tTime||l||u){if(o!==this._time&&d&&(m+=this._time-o,a+=this._time-o),h=m,N=this._start,b=this._ts,v=!b,u&&(d||(o=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(k=this._yoyo,j=d+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(j*100+a,i,l);if(h=St(m%j),m===c?(x=this._repeat,h=d):(w=St(m/j),x=~~w,x&&x===w&&(h=d,x--),h>d&&(h=d)),w=Ml(this._tTime,j),!o&&this._tTime&&w!==x&&this._tTime-w*j-this._dur<=0&&(w=x),k&&x&1&&(h=d-h,T=1),x!==w&&!this._lock){var P=k&&w&1,E=P===(k&&x&1);if(x<w&&(P=!P),o=P?0:m%d?d:m,this._lock=1,this.render(o||(T?0:St(x*j)),i,!d)._lock=0,this._tTime=m,!i&&this.parent&&Ks(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),o&&o!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,E&&(this._lock=2,o=P?d:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;bj(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=m4(this,St(o),St(h)),y&&(m-=h-(h=y._start))),this._tTime=m,this._time=h,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,o=0),!o&&m&&!i&&!w&&(Ks(this,"onStart"),this._tTime!==m))return this;if(h>=o&&a>=0)for(g=this._first;g;){if(p=g._next,(g._act||h>=g._start)&&g._ts&&y!==g){if(g.parent!==this)return this.render(a,i,l);if(g.render(g._ts>0?(h-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(h-g._start)*g._ts,i,l),h!==this._time||!this._ts&&!v){y=0,p&&(m+=this._zTime=-Ue);break}}g=p}else{g=this._last;for(var C=a<0?a:h;g;){if(p=g._prev,(g._act||C<=g._end)&&g._ts&&y!==g){if(g.parent!==this)return this.render(a,i,l);if(g.render(g._ts>0?(C-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(C-g._start)*g._ts,i,l||Ht&&Hp(g)),h!==this._time||!this._ts&&!v){y=0,p&&(m+=this._zTime=C?-Ue:Ue);break}}g=p}}if(y&&!i&&(this.pause(),y.render(h>=o?0:-Ue)._zTime=h>=o?1:-1,this._ts))return this._start=N,Sm(this),this.render(a,i,l);this._onUpdate&&!i&&Ks(this,"onUpdate",!0),(m===c&&this._tTime>=this.totalDuration()||!m&&o)&&(N===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((a||!d)&&(m===c&&this._ts>0||!m&&this._ts<0)&&ya(this,1),!i&&!(a<0&&!o)&&(m||o||!c)&&(Ks(this,m===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom())))}return this},s.add=function(a,i){var l=this;if(Tn(i)||(i=ir(this,i,a)),!(a instanceof bc)){if(is(a))return a.forEach(function(o){return l.add(o,i)}),this;if(Ft(a))return this.addLabel(a,i);if(mt(a))a=_t.delayedCall(0,a);else return this}return this!==a?Zr(this,a,i):this},s.getChildren=function(a,i,l,o){a===void 0&&(a=!0),i===void 0&&(i=!0),l===void 0&&(l=!0),o===void 0&&(o=-fr);for(var c=[],d=this._first;d;)d._start>=o&&(d instanceof _t?i&&c.push(d):(l&&c.push(d),a&&c.push.apply(c,d.getChildren(!0,i,l)))),d=d._next;return c},s.getById=function(a){for(var i=this.getChildren(1,1,1),l=i.length;l--;)if(i[l].vars.id===a)return i[l]},s.remove=function(a){return Ft(a)?this.removeLabel(a):mt(a)?this.killTweensOf(a):(a.parent===this&&_m(this,a),a===this._recent&&(this._recent=this._last),si(this))},s.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=St(Ws.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),t.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},s.addLabel=function(a,i){return this.labels[a]=ir(this,i),this},s.removeLabel=function(a){return delete this.labels[a],this},s.addPause=function(a,i,l){var o=_t.delayedCall(0,i||xc,l);return o.data="isPause",this._hasPause=1,Zr(this,o,ir(this,a))},s.removePause=function(a){var i=this._first;for(a=ir(this,a);i;)i._start===a&&i.data==="isPause"&&ya(i),i=i._next},s.killTweensOf=function(a,i,l){for(var o=this.getTweensOf(a,l),c=o.length;c--;)qn!==o[c]&&o[c].kill(a,i);return this},s.getTweensOf=function(a,i){for(var l=[],o=pr(a),c=this._first,d=Tn(i),m;c;)c instanceof _t?a4(c._targets,o)&&(d?(!qn||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&l.push(c):(m=c.getTweensOf(o,i)).length&&l.push.apply(l,m),c=c._next;return l},s.tweenTo=function(a,i){i=i||{};var l=this,o=ir(l,a),c=i,d=c.startAt,m=c.onStart,u=c.onStartParams,h=c.immediateRender,g,p=_t.to(l,Js({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(d&&"time"in d?d.time:l._time))/l.timeScale())||Ue,onStart:function(){if(l.pause(),!g){var j=i.duration||Math.abs((o-(d&&"time"in d?d.time:l._time))/l.timeScale());p._dur!==j&&Il(p,j,0,1).render(p._time,!0,!0),g=1}m&&m.apply(p,u||[])}},i));return h?p.render(0):p},s.tweenFromTo=function(a,i,l){return this.tweenTo(i,Js({startAt:{time:ir(this,a)}},l))},s.recent=function(){return this._recent},s.nextLabel=function(a){return a===void 0&&(a=this._time),uy(this,ir(this,a))},s.previousLabel=function(a){return a===void 0&&(a=this._time),uy(this,ir(this,a),1)},s.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ue)},s.shiftChildren=function(a,i,l){l===void 0&&(l=0);for(var o=this._first,c=this.labels,d;o;)o._start>=l&&(o._start+=a,o._end+=a),o=o._next;if(i)for(d in c)c[d]>=l&&(c[d]+=a);return si(this)},s.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return t.prototype.invalidate.call(this,a)},s.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,l;i;)l=i._next,this.remove(i),i=l;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),si(this)},s.totalDuration=function(a){var i=0,l=this,o=l._last,c=fr,d,m,u;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-a:a));if(l._dirty){for(u=l.parent;o;)d=o._prev,o._dirty&&o.totalDuration(),m=o._start,m>c&&l._sort&&o._ts&&!l._lock?(l._lock=1,Zr(l,o,m-o._delay,1)._lock=0):c=m,m<0&&o._ts&&(i-=m,(!u&&!l._dp||u&&u.smoothChildTiming)&&(l._start+=m/l._ts,l._time-=m,l._tTime-=m),l.shiftChildren(-m,!1,-1/0),c=0),o._end>i&&o._ts&&(i=o._end),o=d;Il(l,l===rt&&l._time>i?l._time:i,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(a){if(rt._ts&&(ej(rt,Ru(a,rt)),Xb=Ws.frame),Ws.frame>=ly){ly+=qs.autoSleep||120;var i=rt._first;if((!i||!i._ts)&&qs.autoSleep&&Ws._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Ws.sleep()}}},e}(bc);Js(ps.prototype,{_lock:0,_hasPause:0,_forcing:0});var T4=function(e,s,n,a,i,l,o){var c=new Es(this._pt,e,s,0,1,Tj,null,i),d=0,m=0,u,h,g,p,x,j,v,y;for(c.b=n,c.e=a,n+="",a+="",(v=~a.indexOf("random("))&&(a=yc(a)),l&&(y=[n,a],l(y,e,s),n=y[0],a=y[1]),h=n.match(xh)||[];u=xh.exec(a);)p=u[0],x=a.substring(d,u.index),g?g=(g+1)%5:x.substr(-5)==="rgba("&&(g=1),p!==h[m++]&&(j=parseFloat(h[m-1])||0,c._pt={_next:c._pt,p:x||m===1?x:",",s:j,c:p.charAt(1)==="="?ml(j,p)-j:parseFloat(p)-j,m:g&&g<4?Math.round:0},d=xh.lastIndex);return c.c=d<a.length?a.substring(d,a.length):"",c.fp=o,(Kb.test(a)||v)&&(c.e=0),this._pt=c,c},Kp=function(e,s,n,a,i,l,o,c,d,m){mt(a)&&(a=a(i||0,e,l));var u=e[s],h=n!=="get"?n:mt(u)?d?e[s.indexOf("set")||!mt(e["get"+s.substr(3)])?s:"get"+s.substr(3)](d):e[s]():u,g=mt(u)?d?M4:Cj:qp,p;if(Ft(a)&&(~a.indexOf("random(")&&(a=yc(a)),a.charAt(1)==="="&&(p=ml(h,a)+(ns(h)||0),(p||p===0)&&(a=p))),!m||h!==a||cf)return!isNaN(h*a)&&a!==""?(p=new Es(this._pt,e,s,+h||0,a-(h||0),typeof u=="boolean"?R4:kj,0,g),d&&(p.fp=d),o&&p.modifier(o,this,e),this._pt=p):(!u&&!(s in e)&&Bp(s,a),T4.call(this,e,s,h,a,g,c||qs.stringFilter,d))},E4=function(e,s,n,a,i){if(mt(e)&&(e=Oo(e,i,s,n,a)),!rn(e)||e.style&&e.nodeType||is(e)||Gb(e))return Ft(e)?Oo(e,i,s,n,a):e;var l={},o;for(o in e)l[o]=Oo(e[o],i,s,n,a);return l},wj=function(e,s,n,a,i,l){var o,c,d,m;if(Bs[e]&&(o=new Bs[e]).init(i,o.rawVars?s[e]:E4(s[e],a,i,l,n),n,a,l)!==!1&&(n._pt=c=new Es(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==Xi))for(d=n._ptLookup[n._targets.indexOf(i)],m=o._props.length;m--;)d[o._props[m]]=c;return o},qn,cf,Yp=function t(e,s,n){var a=e.vars,i=a.ease,l=a.startAt,o=a.immediateRender,c=a.lazy,d=a.onUpdate,m=a.runBackwards,u=a.yoyoEase,h=a.keyframes,g=a.autoRevert,p=e._dur,x=e._startAt,j=e._targets,v=e.parent,y=v&&v.data==="nested"?v.vars.targets:j,b=e._overwrite==="auto"&&!Fp,N=e.timeline,w,k,T,P,E,C,A,I,S,_,L,R,F;if(N&&(!h||!i)&&(i="none"),e._ease=ri(i,Dl.ease),e._yEase=u?vj(ri(u===!0?i:u,Dl.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!N&&!!a.runBackwards,!N||h&&!a.stagger){if(I=j[0]?ti(j[0]).harness:0,R=I&&a[I.prop],w=Iu(a,zp),x&&(x._zTime<0&&x.progress(1),s<0&&m&&o&&!g?x.render(-1,!0):x.revert(m&&p?Gd:r4),x._lazy=0),l){if(ya(e._startAt=_t.set(j,Js({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!x&&ks(c),startAt:null,delay:0,onUpdate:d&&function(){return Ks(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Ht||!o&&!g)&&e._startAt.revert(Gd),o&&p&&s<=0&&n<=0){s&&(e._zTime=s);return}}else if(m&&p&&!x){if(s&&(o=!1),T=Js({overwrite:!1,data:"isFromStart",lazy:o&&!x&&ks(c),immediateRender:o,stagger:0,parent:v},w),R&&(T[I.prop]=R),ya(e._startAt=_t.set(j,T)),e._startAt._dp=0,e._startAt._sat=e,s<0&&(Ht?e._startAt.revert(Gd):e._startAt.render(-1,!0)),e._zTime=s,!o)t(e._startAt,Ue,Ue);else if(!s)return}for(e._pt=e._ptCache=0,c=p&&ks(c)||c&&!p,k=0;k<j.length;k++){if(E=j[k],A=E._gsap||Gp(j)[k]._gsap,e._ptLookup[k]=_={},sf[A.id]&&ca.length&&Mu(),L=y===j?k:y.indexOf(E),I&&(S=new I).init(E,R||w,e,L,y)!==!1&&(e._pt=P=new Es(e._pt,E,S.name,0,1,S.render,S,0,S.priority),S._props.forEach(function(M){_[M]=P}),S.priority&&(C=1)),!I||R)for(T in w)Bs[T]&&(S=wj(T,w,e,L,E,y))?S.priority&&(C=1):_[T]=P=Kp.call(e,E,T,"get",w[T],L,y,0,a.stringFilter);e._op&&e._op[k]&&e.kill(E,e._op[k]),b&&e._pt&&(qn=e,rt.killTweensOf(E,_,e.globalTime(s)),F=!e.parent,qn=0),e._pt&&c&&(sf[A.id]=1)}C&&Ej(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!F,h&&s<=0&&N.render(fr,!0,!0)},A4=function(e,s,n,a,i,l,o,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[s],m,u,h,g;if(!d)for(d=e._ptCache[s]=[],h=e._ptLookup,g=e._targets.length;g--;){if(m=h[g][s],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==s&&m.fp!==s;)m=m._next;if(!m)return cf=1,e.vars[s]="+=0",Yp(e,o),cf=0,c?gc(s+" not eligible for reset"):1;d.push(m)}for(g=d.length;g--;)u=d[g],m=u._pt||u,m.s=(a||a===0)&&!i?a:m.s+(a||0)+l*m.c,m.c=n-m.s,u.e&&(u.e=gt(n)+ns(u.e)),u.b&&(u.b=m.s+ns(u.b))},D4=function(e,s){var n=e[0]?ti(e[0]).harness:0,a=n&&n.aliases,i,l,o,c;if(!a)return s;i=Pl({},s);for(l in a)if(l in i)for(c=a[l].split(","),o=c.length;o--;)i[c[o]]=i[l];return i},P4=function(e,s,n,a){var i=s.ease||a||"power1.inOut",l,o;if(is(s))o=n[e]||(n[e]=[]),s.forEach(function(c,d){return o.push({t:d/(s.length-1)*100,v:c,e:i})});else for(l in s)o=n[l]||(n[l]=[]),l==="ease"||o.push({t:parseFloat(e),v:s[l],e:i})},Oo=function(e,s,n,a,i){return mt(e)?e.call(s,n,a,i):Ft(e)&&~e.indexOf("random(")?yc(e):e},_j=Wp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Sj={};Ts(_j+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Sj[t]=1});var _t=function(t){zb(e,t);function e(n,a,i,l){var o;typeof a=="number"&&(i.duration=a,a=i,i=null),o=t.call(this,l?a:Io(a))||this;var c=o.vars,d=c.duration,m=c.delay,u=c.immediateRender,h=c.stagger,g=c.overwrite,p=c.keyframes,x=c.defaults,j=c.scrollTrigger,v=c.yoyoEase,y=a.parent||rt,b=(is(n)||Gb(n)?Tn(n[0]):"length"in a)?[n]:pr(n),N,w,k,T,P,E,C,A;if(o._targets=b.length?Gp(b):gc("GSAP target "+n+" not found. https://gsap.com",!qs.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=g,p||h||md(d)||md(m)){if(a=o.vars,N=o.timeline=new ps({data:"nested",defaults:x||{},targets:y&&y.data==="nested"?y.vars.targets:b}),N.kill(),N.parent=N._dp=un(o),N._start=0,h||md(d)||md(m)){if(T=b.length,C=h&&cj(h),rn(h))for(P in h)~_j.indexOf(P)&&(A||(A={}),A[P]=h[P]);for(w=0;w<T;w++)k=Iu(a,Sj),k.stagger=0,v&&(k.yoyoEase=v),A&&Pl(k,A),E=b[w],k.duration=+Oo(d,un(o),w,E,b),k.delay=(+Oo(m,un(o),w,E,b)||0)-o._delay,!h&&T===1&&k.delay&&(o._delay=m=k.delay,o._start+=m,k.delay=0),N.to(E,k,C?C(w,E,b):0),N._ease=we.none;N.duration()?d=m=0:o.timeline=0}else if(p){Io(Js(N.vars.defaults,{ease:"none"})),N._ease=ri(p.ease||a.ease||"none");var I=0,S,_,L;if(is(p))p.forEach(function(R){return N.to(b,R,">")}),N.duration();else{k={};for(P in p)P==="ease"||P==="easeEach"||P4(P,p[P],k,p.easeEach);for(P in k)for(S=k[P].sort(function(R,F){return R.t-F.t}),I=0,w=0;w<S.length;w++)_=S[w],L={ease:_.e,duration:(_.t-(w?S[w-1].t:0))/100*d},L[P]=_.v,N.to(b,L,I),I+=L.duration;N.duration()<d&&N.to({},{duration:d-N.duration()})}}d||o.duration(d=N.duration())}else o.timeline=0;return g===!0&&!Fp&&(qn=un(o),rt.killTweensOf(b),qn=0),Zr(y,un(o),i),a.reversed&&o.reverse(),a.paused&&o.paused(!0),(u||!d&&!p&&o._start===St(y._time)&&ks(u)&&c4(un(o))&&y.data!=="nested")&&(o._tTime=-Ue,o.render(Math.max(0,-m)||0)),j&&aj(un(o),j),o}var s=e.prototype;return s.render=function(a,i,l){var o=this._time,c=this._tDur,d=this._dur,m=a<0,u=a>c-Ue&&!m?c:a<Ue?0:a,h,g,p,x,j,v,y,b,N;if(!d)u4(this,a,i,l);else if(u!==this._tTime||!a||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(h=u,b=this.timeline,this._repeat){if(x=d+this._rDelay,this._repeat<-1&&m)return this.totalTime(x*100+a,i,l);if(h=St(u%x),u===c?(p=this._repeat,h=d):(j=St(u/x),p=~~j,p&&p===j?(h=d,p--):h>d&&(h=d)),v=this._yoyo&&p&1,v&&(N=this._yEase,h=d-h),j=Ml(this._tTime,x),h===o&&!l&&this._initted&&p===j)return this._tTime=u,this;p!==j&&(b&&this._yEase&&bj(b,v),this.vars.repeatRefresh&&!v&&!this._lock&&h!==x&&this._initted&&(this._lock=l=1,this.render(St(x*p),!0).invalidate()._lock=0))}if(!this._initted){if(ij(this,m?a:h,l,i,u))return this._tTime=0,this;if(o!==this._time&&!(l&&this.vars.repeatRefresh&&p!==j))return this;if(d!==this._dur)return this.render(a,i,l)}if(this._tTime=u,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(N||this._ease)(h/d),this._from&&(this.ratio=y=1-y),!o&&u&&!i&&!j&&(Ks(this,"onStart"),this._tTime!==u))return this;for(g=this._pt;g;)g.r(y,g.d),g=g._next;b&&b.render(a<0?a:b._dur*b._ease(h/this._dur),i,l)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(m&&rf(this,a,i,l),Ks(this,"onUpdate")),this._repeat&&p!==j&&this.vars.onRepeat&&!i&&this.parent&&Ks(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(m&&!this._onUpdate&&rf(this,a,!0,!0),(a||!d)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&ya(this,1),!i&&!(m&&!o)&&(u||o||v)&&(Ks(this,u===c?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom()))}return this},s.targets=function(){return this._targets},s.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),t.prototype.invalidate.call(this,a)},s.resetTo=function(a,i,l,o,c){vc||Ws.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||Yp(this,d),m=this._ease(d/this._dur),A4(this,a,i,l,o,m,d,c)?this.resetTo(a,i,l,o,1):(Cm(this,0),this.parent||rj(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?xo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ht),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,qn&&qn.vars.overwrite!==!0)._first||xo(this),this.parent&&l!==this.timeline.totalDuration()&&Il(this,this._dur*this.timeline._tDur/l,0,1),this}var o=this._targets,c=a?pr(a):o,d=this._ptLookup,m=this._pt,u,h,g,p,x,j,v;if((!i||i==="all")&&l4(o,c))return i==="all"&&(this._pt=0),xo(this);for(u=this._op=this._op||[],i!=="all"&&(Ft(i)&&(x={},Ts(i,function(y){return x[y]=1}),i=x),i=D4(o,i)),v=o.length;v--;)if(~c.indexOf(o[v])){h=d[v],i==="all"?(u[v]=i,p=h,g={}):(g=u[v]=u[v]||{},p=i);for(x in p)j=h&&h[x],j&&((!("kill"in j.d)||j.d.kill(x)===!0)&&_m(this,j,"_pt"),delete h[x]),g!=="all"&&(g[x]=1)}return this._initted&&!this._pt&&m&&xo(this),this},e.to=function(a,i){return new e(a,i,arguments[2])},e.from=function(a,i){return Ro(1,arguments)},e.delayedCall=function(a,i,l,o){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:o})},e.fromTo=function(a,i,l){return Ro(2,arguments)},e.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(a,i)},e.killTweensOf=function(a,i,l){return rt.killTweensOf(a,i,l)},e}(bc);Js(_t.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ts("staggerTo,staggerFrom,staggerFromTo",function(t){_t[t]=function(){var e=new ps,s=af.call(arguments,0);return s.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,s)}});var qp=function(e,s,n){return e[s]=n},Cj=function(e,s,n){return e[s](n)},M4=function(e,s,n,a){return e[s](a.fp,n)},I4=function(e,s,n){return e.setAttribute(s,n)},Zp=function(e,s){return mt(e[s])?Cj:Vp(e[s])&&e.setAttribute?I4:qp},kj=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e6)/1e6,s)},R4=function(e,s){return s.set(s.t,s.p,!!(s.s+s.c*e),s)},Tj=function(e,s){var n=s._pt,a="";if(!e&&s.b)a=s.b;else if(e===1&&s.e)a=s.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+a,n=n._next;a+=s.c}s.set(s.t,s.p,a,s)},Qp=function(e,s){for(var n=s._pt;n;)n.r(e,n.d),n=n._next},O4=function(e,s,n,a){for(var i=this._pt,l;i;)l=i._next,i.p===a&&i.modifier(e,s,n),i=l},L4=function(e){for(var s=this._pt,n,a;s;)a=s._next,s.p===e&&!s.op||s.op===e?_m(this,s,"_pt"):s.dep||(n=1),s=a;return!n},F4=function(e,s,n,a){a.mSet(e,s,a.m.call(a.tween,n,a.mt),a)},Ej=function(e){for(var s=e._pt,n,a,i,l;s;){for(n=s._next,a=i;a&&a.pr>s.pr;)a=a._next;(s._prev=a?a._prev:l)?s._prev._next=s:i=s,(s._next=a)?a._prev=s:l=s,s=n}e._pt=i},Es=function(){function t(s,n,a,i,l,o,c,d,m){this.t=n,this.s=i,this.c=l,this.p=a,this.r=o||kj,this.d=c||this,this.set=d||qp,this.pr=m||0,this._next=s,s&&(s._prev=this)}var e=t.prototype;return e.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=F4,this.m=n,this.mt=i,this.tween=a},t}();Ts(Wp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return zp[t]=1});Xs.TweenMax=Xs.TweenLite=_t;Xs.TimelineLite=Xs.TimelineMax=ps;rt=new ps({sortChildren:!1,defaults:Dl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});qs.stringFilter=yj;var ni=[],Kd={},V4=[],hy=0,$4=0,Nh=function(e){return(Kd[e]||V4).map(function(s){return s()})},df=function(){var e=Date.now(),s=[];e-hy>2&&(Nh("matchMediaInit"),ni.forEach(function(n){var a=n.queries,i=n.conditions,l,o,c,d;for(o in a)l=Kr.matchMedia(a[o]).matches,l&&(c=1),l!==i[o]&&(i[o]=l,d=1);d&&(n.revert(),c&&s.push(n))}),Nh("matchMediaRevert"),s.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),hy=e,Nh("matchMedia"))},Aj=function(){function t(s,n){this.selector=n&&lf(n),this.data=[],this._r=[],this.isReverted=!1,this.id=$4++,s&&this.add(s)}var e=t.prototype;return e.add=function(n,a,i){mt(n)&&(i=a,a=n,n=mt);var l=this,o=function(){var d=Xe,m=l.selector,u;return d&&d!==l&&d.data.push(l),i&&(l.selector=lf(i)),Xe=l,u=a.apply(l,arguments),mt(u)&&l._r.push(u),Xe=d,l.selector=m,l.isReverted=!1,u};return l.last=o,n===mt?o(l,function(c){return l.add(null,c)}):n?l[n]=o:o},e.ignore=function(n){var a=Xe;Xe=null,n(this),Xe=a},e.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof t?n.push.apply(n,a.getTweens()):a instanceof _t&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,a){var i=this;if(n?function(){for(var o=i.getTweens(),c=i.data.length,d;c--;)d=i.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return o.splice(o.indexOf(m),1)}));for(o.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,u){return u.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),c=i.data.length;c--;)d=i.data[c],d instanceof ps?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof _t)&&d.revert&&d.revert(n);i._r.forEach(function(m){return m(n,i)}),i.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),a)for(var l=ni.length;l--;)ni[l].id===this.id&&ni.splice(l,1)},e.revert=function(n){this.kill(n||{})},t}(),U4=function(){function t(s){this.contexts=[],this.scope=s,Xe&&Xe.data.push(this)}var e=t.prototype;return e.add=function(n,a,i){rn(n)||(n={matches:n});var l=new Aj(0,i||this.scope),o=l.conditions={},c,d,m;Xe&&!l.selector&&(l.selector=Xe.selector),this.contexts.push(l),a=l.add("onMatch",a),l.queries=n;for(d in n)d==="all"?m=1:(c=Kr.matchMedia(n[d]),c&&(ni.indexOf(l)<0&&ni.push(l),(o[d]=c.matches)&&(m=1),c.addListener?c.addListener(df):c.addEventListener("change",df)));return m&&a(l,function(u){return l.add(null,u)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},t}(),Ou={registerPlugin:function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];s.forEach(function(a){return pj(a)})},timeline:function(e){return new ps(e)},getTweensOf:function(e,s){return rt.getTweensOf(e,s)},getProperty:function(e,s,n,a){Ft(e)&&(e=pr(e)[0]);var i=ti(e||{}).get,l=n?sj:tj;return n==="native"&&(n=""),e&&(s?l((Bs[s]&&Bs[s].get||i)(e,s,n,a)):function(o,c,d){return l((Bs[o]&&Bs[o].get||i)(e,o,c,d))})},quickSetter:function(e,s,n){if(e=pr(e),e.length>1){var a=e.map(function(m){return Ds.quickSetter(m,s,n)}),i=a.length;return function(m){for(var u=i;u--;)a[u](m)}}e=e[0]||{};var l=Bs[s],o=ti(e),c=o.harness&&(o.harness.aliases||{})[s]||s,d=l?function(m){var u=new l;Xi._pt=0,u.init(e,n?m+n:m,Xi,0,[e]),u.render(1,u),Xi._pt&&Qp(1,Xi)}:o.set(e,c);return l?d:function(m){return d(e,c,n?m+n:m,o,1)}},quickTo:function(e,s,n){var a,i=Ds.to(e,Js((a={},a[s]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),l=function(c,d,m){return i.resetTo(s,c,d,m)};return l.tween=i,l},isTweening:function(e){return rt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ri(e.ease,Dl.ease)),oy(Dl,e||{})},config:function(e){return oy(qs,e||{})},registerEffect:function(e){var s=e.name,n=e.effect,a=e.plugins,i=e.defaults,l=e.extendTimeline;(a||"").split(",").forEach(function(o){return o&&!Bs[o]&&!Xs[o]&&gc(s+" effect requires "+o+" plugin.")}),yh[s]=function(o,c,d){return n(pr(o),Js(c||{},i),d)},l&&(ps.prototype[s]=function(o,c,d){return this.add(yh[s](o,rn(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,s){we[e]=ri(s)},parseEase:function(e,s){return arguments.length?ri(e,s):we},getById:function(e){return rt.getById(e)},exportRoot:function(e,s){e===void 0&&(e={});var n=new ps(e),a,i;for(n.smoothChildTiming=ks(e.smoothChildTiming),rt.remove(n),n._dp=0,n._time=n._tTime=rt._time,a=rt._first;a;)i=a._next,(s||!(!a._dur&&a instanceof _t&&a.vars.onComplete===a._targets[0]))&&Zr(n,a,a._start-a._delay),a=i;return Zr(rt,n,0),n},context:function(e,s){return e?new Aj(e,s):Xe},matchMedia:function(e){return new U4(e)},matchMediaRefresh:function(){return ni.forEach(function(e){var s=e.conditions,n,a;for(a in s)s[a]&&(s[a]=!1,n=1);n&&e.revert()})||df()},addEventListener:function(e,s){var n=Kd[e]||(Kd[e]=[]);~n.indexOf(s)||n.push(s)},removeEventListener:function(e,s){var n=Kd[e],a=n&&n.indexOf(s);a>=0&&n.splice(a,1)},utils:{wrap:v4,wrapYoyo:b4,distribute:cj,random:uj,snap:dj,normalize:y4,getUnit:ns,clamp:f4,splitColor:gj,toArray:pr,selector:lf,mapRange:hj,pipe:g4,unitize:x4,interpolate:j4,shuffle:oj},install:Zb,effects:yh,ticker:Ws,updateRoot:ps.updateRoot,plugins:Bs,globalTimeline:rt,core:{PropTween:Es,globals:Qb,Tween:_t,Timeline:ps,Animation:bc,getCache:ti,_removeLinkedListItem:_m,reverting:function(){return Ht},context:function(e){return e&&Xe&&(Xe.data.push(e),e._ctx=Xe),Xe},suppressOverwrites:function(e){return Fp=e}}};Ts("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ou[t]=_t[t]});Ws.add(ps.updateRoot);Xi=Ou.to({},{duration:0});var B4=function(e,s){for(var n=e._pt;n&&n.p!==s&&n.op!==s&&n.fp!==s;)n=n._next;return n},z4=function(e,s){var n=e._targets,a,i,l;for(a in s)for(i=n.length;i--;)l=e._ptLookup[i][a],l&&(l=l.d)&&(l._pt&&(l=B4(l,a)),l&&l.modifier&&l.modifier(s[a],e,n[i],a))},wh=function(e,s){return{name:e,headless:1,rawVars:1,init:function(a,i,l){l._onInit=function(o){var c,d;if(Ft(i)&&(c={},Ts(i,function(m){return c[m]=1}),i=c),s){c={};for(d in i)c[d]=s(i[d]);i=c}z4(o,i)}}}},Ds=Ou.registerPlugin({name:"attr",init:function(e,s,n,a,i){var l,o,c;this.tween=n;for(l in s)c=e.getAttribute(l)||"",o=this.add(e,"setAttribute",(c||0)+"",s[l],a,i,0,0,l),o.op=l,o.b=c,this._props.push(l)},render:function(e,s){for(var n=s._pt;n;)Ht?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,s){for(var n=s.length;n--;)this.add(e,n,e[n]||0,s[n],0,0,0,0,0,1)}},wh("roundProps",of),wh("modifiers"),wh("snap",dj))||Ou;_t.version=ps.version=Ds.version="3.13.0";qb=1;$p()&&Rl();we.Power0;we.Power1;we.Power2;we.Power3;we.Power4;we.Linear;we.Quad;we.Cubic;we.Quart;we.Quint;we.Strong;we.Elastic;we.Back;we.SteppedEase;we.Bounce;we.Sine;we.Expo;we.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var fy,Zn,hl,Xp,Za,py,Jp,W4=function(){return typeof window<"u"},En={},$a=180/Math.PI,fl=Math.PI/180,Ei=Math.atan2,gy=1e8,eg=/([A-Z])/g,G4=/(left|right|width|margin|padding|x)/i,H4=/[\s,\(]\S/,Qr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},uf=function(e,s){return s.set(s.t,s.p,Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},K4=function(e,s){return s.set(s.t,s.p,e===1?s.e:Math.round((s.s+s.c*e)*1e4)/1e4+s.u,s)},Y4=function(e,s){return s.set(s.t,s.p,e?Math.round((s.s+s.c*e)*1e4)/1e4+s.u:s.b,s)},q4=function(e,s){var n=s.s+s.c*e;s.set(s.t,s.p,~~(n+(n<0?-.5:.5))+s.u,s)},Dj=function(e,s){return s.set(s.t,s.p,e?s.e:s.b,s)},Pj=function(e,s){return s.set(s.t,s.p,e!==1?s.b:s.e,s)},Z4=function(e,s,n){return e.style[s]=n},Q4=function(e,s,n){return e.style.setProperty(s,n)},X4=function(e,s,n){return e._gsap[s]=n},J4=function(e,s,n){return e._gsap.scaleX=e._gsap.scaleY=n},eC=function(e,s,n,a,i){var l=e._gsap;l.scaleX=l.scaleY=n,l.renderTransform(i,l)},tC=function(e,s,n,a,i){var l=e._gsap;l[s]=n,l.renderTransform(i,l)},nt="transform",As=nt+"Origin",sC=function t(e,s){var n=this,a=this.target,i=a.style,l=a._gsap;if(e in En&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Qr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=hn(a,o)}):this.tfm[e]=l.x?l[e]:hn(a,e),e===As&&(this.tfm.zOrigin=l.zOrigin);else return Qr.transform.split(",").forEach(function(o){return t.call(n,o,s)});if(this.props.indexOf(nt)>=0)return;l.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(As,s,"")),e=nt}(i||s)&&this.props.push(e,s,i[e])},Mj=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},rC=function(){var e=this.props,s=this.target,n=s.style,a=s._gsap,i,l;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?s[e[i]](e[i+2]):s[e[i]]=e[i+2]:e[i+2]?n[e[i]]=e[i+2]:n.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(eg,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)a[l]=this.tfm[l];a.svg&&(a.renderTransform(),s.setAttribute("data-svg-origin",this.svgo||"")),i=Jp(),(!i||!i.isStart)&&!n[nt]&&(Mj(n),a.zOrigin&&n[As]&&(n[As]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},Ij=function(e,s){var n={target:e,props:[],revert:rC,save:sC};return e._gsap||Ds.core.getCache(e),s&&e.style&&e.nodeType&&s.split(",").forEach(function(a){return n.save(a)}),n},Rj,mf=function(e,s){var n=Zn.createElementNS?Zn.createElementNS((s||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Zn.createElement(e);return n&&n.style?n:Zn.createElement(e)},gr=function t(e,s,n){var a=getComputedStyle(e);return a[s]||a.getPropertyValue(s.replace(eg,"-$1").toLowerCase())||a.getPropertyValue(s)||!n&&t(e,Ol(s)||s,1)||""},xy="O,Moz,ms,Ms,Webkit".split(","),Ol=function(e,s,n){var a=s||Za,i=a.style,l=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(xy[l]+e in i););return l<0?null:(l===3?"ms":l>=0?xy[l]:"")+e},hf=function(){W4()&&window.document&&(fy=window,Zn=fy.document,hl=Zn.documentElement,Za=mf("div")||{style:{}},mf("div"),nt=Ol(nt),As=nt+"Origin",Za.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Rj=!!Ol("perspective"),Jp=Ds.core.reverting,Xp=1)},yy=function(e){var s=e.ownerSVGElement,n=mf("svg",s&&s.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),i;a.style.display="block",n.appendChild(a),hl.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),hl.removeChild(n),i},vy=function(e,s){for(var n=s.length;n--;)if(e.hasAttribute(s[n]))return e.getAttribute(s[n])},Oj=function(e){var s,n;try{s=e.getBBox()}catch{s=yy(e),n=1}return s&&(s.width||s.height)||n||(s=yy(e)),s&&!s.width&&!s.x&&!s.y?{x:+vy(e,["x","cx","x1"])||0,y:+vy(e,["y","cy","y1"])||0,width:0,height:0}:s},Lj=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Oj(e))},hi=function(e,s){if(s){var n=e.style,a;s in En&&s!==As&&(s=nt),n.removeProperty?(a=s.substr(0,2),(a==="ms"||s.substr(0,6)==="webkit")&&(s="-"+s),n.removeProperty(a==="--"?s:s.replace(eg,"-$1").toLowerCase())):n.removeAttribute(s)}},Qn=function(e,s,n,a,i,l){var o=new Es(e._pt,s,n,0,1,l?Pj:Dj);return e._pt=o,o.b=a,o.e=i,e._props.push(n),o},by={deg:1,rad:1,turn:1},nC={grid:1,flex:1},va=function t(e,s,n,a){var i=parseFloat(n)||0,l=(n+"").trim().substr((i+"").length)||"px",o=Za.style,c=G4.test(s),d=e.tagName.toLowerCase()==="svg",m=(d?"client":"offset")+(c?"Width":"Height"),u=100,h=a==="px",g=a==="%",p,x,j,v;if(a===l||!i||by[a]||by[l])return i;if(l!=="px"&&!h&&(i=t(e,s,n,"px")),v=e.getCTM&&Lj(e),(g||l==="%")&&(En[s]||~s.indexOf("adius")))return p=v?e.getBBox()[c?"width":"height"]:e[m],gt(g?i/p*u:i/100*p);if(o[c?"width":"height"]=u+(h?l:a),x=a!=="rem"&&~s.indexOf("adius")||a==="em"&&e.appendChild&&!d?e:e.parentNode,v&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===Zn||!x.appendChild)&&(x=Zn.body),j=x._gsap,j&&g&&j.width&&c&&j.time===Ws.time&&!j.uncache)return gt(i/j.width*u);if(g&&(s==="height"||s==="width")){var y=e.style[s];e.style[s]=u+a,p=e[m],y?e.style[s]=y:hi(e,s)}else(g||l==="%")&&!nC[gr(x,"display")]&&(o.position=gr(e,"position")),x===e&&(o.position="static"),x.appendChild(Za),p=Za[m],x.removeChild(Za),o.position="absolute";return c&&g&&(j=ti(x),j.time=Ws.time,j.width=x[m]),gt(h?p*i/u:p&&i?u/p*i:0)},hn=function(e,s,n,a){var i;return Xp||hf(),s in Qr&&s!=="transform"&&(s=Qr[s],~s.indexOf(",")&&(s=s.split(",")[0])),En[s]&&s!=="transform"?(i=Nc(e,a),i=s!=="transformOrigin"?i[s]:i.svg?i.origin:Fu(gr(e,As))+" "+i.zOrigin+"px"):(i=e.style[s],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=Lu[s]&&Lu[s](e,s,n)||gr(e,s)||Jb(e,s)||(s==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?va(e,s,i,n)+n:i},aC=function(e,s,n,a){if(!n||n==="none"){var i=Ol(s,e,1),l=i&&gr(e,i,1);l&&l!==n?(s=i,n=l):s==="borderColor"&&(n=gr(e,"borderTopColor"))}var o=new Es(this._pt,e.style,s,0,1,Tj),c=0,d=0,m,u,h,g,p,x,j,v,y,b,N,w;if(o.b=n,o.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=gr(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(x=e.style[s],e.style[s]=a,a=gr(e,s)||a,x?e.style[s]=x:hi(e,s)),m=[n,a],yj(m),n=m[0],a=m[1],h=n.match(Qi)||[],w=a.match(Qi)||[],w.length){for(;u=Qi.exec(a);)j=u[0],y=a.substring(c,u.index),p?p=(p+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(p=1),j!==(x=h[d++]||"")&&(g=parseFloat(x)||0,N=x.substr((g+"").length),j.charAt(1)==="="&&(j=ml(g,j)+N),v=parseFloat(j),b=j.substr((v+"").length),c=Qi.lastIndex-b.length,b||(b=b||qs.units[s]||N,c===a.length&&(a+=b,o.e+=b)),N!==b&&(g=va(e,s,x,b)||0),o._pt={_next:o._pt,p:y||d===1?y:",",s:g,c:v-g,m:p&&p<4||s==="zIndex"?Math.round:0});o.c=c<a.length?a.substring(c,a.length):""}else o.r=s==="display"&&a==="none"?Pj:Dj;return Kb.test(a)&&(o.e=0),this._pt=o,o},jy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},iC=function(e){var s=e.split(" "),n=s[0],a=s[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(e=n,n=a,a=e),s[0]=jy[n]||n,s[1]=jy[a]||a,s.join(" ")},lC=function(e,s){if(s.tween&&s.tween._time===s.tween._dur){var n=s.t,a=n.style,i=s.u,l=n._gsap,o,c,d;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),d=i.length;--d>-1;)o=i[d],En[o]&&(c=1,o=o==="transformOrigin"?As:nt),hi(n,o);c&&(hi(n,nt),l&&(l.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Nc(n,1),l.uncache=1,Mj(a)))}},Lu={clearProps:function(e,s,n,a,i){if(i.data!=="isFromStart"){var l=e._pt=new Es(e._pt,s,n,0,0,lC);return l.u=a,l.pr=-10,l.tween=i,e._props.push(n),1}}},jc=[1,0,0,1,0,0],Fj={},Vj=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ny=function(e){var s=gr(e,nt);return Vj(s)?jc:s.substr(7).match(Hb).map(gt)},tg=function(e,s){var n=e._gsap||ti(e),a=e.style,i=Ny(e),l,o,c,d;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?jc:i):(i===jc&&!e.offsetParent&&e!==hl&&!n.svg&&(c=a.display,a.display="block",l=e.parentNode,(!l||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,o=e.nextElementSibling,hl.appendChild(e)),i=Ny(e),c?a.display=c:hi(e,"display"),d&&(o?l.insertBefore(e,o):l?l.appendChild(e):hl.removeChild(e))),s&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},ff=function(e,s,n,a,i,l){var o=e._gsap,c=i||tg(e,!0),d=o.xOrigin||0,m=o.yOrigin||0,u=o.xOffset||0,h=o.yOffset||0,g=c[0],p=c[1],x=c[2],j=c[3],v=c[4],y=c[5],b=s.split(" "),N=parseFloat(b[0])||0,w=parseFloat(b[1])||0,k,T,P,E;n?c!==jc&&(T=g*j-p*x)&&(P=N*(j/T)+w*(-x/T)+(x*y-j*v)/T,E=N*(-p/T)+w*(g/T)-(g*y-p*v)/T,N=P,w=E):(k=Oj(e),N=k.x+(~b[0].indexOf("%")?N/100*k.width:N),w=k.y+(~(b[1]||b[0]).indexOf("%")?w/100*k.height:w)),a||a!==!1&&o.smooth?(v=N-d,y=w-m,o.xOffset=u+(v*g+y*x)-v,o.yOffset=h+(v*p+y*j)-y):o.xOffset=o.yOffset=0,o.xOrigin=N,o.yOrigin=w,o.smooth=!!a,o.origin=s,o.originIsAbsolute=!!n,e.style[As]="0px 0px",l&&(Qn(l,o,"xOrigin",d,N),Qn(l,o,"yOrigin",m,w),Qn(l,o,"xOffset",u,o.xOffset),Qn(l,o,"yOffset",h,o.yOffset)),e.setAttribute("data-svg-origin",N+" "+w)},Nc=function(e,s){var n=e._gsap||new Nj(e);if("x"in n&&!s&&!n.uncache)return n;var a=e.style,i=n.scaleX<0,l="px",o="deg",c=getComputedStyle(e),d=gr(e,As)||"0",m,u,h,g,p,x,j,v,y,b,N,w,k,T,P,E,C,A,I,S,_,L,R,F,M,$,D,z,Z,B,G,K;return m=u=h=x=j=v=y=b=N=0,g=p=1,n.svg=!!(e.getCTM&&Lj(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[nt]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[nt]!=="none"?c[nt]:"")),a.scale=a.rotate=a.translate="none"),T=tg(e,n.svg),n.svg&&(n.uncache?(M=e.getBBox(),d=n.xOrigin-M.x+"px "+(n.yOrigin-M.y)+"px",F=""):F=!s&&e.getAttribute("data-svg-origin"),ff(e,F||d,!!F||n.originIsAbsolute,n.smooth!==!1,T)),w=n.xOrigin||0,k=n.yOrigin||0,T!==jc&&(A=T[0],I=T[1],S=T[2],_=T[3],m=L=T[4],u=R=T[5],T.length===6?(g=Math.sqrt(A*A+I*I),p=Math.sqrt(_*_+S*S),x=A||I?Ei(I,A)*$a:0,y=S||_?Ei(S,_)*$a+x:0,y&&(p*=Math.abs(Math.cos(y*fl))),n.svg&&(m-=w-(w*A+k*S),u-=k-(w*I+k*_))):(K=T[6],B=T[7],D=T[8],z=T[9],Z=T[10],G=T[11],m=T[12],u=T[13],h=T[14],P=Ei(K,Z),j=P*$a,P&&(E=Math.cos(-P),C=Math.sin(-P),F=L*E+D*C,M=R*E+z*C,$=K*E+Z*C,D=L*-C+D*E,z=R*-C+z*E,Z=K*-C+Z*E,G=B*-C+G*E,L=F,R=M,K=$),P=Ei(-S,Z),v=P*$a,P&&(E=Math.cos(-P),C=Math.sin(-P),F=A*E-D*C,M=I*E-z*C,$=S*E-Z*C,G=_*C+G*E,A=F,I=M,S=$),P=Ei(I,A),x=P*$a,P&&(E=Math.cos(P),C=Math.sin(P),F=A*E+I*C,M=L*E+R*C,I=I*E-A*C,R=R*E-L*C,A=F,L=M),j&&Math.abs(j)+Math.abs(x)>359.9&&(j=x=0,v=180-v),g=gt(Math.sqrt(A*A+I*I+S*S)),p=gt(Math.sqrt(R*R+K*K)),P=Ei(L,R),y=Math.abs(P)>2e-4?P*$a:0,N=G?1/(G<0?-G:G):0),n.svg&&(F=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Vj(gr(e,nt)),F&&e.setAttribute("transform",F))),Math.abs(y)>90&&Math.abs(y)<270&&(i?(g*=-1,y+=x<=0?180:-180,x+=x<=0?180:-180):(p*=-1,y+=y<=0?180:-180)),s=s||n.uncache,n.x=m-((n.xPercent=m&&(!s&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+l,n.y=u-((n.yPercent=u&&(!s&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+l,n.z=h+l,n.scaleX=gt(g),n.scaleY=gt(p),n.rotation=gt(x)+o,n.rotationX=gt(j)+o,n.rotationY=gt(v)+o,n.skewX=y+o,n.skewY=b+o,n.transformPerspective=N+l,(n.zOrigin=parseFloat(d.split(" ")[2])||!s&&n.zOrigin||0)&&(a[As]=Fu(d)),n.xOffset=n.yOffset=0,n.force3D=qs.force3D,n.renderTransform=n.svg?cC:Rj?$j:oC,n.uncache=0,n},Fu=function(e){return(e=e.split(" "))[0]+" "+e[1]},_h=function(e,s,n){var a=ns(s);return gt(parseFloat(s)+parseFloat(va(e,"x",n+"px",a)))+a},oC=function(e,s){s.z="0px",s.rotationY=s.rotationX="0deg",s.force3D=0,$j(e,s)},Ra="0deg",io="0px",Oa=") ",$j=function(e,s){var n=s||this,a=n.xPercent,i=n.yPercent,l=n.x,o=n.y,c=n.z,d=n.rotation,m=n.rotationY,u=n.rotationX,h=n.skewX,g=n.skewY,p=n.scaleX,x=n.scaleY,j=n.transformPerspective,v=n.force3D,y=n.target,b=n.zOrigin,N="",w=v==="auto"&&e&&e!==1||v===!0;if(b&&(u!==Ra||m!==Ra)){var k=parseFloat(m)*fl,T=Math.sin(k),P=Math.cos(k),E;k=parseFloat(u)*fl,E=Math.cos(k),l=_h(y,l,T*E*-b),o=_h(y,o,-Math.sin(k)*-b),c=_h(y,c,P*E*-b+b)}j!==io&&(N+="perspective("+j+Oa),(a||i)&&(N+="translate("+a+"%, "+i+"%) "),(w||l!==io||o!==io||c!==io)&&(N+=c!==io||w?"translate3d("+l+", "+o+", "+c+") ":"translate("+l+", "+o+Oa),d!==Ra&&(N+="rotate("+d+Oa),m!==Ra&&(N+="rotateY("+m+Oa),u!==Ra&&(N+="rotateX("+u+Oa),(h!==Ra||g!==Ra)&&(N+="skew("+h+", "+g+Oa),(p!==1||x!==1)&&(N+="scale("+p+", "+x+Oa),y.style[nt]=N||"translate(0, 0)"},cC=function(e,s){var n=s||this,a=n.xPercent,i=n.yPercent,l=n.x,o=n.y,c=n.rotation,d=n.skewX,m=n.skewY,u=n.scaleX,h=n.scaleY,g=n.target,p=n.xOrigin,x=n.yOrigin,j=n.xOffset,v=n.yOffset,y=n.forceCSS,b=parseFloat(l),N=parseFloat(o),w,k,T,P,E;c=parseFloat(c),d=parseFloat(d),m=parseFloat(m),m&&(m=parseFloat(m),d+=m,c+=m),c||d?(c*=fl,d*=fl,w=Math.cos(c)*u,k=Math.sin(c)*u,T=Math.sin(c-d)*-h,P=Math.cos(c-d)*h,d&&(m*=fl,E=Math.tan(d-m),E=Math.sqrt(1+E*E),T*=E,P*=E,m&&(E=Math.tan(m),E=Math.sqrt(1+E*E),w*=E,k*=E)),w=gt(w),k=gt(k),T=gt(T),P=gt(P)):(w=u,P=h,k=T=0),(b&&!~(l+"").indexOf("px")||N&&!~(o+"").indexOf("px"))&&(b=va(g,"x",l,"px"),N=va(g,"y",o,"px")),(p||x||j||v)&&(b=gt(b+p-(p*w+x*T)+j),N=gt(N+x-(p*k+x*P)+v)),(a||i)&&(E=g.getBBox(),b=gt(b+a/100*E.width),N=gt(N+i/100*E.height)),E="matrix("+w+","+k+","+T+","+P+","+b+","+N+")",g.setAttribute("transform",E),y&&(g.style[nt]=E)},dC=function(e,s,n,a,i){var l=360,o=Ft(i),c=parseFloat(i)*(o&&~i.indexOf("rad")?$a:1),d=c-a,m=a+d+"deg",u,h;return o&&(u=i.split("_")[1],u==="short"&&(d%=l,d!==d%(l/2)&&(d+=d<0?l:-l)),u==="cw"&&d<0?d=(d+l*gy)%l-~~(d/l)*l:u==="ccw"&&d>0&&(d=(d-l*gy)%l-~~(d/l)*l)),e._pt=h=new Es(e._pt,s,n,a,d,K4),h.e=m,h.u="deg",e._props.push(n),h},wy=function(e,s){for(var n in s)e[n]=s[n];return e},uC=function(e,s,n){var a=wy({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",l=n.style,o,c,d,m,u,h,g,p;a.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),l[nt]=s,o=Nc(n,1),hi(n,nt),n.setAttribute("transform",d)):(d=getComputedStyle(n)[nt],l[nt]=s,o=Nc(n,1),l[nt]=d);for(c in En)d=a[c],m=o[c],d!==m&&i.indexOf(c)<0&&(g=ns(d),p=ns(m),u=g!==p?va(n,c,d,p):parseFloat(d),h=parseFloat(m),e._pt=new Es(e._pt,o,c,u,h-u,uf),e._pt.u=p||0,e._props.push(c));wy(o,a)};Ts("padding,margin,Width,Radius",function(t,e){var s="Top",n="Right",a="Bottom",i="Left",l=(e<3?[s,n,a,i]:[s+i,s+n,a+n,a+i]).map(function(o){return e<2?t+o:"border"+o+t});Lu[e>1?"border"+t:t]=function(o,c,d,m,u){var h,g;if(arguments.length<4)return h=l.map(function(p){return hn(o,p,d)}),g=h.join(" "),g.split(h[0]).length===5?h[0]:g;h=(m+"").split(" "),g={},l.forEach(function(p,x){return g[p]=h[x]=h[x]||h[(x-1)/2|0]}),o.init(c,g,u)}});var Uj={name:"css",register:hf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,s,n,a,i){var l=this._props,o=e.style,c=n.vars.startAt,d,m,u,h,g,p,x,j,v,y,b,N,w,k,T,P;Xp||hf(),this.styles=this.styles||Ij(e),P=this.styles.props,this.tween=n;for(x in s)if(x!=="autoRound"&&(m=s[x],!(Bs[x]&&wj(x,s,n,a,e,i)))){if(g=typeof m,p=Lu[x],g==="function"&&(m=m.call(n,a,e,i),g=typeof m),g==="string"&&~m.indexOf("random(")&&(m=yc(m)),p)p(this,e,x,m,n)&&(T=1);else if(x.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(x)+"").trim(),m+="",da.lastIndex=0,da.test(d)||(j=ns(d),v=ns(m)),v?j!==v&&(d=va(e,x,d,v)+v):j&&(m+=j),this.add(o,"setProperty",d,m,a,i,0,0,x),l.push(x),P.push(x,0,o[x]);else if(g!=="undefined"){if(c&&x in c?(d=typeof c[x]=="function"?c[x].call(n,a,e,i):c[x],Ft(d)&&~d.indexOf("random(")&&(d=yc(d)),ns(d+"")||d==="auto"||(d+=qs.units[x]||ns(hn(e,x))||""),(d+"").charAt(1)==="="&&(d=hn(e,x))):d=hn(e,x),h=parseFloat(d),y=g==="string"&&m.charAt(1)==="="&&m.substr(0,2),y&&(m=m.substr(2)),u=parseFloat(m),x in Qr&&(x==="autoAlpha"&&(h===1&&hn(e,"visibility")==="hidden"&&u&&(h=0),P.push("visibility",0,o.visibility),Qn(this,o,"visibility",h?"inherit":"hidden",u?"inherit":"hidden",!u)),x!=="scale"&&x!=="transform"&&(x=Qr[x],~x.indexOf(",")&&(x=x.split(",")[0]))),b=x in En,b){if(this.styles.save(x),g==="string"&&m.substring(0,6)==="var(--"&&(m=gr(e,m.substring(4,m.indexOf(")"))),u=parseFloat(m)),N||(w=e._gsap,w.renderTransform&&!s.parseTransform||Nc(e,s.parseTransform),k=s.smoothOrigin!==!1&&w.smooth,N=this._pt=new Es(this._pt,o,nt,0,1,w.renderTransform,w,0,-1),N.dep=1),x==="scale")this._pt=new Es(this._pt,w,"scaleY",w.scaleY,(y?ml(w.scaleY,y+u):u)-w.scaleY||0,uf),this._pt.u=0,l.push("scaleY",x),x+="X";else if(x==="transformOrigin"){P.push(As,0,o[As]),m=iC(m),w.svg?ff(e,m,0,k,0,this):(v=parseFloat(m.split(" ")[2])||0,v!==w.zOrigin&&Qn(this,w,"zOrigin",w.zOrigin,v),Qn(this,o,x,Fu(d),Fu(m)));continue}else if(x==="svgOrigin"){ff(e,m,1,k,0,this);continue}else if(x in Fj){dC(this,w,x,h,y?ml(h,y+m):m);continue}else if(x==="smoothOrigin"){Qn(this,w,"smooth",w.smooth,m);continue}else if(x==="force3D"){w[x]=m;continue}else if(x==="transform"){uC(this,m,e);continue}}else x in o||(x=Ol(x)||x);if(b||(u||u===0)&&(h||h===0)&&!H4.test(m)&&x in o)j=(d+"").substr((h+"").length),u||(u=0),v=ns(m)||(x in qs.units?qs.units[x]:j),j!==v&&(h=va(e,x,d,v)),this._pt=new Es(this._pt,b?w:o,x,h,(y?ml(h,y+u):u)-h,!b&&(v==="px"||x==="zIndex")&&s.autoRound!==!1?q4:uf),this._pt.u=v||0,j!==v&&v!=="%"&&(this._pt.b=d,this._pt.r=Y4);else if(x in o)aC.call(this,e,x,d,y?y+m:m);else if(x in e)this.add(e,x,d||e[x],y?y+m:m,a,i);else if(x!=="parseTransform"){Bp(x,m);continue}b||(x in o?P.push(x,0,o[x]):typeof e[x]=="function"?P.push(x,2,e[x]()):P.push(x,1,d||e[x])),l.push(x)}}T&&Ej(this)},render:function(e,s){if(s.tween._time||!Jp())for(var n=s._pt;n;)n.r(e,n.d),n=n._next;else s.styles.revert()},get:hn,aliases:Qr,getSetter:function(e,s,n){var a=Qr[s];return a&&a.indexOf(",")<0&&(s=a),s in En&&s!==As&&(e._gsap.x||hn(e,"x"))?n&&py===n?s==="scale"?J4:X4:(py=n||{})&&(s==="scale"?eC:tC):e.style&&!Vp(e.style[s])?Z4:~s.indexOf("-")?Q4:Zp(e,s)},core:{_removeProperty:hi,_getMatrix:tg}};Ds.utils.checkPrefix=Ol;Ds.core.getStyleSaver=Ij;(function(t,e,s,n){var a=Ts(t+","+e+","+s,function(i){En[i]=1});Ts(e,function(i){qs.units[i]="deg",Fj[i]=1}),Qr[a[13]]=t+","+e,Ts(n,function(i){var l=i.split(":");Qr[l[1]]=a[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ts("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){qs.units[t]="px"});Ds.registerPlugin(Uj);var Rs=Ds.registerPlugin(Uj)||Ds;Rs.core.Tween;function _y(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mC(t,e,s){return e&&_y(t.prototype,e),s&&_y(t,s),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Wt,Yd,Gs,Xn,Jn,pl,Bj,Ua,Lo,zj,yn,Mr,Wj,Gj=function(){return Wt||typeof window<"u"&&(Wt=window.gsap)&&Wt.registerPlugin&&Wt},Hj=1,Ji=[],ye=[],tn=[],Fo=Date.now,pf=function(e,s){return s},hC=function(){var e=Lo.core,s=e.bridge||{},n=e._scrollers,a=e._proxies;n.push.apply(n,ye),a.push.apply(a,tn),ye=n,tn=a,pf=function(l,o){return s[l](o)}},ua=function(e,s){return~tn.indexOf(e)&&tn[tn.indexOf(e)+1][s]},Vo=function(e){return!!~zj.indexOf(e)},cs=function(e,s,n,a,i){return e.addEventListener(s,n,{passive:a!==!1,capture:!!i})},os=function(e,s,n,a){return e.removeEventListener(s,n,!!a)},hd="scrollLeft",fd="scrollTop",gf=function(){return yn&&yn.isPressed||ye.cache++},Vu=function(e,s){var n=function a(i){if(i||i===0){Hj&&(Gs.history.scrollRestoration="manual");var l=yn&&yn.isPressed;i=a.v=Math.round(i)||(yn&&yn.iOS?1:0),e(i),a.cacheID=ye.cache,l&&pf("ss",i)}else(s||ye.cache!==a.cacheID||pf("ref"))&&(a.cacheID=ye.cache,a.v=e());return a.v+a.offset};return n.offset=0,e&&n},gs={s:hd,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Vu(function(t){return arguments.length?Gs.scrollTo(t,At.sc()):Gs.pageXOffset||Xn[hd]||Jn[hd]||pl[hd]||0})},At={s:fd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:gs,sc:Vu(function(t){return arguments.length?Gs.scrollTo(gs.sc(),t):Gs.pageYOffset||Xn[fd]||Jn[fd]||pl[fd]||0})},js=function(e,s){return(s&&s._ctx&&s._ctx.selector||Wt.utils.toArray)(e)[0]||(typeof e=="string"&&Wt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},fC=function(e,s){for(var n=s.length;n--;)if(s[n]===e||s[n].contains(e))return!0;return!1},ba=function(e,s){var n=s.s,a=s.sc;Vo(e)&&(e=Xn.scrollingElement||Jn);var i=ye.indexOf(e),l=a===At.sc?1:2;!~i&&(i=ye.push(e)-1),ye[i+l]||cs(e,"scroll",gf);var o=ye[i+l],c=o||(ye[i+l]=Vu(ua(e,n),!0)||(Vo(e)?a:Vu(function(d){return arguments.length?e[n]=d:e[n]})));return c.target=e,o||(c.smooth=Wt.getProperty(e,"scrollBehavior")==="smooth"),c},xf=function(e,s,n){var a=e,i=e,l=Fo(),o=l,c=s||50,d=Math.max(500,c*3),m=function(p,x){var j=Fo();x||j-l>c?(i=a,a=p,o=l,l=j):n?a+=p:a=i+(p-i)/(j-o)*(l-o)},u=function(){i=a=n?0:a,o=l=0},h=function(p){var x=o,j=i,v=Fo();return(p||p===0)&&p!==a&&m(p),l===o||v-o>d?0:(a+(n?j:-j))/((n?v:l)-x)*1e3};return{update:m,reset:u,getVelocity:h}},lo=function(e,s){return s&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Sy=function(e){var s=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(s)>=Math.abs(n)?s:n},Kj=function(){Lo=Wt.core.globals().ScrollTrigger,Lo&&Lo.core&&hC()},Yj=function(e){return Wt=e||Gj(),!Yd&&Wt&&typeof document<"u"&&document.body&&(Gs=window,Xn=document,Jn=Xn.documentElement,pl=Xn.body,zj=[Gs,Xn,Jn,pl],Wt.utils.clamp,Wj=Wt.core.context||function(){},Ua="onpointerenter"in pl?"pointer":"mouse",Bj=yt.isTouch=Gs.matchMedia&&Gs.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Gs||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Mr=yt.eventTypes=("ontouchstart"in Jn?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Jn?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Hj=0},500),Kj(),Yd=1),Yd};gs.op=At;ye.cache=0;var yt=function(){function t(s){this.init(s)}var e=t.prototype;return e.init=function(n){Yd||Yj(Wt)||console.warn("Please gsap.registerPlugin(Observer)"),Lo||Kj();var a=n.tolerance,i=n.dragMinimum,l=n.type,o=n.target,c=n.lineHeight,d=n.debounce,m=n.preventDefault,u=n.onStop,h=n.onStopDelay,g=n.ignore,p=n.wheelSpeed,x=n.event,j=n.onDragStart,v=n.onDragEnd,y=n.onDrag,b=n.onPress,N=n.onRelease,w=n.onRight,k=n.onLeft,T=n.onUp,P=n.onDown,E=n.onChangeX,C=n.onChangeY,A=n.onChange,I=n.onToggleX,S=n.onToggleY,_=n.onHover,L=n.onHoverEnd,R=n.onMove,F=n.ignoreCheck,M=n.isNormalizer,$=n.onGestureStart,D=n.onGestureEnd,z=n.onWheel,Z=n.onEnable,B=n.onDisable,G=n.onClick,K=n.scrollSpeed,H=n.capture,q=n.allowClicks,ne=n.lockAxis,ie=n.onLockAxis;this.target=o=js(o)||Jn,this.vars=n,g&&(g=Wt.utils.toArray(g)),a=a||1e-9,i=i||0,p=p||1,K=K||1,l=l||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(Gs.getComputedStyle(pl).lineHeight)||22);var ue,J,oe,re,ee,Re,De,V=this,U=0,te=0,Se=n.passive||!m&&n.passive!==!1,le=ba(o,gs),bt=ba(o,At),ht=le(),Yt=bt(),ke=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Mr[0]==="pointerdown",Ls=Vo(o),Je=o.ownerDocument||Xn,Cr=[0,0,0],rr=[0,0,0],an=0,Yl=function(){return an=Fo()},jt=function(ce,Te){return(V.event=ce)&&g&&fC(ce.target,g)||Te&&ke&&ce.pointerType!=="touch"||F&&F(ce,Te)},Hc=function(){V._vx.reset(),V._vy.reset(),J.pause(),u&&u(V)},ln=function(){var ce=V.deltaX=Sy(Cr),Te=V.deltaY=Sy(rr),Y=Math.abs(ce)>=a,he=Math.abs(Te)>=a;A&&(Y||he)&&A(V,ce,Te,Cr,rr),Y&&(w&&V.deltaX>0&&w(V),k&&V.deltaX<0&&k(V),E&&E(V),I&&V.deltaX<0!=U<0&&I(V),U=V.deltaX,Cr[0]=Cr[1]=Cr[2]=0),he&&(P&&V.deltaY>0&&P(V),T&&V.deltaY<0&&T(V),C&&C(V),S&&V.deltaY<0!=te<0&&S(V),te=V.deltaY,rr[0]=rr[1]=rr[2]=0),(re||oe)&&(R&&R(V),oe&&(j&&oe===1&&j(V),y&&y(V),oe=0),re=!1),Re&&!(Re=!1)&&ie&&ie(V),ee&&(z(V),ee=!1),ue=0},Si=function(ce,Te,Y){Cr[Y]+=ce,rr[Y]+=Te,V._vx.update(ce),V._vy.update(Te),d?ue||(ue=requestAnimationFrame(ln)):ln()},Ci=function(ce,Te){ne&&!De&&(V.axis=De=Math.abs(ce)>Math.abs(Te)?"x":"y",Re=!0),De!=="y"&&(Cr[2]+=ce,V._vx.update(ce,!0)),De!=="x"&&(rr[2]+=Te,V._vy.update(Te,!0)),d?ue||(ue=requestAnimationFrame(ln)):ln()},Mn=function(ce){if(!jt(ce,1)){ce=lo(ce,m);var Te=ce.clientX,Y=ce.clientY,he=Te-V.x,ae=Y-V.y,fe=V.isDragging;V.x=Te,V.y=Y,(fe||(he||ae)&&(Math.abs(V.startX-Te)>=i||Math.abs(V.startY-Y)>=i))&&(oe=fe?2:1,fe||(V.isDragging=!0),Ci(he,ae))}},Da=V.onPress=function(pe){jt(pe,1)||pe&&pe.button||(V.axis=De=null,J.pause(),V.isPressed=!0,pe=lo(pe),U=te=0,V.startX=V.x=pe.clientX,V.startY=V.y=pe.clientY,V._vx.reset(),V._vy.reset(),cs(M?o:Je,Mr[1],Mn,Se,!0),V.deltaX=V.deltaY=0,b&&b(V))},ve=V.onRelease=function(pe){if(!jt(pe,1)){os(M?o:Je,Mr[1],Mn,!0);var ce=!isNaN(V.y-V.startY),Te=V.isDragging,Y=Te&&(Math.abs(V.x-V.startX)>3||Math.abs(V.y-V.startY)>3),he=lo(pe);!Y&&ce&&(V._vx.reset(),V._vy.reset(),m&&q&&Wt.delayedCall(.08,function(){if(Fo()-an>300&&!pe.defaultPrevented){if(pe.target.click)pe.target.click();else if(Je.createEvent){var ae=Je.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,Gs,1,he.screenX,he.screenY,he.clientX,he.clientY,!1,!1,!1,!1,0,null),pe.target.dispatchEvent(ae)}}})),V.isDragging=V.isGesturing=V.isPressed=!1,u&&Te&&!M&&J.restart(!0),oe&&ln(),v&&Te&&v(V),N&&N(V,Y)}},Pa=function(ce){return ce.touches&&ce.touches.length>1&&(V.isGesturing=!0)&&$(ce,V.isDragging)},kr=function(){return(V.isGesturing=!1)||D(V)},Tr=function(ce){if(!jt(ce)){var Te=le(),Y=bt();Si((Te-ht)*K,(Y-Yt)*K,1),ht=Te,Yt=Y,u&&J.restart(!0)}},Er=function(ce){if(!jt(ce)){ce=lo(ce,m),z&&(ee=!0);var Te=(ce.deltaMode===1?c:ce.deltaMode===2?Gs.innerHeight:1)*p;Si(ce.deltaX*Te,ce.deltaY*Te,0),u&&!M&&J.restart(!0)}},Ma=function(ce){if(!jt(ce)){var Te=ce.clientX,Y=ce.clientY,he=Te-V.x,ae=Y-V.y;V.x=Te,V.y=Y,re=!0,u&&J.restart(!0),(he||ae)&&Ci(he,ae)}},ki=function(ce){V.event=ce,_(V)},on=function(ce){V.event=ce,L(V)},ql=function(ce){return jt(ce)||lo(ce,m)&&G(V)};J=V._dc=Wt.delayedCall(h||.25,Hc).pause(),V.deltaX=V.deltaY=0,V._vx=xf(0,50,!0),V._vy=xf(0,50,!0),V.scrollX=le,V.scrollY=bt,V.isDragging=V.isGesturing=V.isPressed=!1,Wj(this),V.enable=function(pe){return V.isEnabled||(cs(Ls?Je:o,"scroll",gf),l.indexOf("scroll")>=0&&cs(Ls?Je:o,"scroll",Tr,Se,H),l.indexOf("wheel")>=0&&cs(o,"wheel",Er,Se,H),(l.indexOf("touch")>=0&&Bj||l.indexOf("pointer")>=0)&&(cs(o,Mr[0],Da,Se,H),cs(Je,Mr[2],ve),cs(Je,Mr[3],ve),q&&cs(o,"click",Yl,!0,!0),G&&cs(o,"click",ql),$&&cs(Je,"gesturestart",Pa),D&&cs(Je,"gestureend",kr),_&&cs(o,Ua+"enter",ki),L&&cs(o,Ua+"leave",on),R&&cs(o,Ua+"move",Ma)),V.isEnabled=!0,V.isDragging=V.isGesturing=V.isPressed=re=oe=!1,V._vx.reset(),V._vy.reset(),ht=le(),Yt=bt(),pe&&pe.type&&Da(pe),Z&&Z(V)),V},V.disable=function(){V.isEnabled&&(Ji.filter(function(pe){return pe!==V&&Vo(pe.target)}).length||os(Ls?Je:o,"scroll",gf),V.isPressed&&(V._vx.reset(),V._vy.reset(),os(M?o:Je,Mr[1],Mn,!0)),os(Ls?Je:o,"scroll",Tr,H),os(o,"wheel",Er,H),os(o,Mr[0],Da,H),os(Je,Mr[2],ve),os(Je,Mr[3],ve),os(o,"click",Yl,!0),os(o,"click",ql),os(Je,"gesturestart",Pa),os(Je,"gestureend",kr),os(o,Ua+"enter",ki),os(o,Ua+"leave",on),os(o,Ua+"move",Ma),V.isEnabled=V.isPressed=V.isDragging=!1,B&&B(V))},V.kill=V.revert=function(){V.disable();var pe=Ji.indexOf(V);pe>=0&&Ji.splice(pe,1),yn===V&&(yn=0)},Ji.push(V),M&&Vo(o)&&(yn=V),V.enable(x)},mC(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();yt.version="3.13.0";yt.create=function(t){return new yt(t)};yt.register=Yj;yt.getAll=function(){return Ji.slice()};yt.getById=function(t){return Ji.filter(function(e){return e.vars.id===t})[0]};Gj()&&Wt.registerPlugin(yt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var X,Li,xe,ze,zs,Ae,sg,$u,wc,$o,vo,pd,es,km,yf,hs,Cy,ky,Fi,qj,Sh,Zj,ds,vf,Qj,Xj,Vn,bf,rg,gl,ng,Uu,jf,Ch,gd=1,ss=Date.now,kh=ss(),yr=0,bo=0,Ty=function(e,s,n){var a=Us(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+s+"Clamp"]=a,a?e.substr(6,e.length-7):e},Ey=function(e,s){return s&&(!Us(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},pC=function t(){return bo&&requestAnimationFrame(t)},Ay=function(){return km=1},Dy=function(){return km=0},Yr=function(e){return e},jo=function(e){return Math.round(e*1e5)/1e5||0},Jj=function(){return typeof window<"u"},eN=function(){return X||Jj()&&(X=window.gsap)&&X.registerPlugin&&X},fi=function(e){return!!~sg.indexOf(e)},tN=function(e){return(e==="Height"?ng:xe["inner"+e])||zs["client"+e]||Ae["client"+e]},sN=function(e){return ua(e,"getBoundingClientRect")||(fi(e)?function(){return Jd.width=xe.innerWidth,Jd.height=ng,Jd}:function(){return pn(e)})},gC=function(e,s,n){var a=n.d,i=n.d2,l=n.a;return(l=ua(e,"getBoundingClientRect"))?function(){return l()[a]}:function(){return(s?tN(i):e["client"+i])||0}},xC=function(e,s){return!s||~tn.indexOf(e)?sN(e):function(){return Jd}},Xr=function(e,s){var n=s.s,a=s.d2,i=s.d,l=s.a;return Math.max(0,(n="scroll"+a)&&(l=ua(e,n))?l()-sN(e)()[i]:fi(e)?(zs[n]||Ae[n])-tN(a):e[n]-e["offset"+a])},xd=function(e,s){for(var n=0;n<Fi.length;n+=3)(!s||~s.indexOf(Fi[n+1]))&&e(Fi[n],Fi[n+1],Fi[n+2])},Us=function(e){return typeof e=="string"},as=function(e){return typeof e=="function"},No=function(e){return typeof e=="number"},Ba=function(e){return typeof e=="object"},oo=function(e,s,n){return e&&e.progress(s?0:1)&&n&&e.pause()},Th=function(e,s){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return s(e)}):s(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Ai=Math.abs,rN="left",nN="top",ag="right",ig="bottom",ai="width",ii="height",Uo="Right",Bo="Left",zo="Top",Wo="Bottom",wt="padding",dr="margin",Ll="Width",lg="Height",Tt="px",ur=function(e){return xe.getComputedStyle(e)},yC=function(e){var s=ur(e).position;e.style.position=s==="absolute"||s==="fixed"?s:"relative"},Py=function(e,s){for(var n in s)n in e||(e[n]=s[n]);return e},pn=function(e,s){var n=s&&ur(e)[yf]!=="matrix(1, 0, 0, 1, 0, 0)"&&X.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=e.getBoundingClientRect();return n&&n.progress(0).kill(),a},Bu=function(e,s){var n=s.d2;return e["offset"+n]||e["client"+n]||0},aN=function(e){var s=[],n=e.labels,a=e.duration(),i;for(i in n)s.push(n[i]/a);return s},vC=function(e){return function(s){return X.utils.snap(aN(e),s)}},og=function(e){var s=X.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(a,i){return a-i});return n?function(a,i,l){l===void 0&&(l=.001);var o;if(!i)return s(a);if(i>0){for(a-=l,o=0;o<n.length;o++)if(n[o]>=a)return n[o];return n[o-1]}else for(o=n.length,a+=l;o--;)if(n[o]<=a)return n[o];return n[0]}:function(a,i,l){l===void 0&&(l=.001);var o=s(a);return!i||Math.abs(o-a)<l||o-a<0==i<0?o:s(i<0?a-e:a+e)}},bC=function(e){return function(s,n){return og(aN(e))(s,n.direction)}},yd=function(e,s,n,a){return n.split(",").forEach(function(i){return e(s,i,a)})},Rt=function(e,s,n,a,i){return e.addEventListener(s,n,{passive:!a,capture:!!i})},It=function(e,s,n,a){return e.removeEventListener(s,n,!!a)},vd=function(e,s,n){n=n&&n.wheelHandler,n&&(e(s,"wheel",n),e(s,"touchmove",n))},My={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},bd={toggleActions:"play",anticipatePin:0},zu={top:0,left:0,center:.5,bottom:1,right:1},qd=function(e,s){if(Us(e)){var n=e.indexOf("="),a=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(a*=s/100),e=e.substr(0,n-1)),e=a+(e in zu?zu[e]*s:~e.indexOf("%")?parseFloat(e)*s/100:parseFloat(e)||0)}return e},jd=function(e,s,n,a,i,l,o,c){var d=i.startColor,m=i.endColor,u=i.fontSize,h=i.indent,g=i.fontWeight,p=ze.createElement("div"),x=fi(n)||ua(n,"pinType")==="fixed",j=e.indexOf("scroller")!==-1,v=x?Ae:n,y=e.indexOf("start")!==-1,b=y?d:m,N="border-color:"+b+";font-size:"+u+";color:"+b+";font-weight:"+g+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((j||c)&&x?"fixed;":"absolute;"),(j||c||!x)&&(N+=(a===At?ag:ig)+":"+(l+parseFloat(h))+"px;"),o&&(N+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),p._isStart=y,p.setAttribute("class","gsap-marker-"+e+(s?" marker-"+s:"")),p.style.cssText=N,p.innerText=s||s===0?e+"-"+s:e,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+a.op.d2],Zd(p,0,a,y),p},Zd=function(e,s,n,a){var i={display:"block"},l=n[a?"os2":"p2"],o=n[a?"p2":"os2"];e._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+l+Ll]=1,i["border"+o+Ll]=0,i[n.p]=s+"px",X.set(e,i)},ge=[],Nf={},_c,Iy=function(){return ss()-yr>34&&(_c||(_c=requestAnimationFrame(jn)))},Di=function(){(!ds||!ds.isPressed||ds.startX>Ae.clientWidth)&&(ye.cache++,ds?_c||(_c=requestAnimationFrame(jn)):jn(),yr||gi("scrollStart"),yr=ss())},Eh=function(){Xj=xe.innerWidth,Qj=xe.innerHeight},wo=function(e){ye.cache++,(e===!0||!es&&!Zj&&!ze.fullscreenElement&&!ze.webkitFullscreenElement&&(!vf||Xj!==xe.innerWidth||Math.abs(xe.innerHeight-Qj)>xe.innerHeight*.25))&&$u.restart(!0)},pi={},jC=[],iN=function t(){return It(be,"scrollEnd",t)||Qa(!0)},gi=function(e){return pi[e]&&pi[e].map(function(s){return s()})||jC},Vs=[],lN=function(e){for(var s=0;s<Vs.length;s+=5)(!e||Vs[s+4]&&Vs[s+4].query===e)&&(Vs[s].style.cssText=Vs[s+1],Vs[s].getBBox&&Vs[s].setAttribute("transform",Vs[s+2]||""),Vs[s+3].uncache=1)},cg=function(e,s){var n;for(hs=0;hs<ge.length;hs++)n=ge[hs],n&&(!s||n._ctx===s)&&(e?n.kill(1):n.revert(!0,!0));Uu=!0,s&&lN(s),s||gi("revert")},oN=function(e,s){ye.cache++,(s||!fs)&&ye.forEach(function(n){return as(n)&&n.cacheID++&&(n.rec=0)}),Us(e)&&(xe.history.scrollRestoration=rg=e)},fs,li=0,Ry,NC=function(){if(Ry!==li){var e=Ry=li;requestAnimationFrame(function(){return e===li&&Qa(!0)})}},cN=function(){Ae.appendChild(gl),ng=!ds&&gl.offsetHeight||xe.innerHeight,Ae.removeChild(gl)},Oy=function(e){return wc(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(s){return s.style.display=e?"none":"block"})},Qa=function(e,s){if(zs=ze.documentElement,Ae=ze.body,sg=[xe,ze,zs,Ae],yr&&!e&&!Uu){Rt(be,"scrollEnd",iN);return}cN(),fs=be.isRefreshing=!0,ye.forEach(function(a){return as(a)&&++a.cacheID&&(a.rec=a())});var n=gi("refreshInit");qj&&be.sort(),s||cg(),ye.forEach(function(a){as(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),ge.slice(0).forEach(function(a){return a.refresh()}),Uu=!1,ge.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",l=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-l),a.refresh()}}),jf=1,Oy(!0),ge.forEach(function(a){var i=Xr(a.scroller,a._dir),l=a.vars.end==="max"||a._endClamp&&a.end>i,o=a._startClamp&&a.start>=i;(l||o)&&a.setPositions(o?i-1:a.start,l?Math.max(o?i:a.start+1,i):a.end,!0)}),Oy(!1),jf=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),ye.forEach(function(a){as(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),oN(rg,1),$u.pause(),li++,fs=2,jn(2),ge.forEach(function(a){return as(a.vars.onRefresh)&&a.vars.onRefresh(a)}),fs=be.isRefreshing=!1,gi("refresh")},wf=0,Qd=1,Go,jn=function(e){if(e===2||!fs&&!Uu){be.isUpdating=!0,Go&&Go.update(0);var s=ge.length,n=ss(),a=n-kh>=50,i=s&&ge[0].scroll();if(Qd=wf>i?-1:1,fs||(wf=i),a&&(yr&&!km&&n-yr>200&&(yr=0,gi("scrollEnd")),vo=kh,kh=n),Qd<0){for(hs=s;hs-- >0;)ge[hs]&&ge[hs].update(0,a);Qd=1}else for(hs=0;hs<s;hs++)ge[hs]&&ge[hs].update(0,a);be.isUpdating=!1}_c=0},_f=[rN,nN,ig,ag,dr+Wo,dr+Uo,dr+zo,dr+Bo,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Xd=_f.concat([ai,ii,"boxSizing","max"+Ll,"max"+lg,"position",dr,wt,wt+zo,wt+Uo,wt+Wo,wt+Bo]),wC=function(e,s,n){xl(n);var a=e._gsap;if(a.spacerIsNative)xl(a.spacerState);else if(e._gsap.swappedIn){var i=s.parentNode;i&&(i.insertBefore(e,s),i.removeChild(s))}e._gsap.swappedIn=!1},Ah=function(e,s,n,a){if(!e._gsap.swappedIn){for(var i=_f.length,l=s.style,o=e.style,c;i--;)c=_f[i],l[c]=n[c];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),o[ig]=o[ag]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[ai]=Bu(e,gs)+Tt,l[ii]=Bu(e,At)+Tt,l[wt]=o[dr]=o[nN]=o[rN]="0",xl(a),o[ai]=o["max"+Ll]=n[ai],o[ii]=o["max"+lg]=n[ii],o[wt]=n[wt],e.parentNode!==s&&(e.parentNode.insertBefore(s,e),s.appendChild(e)),e._gsap.swappedIn=!0}},_C=/([A-Z])/g,xl=function(e){if(e){var s=e.t.style,n=e.length,a=0,i,l;for((e.t._gsap||X.core.getCache(e.t)).uncache=1;a<n;a+=2)l=e[a+1],i=e[a],l?s[i]=l:s[i]&&s.removeProperty(i.replace(_C,"-$1").toLowerCase())}},Nd=function(e){for(var s=Xd.length,n=e.style,a=[],i=0;i<s;i++)a.push(Xd[i],n[Xd[i]]);return a.t=e,a},SC=function(e,s,n){for(var a=[],i=e.length,l=n?8:0,o;l<i;l+=2)o=e[l],a.push(o,o in s?s[o]:e[l+1]);return a.t=e.t,a},Jd={left:0,top:0},Ly=function(e,s,n,a,i,l,o,c,d,m,u,h,g,p){as(e)&&(e=e(c)),Us(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?qd("0"+e.substr(3),n):0));var x=g?g.time():0,j,v,y;if(g&&g.seek(0),isNaN(e)||(e=+e),No(e))g&&(e=X.utils.mapRange(g.scrollTrigger.start,g.scrollTrigger.end,0,h,e)),o&&Zd(o,n,a,!0);else{as(s)&&(s=s(c));var b=(e||"0").split(" "),N,w,k,T;y=js(s,c)||Ae,N=pn(y)||{},(!N||!N.left&&!N.top)&&ur(y).display==="none"&&(T=y.style.display,y.style.display="block",N=pn(y),T?y.style.display=T:y.style.removeProperty("display")),w=qd(b[0],N[a.d]),k=qd(b[1]||"0",n),e=N[a.p]-d[a.p]-m+w+i-k,o&&Zd(o,k,a,n-k<20||o._isStart&&k>20),n-=n-k}if(p&&(c[p]=e||-.001,e<0&&(e=0)),l){var P=e+n,E=l._isStart;j="scroll"+a.d2,Zd(l,P,a,E&&P>20||!E&&(u?Math.max(Ae[j],zs[j]):l.parentNode[j])<=P+1),u&&(d=pn(o),u&&(l.style[a.op.p]=d[a.op.p]-a.op.m-l._offset+Tt))}return g&&y&&(j=pn(y),g.seek(h),v=pn(y),g._caScrollDist=j[a.p]-v[a.p],e=e/g._caScrollDist*h),g&&g.seek(x),g?e:Math.round(e)},CC=/(webkit|moz|length|cssText|inset)/i,Fy=function(e,s,n,a){if(e.parentNode!==s){var i=e.style,l,o;if(s===Ae){e._stOrig=i.cssText,o=ur(e);for(l in o)!+l&&!CC.test(l)&&o[l]&&typeof i[l]=="string"&&l!=="0"&&(i[l]=o[l]);i.top=n,i.left=a}else i.cssText=e._stOrig;X.core.getCache(e).uncache=1,s.appendChild(e)}},dN=function(e,s,n){var a=s,i=a;return function(l){var o=Math.round(e());return o!==a&&o!==i&&Math.abs(o-a)>3&&Math.abs(o-i)>3&&(l=o,n&&n()),i=a,a=Math.round(l),a}},wd=function(e,s,n){var a={};a[s.p]="+="+n,X.set(e,a)},Vy=function(e,s){var n=ba(e,s),a="_scroll"+s.p2,i=function l(o,c,d,m,u){var h=l.tween,g=c.onComplete,p={};d=d||n();var x=dN(n,d,function(){h.kill(),l.tween=0});return u=m&&u||0,m=m||o-d,h&&h.kill(),c[a]=o,c.inherit=!1,c.modifiers=p,p[a]=function(){return x(d+m*h.ratio+u*h.ratio*h.ratio)},c.onUpdate=function(){ye.cache++,l.tween&&jn()},c.onComplete=function(){l.tween=0,g&&g.call(h)},h=l.tween=X.to(e,c),h};return e[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Rt(e,"wheel",n.wheelHandler),be.isTouch&&Rt(e,"touchmove",n.wheelHandler),i},be=function(){function t(s,n){Li||t.register(X)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),bf(this),this.init(s,n)}var e=t.prototype;return e.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!bo){this.update=this.refresh=this.kill=Yr;return}n=Py(Us(n)||No(n)||n.nodeType?{trigger:n}:n,bd);var i=n,l=i.onUpdate,o=i.toggleClass,c=i.id,d=i.onToggle,m=i.onRefresh,u=i.scrub,h=i.trigger,g=i.pin,p=i.pinSpacing,x=i.invalidateOnRefresh,j=i.anticipatePin,v=i.onScrubComplete,y=i.onSnapComplete,b=i.once,N=i.snap,w=i.pinReparent,k=i.pinSpacer,T=i.containerAnimation,P=i.fastScrollEnd,E=i.preventOverlaps,C=n.horizontal||n.containerAnimation&&n.horizontal!==!1?gs:At,A=!u&&u!==0,I=js(n.scroller||xe),S=X.core.getCache(I),_=fi(I),L=("pinType"in n?n.pinType:ua(I,"pinType")||_&&"fixed")==="fixed",R=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],F=A&&n.toggleActions.split(" "),M="markers"in n?n.markers:bd.markers,$=_?0:parseFloat(ur(I)["border"+C.p2+Ll])||0,D=this,z=n.onRefreshInit&&function(){return n.onRefreshInit(D)},Z=gC(I,_,C),B=xC(I,_),G=0,K=0,H=0,q=ba(I,C),ne,ie,ue,J,oe,re,ee,Re,De,V,U,te,Se,le,bt,ht,Yt,ke,Ls,Je,Cr,rr,an,Yl,jt,Hc,ln,Si,Ci,Mn,Da,ve,Pa,kr,Tr,Er,Ma,ki,on;if(D._startClamp=D._endClamp=!1,D._dir=C,j*=45,D.scroller=I,D.scroll=T?T.time.bind(T):q,J=q(),D.vars=n,a=a||n.animation,"refreshPriority"in n&&(qj=1,n.refreshPriority===-9999&&(Go=D)),S.tweenScroll=S.tweenScroll||{top:Vy(I,At),left:Vy(I,gs)},D.tweenTo=ne=S.tweenScroll[C.p],D.scrubDuration=function(Y){Pa=No(Y)&&Y,Pa?ve?ve.duration(Y):ve=X.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Pa,paused:!0,onComplete:function(){return v&&v(D)}}):(ve&&ve.progress(1).kill(),ve=0)},a&&(a.vars.lazy=!1,a._initted&&!D.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),D.animation=a.pause(),a.scrollTrigger=D,D.scrubDuration(u),Mn=0,c||(c=a.vars.id)),N&&((!Ba(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in Ae.style&&X.set(_?[Ae,zs]:I,{scrollBehavior:"auto"}),ye.forEach(function(Y){return as(Y)&&Y.target===(_?ze.scrollingElement||zs:I)&&(Y.smooth=!1)}),ue=as(N.snapTo)?N.snapTo:N.snapTo==="labels"?vC(a):N.snapTo==="labelsDirectional"?bC(a):N.directional!==!1?function(Y,he){return og(N.snapTo)(Y,ss()-K<500?0:he.direction)}:X.utils.snap(N.snapTo),kr=N.duration||{min:.1,max:2},kr=Ba(kr)?$o(kr.min,kr.max):$o(kr,kr),Tr=X.delayedCall(N.delay||Pa/2||.1,function(){var Y=q(),he=ss()-K<500,ae=ne.tween;if((he||Math.abs(D.getVelocity())<10)&&!ae&&!km&&G!==Y){var fe=(Y-re)/le,Mt=a&&!A?a.totalProgress():fe,Ne=he?0:(Mt-Da)/(ss()-vo)*1e3||0,ft=X.utils.clamp(-fe,1-fe,Ai(Ne/2)*Ne/.185),qt=fe+(N.inertia===!1?0:ft),ct,qe,Le=N,Ar=Le.onStart,et=Le.onInterrupt,Fs=Le.onComplete;if(ct=ue(qt,D),No(ct)||(ct=qt),qe=Math.max(0,Math.round(re+ct*le)),Y<=ee&&Y>=re&&qe!==Y){if(ae&&!ae._initted&&ae.data<=Ai(qe-Y))return;N.inertia===!1&&(ft=ct-fe),ne(qe,{duration:kr(Ai(Math.max(Ai(qt-Mt),Ai(ct-Mt))*.185/Ne/.05||0)),ease:N.ease||"power3",data:Ai(qe-Y),onInterrupt:function(){return Tr.restart(!0)&&et&&et(D)},onComplete:function(){D.update(),G=q(),a&&!A&&(ve?ve.resetTo("totalProgress",ct,a._tTime/a._tDur):a.progress(ct)),Mn=Da=a&&!A?a.totalProgress():D.progress,y&&y(D),Fs&&Fs(D)}},Y,ft*le,qe-Y-ft*le),Ar&&Ar(D,ne.tween)}}else D.isActive&&G!==Y&&Tr.restart(!0)}).pause()),c&&(Nf[c]=D),h=D.trigger=js(h||g!==!0&&g),on=h&&h._gsap&&h._gsap.stRevert,on&&(on=on(D)),g=g===!0?h:js(g),Us(o)&&(o={targets:h,className:o}),g&&(p===!1||p===dr||(p=!p&&g.parentNode&&g.parentNode.style&&ur(g.parentNode).display==="flex"?!1:wt),D.pin=g,ie=X.core.getCache(g),ie.spacer?bt=ie.pinState:(k&&(k=js(k),k&&!k.nodeType&&(k=k.current||k.nativeElement),ie.spacerIsNative=!!k,k&&(ie.spacerState=Nd(k))),ie.spacer=ke=k||ze.createElement("div"),ke.classList.add("pin-spacer"),c&&ke.classList.add("pin-spacer-"+c),ie.pinState=bt=Nd(g)),n.force3D!==!1&&X.set(g,{force3D:!0}),D.spacer=ke=ie.spacer,Ci=ur(g),Yl=Ci[p+C.os2],Je=X.getProperty(g),Cr=X.quickSetter(g,C.a,Tt),Ah(g,ke,Ci),Yt=Nd(g)),M){te=Ba(M)?Py(M,My):My,V=jd("scroller-start",c,I,C,te,0),U=jd("scroller-end",c,I,C,te,0,V),Ls=V["offset"+C.op.d2];var ql=js(ua(I,"content")||I);Re=this.markerStart=jd("start",c,ql,C,te,Ls,0,T),De=this.markerEnd=jd("end",c,ql,C,te,Ls,0,T),T&&(ki=X.quickSetter([Re,De],C.a,Tt)),!L&&!(tn.length&&ua(I,"fixedMarkers")===!0)&&(yC(_?Ae:I),X.set([V,U],{force3D:!0}),Hc=X.quickSetter(V,C.a,Tt),Si=X.quickSetter(U,C.a,Tt))}if(T){var pe=T.vars.onUpdate,ce=T.vars.onUpdateParams;T.eventCallback("onUpdate",function(){D.update(0,0,1),pe&&pe.apply(T,ce||[])})}if(D.previous=function(){return ge[ge.indexOf(D)-1]},D.next=function(){return ge[ge.indexOf(D)+1]},D.revert=function(Y,he){if(!he)return D.kill(!0);var ae=Y!==!1||!D.enabled,fe=es;ae!==D.isReverted&&(ae&&(Er=Math.max(q(),D.scroll.rec||0),H=D.progress,Ma=a&&a.progress()),Re&&[Re,De,V,U].forEach(function(Mt){return Mt.style.display=ae?"none":"block"}),ae&&(es=D,D.update(ae)),g&&(!w||!D.isActive)&&(ae?wC(g,ke,bt):Ah(g,ke,ur(g),jt)),ae||D.update(ae),es=fe,D.isReverted=ae)},D.refresh=function(Y,he,ae,fe){if(!((es||!D.enabled)&&!he)){if(g&&Y&&yr){Rt(t,"scrollEnd",iN);return}!fs&&z&&z(D),es=D,ne.tween&&!ae&&(ne.tween.kill(),ne.tween=0),ve&&ve.pause(),x&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren&&a.getChildren(!0,!0,!1).forEach(function(In){return In.vars.immediateRender&&In.render(0,!0,!0)})),D.isReverted||D.revert(!0,!0),D._subPinOffset=!1;var Mt=Z(),Ne=B(),ft=T?T.duration():Xr(I,C),qt=le<=.01||!le,ct=0,qe=fe||0,Le=Ba(ae)?ae.end:n.end,Ar=n.endTrigger||h,et=Ba(ae)?ae.start:n.start||(n.start===0||!h?0:g?"0 0":"0 100%"),Fs=D.pinnedContainer=n.pinnedContainer&&js(n.pinnedContainer,D),Ur=h&&Math.max(0,ge.indexOf(D))||0,$t=Ur,Ut,Zt,Ia,Kc,Qt,kt,Br,Bm,Wg,Zl,zr,Ql,Yc;for(M&&Ba(ae)&&(Ql=X.getProperty(V,C.p),Yc=X.getProperty(U,C.p));$t-- >0;)kt=ge[$t],kt.end||kt.refresh(0,1)||(es=D),Br=kt.pin,Br&&(Br===h||Br===g||Br===Fs)&&!kt.isReverted&&(Zl||(Zl=[]),Zl.unshift(kt),kt.revert(!0,!0)),kt!==ge[$t]&&(Ur--,$t--);for(as(et)&&(et=et(D)),et=Ty(et,"start",D),re=Ly(et,h,Mt,C,q(),Re,V,D,Ne,$,L,ft,T,D._startClamp&&"_startClamp")||(g?-.001:0),as(Le)&&(Le=Le(D)),Us(Le)&&!Le.indexOf("+=")&&(~Le.indexOf(" ")?Le=(Us(et)?et.split(" ")[0]:"")+Le:(ct=qd(Le.substr(2),Mt),Le=Us(et)?et:(T?X.utils.mapRange(0,T.duration(),T.scrollTrigger.start,T.scrollTrigger.end,re):re)+ct,Ar=h)),Le=Ty(Le,"end",D),ee=Math.max(re,Ly(Le||(Ar?"100% 0":ft),Ar,Mt,C,q()+ct,De,U,D,Ne,$,L,ft,T,D._endClamp&&"_endClamp"))||-.001,ct=0,$t=Ur;$t--;)kt=ge[$t],Br=kt.pin,Br&&kt.start-kt._pinPush<=re&&!T&&kt.end>0&&(Ut=kt.end-(D._startClamp?Math.max(0,kt.start):kt.start),(Br===h&&kt.start-kt._pinPush<re||Br===Fs)&&isNaN(et)&&(ct+=Ut*(1-kt.progress)),Br===g&&(qe+=Ut));if(re+=ct,ee+=ct,D._startClamp&&(D._startClamp+=ct),D._endClamp&&!fs&&(D._endClamp=ee||-.001,ee=Math.min(ee,Xr(I,C))),le=ee-re||(re-=.01)&&.001,qt&&(H=X.utils.clamp(0,1,X.utils.normalize(re,ee,Er))),D._pinPush=qe,Re&&ct&&(Ut={},Ut[C.a]="+="+ct,Fs&&(Ut[C.p]="-="+q()),X.set([Re,De],Ut)),g&&!(jf&&D.end>=Xr(I,C)))Ut=ur(g),Kc=C===At,Ia=q(),rr=parseFloat(Je(C.a))+qe,!ft&&ee>1&&(zr=(_?ze.scrollingElement||zs:I).style,zr={style:zr,value:zr["overflow"+C.a.toUpperCase()]},_&&ur(Ae)["overflow"+C.a.toUpperCase()]!=="scroll"&&(zr.style["overflow"+C.a.toUpperCase()]="scroll")),Ah(g,ke,Ut),Yt=Nd(g),Zt=pn(g,!0),Bm=L&&ba(I,Kc?gs:At)(),p?(jt=[p+C.os2,le+qe+Tt],jt.t=ke,$t=p===wt?Bu(g,C)+le+qe:0,$t&&(jt.push(C.d,$t+Tt),ke.style.flexBasis!=="auto"&&(ke.style.flexBasis=$t+Tt)),xl(jt),Fs&&ge.forEach(function(In){In.pin===Fs&&In.vars.pinSpacing!==!1&&(In._subPinOffset=!0)}),L&&q(Er)):($t=Bu(g,C),$t&&ke.style.flexBasis!=="auto"&&(ke.style.flexBasis=$t+Tt)),L&&(Qt={top:Zt.top+(Kc?Ia-re:Bm)+Tt,left:Zt.left+(Kc?Bm:Ia-re)+Tt,boxSizing:"border-box",position:"fixed"},Qt[ai]=Qt["max"+Ll]=Math.ceil(Zt.width)+Tt,Qt[ii]=Qt["max"+lg]=Math.ceil(Zt.height)+Tt,Qt[dr]=Qt[dr+zo]=Qt[dr+Uo]=Qt[dr+Wo]=Qt[dr+Bo]="0",Qt[wt]=Ut[wt],Qt[wt+zo]=Ut[wt+zo],Qt[wt+Uo]=Ut[wt+Uo],Qt[wt+Wo]=Ut[wt+Wo],Qt[wt+Bo]=Ut[wt+Bo],ht=SC(bt,Qt,w),fs&&q(0)),a?(Wg=a._initted,Sh(1),a.render(a.duration(),!0,!0),an=Je(C.a)-rr+le+qe,ln=Math.abs(le-an)>1,L&&ln&&ht.splice(ht.length-2,2),a.render(0,!0,!0),Wg||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),Sh(0)):an=le,zr&&(zr.value?zr.style["overflow"+C.a.toUpperCase()]=zr.value:zr.style.removeProperty("overflow-"+C.a));else if(h&&q()&&!T)for(Zt=h.parentNode;Zt&&Zt!==Ae;)Zt._pinOffset&&(re-=Zt._pinOffset,ee-=Zt._pinOffset),Zt=Zt.parentNode;Zl&&Zl.forEach(function(In){return In.revert(!1,!0)}),D.start=re,D.end=ee,J=oe=fs?Er:q(),!T&&!fs&&(J<Er&&q(Er),D.scroll.rec=0),D.revert(!1,!0),K=ss(),Tr&&(G=-1,Tr.restart(!0)),es=0,a&&A&&(a._initted||Ma)&&a.progress()!==Ma&&a.progress(Ma||0,!0).render(a.time(),!0,!0),(qt||H!==D.progress||T||x||a&&!a._initted)&&(a&&!A&&(a._initted||H||a.vars.immediateRender!==!1)&&a.totalProgress(T&&re<-.001&&!H?X.utils.normalize(re,ee,0):H,!0),D.progress=qt||(J-re)/le===H?0:H),g&&p&&(ke._pinOffset=Math.round(D.progress*an)),ve&&ve.invalidate(),isNaN(Ql)||(Ql-=X.getProperty(V,C.p),Yc-=X.getProperty(U,C.p),wd(V,C,Ql),wd(Re,C,Ql-(fe||0)),wd(U,C,Yc),wd(De,C,Yc-(fe||0))),qt&&!fs&&D.update(),m&&!fs&&!Se&&(Se=!0,m(D),Se=!1)}},D.getVelocity=function(){return(q()-oe)/(ss()-vo)*1e3||0},D.endAnimation=function(){oo(D.callbackAnimation),a&&(ve?ve.progress(1):a.paused()?A||oo(a,D.direction<0,1):oo(a,a.reversed()))},D.labelToScroll=function(Y){return a&&a.labels&&(re||D.refresh()||re)+a.labels[Y]/a.duration()*le||0},D.getTrailing=function(Y){var he=ge.indexOf(D),ae=D.direction>0?ge.slice(0,he).reverse():ge.slice(he+1);return(Us(Y)?ae.filter(function(fe){return fe.vars.preventOverlaps===Y}):ae).filter(function(fe){return D.direction>0?fe.end<=re:fe.start>=ee})},D.update=function(Y,he,ae){if(!(T&&!ae&&!Y)){var fe=fs===!0?Er:D.scroll(),Mt=Y?0:(fe-re)/le,Ne=Mt<0?0:Mt>1?1:Mt||0,ft=D.progress,qt,ct,qe,Le,Ar,et,Fs,Ur;if(he&&(oe=J,J=T?q():fe,N&&(Da=Mn,Mn=a&&!A?a.totalProgress():Ne)),j&&g&&!es&&!gd&&yr&&(!Ne&&re<fe+(fe-oe)/(ss()-vo)*j?Ne=1e-4:Ne===1&&ee>fe+(fe-oe)/(ss()-vo)*j&&(Ne=.9999)),Ne!==ft&&D.enabled){if(qt=D.isActive=!!Ne&&Ne<1,ct=!!ft&&ft<1,et=qt!==ct,Ar=et||!!Ne!=!!ft,D.direction=Ne>ft?1:-1,D.progress=Ne,Ar&&!es&&(qe=Ne&&!ft?0:Ne===1?1:ft===1?2:3,A&&(Le=!et&&F[qe+1]!=="none"&&F[qe+1]||F[qe],Ur=a&&(Le==="complete"||Le==="reset"||Le in a))),E&&(et||Ur)&&(Ur||u||!a)&&(as(E)?E(D):D.getTrailing(E).forEach(function(Ia){return Ia.endAnimation()})),A||(ve&&!es&&!gd?(ve._dp._time-ve._start!==ve._time&&ve.render(ve._dp._time-ve._start),ve.resetTo?ve.resetTo("totalProgress",Ne,a._tTime/a._tDur):(ve.vars.totalProgress=Ne,ve.invalidate().restart())):a&&a.totalProgress(Ne,!!(es&&(K||Y)))),g){if(Y&&p&&(ke.style[p+C.os2]=Yl),!L)Cr(jo(rr+an*Ne));else if(Ar){if(Fs=!Y&&Ne>ft&&ee+1>fe&&fe+1>=Xr(I,C),w)if(!Y&&(qt||Fs)){var $t=pn(g,!0),Ut=fe-re;Fy(g,Ae,$t.top+(C===At?Ut:0)+Tt,$t.left+(C===At?0:Ut)+Tt)}else Fy(g,ke);xl(qt||Fs?ht:Yt),ln&&Ne<1&&qt||Cr(rr+(Ne===1&&!Fs?an:0))}}N&&!ne.tween&&!es&&!gd&&Tr.restart(!0),o&&(et||b&&Ne&&(Ne<1||!Ch))&&wc(o.targets).forEach(function(Ia){return Ia.classList[qt||b?"add":"remove"](o.className)}),l&&!A&&!Y&&l(D),Ar&&!es?(A&&(Ur&&(Le==="complete"?a.pause().totalProgress(1):Le==="reset"?a.restart(!0).pause():Le==="restart"?a.restart(!0):a[Le]()),l&&l(D)),(et||!Ch)&&(d&&et&&Th(D,d),R[qe]&&Th(D,R[qe]),b&&(Ne===1?D.kill(!1,1):R[qe]=0),et||(qe=Ne===1?1:3,R[qe]&&Th(D,R[qe]))),P&&!qt&&Math.abs(D.getVelocity())>(No(P)?P:2500)&&(oo(D.callbackAnimation),ve?ve.progress(1):oo(a,Le==="reverse"?1:!Ne,1))):A&&l&&!es&&l(D)}if(Si){var Zt=T?fe/T.duration()*(T._caScrollDist||0):fe;Hc(Zt+(V._isFlipped?1:0)),Si(Zt)}ki&&ki(-fe/T.duration()*(T._caScrollDist||0))}},D.enable=function(Y,he){D.enabled||(D.enabled=!0,Rt(I,"resize",wo),_||Rt(I,"scroll",Di),z&&Rt(t,"refreshInit",z),Y!==!1&&(D.progress=H=0,J=oe=G=q()),he!==!1&&D.refresh())},D.getTween=function(Y){return Y&&ne?ne.tween:ve},D.setPositions=function(Y,he,ae,fe){if(T){var Mt=T.scrollTrigger,Ne=T.duration(),ft=Mt.end-Mt.start;Y=Mt.start+ft*Y/Ne,he=Mt.start+ft*he/Ne}D.refresh(!1,!1,{start:Ey(Y,ae&&!!D._startClamp),end:Ey(he,ae&&!!D._endClamp)},fe),D.update()},D.adjustPinSpacing=function(Y){if(jt&&Y){var he=jt.indexOf(C.d)+1;jt[he]=parseFloat(jt[he])+Y+Tt,jt[1]=parseFloat(jt[1])+Y+Tt,xl(jt)}},D.disable=function(Y,he){if(D.enabled&&(Y!==!1&&D.revert(!0,!0),D.enabled=D.isActive=!1,he||ve&&ve.pause(),Er=0,ie&&(ie.uncache=1),z&&It(t,"refreshInit",z),Tr&&(Tr.pause(),ne.tween&&ne.tween.kill()&&(ne.tween=0)),!_)){for(var ae=ge.length;ae--;)if(ge[ae].scroller===I&&ge[ae]!==D)return;It(I,"resize",wo),_||It(I,"scroll",Di)}},D.kill=function(Y,he){D.disable(Y,he),ve&&!he&&ve.kill(),c&&delete Nf[c];var ae=ge.indexOf(D);ae>=0&&ge.splice(ae,1),ae===hs&&Qd>0&&hs--,ae=0,ge.forEach(function(fe){return fe.scroller===D.scroller&&(ae=1)}),ae||fs||(D.scroll.rec=0),a&&(a.scrollTrigger=null,Y&&a.revert({kill:!1}),he||a.kill()),Re&&[Re,De,V,U].forEach(function(fe){return fe.parentNode&&fe.parentNode.removeChild(fe)}),Go===D&&(Go=0),g&&(ie&&(ie.uncache=1),ae=0,ge.forEach(function(fe){return fe.pin===g&&ae++}),ae||(ie.spacer=0)),n.onKill&&n.onKill(D)},ge.push(D),D.enable(!1,!1),on&&on(D),a&&a.add&&!le){var Te=D.update;D.update=function(){D.update=Te,ye.cache++,re||ee||D.refresh()},X.delayedCall(.01,D.update),le=.01,re=ee=0}else D.refresh();g&&NC()},t.register=function(n){return Li||(X=n||eN(),Jj()&&window.document&&t.enable(),Li=bo),Li},t.defaults=function(n){if(n)for(var a in n)bd[a]=n[a];return bd},t.disable=function(n,a){bo=0,ge.forEach(function(l){return l[a?"kill":"disable"](n)}),It(xe,"wheel",Di),It(ze,"scroll",Di),clearInterval(pd),It(ze,"touchcancel",Yr),It(Ae,"touchstart",Yr),yd(It,ze,"pointerdown,touchstart,mousedown",Ay),yd(It,ze,"pointerup,touchend,mouseup",Dy),$u.kill(),xd(It);for(var i=0;i<ye.length;i+=3)vd(It,ye[i],ye[i+1]),vd(It,ye[i],ye[i+2])},t.enable=function(){if(xe=window,ze=document,zs=ze.documentElement,Ae=ze.body,X&&(wc=X.utils.toArray,$o=X.utils.clamp,bf=X.core.context||Yr,Sh=X.core.suppressOverwrites||Yr,rg=xe.history.scrollRestoration||"auto",wf=xe.pageYOffset||0,X.core.globals("ScrollTrigger",t),Ae)){bo=1,gl=document.createElement("div"),gl.style.height="100vh",gl.style.position="absolute",cN(),pC(),yt.register(X),t.isTouch=yt.isTouch,Vn=yt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),vf=yt.isTouch===1,Rt(xe,"wheel",Di),sg=[xe,ze,zs,Ae],X.matchMedia?(t.matchMedia=function(d){var m=X.matchMedia(),u;for(u in d)m.add(u,d[u]);return m},X.addEventListener("matchMediaInit",function(){return cg()}),X.addEventListener("matchMediaRevert",function(){return lN()}),X.addEventListener("matchMedia",function(){Qa(0,1),gi("matchMedia")}),X.matchMedia().add("(orientation: portrait)",function(){return Eh(),Eh})):console.warn("Requires GSAP 3.11.0 or later"),Eh(),Rt(ze,"scroll",Di);var n=Ae.hasAttribute("style"),a=Ae.style,i=a.borderTopStyle,l=X.core.Animation.prototype,o,c;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",o=pn(Ae),At.m=Math.round(o.top+At.sc())||0,gs.m=Math.round(o.left+gs.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(Ae.setAttribute("style",""),Ae.removeAttribute("style")),pd=setInterval(Iy,250),X.delayedCall(.5,function(){return gd=0}),Rt(ze,"touchcancel",Yr),Rt(Ae,"touchstart",Yr),yd(Rt,ze,"pointerdown,touchstart,mousedown",Ay),yd(Rt,ze,"pointerup,touchend,mouseup",Dy),yf=X.utils.checkPrefix("transform"),Xd.push(yf),Li=ss(),$u=X.delayedCall(.2,Qa).pause(),Fi=[ze,"visibilitychange",function(){var d=xe.innerWidth,m=xe.innerHeight;ze.hidden?(Cy=d,ky=m):(Cy!==d||ky!==m)&&wo()},ze,"DOMContentLoaded",Qa,xe,"load",Qa,xe,"resize",wo],xd(Rt),ge.forEach(function(d){return d.enable(0,1)}),c=0;c<ye.length;c+=3)vd(It,ye[c],ye[c+1]),vd(It,ye[c],ye[c+2])}},t.config=function(n){"limitCallbacks"in n&&(Ch=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(pd)||(pd=a)&&setInterval(Iy,a),"ignoreMobileResize"in n&&(vf=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(xd(It)||xd(Rt,n.autoRefreshEvents||"none"),Zj=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,a){var i=js(n),l=ye.indexOf(i),o=fi(i);~l&&ye.splice(l,o?6:2),a&&(o?tn.unshift(xe,a,Ae,a,zs,a):tn.unshift(i,a))},t.clearMatchMedia=function(n){ge.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},t.isInViewport=function(n,a,i){var l=(Us(n)?js(n):n).getBoundingClientRect(),o=l[i?ai:ii]*a||0;return i?l.right-o>0&&l.left+o<xe.innerWidth:l.bottom-o>0&&l.top+o<xe.innerHeight},t.positionInViewport=function(n,a,i){Us(n)&&(n=js(n));var l=n.getBoundingClientRect(),o=l[i?ai:ii],c=a==null?o/2:a in zu?zu[a]*o:~a.indexOf("%")?parseFloat(a)*o/100:parseFloat(a)||0;return i?(l.left+c)/xe.innerWidth:(l.top+c)/xe.innerHeight},t.killAll=function(n){if(ge.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=pi.killAll||[];pi={},a.forEach(function(i){return i()})}},t}();be.version="3.13.0";be.saveStyles=function(t){return t?wc(t).forEach(function(e){if(e&&e.style){var s=Vs.indexOf(e);s>=0&&Vs.splice(s,5),Vs.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),X.core.getCache(e),bf())}}):Vs};be.revert=function(t,e){return cg(!t,e)};be.create=function(t,e){return new be(t,e)};be.refresh=function(t){return t?wo(!0):(Li||be.register())&&Qa(!0)};be.update=function(t){return++ye.cache&&jn(t===!0?2:0)};be.clearScrollMemory=oN;be.maxScroll=function(t,e){return Xr(t,e?gs:At)};be.getScrollFunc=function(t,e){return ba(js(t),e?gs:At)};be.getById=function(t){return Nf[t]};be.getAll=function(){return ge.filter(function(t){return t.vars.id!=="ScrollSmoother"})};be.isScrolling=function(){return!!yr};be.snapDirectional=og;be.addEventListener=function(t,e){var s=pi[t]||(pi[t]=[]);~s.indexOf(e)||s.push(e)};be.removeEventListener=function(t,e){var s=pi[t],n=s&&s.indexOf(e);n>=0&&s.splice(n,1)};be.batch=function(t,e){var s=[],n={},a=e.interval||.016,i=e.batchMax||1e9,l=function(d,m){var u=[],h=[],g=X.delayedCall(a,function(){m(u,h),u=[],h=[]}).pause();return function(p){u.length||g.restart(!0),u.push(p.trigger),h.push(p),i<=u.length&&g.progress(1)}},o;for(o in e)n[o]=o.substr(0,2)==="on"&&as(e[o])&&o!=="onRefreshInit"?l(o,e[o]):e[o];return as(i)&&(i=i(),Rt(be,"refresh",function(){return i=e.batchMax()})),wc(t).forEach(function(c){var d={};for(o in n)d[o]=n[o];d.trigger=c,s.push(be.create(d))}),s};var $y=function(e,s,n,a){return s>a?e(a):s<0&&e(0),n>a?(a-s)/(n-s):n<0?s/(s-n):1},Dh=function t(e,s){s===!0?e.style.removeProperty("touch-action"):e.style.touchAction=s===!0?"auto":s?"pan-"+s+(yt.isTouch?" pinch-zoom":""):"none",e===zs&&t(Ae,s)},_d={auto:1,scroll:1},kC=function(e){var s=e.event,n=e.target,a=e.axis,i=(s.changedTouches?s.changedTouches[0]:s).target,l=i._gsap||X.core.getCache(i),o=ss(),c;if(!l._isScrollT||o-l._isScrollT>2e3){for(;i&&i!==Ae&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(_d[(c=ur(i)).overflowY]||_d[c.overflowX]));)i=i.parentNode;l._isScroll=i&&i!==n&&!fi(i)&&(_d[(c=ur(i)).overflowY]||_d[c.overflowX]),l._isScrollT=o}(l._isScroll||a==="x")&&(s.stopPropagation(),s._gsapAllow=!0)},uN=function(e,s,n,a){return yt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:s,onWheel:a=a&&kC,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Rt(ze,yt.eventTypes[0],By,!1,!0)},onDisable:function(){return It(ze,yt.eventTypes[0],By,!0)}})},TC=/(input|label|select|textarea)/i,Uy,By=function(e){var s=TC.test(e.target.tagName);(s||Uy)&&(e._gsapAllow=!0,Uy=s)},EC=function(e){Ba(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var s=e,n=s.normalizeScrollX,a=s.momentum,i=s.allowNestedScroll,l=s.onRelease,o,c,d=js(e.target)||zs,m=X.core.globals().ScrollSmoother,u=m&&m.get(),h=Vn&&(e.content&&js(e.content)||u&&e.content!==!1&&!u.smooth()&&u.content()),g=ba(d,At),p=ba(d,gs),x=1,j=(yt.isTouch&&xe.visualViewport?xe.visualViewport.scale*xe.visualViewport.width:xe.outerWidth)/xe.innerWidth,v=0,y=as(a)?function(){return a(o)}:function(){return a||2.8},b,N,w=uN(d,e.type,!0,i),k=function(){return N=!1},T=Yr,P=Yr,E=function(){c=Xr(d,At),P=$o(Vn?1:0,c),n&&(T=$o(0,Xr(d,gs))),b=li},C=function(){h._gsap.y=jo(parseFloat(h._gsap.y)+g.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",g.offset=g.cacheID=0},A=function(){if(N){requestAnimationFrame(k);var M=jo(o.deltaY/2),$=P(g.v-M);if(h&&$!==g.v+g.offset){g.offset=$-g.v;var D=jo((parseFloat(h&&h._gsap.y)||0)-g.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+D+", 0, 1)",h._gsap.y=D+"px",g.cacheID=ye.cache,jn()}return!0}g.offset&&C(),N=!0},I,S,_,L,R=function(){E(),I.isActive()&&I.vars.scrollY>c&&(g()>c?I.progress(1)&&g(c):I.resetTo("scrollY",c))};return h&&X.set(h,{y:"+=0"}),e.ignoreCheck=function(F){return Vn&&F.type==="touchmove"&&A()||x>1.05&&F.type!=="touchstart"||o.isGesturing||F.touches&&F.touches.length>1},e.onPress=function(){N=!1;var F=x;x=jo((xe.visualViewport&&xe.visualViewport.scale||1)/j),I.pause(),F!==x&&Dh(d,x>1.01?!0:n?!1:"x"),S=p(),_=g(),E(),b=li},e.onRelease=e.onGestureStart=function(F,M){if(g.offset&&C(),!M)L.restart(!0);else{ye.cache++;var $=y(),D,z;n&&(D=p(),z=D+$*.05*-F.velocityX/.227,$*=$y(p,D,z,Xr(d,gs)),I.vars.scrollX=T(z)),D=g(),z=D+$*.05*-F.velocityY/.227,$*=$y(g,D,z,Xr(d,At)),I.vars.scrollY=P(z),I.invalidate().duration($).play(.01),(Vn&&I.vars.scrollY>=c||D>=c-1)&&X.to({},{onUpdate:R,duration:$})}l&&l(F)},e.onWheel=function(){I._ts&&I.pause(),ss()-v>1e3&&(b=0,v=ss())},e.onChange=function(F,M,$,D,z){if(li!==b&&E(),M&&n&&p(T(D[2]===M?S+(F.startX-F.x):p()+M-D[1])),$){g.offset&&C();var Z=z[2]===$,B=Z?_+F.startY-F.y:g()+$-z[1],G=P(B);Z&&B!==G&&(_+=G-B),g(G)}($||M)&&jn()},e.onEnable=function(){Dh(d,n?!1:"x"),be.addEventListener("refresh",R),Rt(xe,"resize",R),g.smooth&&(g.target.style.scrollBehavior="auto",g.smooth=p.smooth=!1),w.enable()},e.onDisable=function(){Dh(d,!0),It(xe,"resize",R),be.removeEventListener("refresh",R),w.kill()},e.lockAxis=e.lockAxis!==!1,o=new yt(e),o.iOS=Vn,Vn&&!g()&&g(1),Vn&&X.ticker.add(Yr),L=o._dc,I=X.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:dN(g,g(),function(){return I.pause()})},onUpdate:jn,onComplete:L.vars.onComplete}),o};be.sort=function(t){if(as(t))return ge.sort(t);var e=xe.pageYOffset||0;return be.getAll().forEach(function(s){return s._sortY=s.trigger?e+s.trigger.getBoundingClientRect().top:s.start+xe.innerHeight}),ge.sort(t||function(s,n){return(s.vars.refreshPriority||0)*-1e6+(s.vars.containerAnimation?1e6:s._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};be.observe=function(t){return new yt(t)};be.normalizeScroll=function(t){if(typeof t>"u")return ds;if(t===!0&&ds)return ds.enable();if(t===!1){ds&&ds.kill(),ds=t;return}var e=t instanceof yt?t:EC(t);return ds&&ds.target===e.target&&ds.kill(),fi(e.target)&&(ds=e),e};be.core={_getVelocityProp:xf,_inputObserver:uN,_scrollers:ye,_proxies:tn,bridge:{ss:function(){yr||gi("scrollStart"),yr=ss()},ref:function(){return es}}};eN()&&X.registerPlugin(be);const AC="modulepreload",DC=function(t){return"/"+t},zy={},Tm=function(e,s,n){if(!s||s.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=DC(i),i in zy)return;zy[i]=!0;const l=i.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let m=a.length-1;m>=0;m--){const u=a[m];if(u.href===i&&(!l||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":AC,l||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),l)return new Promise((m,u)=>{d.addEventListener("load",m),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})},PC={product:{create:"新增商品",read:"查看商品",update:"編輯商品",delete:"刪除商品"},inventory:{create:"新增庫存",read:"查看庫存",update:"編輯庫存",delete:"刪除庫存"},order:{create:"新增訂單",read:"查看訂單",update:"編輯訂單",delete:"刪除訂單"},member:{create:"新增會員",read:"查看會員",update:"編輯會員",delete:"刪除會員"},promotion:{create:"新增優惠",read:"查看優惠",update:"編輯優惠",delete:"刪除優惠"},supplier:{create:"新增供應商",read:"查看供應商",update:"編輯供應商",delete:"刪除供應商"},analytics:{create:"新增分析",read:"查看分析",update:"編輯分析",delete:"刪除分析"},system:{create:"新增系統設定",read:"查看系統設定",update:"編輯系統設定",delete:"刪除系統設定"},notification:{create:"新增通知",read:"查看通知",update:"編輯通知",delete:"刪除通知"},content:{create:"新增內容",read:"查看內容",update:"編輯內容",delete:"刪除內容"},admin:{create:"新增管理員",read:"查看管理員",update:"編輯管理員",delete:"刪除管理員"},marketing:{create:"新增行銷",read:"查看行銷",update:"編輯行銷",delete:"刪除行銷"},purchase:{create:"新增採購",read:"查看採購",update:"編輯採購",delete:"刪除採購"},gift:{create:"新增贈品",read:"查看贈品",update:"編輯贈品",delete:"刪除贈品"}},MC=[{id:1,roleName:"超級管理員",rolePrefix:"S",permissions:Object.keys(PC).reduce((t,e)=>(t[e]={create:!0,read:!0,update:!0,delete:!0},t),{}),isSystemRole:!0},{id:2,roleName:"商品管理員",rolePrefix:"P",permissions:{product:{create:!0,read:!0,update:!0,delete:!0},inventory:{create:!0,read:!0,update:!0,delete:!1},order:{create:!1,read:!0,update:!0,delete:!1},analytics:{create:!1,read:!0,update:!1,delete:!1}},isSystemRole:!1},{id:3,roleName:"客服管理員",rolePrefix:"C",permissions:{order:{create:!1,read:!0,update:!0,delete:!1},member:{create:!1,read:!0,update:!0,delete:!1},notification:{create:!0,read:!0,update:!0,delete:!1}},isSystemRole:!1}],IC=[{id:1,employeeId:"S0001",roleId:1,email:"admin@marelle.com",displayName:"系統管理員",avatarUrl:null,isActive:!0,failedLoginAttempts:0,lockedUntil:null,lastLoginAt:null,createdAt:new Date().toISOString()}],Wy={minLength:4,maxLength:10,startNumber:1,padZeros:4},RC={maxAge:24*60*60*1e3,warningTime:10*60*1e3,extendTime:2*60*60*1e3},Ph={maxFailedAttempts:5,lockoutDuration:24*60*60*1e3,inactiveThreshold:30*24*60*60*1e3},OC=(t,e=[])=>{const s=t.toUpperCase();let n=Wy.startNumber;const a=e.filter(l=>l.startsWith(s)).map(l=>parseInt(l.substring(s.length))).filter(l=>!isNaN(l));a.length>0&&(n=Math.max(...a)+1);const i=n.toString().padStart(Wy.padZeros,"0");return`${s}${i}`},LC=(t,e,s)=>{var n;return((n=t==null?void 0:t[e])==null?void 0:n[s])===!0},FC=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let s=0;s<64;s++)e+=t.charAt(Math.floor(Math.random()*t.length));return e};function Ho(t){return btoa(String(t)+"marelle_salt")}function Gy(t,e){return Ho(t)===e}function Hy(){return"127.0.0.1"}class VC{constructor(){this.initializeData()}initializeData(){if(localStorage.getItem("admin_roles")||localStorage.setItem("admin_roles",JSON.stringify(MC)),!localStorage.getItem("admin_users")){const e=IC.map(s=>({...s,passwordHash:Ho("Admin123!")}));localStorage.setItem("admin_users",JSON.stringify(e))}localStorage.getItem("admin_sessions")||localStorage.setItem("admin_sessions",JSON.stringify([])),localStorage.getItem("admin_login_logs")||localStorage.setItem("admin_login_logs",JSON.stringify([]))}getAllRoles(){return JSON.parse(localStorage.getItem("admin_roles")||"[]")}getRoleById(e){return this.getAllRoles().find(n=>n.id===e)}createRole(e){const s=this.getAllRoles();this.getAllUsers().map(a=>a.employeeId);const n={id:Math.max(0,...s.map(a=>a.id))+1,...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return s.push(n),localStorage.setItem("admin_roles",JSON.stringify(s)),n}updateRole(e,s){const n=this.getAllRoles(),a=n.findIndex(i=>i.id===e);return a===-1?null:(n[a]={...n[a],...s,updatedAt:new Date().toISOString()},localStorage.setItem("admin_roles",JSON.stringify(n)),n[a])}deleteRole(e){const s=this.getAllRoles(),n=s.find(o=>o.id===e);if(!n||n.isSystemRole||this.getAllUsers().some(o=>o.roleId===e))return!1;const l=s.filter(o=>o.id!==e);return localStorage.setItem("admin_roles",JSON.stringify(l)),!0}getAllUsers(){return JSON.parse(localStorage.getItem("admin_users")||"[]")}getUserById(e){return this.getAllUsers().find(n=>n.id===e)}getUserByEmail(e){return this.getAllUsers().find(n=>n.email===e)}getUserByEmployeeId(e){return this.getAllUsers().find(n=>n.employeeId===e)}createUser(e){const s=this.getAllUsers(),n=this.getRoleById(e.roleId);if(!n)throw new Error("指定的角色不存在");const a=s.map(o=>o.employeeId),i=OC(n.rolePrefix,a),l={id:Math.max(0,...s.map(o=>o.id))+1,employeeId:i,...e,passwordHash:Ho(e.password),isActive:!0,failedLoginAttempts:0,lockedUntil:null,lastLoginAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return delete l.password,s.push(l),localStorage.setItem("admin_users",JSON.stringify(s)),l}updateUser(e,s){const n=this.getAllUsers(),a=n.findIndex(i=>i.id===e);return a===-1?null:(s.password&&(s.passwordHash=Ho(s.password),delete s.password),n[a]={...n[a],...s,updatedAt:new Date().toISOString()},localStorage.setItem("admin_users",JSON.stringify(n)),n[a])}deleteUser(e){const s=this.getAllUsers(),n=s.find(l=>l.id===e);if(!n)return!1;const a=this.getRoleById(n.roleId);if(a&&a.rolePrefix==="S")return!1;const i=s.filter(l=>l.id!==e);return localStorage.setItem("admin_users",JSON.stringify(i)),!0}getAllSessions(){return JSON.parse(localStorage.getItem("admin_sessions")||"[]")}createSession(e){const s=this.getAllSessions(),n=FC(),a=new Date(Date.now()+RC.maxAge),i={id:Math.max(0,...s.map(l=>l.id))+1,userId:e,sessionToken:n,expiresAt:a.toISOString(),lastActivity:new Date().toISOString(),createdAt:new Date().toISOString()};return s.push(i),localStorage.setItem("admin_sessions",JSON.stringify(s)),i}validateSession(e){const n=this.getAllSessions().find(c=>c.sessionToken===e);if(!n)return null;const a=new Date,i=new Date(n.expiresAt);if(a>i)return this.invalidateSession(e),null;this.updateSessionActivity(e);const l=this.getUserById(n.userId),o=this.getRoleById(l==null?void 0:l.roleId);return!l||!l.isActive||!o?(this.invalidateSession(e),null):{sessionId:n.id,userId:l.id,employeeId:l.employeeId,displayName:l.displayName,email:l.email,roleId:o.id,roleName:o.roleName,permissions:o.permissions,avatarUrl:l.avatarUrl,lastActivity:n.lastActivity}}updateSessionActivity(e){const s=this.getAllSessions(),n=s.findIndex(a=>a.sessionToken===e);n!==-1&&(s[n].lastActivity=new Date().toISOString(),localStorage.setItem("admin_sessions",JSON.stringify(s)))}invalidateSession(e){const n=this.getAllSessions().filter(a=>a.sessionToken!==e);localStorage.setItem("admin_sessions",JSON.stringify(n))}cleanExpiredSessions(){const e=this.getAllSessions(),s=new Date,n=e.filter(a=>{const i=new Date(a.expiresAt);return s<=i});localStorage.setItem("admin_sessions",JSON.stringify(n))}getAllLoginLogs(){return JSON.parse(localStorage.getItem("admin_login_logs")||"[]")}addLoginLog(e){const s=this.getAllLoginLogs(),n={id:Math.max(0,...s.map(a=>a.id))+1,...e,createdAt:new Date().toISOString()};return s.push(n),s.length>1e3&&s.splice(0,s.length-1e3),localStorage.setItem("admin_login_logs",JSON.stringify(s)),n}getStatistics(){const e=this.getAllUsers(),s=this.getAllRoles(),n=this.getAllSessions(),a=this.getAllLoginLogs(),i=e.filter(c=>c.isActive),l=e.filter(c=>c.lockedUntil&&new Date(c.lockedUntil)>new Date),o=n.filter(c=>new Date(c.expiresAt)>new Date);return{totalUsers:e.length,activeUsers:i.length,lockedUsers:l.length,totalRoles:s.length,activeSessions:o.length,totalLoginAttempts:a.length,successfulLogins:a.filter(c=>c.success).length,failedLogins:a.filter(c=>!c.success).length}}}const Gr=new VC,mN="admin_login_logs";function Ky(){try{return JSON.parse(localStorage.getItem(mN)||"[]")}catch{return[]}}function $C(t){localStorage.setItem(mN,JSON.stringify(t))}const co={hashPassword:Ho,verifyPassword:Gy,getClientIP:Hy,authenticate(t,e){const s=Gr.getUserByEmail(t);if(!s)return this.addLoginLog({userId:null,email:t,loginMethod:"password",success:!1,failureReason:"用戶不存在"}),{success:!1,message:"帳號或密碼錯誤"};if(s.lockedUntil&&new Date(s.lockedUntil)>new Date)return this.addLoginLog({userId:s.id,email:t,loginMethod:"password",success:!1,failureReason:"帳號被鎖定"}),{success:!1,message:"帳號已被鎖定，請聯繫管理員"};if(!s.isActive)return this.addLoginLog({userId:s.id,email:t,loginMethod:"password",success:!1,failureReason:"帳號已停用"}),{success:!1,message:"帳號已停用"};if(!Gy(e,s.passwordHash)){const i=(s.failedLoginAttempts||0)+1,l={failedLoginAttempts:i};return i>=Ph.maxFailedAttempts&&(l.lockedUntil=new Date(Date.now()+Ph.lockoutDuration).toISOString()),Gr.updateUser(s.id,l),this.addLoginLog({userId:s.id,email:t,loginMethod:"password",success:!1,failureReason:"密碼錯誤"}),{success:!1,message:i>=Ph.maxFailedAttempts?"密碼錯誤次數過多，帳號已被鎖定":"帳號或密碼錯誤"}}Gr.updateUser(s.id,{failedLoginAttempts:0,lockedUntil:null,lastLoginAt:new Date().toISOString()});const a=Gr.createSession(s.id);return this.addLoginLog({userId:s.id,email:t,loginMethod:"password",success:!0,failureReason:null}),{success:!0,sessionToken:a.sessionToken,user:Gr.validateSession(a.sessionToken)}},addLoginLog(t){const e=Ky(),s={id:Math.max(0,...e.map(n=>n.id))+1,ipAddress:Hy(),userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",createdAt:new Date().toISOString(),...t};return e.push(s),e.length>1e3&&e.splice(0,e.length-1e3),$C(e),s},getAllLoginLogs(){return Ky()},validateSession(t){return Gr.validateSession(t)},updateSessionActivity(t){return Gr.updateSessionActivity(t)},invalidateSession(t){return Gr.invalidateSession(t)},cleanExpiredSessions(){return Gr.cleanExpiredSessions()}},hN=f.createContext(),UC=({children:t})=>{const[e,s]=f.useState(null),[n,a]=f.useState(!1),[i,l]=f.useState(0);f.useEffect(()=>{const j=localStorage.getItem("marelle-admin-token");if(j){const v=co.validateSession(j);v?(s(v),o(v)):localStorage.removeItem("marelle-admin-token")}},[]);const o=j=>{const y=new Date(j.lastActivity).getTime()+864e5-10*60*1e3,b=Date.now();y>b&&setTimeout(()=>{c()},y-b)},c=()=>{a(!0),l(10*60);const j=setInterval(()=>{l(v=>v<=1?(clearInterval(j),m(),0):v-1)},1e3)},d=()=>{const j=localStorage.getItem("marelle-admin-token");if(j){co.updateSessionActivity(j),a(!1),l(0);const v=co.validateSession(j);v&&o(v)}},m=()=>{h(),alert("會話已到期，請重新登入")},u=j=>{const v=co.authenticate(j.email,j.password);return v.success?(localStorage.setItem("marelle-admin-token",v.sessionToken),s(v.user),o(v.user),{success:!0}):v},h=()=>{const j=localStorage.getItem("marelle-admin-token");j&&co.invalidateSession(j),localStorage.removeItem("marelle-admin-token"),s(null),a(!1),l(0)},g=(j,v)=>e?LC(e.permissions,j,v):!1,p=j=>{const v=Math.floor(j/60),y=j%60;return`${v}:${y.toString().padStart(2,"0")}`},x={currentUser:e,login:u,logout:h,checkPermission:g,isAuthenticated:!!e};return r.jsxs(hN.Provider,{value:x,children:[t,n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100000]",children:r.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 font-chinese",children:"會話即將到期"}),r.jsxs("p",{className:"text-gray-600 mb-4 font-chinese",children:["您的會話將在 ",r.jsx("span",{className:"font-bold text-red-600",children:p(i)})," 後到期"]}),r.jsx("p",{className:"text-sm text-gray-500 mb-6 font-chinese",children:"是否要繼續操作？"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:d,className:"flex-1 px-4 py-3 bg-[#cc824d] text-white rounded-xl hover:bg-[#b3723f] transition-colors font-chinese",children:"繼續操作"}),r.jsx("button",{onClick:h,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-chinese",children:"登出"})]})]})})})]})},dg=()=>{const t=f.useContext(hN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},BC=({children:t})=>{const{currentUser:e}=dg();return e?t:r.jsx(Fn,{to:"/login",replace:!0})},zC=({email:t})=>{const[e,s]=f.useState(null);if(f.useEffect(()=>{if(t){const i=Gr.getUserByEmail(t);s(i)}},[t]),!e||e.failedLoginAttempts===0)return null;const n=5-e.failedLoginAttempts;return e.lockedUntil&&new Date(e.lockedUntil)>new Date?r.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-800 font-chinese",children:"帳號已被鎖定"}),r.jsx("p",{className:"text-xs text-red-600 font-chinese",children:"請聯繫管理員解鎖或等待24小時後自動解鎖"})]})]})}):r.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-yellow-800 font-chinese",children:["登入失敗 ",e.failedLoginAttempts," 次"]}),r.jsxs("p",{className:"text-xs text-yellow-600 font-chinese",children:["還有 ",n," 次機會，超過將被鎖定24小時"]})]})]})})},WC={settings:{theme:"light",language:"zh-TW",currency:"TWD",timezone:"Asia/Taipei"},stats:{totalProducts:0,totalOrders:0,totalCustomers:0,totalRevenue:0,loading:!1},notifications:[],loading:{global:!1,dashboard:!1,products:!1,orders:!1,customers:!1},errors:{}},$e={SET_SETTING:"SET_SETTING",SET_SETTINGS:"SET_SETTINGS",SET_STATS:"SET_STATS",UPDATE_STAT:"UPDATE_STAT",SET_STATS_LOADING:"SET_STATS_LOADING",ADD_NOTIFICATION:"ADD_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",CLEAR_NOTIFICATIONS:"CLEAR_NOTIFICATIONS",SET_LOADING:"SET_LOADING",SET_GLOBAL_LOADING:"SET_GLOBAL_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",CLEAR_ALL_ERRORS:"CLEAR_ALL_ERRORS"},GC=(t,e)=>{switch(e.type){case $e.SET_SETTING:return{...t,settings:{...t.settings,[e.payload.key]:e.payload.value}};case $e.SET_SETTINGS:return{...t,settings:{...t.settings,...e.payload}};case $e.SET_STATS:return{...t,stats:{...t.stats,...e.payload}};case $e.UPDATE_STAT:return{...t,stats:{...t.stats,[e.payload.key]:e.payload.value}};case $e.SET_STATS_LOADING:return{...t,stats:{...t.stats,loading:e.payload}};case $e.ADD_NOTIFICATION:return{...t,notifications:[...t.notifications,{id:Date.now(),timestamp:new Date,...e.payload}]};case $e.REMOVE_NOTIFICATION:return{...t,notifications:t.notifications.filter(n=>n.id!==e.payload)};case $e.CLEAR_NOTIFICATIONS:return{...t,notifications:[]};case $e.SET_LOADING:return{...t,loading:{...t.loading,[e.payload.key]:e.payload.value}};case $e.SET_GLOBAL_LOADING:return{...t,loading:{...t.loading,global:e.payload}};case $e.SET_ERROR:return{...t,errors:{...t.errors,[e.payload.key]:e.payload.error}};case $e.CLEAR_ERROR:const s={...t.errors};return delete s[e.payload],{...t,errors:s};case $e.CLEAR_ALL_ERRORS:return{...t,errors:{}};default:return t}},HC=f.createContext(),KC=({children:t})=>{const[e,s]=f.useReducer(GC,WC);f.useEffect(()=>{const a=localStorage.getItem("appSettings");if(a)try{const i=JSON.parse(a);s({type:$e.SET_SETTINGS,payload:i})}catch(i){console.error("Failed to load settings:",i)}},[]),f.useEffect(()=>{localStorage.setItem("appSettings",JSON.stringify(e.settings))},[e.settings]);const n={setSetting:(a,i)=>{s({type:$e.SET_SETTING,payload:{key:a,value:i}})},setSettings:a=>{s({type:$e.SET_SETTINGS,payload:a})},setStats:a=>{s({type:$e.SET_STATS,payload:a})},updateStat:(a,i)=>{s({type:$e.UPDATE_STAT,payload:{key:a,value:i}})},setStatsLoading:a=>{s({type:$e.SET_STATS_LOADING,payload:a})},addNotification:a=>{s({type:$e.ADD_NOTIFICATION,payload:a}),a.autoRemove!==!1&&setTimeout(()=>{n.removeNotification(a.id||Date.now())},a.duration||5e3)},removeNotification:a=>{s({type:$e.REMOVE_NOTIFICATION,payload:a})},clearNotifications:()=>{s({type:$e.CLEAR_NOTIFICATIONS})},setLoading:(a,i)=>{s({type:$e.SET_LOADING,payload:{key:a,value:i}})},setGlobalLoading:a=>{s({type:$e.SET_GLOBAL_LOADING,payload:a})},setError:(a,i)=>{s({type:$e.SET_ERROR,payload:{key:a,error:i}})},clearError:a=>{s({type:$e.CLEAR_ERROR,payload:a})},clearAllErrors:()=>{s({type:$e.CLEAR_ALL_ERRORS})}};return r.jsx(HC.Provider,{value:{state:e,actions:n},children:t})},xi=({tabs:t=[],className:e="",basePath:s="",layout:n="center",showDescription:a=!1,onTabChange:i=null,mode:l="route",activeKey:o=null})=>{const c=ka(),d=g=>(g.path||"").startsWith("/")?g.path:`${s}${g.path||""}`,m=g=>{if(l==="controlled"){const v=g.key||g.label;return o===v}const p=d(g),x=c.pathname;if(p==="/")return x==="/"||x==="";if(x===p)return!0;const j=t.filter(v=>{const y=d(v);return x===y||x.startsWith(y+"/")});if(j.length>1){const v=j.reduce((y,b)=>{const N=d(y),w=d(b);return N.length>w.length?y:b});return d(v)===p}return!!(j.length===1&&x.startsWith(p+"/"))},u=g=>{i&&typeof i=="function"&&i(g)},h=()=>{switch(n){case"left":return"justify-start";case"right":return"justify-end";case"center":default:return"justify-center"}};return!t||t.length===0?null:r.jsx("div",{className:`flex items-center space-x-6 h-16 flex-1 ${h()} ${e}`,children:t.map(g=>{const p=m(g),x=g.key||g.label;return r.jsx("div",{className:"relative h-full flex items-center group",title:a&&g.description?g.description:void 0,children:l==="controlled"?r.jsxs("button",{type:"button",onClick:()=>u(g),className:`font-medium font-serif text-sm tracking-wide transition-colors relative px-3 py-4 h-full flex items-center ${p?"text-[#cc824d]":"text-gray-700 hover:text-[#cc824d]"}`,children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx("span",{children:g.label}),g.icon&&r.jsx("span",{className:"ml-1",children:typeof g.icon=="string"?r.jsx("i",{className:g.icon}):g.icon}),g.count!==void 0&&g.count!==null&&r.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-[#cc824d]/20 text-[#cc824d] rounded-full min-w-[20px] text-center",children:g.count})]}),r.jsx("span",{className:`absolute left-0 bottom-0 h-0.5 bg-[#cc824d] transition-all duration-300 ${p?"w-full":"w-0 group-hover:w-full"}`})]}):r.jsxs(Bb,{to:d(g),onClick:()=>u(g),className:`font-medium font-serif text-sm tracking-wide transition-colors relative px-3 py-4 h-full flex items-center ${p?"text-[#cc824d]":"text-gray-700 hover:text-[#cc824d]"}`,children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx("span",{children:g.label}),g.icon&&r.jsx("span",{className:"ml-1",children:typeof g.icon=="string"?r.jsx("i",{className:g.icon}):g.icon}),g.count!==void 0&&g.count!==null&&r.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-[#cc824d]/20 text-[#cc824d] rounded-full min-w-[20px] text-center",children:g.count})]}),r.jsx("span",{className:`absolute left-0 bottom-0 h-0.5 bg-[#cc824d] transition-all duration-300 ${p?"w-full":"w-0 group-hover:w-full"}`})]})},x)})})},YC=[{label:"概覽",path:"/dashboard/overview"},{label:"銷售分析",path:"/dashboard/sales-analytics"},{label:"營運管理",path:"/dashboard/operations"},{label:"財務報告",path:"/dashboard/finance"},{label:"物流管理",path:"/dashboard/logistics"},{label:"任務管理",path:"/dashboard/tasks"},{label:"審批管理",path:"/dashboard/approvals"},{label:"即時監控",path:"/dashboard/realtime"}],qC=[{label:"產品列表",path:"/products"},{label:"新增產品",path:"/products/add"}],ZC=[{label:"訂單列表",path:"/orders"},{label:"訂單管理",path:"/orders/management"},{label:"新增訂單",path:"/orders/new"}],QC=[{label:"會員管理",path:"/members"}],XC=[{label:"供應商列表",path:"/suppliers"}],JC=[{label:"採購概覽",path:"/procurement"},{label:"供應商管理",path:"/procurement/suppliers"}],ek=[{label:"物流追蹤",path:"/logistics"}],tk=[{label:"優惠券管理",path:"/coupons"},{label:"分享管理",path:"/coupons/sharing"},{label:"叠加規則",path:"/coupons/stacking-rules"}],sk=[{label:"優惠券管理",path:"/marketing/coupons"},{label:"節慶管理",path:"/marketing/festivals"},{label:"贈品管理",path:"/marketing/gifts"}],rk=[{label:"通知歷史",path:"/notifications"},{label:"Line 一般訊息",path:"/notifications/line-text"},{label:"Line Flex message",path:"/notifications/line-flex"},{label:"Mail 一般訊息",path:"/notifications/mail-text"},{label:"Mail html",path:"/notifications/mail-html"},{label:"SMS",path:"/notifications/sms"},{label:"網站通知",path:"/notifications/web"}],nk=[{label:"會計概覽",path:"/accounting"},{label:"會計管理",path:"/accounting/management"},{label:"會計科目",path:"/accounting/chart-of-accounts"},{label:"日記帳分錄",path:"/accounting/journal-entries"},{label:"財務報告",path:"/accounting/financial-reports"},{label:"銀行對帳",path:"/accounting/bank-reconciliation"}],ak=[{label:"分析概覽",path:"/analytics"},{label:"主分析",path:"/analytics/main"},{label:"銷售分析",path:"/analytics/sales"},{label:"客戶分析",path:"/analytics/customers"},{label:"產品分析",path:"/analytics/products"},{label:"營運分析",path:"/analytics/operations"},{label:"AI 洞察",path:"/analytics/ai-insights"}],ik=[{label:"系統設定概覽",path:"/settings"},{label:"主設定",path:"/settings/main"},{label:"一般設定",path:"/settings/general"},{label:"安全設定",path:"/settings/security"},{label:"通知設定",path:"/settings/notifications"},{label:"付款設定",path:"/settings/payment"},{label:"運送設定",path:"/settings/shipping"}],lk=[{label:"銷售文件",path:"/documents/sales"}],ok=[{label:"管理員管理",path:"/admin"}],ck=[{label:"管理",path:"/festivals/manage"}],dk=[{label:"庫存管理",path:"/inventory"},{label:"倉庫管理",path:"/inventory/warehouses"}],uk=t=>{const e=t.split("?")[0].split("#")[0];return e.startsWith("/dashboard")?YC:e.startsWith("/products")?qC:e.startsWith("/orders")?ZC:e.startsWith("/members")?QC:e.startsWith("/suppliers")?XC:e.startsWith("/procurement")?JC:e.startsWith("/logistics")?ek:e.startsWith("/coupons")?tk:e.startsWith("/marketing")?sk:e.startsWith("/notifications")?rk:e.startsWith("/accounting")?nk:e.startsWith("/analytics")?ak:e.startsWith("/settings")?ik:e.startsWith("/festivals")?ck:e.startsWith("/documents")?lk:e.startsWith("/admin")?ok:e.startsWith("/inventory")?dk:[]},O={pageContainer:"min-h-screen bg-[#fdf8f2]",contentContainer:"p-6 space-y-6",contentContainerWide:"w-full max-w-[1800px] 2xl:max-w-[2100px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 py-8",contentContainerStandard:"w-full max-w-[1600px] 2xl:max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-10 py-8",pageTitle:"text-3xl font-bold text-gray-900 font-chinese mb-2",pageSubtitle:"text-gray-600 font-chinese",sectionTitle:"text-xl font-bold text-gray-900 font-chinese",glassCard:"glass p-6 rounded-2xl",glassCardSmall:"glass p-4 rounded-xl",statCard:"glass p-6 rounded-2xl transition-all duration-200 hover:shadow-lg",table:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-200/50",tableHeader:"bg-gray-50/80 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",tableCell:"px-6 py-4 whitespace-nowrap",primaryButton:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b86c37] transition-colors font-chinese",secondaryButton:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors font-chinese",btnPrimary:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b86c37] transition-colors font-chinese",btnSecondary:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors font-chinese",btnGhost:"text-[#cc824d] hover:text-[#b86c37] hover:bg-[#cc824d]/10 px-4 py-2 rounded-lg transition-colors font-chinese",statusActive:"bg-green-100 text-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",statusInactive:"bg-gray-100 text-gray-800 px-2.5 py-0.5 rounded-full text-xs font-medium",statusPending:"bg-yellow-100 text-yellow-800 px-2.5 py-0.5 rounded-full text-xs font-medium",statusSuccess:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 font-chinese",statusWarning:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 font-chinese",statusError:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 font-chinese",statusInfo:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 font-chinese",input:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent font-chinese",select:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent font-chinese",gridCols2:"grid grid-cols-1 md:grid-cols-2 gap-6",gridCols3:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",gridCols4:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",divider:"border-t border-gray-200 my-6",loadingSpinner:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]",contentCard:"glass p-6 rounded-2xl",statsCard:"glass p-6 rounded-2xl transition-all duration-200 hover:shadow-lg"};function mk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const hk=f.forwardRef(mk),fk=hk;function pk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const gk=f.forwardRef(pk),xk=gk;function yk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const vk=f.forwardRef(yk),ug=vk;function bk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const jk=f.forwardRef(bk),fN=jk;function Nk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const wk=f.forwardRef(Nk),vr=wk;function _k({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Sk=f.forwardRef(_k),Yy=Sk;function Ck({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const kk=f.forwardRef(Ck),Tk=kk;function Ek({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const Ak=f.forwardRef(Ek),Fl=Ak;function Dk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Pk=f.forwardRef(Dk),xs=Pk;function Mk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Ik=f.forwardRef(Mk),Rk=Ik;function Ok({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Lk=f.forwardRef(Ok),Vl=Lk;function Fk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Vk=f.forwardRef(Fk),$k=Vk;function Uk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const Bk=f.forwardRef(Uk),zk=Bk;function Wk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Gk=f.forwardRef(Wk),Wu=Gk;function Hk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Kk=f.forwardRef(Hk),qy=Kk;function Yk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const qk=f.forwardRef(Yk),Zk=qk;function Qk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Xk=f.forwardRef(Qk),mg=Xk;function Jk({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const e6=f.forwardRef(Jk),hg=e6;function t6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const s6=f.forwardRef(t6),pN=s6;function r6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const n6=f.forwardRef(r6),a6=n6;function i6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const l6=f.forwardRef(i6),Ps=l6;function o6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const c6=f.forwardRef(o6),gN=c6;function d6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const u6=f.forwardRef(d6),m6=u6;function h6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const f6=f.forwardRef(h6),Vt=f6;function p6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const g6=f.forwardRef(p6),fg=g6;function x6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const y6=f.forwardRef(x6),Lc=y6;function v6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const b6=f.forwardRef(v6),xN=b6;function j6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const N6=f.forwardRef(j6),Fc=N6;function w6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const _6=f.forwardRef(w6),Em=_6;function S6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const C6=f.forwardRef(S6),Nr=C6;function k6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const T6=f.forwardRef(k6),pg=T6;function E6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const A6=f.forwardRef(E6),D6=A6;function P6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const M6=f.forwardRef(P6),I6=M6;function R6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const O6=f.forwardRef(R6),yN=O6;function L6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const F6=f.forwardRef(L6),ma=F6;function V6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $6=f.forwardRef(V6),Ms=$6;function U6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const B6=f.forwardRef(U6),z6=B6;function W6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const G6=f.forwardRef(W6),H6=G6;function K6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Y6=f.forwardRef(K6),q6=Y6;function Z6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Q6=f.forwardRef(Z6),Zy=Q6;function X6({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const J6=f.forwardRef(X6),Sd=J6;function eT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const tT=f.forwardRef(eT),vN=tT;function sT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const rT=f.forwardRef(sT),nT=rT;function aT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const iT=f.forwardRef(aT),vt=iT;function lT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const oT=f.forwardRef(lT),cT=oT;function dT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const uT=f.forwardRef(dT),Os=uT;function mT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const hT=f.forwardRef(mT),Gu=hT;function fT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const pT=f.forwardRef(fT),Vc=pT;function gT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const xT=f.forwardRef(gT),yT=xT;function vT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const bT=f.forwardRef(vT),bN=bT;function jT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const NT=f.forwardRef(jT),jN=NT;function wT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const _T=f.forwardRef(wT),ST=_T;function CT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const kT=f.forwardRef(CT),gg=kT;function TT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const ET=f.forwardRef(TT),Sc=ET;function AT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const DT=f.forwardRef(AT),Am=DT;function PT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const MT=f.forwardRef(PT),yl=MT;function IT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const RT=f.forwardRef(IT),OT=RT;function LT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const FT=f.forwardRef(LT),$r=FT;function VT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const $T=f.forwardRef(VT),Cc=$T;function UT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const BT=f.forwardRef(UT),Sr=BT;function zT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const WT=f.forwardRef(zT),xg=WT;function GT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const HT=f.forwardRef(GT),Hu=HT;function KT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const YT=f.forwardRef(KT),qT=YT;function ZT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const QT=f.forwardRef(ZT),XT=QT;function JT({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const e8=f.forwardRef(JT),yg=e8;function t8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const s8=f.forwardRef(t8),Ku=s8;function r8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const n8=f.forwardRef(r8),NN=n8;function a8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const i8=f.forwardRef(a8),l8=i8;function o8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const c8=f.forwardRef(o8),Sf=c8;function d8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const u8=f.forwardRef(d8),m8=u8;function h8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const f8=f.forwardRef(h8),p8=f8;function g8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const x8=f.forwardRef(g8),ha=x8;function y8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const v8=f.forwardRef(y8),wr=v8;function b8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const j8=f.forwardRef(b8),ja=j8;function N8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const w8=f.forwardRef(N8),wN=w8;function _8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const S8=f.forwardRef(_8),vg=S8;function C8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const k8=f.forwardRef(C8),Dm=k8;function T8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const E8=f.forwardRef(T8),ji=E8;function A8({title:t,titleId:e,...s},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const D8=f.forwardRef(A8),_r=D8,P8=()=>{const t=Ta(),e=ka(),{user:s,logout:n}=dg(),[a,i]=f.useState(!1),[l,o]=f.useState(!1),c=uk(e.pathname),d=()=>{n(),t("/login")},m=[{name:"總覽",href:"/dashboard/overview",icon:ST},{name:"商品管理",href:"/products",icon:Ku},{name:"庫存管理",href:"/inventory",icon:ma},{name:"訂單管理",href:"/orders",icon:Em},{name:"物流管理",href:"/logistics",icon:yl},{name:"行銷管理",href:"/marketing",icon:Ps},{name:"會員管理",href:"/members",icon:Dm},{name:"採購管理",href:"/procurement",icon:NN},{name:"會計管理",href:"/accounting",icon:hg},{name:"通知管理",href:"/notifications",icon:Wu},{name:"管理員管理",href:"/admin",icon:yg},{name:"數據分析",href:"/analytics",icon:Ps},{name:"系統設定",href:"/settings",icon:pg}],u=h=>h==="/dashboard/overview"?e.pathname==="/"||e.pathname==="/dashboard/overview":e.pathname.startsWith(h);return r.jsxs("div",{className:`${O.pageContainer} flex`,children:[a&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>i(!1)}),r.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transform transition-all duration-300 ease-in-out lg:relative ${a?"translate-x-0 w-64":"-translate-x-full w-64"} lg:translate-x-0 ${l?"lg:w-64":"lg:w-16"}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:r.jsxs("div",{className:"flex flex-col h-full bg-[#fdf8f2] border-r border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[r.jsx("div",{className:"w-9 h-9 bg-[#cc824d] rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),r.jsx("span",{className:`font-bold text-xl text-[#2d1e0f] font-serif transition-opacity duration-300 whitespace-nowrap ${l||a?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"管理後台"})]}),r.jsx("button",{onClick:()=>i(!1),className:`lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-opacity duration-300 ${l||a?"opacity-100":"lg:opacity-0"}`,children:r.jsx(_r,{className:"w-5 h-5"})})]}),r.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1",children:m.map(h=>r.jsxs(Bb,{to:h.href,onClick:()=>i(!1),className:({isActive:g})=>`flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 font-serif group ${g||u(h.href)?"bg-[#cc824d] text-white shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-[#cc824d]"}`,title:l||a?"":h.name,children:[r.jsx(h.icon,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap ${l||a?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:h.name}),!(l||a)&&r.jsx("div",{className:"hidden lg:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:h.name})]},h.name))}),r.jsx("div",{className:"p-3 border-t border-gray-200",children:r.jsxs("button",{onClick:d,className:"flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all duration-200 font-serif group",title:l||a?"":"登出",children:[r.jsx(Yy,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap ${l||a?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"登出"}),!(l||a)&&r.jsx("div",{className:"hidden lg:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:"登出"})]})})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsx("header",{className:"bg-[#fdf8f2] border-b border-gray-200 sticky top-0 z-30 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 h-16",children:[r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg mr-4",children:r.jsx($k,{className:"w-5 h-5"})}),c&&c.length>0&&r.jsx("div",{className:"flex-1",children:r.jsx(xi,{tabs:c,layout:"left",className:"text-sm"})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{className:"p-2 rounded-lg text-[#2d1e0f] hover:bg-[#f7ede3] hover:text-[#cc824d] transition-colors duration-200 relative",children:[r.jsx(Wu,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-[#cc824d] rounded-full"})]}),r.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-[#2d1e0f] hover:bg-[#f7ede3] hover:text-[#cc824d] transition-colors duration-200 font-serif",children:[r.jsx(Yy,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"登出"})]})]})]})}),r.jsx("main",{className:"flex-1 overflow-hidden bg-[#fdf8f2]",style:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:r.jsx("div",{className:"h-full",children:r.jsx(OS,{})})})]})]})},M8=()=>{const t=Ta(),{login:e}=dg(),[s,n]=f.useState({email:"",password:""}),[a,i]=f.useState(!1),[l,o]=f.useState(!1),[c,d]=f.useState(""),m=async h=>{h.preventDefault(),o(!0),d("");try{const g=e(s);g.success?t("/"):d(g.message)}catch{d("登入失敗，請稍後再試")}finally{o(!1)}},u=(h,g)=>{n(p=>({...p,[h]:g})),c&&d("")};return r.jsx("div",{className:"min-h-screen flex flex-col bg-[#fdf8f2]",children:r.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center py-8 pt-16",children:[r.jsxs("form",{onSubmit:m,className:"w-full max-w-md mx-auto bg-transparent flex flex-col items-center",children:[r.jsx("h1",{className:"text-2xl font-serif font-bold text-[#2d1e0f] mb-8 mt-2 tracking-wider",children:"Marelle 管理員登入"}),r.jsxs("div",{className:"w-full flex flex-col gap-6",children:[r.jsxs("div",{children:[r.jsx("input",{type:"email",value:s.email,onChange:h=>u("email",h.target.value),className:"block w-full border-0 border-b border-[#e5ded6] bg-transparent text-base py-3 px-0 focus:ring-0 focus:border-[#bfae9b] placeholder-[#bfae9b] font-serif",placeholder:"管理員信箱",required:!0,autoFocus:!0}),r.jsx(zC,{email:s.email})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:a?"text":"password",value:s.password,onChange:h=>u("password",h.target.value),className:"block w-full border-0 border-b border-[#e5ded6] bg-transparent text-base py-3 px-0 focus:ring-0 focus:border-[#bfae9b] placeholder-[#bfae9b] font-serif",placeholder:"密碼",required:!0}),r.jsx("button",{type:"button",onClick:()=>i(h=>!h),className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#bfae9b] hover:text-[#a88c6b]",tabIndex:-1,children:a?r.jsx(cT,{className:"w-5 h-5"}):r.jsx(Os,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",className:"text-xs text-[#bfae9b] hover:underline font-serif",children:"忘記密碼？"})}),c&&r.jsx("div",{className:"text-red-600 text-sm font-serif text-center",children:c}),r.jsx("button",{type:"submit",disabled:l||!s.email||!s.password,className:"w-full bg-[#cc824d] hover:bg-[#b86c37] text-white text-base font-bold py-3 rounded transition-colors font-serif tracking-wider mt-2 disabled:bg-[#e5ded6] disabled:text-[#bfae9b]",children:l?"登入中...":"進入管理後台"})]}),r.jsxs("div",{className:"w-full flex items-center my-6",children:[r.jsx("div",{className:"flex-1 h-px bg-[#e5ded6]"}),r.jsx("span",{className:"mx-4 text-[#bfae9b] text-sm font-serif",children:"或使用社群帳號登入"}),r.jsx("div",{className:"flex-1 h-px bg-[#e5ded6]"})]})]}),r.jsx("div",{className:"w-full max-w-md mx-auto mb-8",children:r.jsxs("button",{type:"button",className:"w-full bg-[#00c300] hover:bg-[#00b300] text-white text-base font-bold py-3 rounded transition-colors font-serif tracking-wider flex items-center justify-center gap-3",children:[r.jsx("i",{className:"fa-brands fa-line text-xl"}),r.jsx("span",{children:"LINE 登入"})]})}),r.jsxs("div",{className:"w-full max-w-md mx-auto mt-8 p-4 bg-[#f7f2e8] border border-[#e5ded6] rounded",children:[r.jsx("h4",{className:"text-sm font-bold text-[#2d1e0f] mb-2 font-serif",children:"預設管理員帳號"}),r.jsxs("div",{className:"text-xs text-[#666] space-y-1 font-serif",children:[r.jsx("p",{children:"帳號：admin@marelle.com"}),r.jsx("p",{children:"密碼：Admin123!"}),r.jsx("p",{className:"text-[#cc824d] mt-2",children:"建議首次登入後立即修改密碼"})]})]})]})})},Ke={SALES:"sales",OPERATIONS:"operations",FINANCIAL:"financial",INVENTORY:"inventory",CUSTOMER:"customer",LOGISTICS:"logistics",SYSTEM:"system"},$c=({categories:t=[],defaultExpandedCategories:e=[],showRefreshButton:s=!1,className:n=""})=>{const[a,i]=f.useState(new Set(e)),[l,o]=f.useState({}),[c,d]=f.useState(!1),m={[Ke.SALES]:{title:"銷售統計",icon:Ms,stats:[{label:"今日銷售",value:"125,600",trend:"+12.5%",trendUp:!0},{label:"本月銷售",value:"456,800",trend:"+8.3%",trendUp:!0},{label:"訂單數量",value:"1,234",trend:"+15.7%",trendUp:!0},{label:"平均訂單值",value:"380",trend:"-2.1%",trendUp:!1}]},[Ke.OPERATIONS]:{title:"營運統計",icon:Em,stats:[{label:"待處理訂單",value:"23",trend:"+5",trendUp:!1},{label:"已發貨訂單",value:"156",trend:"+12",trendUp:!0},{label:"退貨處理",value:"8",trend:"-3",trendUp:!0},{label:"客服工單",value:"45",trend:"+7",trendUp:!1}]},[Ke.FINANCIAL]:{title:"財務概況",icon:Ps,stats:[{label:"本月收入",value:"456,800",trend:"+8.3%",trendUp:!0},{label:"本月支出",value:"234,500",trend:"+12.1%",trendUp:!1},{label:"淨利潤",value:"222,300",trend:"+4.2%",trendUp:!0},{label:"毛利率",value:"48.7%",trend:"-1.2%",trendUp:!1}]},[Ke.INVENTORY]:{title:"庫存狀況",icon:mg,stats:[{label:"總商品數",value:"1,567",trend:"+45",trendUp:!0},{label:"庫存不足",value:"23",trend:"+5",trendUp:!1},{label:"暢銷商品",value:"145",trend:"+12",trendUp:!0},{label:"滯銷商品",value:"67",trend:"-8",trendUp:!0}]},[Ke.CUSTOMER]:{title:"客戶數據",icon:vg,stats:[{label:"總客戶數",value:"12,345",trend:"+234",trendUp:!0},{label:"活躍客戶",value:"8,901",trend:"+123",trendUp:!0},{label:"新註冊",value:"67",trend:"+12",trendUp:!0},{label:"客戶滿意度",value:"4.8",trend:"+0.2",trendUp:!0}]},[Ke.LOGISTICS]:{title:"物流配送",icon:ja,stats:[{label:"待配送",value:"89",trend:"+12",trendUp:!1},{label:"配送中",value:"145",trend:"+23",trendUp:!0},{label:"已送達",value:"234",trend:"+45",trendUp:!0},{label:"配送異常",value:"3",trend:"-2",trendUp:!0}]},[Ke.SYSTEM]:{title:"系統狀況",icon:D6,stats:[{label:"系統運行時間",value:"99.8%",trend:"+0.1%",trendUp:!0},{label:"今日訪問量",value:"23,456",trend:"+1,234",trendUp:!0},{label:"頁面載入時間",value:"1.2s",trend:"-0.1s",trendUp:!0},{label:"錯誤率",value:"0.02%",trend:"-0.01%",trendUp:!0}]}},u=x=>({[Ke.SALES]:"",[Ke.OPERATIONS]:"",[Ke.FINANCIAL]:"",[Ke.INVENTORY]:"",[Ke.CUSTOMER]:"",[Ke.LOGISTICS]:"",[Ke.SYSTEM]:""})[x]||"";f.useEffect(()=>{h()},[t]);const h=async()=>{d(!0);try{await new Promise(j=>setTimeout(j,1e3));const x={};t.forEach(j=>{m[j]&&(x[j]=m[j].stats)}),o(x)}catch(x){console.error("載入統計數據失敗:",x)}finally{d(!1)}},g=x=>{const j=new Set(a);j.has(x)?j.delete(x):j.add(x),i(j)},p=()=>{h()};return f.useEffect(()=>{Object.keys(l).length>0&&Rs.fromTo(".stats-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[l]),t.length===0?null:r.jsxs("div",{className:`space-y-6 ${n}`,children:[s&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"數據概覽"}),r.jsx("button",{onClick:p,disabled:c,className:`${O.button} bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50`,children:c?"載入中...":"刷新數據"})]}),t.map(x=>{const j=m[x];if(!j)return null;const v=a.has(x),y=j.icon;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/60 backdrop-blur-md rounded-lg border border-white/20 hover:bg-white/80 transition-all duration-300",onClick:()=>g(x),children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-[#cc824d]/10 rounded-lg flex items-center justify-center",children:r.jsx(y,{className:"w-6 h-6 text-[#cc824d]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:j.title}),r.jsx("p",{className:"text-sm text-gray-500",children:"點擊展開/收起"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-2xl",children:u(x)}),r.jsx("div",{className:`transform transition-transform duration-300 ${v?"rotate-180":""}`,children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),v&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(l[x]||j.stats).map((b,N)=>r.jsxs("div",{className:`stats-card ${O.glassCard} p-4`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 font-chinese",children:b.label}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${b.trendUp?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.trend})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:b.value}),r.jsxs("div",{className:"text-xs text-gray-500",children:["較上期 ",b.trendUp?"上升":"下降"]})]},N))})]},x)}),c&&r.jsxs("div",{className:"flex justify-center items-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"載入統計數據中..."})]})]})},I8=()=>{const[t,e]=f.useState({recentOrders:[],topProducts:[],alerts:[]});f.useEffect(()=>{Rs.fromTo(".dashboard-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),s()},[]);const s=()=>{e({recentOrders:n(),topProducts:a(),alerts:[{id:1,type:"warning",message:"庫存不足警告：白色連衣裙庫存僅剩 3 件"},{id:2,type:"info",message:"新客戶註冊：今日新增 15 位客戶"},{id:3,type:"success",message:"銷售目標達成：本月已達成 105% 銷售目標"}]})},n=()=>Array.from({length:5},(o,c)=>({id:`ORD-${Date.now()}-${c}`,customerName:["張小明","李小美","王先生","陳小姐","林大哥"][c],amount:Math.floor(Math.random()*5e3)+1e3,status:["已完成","處理中","已發貨"][Math.floor(Math.random()*3)],date:new Date(Date.now()-c*24*60*60*1e3).toLocaleDateString(),items:Math.floor(Math.random()*5)+1})),a=()=>Array.from({length:5},(o,c)=>({id:c+1,name:["優雅白色連衣裙","經典黑色西裝外套","時尚牛仔褲","舒適棉質T恤","精緻絲巾"][c],sales:Math.floor(Math.random()*100)+50})),i=o=>{switch(o){case"已完成":return"bg-green-100 text-green-800";case"處理中":return"bg-yellow-100 text-yellow-800";case"已發貨":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},l=o=>{switch(o){case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"success":return"bg-green-50 border-green-200 text-green-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsx("div",{className:"dashboard-section mb-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"管理儀表板"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"歡迎回到 Marelle 管理系統"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"今日日期"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date().toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})})]})]})}),r.jsx("div",{className:"dashboard-section",children:r.jsx($c,{categories:[Ke.SALES,Ke.OPERATIONAL],defaultExpandedCategories:[Ke.SALES],showRefreshButton:!0,className:"mb-8"})}),r.jsxs("div",{className:"dashboard-section mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"今日概覽"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"新訂單"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"12"}),r.jsx("p",{className:"text-sm text-green-600 font-chinese",children:"+23% 較昨日"})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ku,{className:"w-8 h-8 text-blue-600"})})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"今日銷售"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"28,400"}),r.jsx("p",{className:"text-sm text-green-600 font-chinese",children:"+15% 較昨日"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Ms,{className:"w-8 h-8 text-green-600"})})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"待處理訂單"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"17"}),r.jsx("p",{className:"text-sm text-orange-600 font-chinese",children:"需要關注"})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(Nr,{className:"w-8 h-8 text-orange-600"})})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"庫存警告"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"8"}),r.jsx("p",{className:"text-sm text-red-600 font-chinese",children:"需要補貨"})]}),r.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:r.jsx(Em,{className:"w-8 h-8 text-red-600"})})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"dashboard-section lg:col-span-2",children:r.jsxs("div",{className:O.glassCard,children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"最近訂單"}),r.jsx("button",{className:"text-[#cc824d] hover:text-[#b8753f] transition-colors font-chinese",children:"查看全部"})]}),r.jsx("div",{className:"space-y-4",children:t.recentOrders.map(o=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-[#cc824d] rounded-full flex items-center justify-center",children:r.jsx(Ku,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:o.customerName}),r.jsxs("p",{className:"text-sm text-gray-500",children:[o.date,"  ",o.items," 件商品"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:o.amount.toLocaleString()}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i(o.status)}`,children:o.status})]})]},o.id))})]})}),r.jsx("div",{className:"dashboard-section",children:r.jsxs("div",{className:O.glassCard,children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"熱銷商品"}),r.jsx("button",{className:"text-[#cc824d] hover:text-[#b8753f] transition-colors font-chinese",children:"查看全部"})]}),r.jsx("div",{className:"space-y-4",children:t.topProducts.map((o,c)=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-[#cc824d] rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:c+1})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 font-chinese truncate",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[o.sales," 件已售出"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(xs,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Math.floor(Math.random()*20)+5,"%"]})]})]},o.id))})]})})]}),r.jsxs("div",{className:"dashboard-section mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"系統通知"}),r.jsx("div",{className:"space-y-4",children:t.alerts.map(o=>r.jsx("div",{className:`border rounded-lg p-4 ${l(o.type)}`,children:r.jsx("p",{className:"font-chinese",children:o.message})},o.id))})]})]})},R8=()=>{const[t,e]=f.useState({salesTrends:[],topCategories:[],timeRanges:[]});f.useEffect(()=>{Rs.fromTo(".analytics-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),s()},[]);const s=()=>{e({salesTrends:[{period:"本週",sales:125600,growth:12.5},{period:"本月",sales:456800,growth:8.3},{period:"本季",sales:1345600,growth:15.7},{period:"本年",sales:4567800,growth:22.1}],topCategories:[{name:"連衣裙",sales:145600,percentage:32.1},{name:"外套",sales:98400,percentage:21.7},{name:"配件",sales:76500,percentage:16.8},{name:"鞋類",sales:67200,percentage:14.8},{name:"其他",sales:65800,percentage:14.6}],timeRanges:[{hour:"09:00",sales:12400},{hour:"12:00",sales:18600},{hour:"15:00",sales:15200},{hour:"18:00",sales:23800},{hour:"21:00",sales:16900}]})};return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"analytics-section mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"銷售分析"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"深入分析銷售數據，洞察商業趨勢"})]}),r.jsx("div",{className:"analytics-section",children:r.jsx($c,{categories:[Ke.SALES],defaultExpandedCategories:[Ke.SALES],showRefreshButton:!0,className:"mb-8"})}),r.jsxs("div",{className:"analytics-section mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"銷售趨勢"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.salesTrends.map((n,a)=>r.jsxs("div",{className:O.glassCard,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:n.period}),r.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[r.jsx(xs,{className:"w-4 h-4 mr-1"}),"+",n.growth,"%"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-3xl font-bold text-[#cc824d]",children:n.sales.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-500",children:"較上期成長"})]})]},a))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"analytics-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"熱銷類別"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:t.topCategories.map((n,a)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:n.name}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:n.sales.toLocaleString()}),r.jsxs("div",{className:"text-sm text-gray-500",children:[n.percentage,"%"]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full transition-all duration-500",style:{width:`${n.percentage}%`}})})]},a))})})]}),r.jsxs("div",{className:"analytics-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"時段分析"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:t.timeRanges.map((n,a)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(pN,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:n.hour})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:n.sales.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-500",children:"銷售額"})]})]},a))})})]})]}),r.jsxs("div",{className:"analytics-section mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"圖表分析"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ps,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 font-chinese",children:"圖表功能開發中"}),r.jsx("p",{className:"text-sm",children:"將顯示詳細的銷售趨勢圖表"})]})})})]})]})},O8=()=>{const[t,e]=f.useState({alerts:[],inventoryStatus:[],staffPerformance:[],recentActivities:[]});f.useEffect(()=>{Rs.fromTo(".operations-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),s()},[]);const s=()=>{e({alerts:[{id:1,type:"inventory",message:"商品庫存不足",status:"critical",timestamp:new Date},{id:2,type:"shipping",message:"配送延遲警告",status:"warning",timestamp:new Date},{id:3,type:"system",message:"系統運行正常",status:"normal",timestamp:new Date}],inventoryStatus:[{category:"服飾類",total:1250,available:980,reserved:270,lowStock:15},{category:"配件類",total:650,available:520,reserved:130,lowStock:8},{category:"鞋類",total:430,available:360,reserved:70,lowStock:5}],staffPerformance:[{name:"王小明",department:"客服",efficiency:92,tasks:45},{name:"李小華",department:"倉儲",efficiency:88,tasks:38},{name:"張小美",department:"配送",efficiency:95,tasks:52}],recentActivities:[{time:"10:30",action:"新訂單處理",user:"系統自動",status:"completed"},{time:"10:15",action:"庫存更新",user:"王小明",status:"completed"},{time:"09:45",action:"客戶查詢回覆",user:"李小華",status:"in-progress"}]})},n=i=>{switch(i){case"inventory":return r.jsx(ma,{className:"w-5 h-5"});case"shipping":return r.jsx(ja,{className:"w-5 h-5"});default:return r.jsx(vt,{className:"w-5 h-5"})}},a=i=>{switch(i){case"critical":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-green-100 text-green-800 border-green-200"}};return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"operations-section mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"營運管理"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"監控日常營運狀況、庫存管理及團隊績效"})]}),r.jsx("div",{className:"operations-section",children:r.jsx($c,{categories:[Ke.OPERATIONAL],defaultExpandedCategories:[Ke.OPERATIONAL],showRefreshButton:!0,className:"mb-8"})}),r.jsxs("div",{className:"operations-section mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"系統警報"}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.alerts.map(i=>r.jsx("div",{className:`${O.glassCard} border-l-4 ${a(i.status)}`,children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${a(i.status).replace("bg-","bg-").replace("100","200")}`,children:n(i.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:i.message}),r.jsx("p",{className:"text-sm text-gray-500",children:i.timestamp.toLocaleTimeString()})]}),r.jsx("div",{children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="critical"?"bg-red-100 text-red-800":i.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:i.status==="critical"?"緊急":i.status==="warning"?"警告":"正常"})})]})},i.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"operations-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"庫存狀況"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-6",children:t.inventoryStatus.map((i,l)=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"font-medium text-gray-900 font-chinese",children:i.category}),r.jsxs("div",{className:"flex space-x-4 text-sm",children:[r.jsxs("span",{className:"text-green-600",children:["可用: ",i.available]}),r.jsxs("span",{className:"text-yellow-600",children:["預留: ",i.reserved]}),r.jsxs("span",{className:"text-red-600",children:["低庫存: ",i.lowStock]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${i.available/i.total*100}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500",children:["總計: ",i.total," 件"]})]},l))})})]}),r.jsxs("div",{className:"operations-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"員工績效"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:t.staffPerformance.map((i,l)=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-10 h-10 bg-[#cc824d] rounded-full flex items-center justify-center",children:r.jsx(wN,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 font-chinese",children:i.name}),r.jsx("p",{className:"text-sm text-gray-500",children:i.department})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-semibold text-[#cc824d]",children:[i.efficiency,"%"]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Ps,{className:"w-4 h-4 mr-1"}),i.tasks," 任務"]})]})})]},l))})})]})]}),r.jsxs("div",{className:"operations-section mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"最近活動"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:t.recentActivities.map((i,l)=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[r.jsx("div",{className:"text-sm text-gray-500 w-16",children:i.time}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:i.action}),r.jsxs("p",{className:"text-sm text-gray-500",children:["執行者: ",i.user]})]}),r.jsx("div",{children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="completed"?"bg-green-100 text-green-800":i.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status==="completed"?r.jsxs(r.Fragment,{children:[r.jsx(Vt,{className:"w-3 h-3 mr-1"}),"已完成"]}):i.status==="in-progress"?r.jsxs(r.Fragment,{children:[r.jsx(Nr,{className:"w-3 h-3 mr-1"}),"進行中"]}):"等待中"})})]},l))})})]})]})},L8=()=>{f.useEffect(()=>{Rs.fromTo(".finance-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const t=[{title:"總收入",amount:76e4,change:"+12.5%",positive:!0,isPercentage:!1,period:"本月"},{title:"總支出",amount:395800,change:"+8.2%",positive:!1,isPercentage:!1,period:"本月"},{title:"淨利潤",amount:364200,change:"+18.3%",positive:!0,isPercentage:!1,period:"本月"},{title:"毛利率",amount:47.9,change:"+2.1%",positive:!0,isPercentage:!0,period:"本月"}],e=[{date:"2024-01-15",type:"銷售收入",description:"線上商店銷售",amount:125600,positive:!0},{date:"2024-01-14",type:"商品採購",description:"供應商付款",amount:65400,positive:!1},{date:"2024-01-14",type:"營運費用",description:"辦公室租金",amount:12e3,positive:!1},{date:"2024-01-13",type:"銷售收入",description:"批發訂單",amount:45600,positive:!0}],s=[{category:"商品銷售",amount:678900,percentage:89.2},{category:"服務收入",amount:45600,percentage:6},{category:"其他收入",amount:36500,percentage:4.8}],n=[{category:"商品成本",amount:245600,percentage:62.1},{category:"營運費用",amount:89400,percentage:22.6},{category:"行銷費用",amount:35200,percentage:8.9},{category:"管理費用",amount:25800,percentage:6.4}];return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"finance-section mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"財務報表"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"收支分析、利潤統計及財務健康度監控"})]}),r.jsx("div",{className:"finance-section",children:r.jsx($c,{categories:[Ke.FINANCIAL],defaultExpandedCategories:[Ke.FINANCIAL],showRefreshButton:!0,className:"mb-8"})}),r.jsxs("div",{className:"finance-section mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"財務概覽"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((a,i)=>r.jsxs("div",{className:O.glassCard,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:a.title}),r.jsxs("div",{className:`flex items-center ${a.positive?"text-green-600":"text-red-600"}`,children:[a.positive?r.jsx(xs,{className:"w-4 h-4 mr-1"}):r.jsx(Fl,{className:"w-4 h-4 mr-1"}),r.jsx("span",{className:"text-sm font-medium",children:a.change})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-2xl font-bold text-[#cc824d]",children:a.isPercentage?`${a.amount}%`:`${a.amount.toLocaleString()}`}),r.jsx("div",{className:"text-sm text-gray-500",children:a.period})]})]},i))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"finance-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"收入結構分析"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:s.map((a,i)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:a.category}),r.jsx("span",{className:"font-semibold",children:a.amount.toLocaleString()})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),r.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[a.percentage,"%"]})]},i))})})]}),r.jsxs("div",{className:"finance-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"支出結構分析"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:n.map((a,i)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:a.category}),r.jsx("span",{className:"font-semibold",children:a.amount.toLocaleString()})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-red-400 h-2 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),r.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[a.percentage,"%"]})]},i))})})]})]}),r.jsxs("div",{className:"finance-section mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"最近交易記錄"}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"",style:{overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"日期"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"類型"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"描述"}),r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 font-chinese",children:"金額"})]})}),r.jsx("tbody",{children:e.map((a,i)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pN,{className:"w-4 h-4 mr-2 text-gray-400"}),a.date]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.positive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),r.jsx("td",{className:"py-3 px-4 text-gray-900 font-chinese",children:a.description}),r.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${a.positive?"text-green-600":"text-red-600"}`,children:[a.positive?"+":"-",a.amount.toLocaleString()]})]},i))})]})]})})]}),r.jsxs("div",{className:"finance-section mt-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"快速報表"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:vN,label:"損益表",color:"bg-blue-500"},{icon:gN,label:"資產負債表",color:"bg-green-500"},{icon:Vl,label:"現金流量",color:"bg-purple-500"},{icon:yN,label:"應收帳款",color:"bg-orange-500"}].map((a,i)=>r.jsx("button",{className:`${O.glassCard} group hover:shadow-lg transition-all duration-300 cursor-pointer text-left`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`${a.color} p-2 rounded-lg text-white group-hover:scale-110 transition-transform`,children:r.jsx(a.icon,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-medium text-gray-900 font-chinese group-hover:text-[#cc824d] transition-colors",children:a.label})]})},i))})]})]})},F8=()=>{const[t,e]=f.useState({shipments:[],vehicles:[],deliveryStats:{}});f.useEffect(()=>{Rs.fromTo(".logistics-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),s()},[]);const s=()=>{e({shipments:[{id:1,orderNumber:"ORD-20240115-001",customer:"張小明",destination:"台北市信義區",status:"配送中",trackingNumber:"TW123456789",estimatedDelivery:"2024-01-16 14:00",driver:"李司機"},{id:2,orderNumber:"ORD-20240115-002",customer:"王小美",destination:"新北市板橋區",status:"已送達",trackingNumber:"TW123456790",estimatedDelivery:"2024-01-15 16:30",driver:"陳司機"},{id:3,orderNumber:"ORD-20240115-003",customer:"林先生",destination:"桃園市中壢區",status:"準備中",trackingNumber:"TW123456791",estimatedDelivery:"2024-01-17 10:00",driver:"待分配"}],vehicles:[{id:1,plateNumber:"ABC-1234",driver:"李司機",status:"運送中",location:"台北市大安區",capacity:"85%",nextDelivery:"14:30"},{id:2,plateNumber:"DEF-5678",driver:"陳司機",status:"可用",location:"物流中心",capacity:"0%",nextDelivery:"待分配"}],deliveryStats:{todayDeliveries:24,completedDeliveries:18,pendingDeliveries:6,onTimeRate:92.5}})},n=l=>{switch(l){case"已送達":return"bg-green-100 text-green-800";case"配送中":return"bg-blue-100 text-blue-800";case"準備中":return"bg-yellow-100 text-yellow-800";case"延遲":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=l=>{switch(l){case"已送達":return r.jsx(Vt,{className:"w-4 h-4"});case"配送中":return r.jsx(ja,{className:"w-4 h-4"});case"準備中":return r.jsx(Nr,{className:"w-4 h-4"});case"延遲":return r.jsx(vt,{className:"w-4 h-4"});default:return r.jsx(vr,{className:"w-4 h-4"})}},i=l=>{switch(l){case"運送中":return"bg-blue-100 text-blue-800";case"可用":return"bg-green-100 text-green-800";case"維修中":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"logistics-section mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"物流管理"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"管理配送狀況、車輛調度及物流績效"})]}),r.jsx("div",{className:"logistics-section",children:r.jsx($c,{categories:[Ke.LOGISTICS],defaultExpandedCategories:[Ke.LOGISTICS],showRefreshButton:!0,className:"mb-8"})}),r.jsxs("div",{className:"logistics-section mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"今日配送概覽"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ja,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總配送數"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.deliveryStats.todayDeliveries})]})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vt,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"已完成"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.deliveryStats.completedDeliveries})]})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(Nr,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"待配送"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.deliveryStats.pendingDeliveries})]})]})}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(vr,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"準時率"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.deliveryStats.onTimeRate,"%"]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"logistics-section xl:col-span-2",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"配送單管理"}),r.jsx("div",{className:O.glassCard,children:r.jsxs("div",{className:"",style:{overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"訂單編號"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"客戶"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"目的地"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"狀態"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"預計送達"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"操作"})]})}),r.jsx("tbody",{children:t.shipments.map(l=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:l.orderNumber}),r.jsx("div",{className:"text-sm text-gray-500",children:l.trackingNumber})]}),r.jsx("td",{className:"py-3 px-4 font-chinese",children:l.customer}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(yl,{className:"w-4 h-4 mr-1 text-gray-400"}),r.jsx("span",{className:"font-chinese",children:l.destination})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n(l.status)}`,children:[a(l.status),r.jsx("span",{className:"ml-1 font-chinese",children:l.status})]})}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:l.estimatedDelivery}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",title:"查看詳情",children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 transition-colors",title:"列印標籤",children:r.jsx(xg,{className:"w-4 h-4"})})]})})]},l.id))})]})]})})]}),r.jsxs("div",{className:"logistics-section",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"車輛狀態"}),r.jsx("div",{className:O.glassCard,children:r.jsx("div",{className:"space-y-4",children:t.vehicles.map(l=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:l.plateNumber}),r.jsxs("p",{className:"text-sm text-gray-500 font-chinese",children:["司機: ",l.driver]})]}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(l.status)}`,children:l.status})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"目前位置:"}),r.jsx("span",{className:"font-chinese",children:l.location})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"載貨率:"}),r.jsx("span",{children:l.capacity})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"下次配送:"}),r.jsx("span",{children:l.nextDelivery})]})]}),l.capacity!=="0%"&&r.jsx("div",{className:"mt-3",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:l.capacity}})})})]},l.id))})})]})]})]})},_N=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Pm=f.createContext({}),Mm=f.createContext(null),Im=typeof document<"u",bg=Im?f.useLayoutEffect:f.useEffect,SN=f.createContext({strict:!1}),jg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),V8="framerAppearId",CN="data-"+jg(V8);function $8(t,e,s,n){const{visualElement:a}=f.useContext(Pm),i=f.useContext(SN),l=f.useContext(Mm),o=f.useContext(_N).reducedMotion,c=f.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const d=c.current;f.useInsertionEffect(()=>{d&&d.update(s,l)});const m=f.useRef(!!(s[CN]&&!window.HandoffComplete));return bg(()=>{d&&(d.render(),m.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(d.updateFeatures(),!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),d}function el(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function U8(t,e,s){return f.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):el(s)&&(s.current=n))},[e])}function kc(t){return typeof t=="string"||Array.isArray(t)}function Rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...Ng];function Om(t){return Rm(t.animate)||wg.some(e=>kc(t[e]))}function kN(t){return!!(Om(t)||t.variants)}function B8(t,e){if(Om(t)){const{initial:s,animate:n}=t;return{initial:s===!1||kc(s)?s:void 0,animate:kc(n)?n:void 0}}return t.inherit!==!1?e:{}}function z8(t){const{initial:e,animate:s}=B8(t,f.useContext(Pm));return f.useMemo(()=>({initial:e,animate:s}),[Qy(e),Qy(s)])}function Qy(t){return Array.isArray(t)?t.join(" "):t}const Xy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const t in Xy)Tc[t]={isEnabled:e=>Xy[t].some(s=>!!e[s])};function W8(t){for(const e in t)Tc[e]={...Tc[e],...t[e]}}const _g=f.createContext({}),TN=f.createContext({}),G8=Symbol.for("motionComponentSymbol");function H8({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:a}){t&&W8(t);function i(o,c){let d;const m={...f.useContext(_N),...o,layoutId:K8(o)},{isStatic:u}=m,h=z8(o),g=n(o,u);if(!u&&Im){h.visualElement=$8(a,g,m,e);const p=f.useContext(TN),x=f.useContext(SN).strict;h.visualElement&&(d=h.visualElement.loadFeatures(m,x,t,p))}return f.createElement(Pm.Provider,{value:h},d&&h.visualElement?f.createElement(d,{visualElement:h.visualElement,...m}):null,s(a,o,U8(g,h.visualElement,c),g,u,h.visualElement))}const l=f.forwardRef(i);return l[G8]=a,l}function K8({layoutId:t}){const e=f.useContext(_g).id;return e&&t!==void 0?e+"-"+t:t}function Y8(t){function e(n,a={}){return H8(t(n,a))}if(typeof Proxy>"u")return e;const s=new Map;return new Proxy(e,{get:(n,a)=>(s.has(a)||s.set(a,e(a)),s.get(a))})}const q8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sg(t){return typeof t!="string"||t.includes("-")?!1:!!(q8.indexOf(t)>-1||/[A-Z]/.test(t))}const Yu={};function Z8(t){Object.assign(Yu,t)}const Uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ni=new Set(Uc);function EN(t,{layout:e,layoutId:s}){return Ni.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Yu[t]||t==="opacity")}const Is=t=>!!(t&&t.getVelocity),Q8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X8=Uc.length;function J8(t,{enableHardwareAcceleration:e=!0,allowTransformNone:s=!0},n,a){let i="";for(let l=0;l<X8;l++){const o=Uc[l];if(t[o]!==void 0){const c=Q8[o]||o;i+=`${c}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(t,n?"":i):s&&n&&(i="none"),i}const AN=t=>e=>typeof e=="string"&&e.startsWith(t),DN=AN("--"),Cf=AN("var(--"),eE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Na=(t,e,s)=>Math.min(Math.max(s,t),e),wi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ko={...wi,transform:t=>Na(0,1,t)},Cd={...wi,default:1},Yo=t=>Math.round(t*1e5)/1e5,Lm=/(-)?([\d]*\.?[\d])+/g,PN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bc(t){return typeof t=="string"}const zc=t=>({test:e=>Bc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$n=zc("deg"),sn=zc("%"),de=zc("px"),rE=zc("vh"),nE=zc("vw"),Jy={...sn,parse:t=>sn.parse(t)/100,transform:t=>sn.transform(t*100)},e1={...wi,transform:Math.round},MN={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:$n,rotateX:$n,rotateY:$n,rotateZ:$n,scale:Cd,scaleX:Cd,scaleY:Cd,scaleZ:Cd,skew:$n,skewX:$n,skewY:$n,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ko,originX:Jy,originY:Jy,originZ:de,zIndex:e1,fillOpacity:Ko,strokeOpacity:Ko,numOctaves:e1};function Cg(t,e,s,n){const{style:a,vars:i,transform:l,transformOrigin:o}=t;let c=!1,d=!1,m=!0;for(const u in e){const h=e[u];if(DN(u)){i[u]=h;continue}const g=MN[u],p=tE(h,g);if(Ni.has(u)){if(c=!0,l[u]=p,!m)continue;h!==(g.default||0)&&(m=!1)}else u.startsWith("origin")?(d=!0,o[u]=p):a[u]=p}if(e.transform||(c||n?a.transform=J8(t.transform,s,m,n):a.transform&&(a.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:g=0}=o;a.transformOrigin=`${u} ${h} ${g}`}}const kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IN(t,e,s){for(const n in e)!Is(e[n])&&!EN(n,s)&&(t[n]=e[n])}function aE({transformTemplate:t},e,s){return f.useMemo(()=>{const n=kg();return Cg(n,e,{enableHardwareAcceleration:!s},t),Object.assign({},n.vars,n.style)},[e])}function iE(t,e,s){const n=t.style||{},a={};return IN(a,n,t),Object.assign(a,aE(t,e,s)),t.transformValues?t.transformValues(a):a}function lE(t,e,s){const n={},a=iE(t,e,s);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const oE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oE.has(t)}let RN=t=>!qu(t);function cE(t){t&&(RN=e=>e.startsWith("on")?!qu(e):t(e))}try{cE(require("@emotion/is-prop-valid").default)}catch{}function dE(t,e,s){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(RN(a)||s===!0&&qu(a)||!e&&!qu(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function t1(t,e,s){return typeof t=="string"?t:de.transform(e+s*t)}function uE(t,e,s){const n=t1(e,t.x,t.width),a=t1(s,t.y,t.height);return`${n} ${a}`}const mE={offset:"stroke-dashoffset",array:"stroke-dasharray"},hE={offset:"strokeDashoffset",array:"strokeDasharray"};function fE(t,e,s=1,n=0,a=!0){t.pathLength=1;const i=a?mE:hE;t[i.offset]=de.transform(-n);const l=de.transform(e),o=de.transform(s);t[i.array]=`${l} ${o}`}function Tg(t,{attrX:e,attrY:s,attrScale:n,originX:a,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...d},m,u,h){if(Cg(t,d,m,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:p,dimensions:x}=t;g.transform&&(x&&(p.transform=g.transform),delete g.transform),x&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=uE(x,a!==void 0?a:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),s!==void 0&&(g.y=s),n!==void 0&&(g.scale=n),l!==void 0&&fE(g,l,o,c,!1)}const ON=()=>({...kg(),attrs:{}}),Eg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pE(t,e,s,n){const a=f.useMemo(()=>{const i=ON();return Tg(i,e,{enableHardwareAcceleration:!1},Eg(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};IN(i,t.style,t),a.style={...i,...a.style}}return a}function gE(t=!1){return(s,n,a,{latestValues:i},l)=>{const c=(Sg(s)?pE:lE)(n,i,l,s),m={...dE(n,typeof s=="string",t),...c,ref:a},{children:u}=n,h=f.useMemo(()=>Is(u)?u.get():u,[u]);return f.createElement(s,{...m,children:h})}}function LN(t,{style:e,vars:s},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const i in s)t.style.setProperty(i,s[i])}const FN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VN(t,e,s,n){LN(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(FN.has(a)?a:jg(a),e.attrs[a])}function Ag(t,e){const{style:s}=t,n={};for(const a in s)(Is(s[a])||e.style&&Is(e.style[a])||EN(a,t))&&(n[a]=s[a]);return n}function $N(t,e){const s=Ag(t,e);for(const n in t)if(Is(t[n])||Is(e[n])){const a=Uc.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=t[n]}return s}function Dg(t,e,s,n={},a={}){return typeof e=="function"&&(e=e(s!==void 0?s:t.custom,n,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(s!==void 0?s:t.custom,n,a)),e}function UN(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zu=t=>Array.isArray(t),xE=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yE=t=>Zu(t)?t[t.length-1]||0:t;function eu(t){const e=Is(t)?t.get():t;return xE(e)?e.toValue():e}function vE({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:s},n,a,i){const l={latestValues:bE(n,a,i,t),renderState:e()};return s&&(l.mount=o=>s(n,o,l)),l}const BN=t=>(e,s)=>{const n=f.useContext(Pm),a=f.useContext(Mm),i=()=>vE(t,e,n,a);return s?i():UN(i)};function bE(t,e,s,n){const a={},i=n(t,{});for(const h in i)a[h]=eu(i[h]);let{initial:l,animate:o}=t;const c=Om(t),d=kN(t);e&&d&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),o===void 0&&(o=e.animate));let m=s?s.initial===!1:!1;m=m||l===!1;const u=m?o:l;return u&&typeof u!="boolean"&&!Rm(u)&&(Array.isArray(u)?u:[u]).forEach(g=>{const p=Dg(t,g);if(!p)return;const{transitionEnd:x,transition:j,...v}=p;for(const y in v){let b=v[y];if(Array.isArray(b)){const N=m?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in x)a[y]=x[y]}),a}const ut=t=>t;class s1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const s=this.order.indexOf(e);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jE(t){let e=new s1,s=new s1,n=0,a=!1,i=!1;const l=new WeakSet,o={schedule:(c,d=!1,m=!1)=>{const u=m&&a,h=u?e:s;return d&&l.add(c),h.add(c)&&u&&a&&(n=e.order.length),c},cancel:c=>{s.remove(c),l.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[e,s]=[s,e],s.clear(),n=e.order.length,n)for(let d=0;d<n;d++){const m=e.order[d];m(c),l.has(m)&&(o.schedule(m),t())}a=!1,i&&(i=!1,o.process(c))}};return o}const kd=["prepare","read","update","preRender","render","postRender"],NE=40;function wE(t,e){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=kd.reduce((u,h)=>(u[h]=jE(()=>s=!0),u),{}),l=u=>i[u].process(a),o=()=>{const u=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(u-a.timestamp,NE),1),a.timestamp=u,a.isProcessing=!0,kd.forEach(l),a.isProcessing=!1,s&&e&&(n=!1,t(o))},c=()=>{s=!0,n=!0,a.isProcessing||t(o)};return{schedule:kd.reduce((u,h)=>{const g=i[h];return u[h]=(p,x=!1,j=!1)=>(s||c(),g.schedule(p,x,j)),u},{}),cancel:u=>kd.forEach(h=>i[h].cancel(u)),state:a,steps:i}}const{schedule:Ge,cancel:An,state:ts,steps:Mh}=wE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0),_E={useVisualState:BN({scrapeMotionValuesFromProps:$N,createRenderState:ON,onMount:(t,e,{renderState:s,latestValues:n})=>{Ge.read(()=>{try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ge.render(()=>{Tg(s,n,{enableHardwareAcceleration:!1},Eg(e.tagName),t.transformTemplate),VN(e,s)})}})},SE={useVisualState:BN({scrapeMotionValuesFromProps:Ag,createRenderState:kg})};function CE(t,{forwardMotionProps:e=!1},s,n){return{...Sg(t)?_E:SE,preloadedFeatures:s,useRender:gE(e),createVisualElement:n,Component:t}}function vn(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}const zN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Fm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const kE=t=>e=>zN(e)&&t(e,Fm(e));function Nn(t,e,s,n){return vn(t,e,kE(s),n)}const TE=(t,e)=>s=>e(t(s)),fa=(...t)=>t.reduce(TE);function WN(t){let e=null;return()=>{const s=()=>{e=null};return e===null?(e=t,s):!1}}const r1=WN("dragHorizontal"),n1=WN("dragVertical");function GN(t){let e=!1;if(t==="y")e=n1();else if(t==="x")e=r1();else{const s=r1(),n=n1();s&&n?e=()=>{s(),n()}:(s&&s(),n&&n())}return e}function HN(){const t=GN(!0);return t?(t(),!1):!0}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function a1(t,e){const s="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),a=(i,l)=>{if(i.pointerType==="touch"||HN())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[n]&&Ge.update(()=>o[n](i,l))};return Nn(t.current,s,a,{passive:!t.getProps()[n]})}class EE extends Aa{mount(){this.unmount=fa(a1(this.node,!0),a1(this.node,!1))}unmount(){}}class AE extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fa(vn(this.node.current,"focus",()=>this.onFocus()),vn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const KN=(t,e)=>e?t===e?!0:KN(t,e.parentElement):!1;function Ih(t,e){if(!e)return;const s=new PointerEvent("pointer"+t);e(s,Fm(s))}class DE extends Aa{constructor(){super(...arguments),this.removeStartListeners=ut,this.removeEndListeners=ut,this.removeAccessibleListeners=ut,this.startPointerPress=(e,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=Nn(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m,globalTapTarget:u}=this.node.getProps();Ge.update(()=>{!u&&!KN(this.node.current,o.target)?m&&m(o,c):d&&d(o,c)})},{passive:!(n.onTap||n.onPointerUp)}),l=Nn(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=fa(i,l),this.startPress(e,s)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Ih("up",(c,d)=>{const{onTap:m}=this.node.getProps();m&&Ge.update(()=>m(c,d))})};this.removeEndListeners(),this.removeEndListeners=vn(this.node.current,"keyup",l),Ih("down",(o,c)=>{this.startPress(o,c)})},s=vn(this.node.current,"keydown",e),n=()=>{this.isPressing&&Ih("cancel",(i,l)=>this.cancelPress(i,l))},a=vn(this.node.current,"blur",n);this.removeAccessibleListeners=fa(s,a)}}startPress(e,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ge.update(()=>n(e,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!HN()}cancelPress(e,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ge.update(()=>n(e,s))}mount(){const e=this.node.getProps(),s=Nn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=vn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fa(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kf=new WeakMap,Rh=new WeakMap,PE=t=>{const e=kf.get(t.target);e&&e(t)},ME=t=>{t.forEach(PE)};function IE({root:t,...e}){const s=t||document;Rh.has(s)||Rh.set(s,{});const n=Rh.get(s),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(ME,{root:t,...e})),n[a]}function RE(t,e,s){const n=IE(e);return kf.set(t,s),n.observe(t),()=>{kf.delete(t),n.unobserve(t)}}const OE={some:0,all:1};class LE extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:i}=e,l={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:OE[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:u}=this.node.getProps(),h=d?m:u;h&&h(c)};return RE(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(FE(e,s))&&this.startObserver()}unmount(){}}function FE({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const VE={inView:{Feature:LE},tap:{Feature:DE},focus:{Feature:AE},hover:{Feature:EE}};function YN(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function $E(t){const e={};return t.values.forEach((s,n)=>e[n]=s.get()),e}function UE(t){const e={};return t.values.forEach((s,n)=>e[n]=s.getVelocity()),e}function Vm(t,e,s){const n=t.getProps();return Dg(n,e,s!==void 0?s:n.custom,$E(t),UE(t))}let BE=ut,Pg=ut;const pa=t=>t*1e3,wn=t=>t/1e3,zE={current:!1},qN=t=>Array.isArray(t)&&typeof t[0]=="number";function ZN(t){return!!(!t||typeof t=="string"&&QN[t]||qN(t)||Array.isArray(t)&&t.every(ZN))}const _o=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,QN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function XN(t){if(t)return qN(t)?_o(t):Array.isArray(t)?t.map(XN):QN[t]}function WE(t,e,s,{delay:n=0,duration:a,repeat:i=0,repeatType:l="loop",ease:o,times:c}={}){const d={[e]:s};c&&(d.offset=c);const m=XN(o);return Array.isArray(m)&&(d.easing=m),t.animate(d,{delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function GE(t,{repeat:e,repeatType:s="loop"}){const n=e&&s!=="loop"&&e%2===1?0:t.length-1;return t[n]}const JN=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,HE=1e-7,KE=12;function YE(t,e,s,n,a){let i,l,o=0;do l=e+(s-e)/2,i=JN(l,n,a)-t,i>0?s=l:e=l;while(Math.abs(i)>HE&&++o<KE);return l}function Wc(t,e,s,n){if(t===e&&s===n)return ut;const a=i=>YE(i,0,1,t,s);return i=>i===0||i===1?i:JN(a(i),e,n)}const qE=Wc(.42,0,1,1),ZE=Wc(0,0,.58,1),ew=Wc(.42,0,.58,1),QE=t=>Array.isArray(t)&&typeof t[0]!="number",tw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sw=t=>e=>1-t(1-e),Mg=t=>1-Math.sin(Math.acos(t)),rw=sw(Mg),XE=tw(Mg),nw=Wc(.33,1.53,.69,.99),Ig=sw(nw),JE=tw(Ig),eA=t=>(t*=2)<1?.5*Ig(t):.5*(2-Math.pow(2,-10*(t-1))),tA={linear:ut,easeIn:qE,easeInOut:ew,easeOut:ZE,circIn:Mg,circInOut:XE,circOut:rw,backIn:Ig,backInOut:JE,backOut:nw,anticipate:eA},i1=t=>{if(Array.isArray(t)){Pg(t.length===4);const[e,s,n,a]=t;return Wc(e,s,n,a)}else if(typeof t=="string")return tA[t];return t},Rg=(t,e)=>s=>!!(Bc(s)&&sE.test(s)&&s.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(s,e)),aw=(t,e,s)=>n=>{if(!Bc(n))return n;const[a,i,l,o]=n.match(Lm);return{[t]:parseFloat(a),[e]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},sA=t=>Na(0,255,t),Oh={...wi,transform:t=>Math.round(sA(t))},Xa={test:Rg("rgb","red"),parse:aw("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Oh.transform(t)+", "+Oh.transform(e)+", "+Oh.transform(s)+", "+Yo(Ko.transform(n))+")"};function rA(t){let e="",s="",n="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Tf={test:Rg("#"),parse:rA,transform:Xa.transform},tl={test:Rg("hsl","hue"),parse:aw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+sn.transform(Yo(e))+", "+sn.transform(Yo(s))+", "+Yo(Ko.transform(n))+")"},us={test:t=>Xa.test(t)||Tf.test(t)||tl.test(t),parse:t=>Xa.test(t)?Xa.parse(t):tl.test(t)?tl.parse(t):Tf.parse(t),transform:t=>Bc(t)?t:t.hasOwnProperty("red")?Xa.transform(t):tl.transform(t)},at=(t,e,s)=>-s*t+s*e+t;function Lh(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function nA({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let a=0,i=0,l=0;if(!e)a=i=l=s;else{const o=s<.5?s*(1+e):s+e-s*e,c=2*s-o;a=Lh(c,o,t+1/3),i=Lh(c,o,t),l=Lh(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}const Fh=(t,e,s)=>{const n=t*t;return Math.sqrt(Math.max(0,s*(e*e-n)+n))},aA=[Tf,Xa,tl],iA=t=>aA.find(e=>e.test(t));function l1(t){const e=iA(t);let s=e.parse(t);return e===tl&&(s=nA(s)),s}const iw=(t,e)=>{const s=l1(t),n=l1(e),a={...s};return i=>(a.red=Fh(s.red,n.red,i),a.green=Fh(s.green,n.green,i),a.blue=Fh(s.blue,n.blue,i),a.alpha=at(s.alpha,n.alpha,i),Xa.transform(a))};function lA(t){var e,s;return isNaN(t)&&Bc(t)&&(((e=t.match(Lm))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(PN))===null||s===void 0?void 0:s.length)||0)>0}const lw={regex:eE,countKey:"Vars",token:"${v}",parse:ut},ow={regex:PN,countKey:"Colors",token:"${c}",parse:us.parse},cw={regex:Lm,countKey:"Numbers",token:"${n}",parse:wi.parse};function Vh(t,{regex:e,countKey:s,token:n,parse:a}){const i=t.tokenised.match(e);i&&(t["num"+s]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(a)))}function Qu(t){const e=t.toString(),s={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Vh(s,lw),Vh(s,ow),Vh(s,cw),s}function dw(t){return Qu(t).values}function uw(t){const{values:e,numColors:s,numVars:n,tokenised:a}=Qu(t),i=e.length;return l=>{let o=a;for(let c=0;c<i;c++)c<n?o=o.replace(lw.token,l[c]):c<n+s?o=o.replace(ow.token,us.transform(l[c])):o=o.replace(cw.token,Yo(l[c]));return o}}const oA=t=>typeof t=="number"?0:t;function cA(t){const e=dw(t);return uw(t)(e.map(oA))}const wa={test:lA,parse:dw,createTransformer:uw,getAnimatableNone:cA},mw=(t,e)=>s=>`${s>0?e:t}`;function hw(t,e){return typeof t=="number"?s=>at(t,e,s):us.test(t)?iw(t,e):t.startsWith("var(")?mw(t,e):pw(t,e)}const fw=(t,e)=>{const s=[...t],n=s.length,a=t.map((i,l)=>hw(i,e[l]));return i=>{for(let l=0;l<n;l++)s[l]=a[l](i);return s}},dA=(t,e)=>{const s={...t,...e},n={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(n[a]=hw(t[a],e[a]));return a=>{for(const i in n)s[i]=n[i](a);return s}},pw=(t,e)=>{const s=wa.createTransformer(e),n=Qu(t),a=Qu(e);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?fa(fw(n.values,a.values),s):mw(t,e)},Ec=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n},o1=(t,e)=>s=>at(t,e,s);function uA(t){return typeof t=="number"?o1:typeof t=="string"?us.test(t)?iw:pw:Array.isArray(t)?fw:typeof t=="object"?dA:o1}function mA(t,e,s){const n=[],a=s||uA(t[0]),i=t.length-1;for(let l=0;l<i;l++){let o=a(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||ut:e;o=fa(c,o)}n.push(o)}return n}function gw(t,e,{clamp:s=!0,ease:n,mixer:a}={}){const i=t.length;if(Pg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=mA(e,n,a),o=l.length,c=d=>{let m=0;if(o>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const u=Ec(t[m],t[m+1],d);return l[m](u)};return s?d=>c(Na(t[0],t[i-1],d)):c}function hA(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const a=Ec(0,e,n);t.push(at(s,1,a))}}function fA(t){const e=[0];return hA(e,t.length-1),e}function pA(t,e){return t.map(s=>s*e)}function gA(t,e){return t.map(()=>e||ew).splice(0,t.length-1)}function Xu({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const a=QE(n)?n.map(i1):i1(n),i={done:!1,value:e[0]},l=pA(s&&s.length===e.length?s:fA(e),t),o=gw(l,e,{ease:Array.isArray(a)?a:gA(e,a)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}function xw(t,e){return e?t*(1e3/e):0}const xA=5;function yw(t,e,s){const n=Math.max(e-xA,0);return xw(s-t(n),e-n)}const $h=.001,yA=.01,c1=10,vA=.05,bA=1;function jA({duration:t=800,bounce:e=.25,velocity:s=0,mass:n=1}){let a,i;BE(t<=pa(c1));let l=1-e;l=Na(vA,bA,l),t=Na(yA,c1,wn(t)),l<1?(a=d=>{const m=d*l,u=m*t,h=m-s,g=Ef(d,l),p=Math.exp(-u);return $h-h/g*p},i=d=>{const u=d*l*t,h=u*s+s,g=Math.pow(l,2)*Math.pow(d,2)*t,p=Math.exp(-u),x=Ef(Math.pow(d,2),l);return(-a(d)+$h>0?-1:1)*((h-g)*p)/x}):(a=d=>{const m=Math.exp(-d*t),u=(d-s)*t+1;return-$h+m*u},i=d=>{const m=Math.exp(-d*t),u=(s-d)*(t*t);return m*u});const o=5/t,c=wA(a,i,o);if(t=pa(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:t}}}const NA=12;function wA(t,e,s){let n=s;for(let a=1;a<NA;a++)n=n-t(n)/e(n);return n}function Ef(t,e){return t*Math.sqrt(1-e*e)}const _A=["duration","bounce"],SA=["stiffness","damping","mass"];function d1(t,e){return e.some(s=>t[s]!==void 0)}function CA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!d1(t,SA)&&d1(t,_A)){const s=jA(t);e={...e,...s,mass:1},e.isResolvedFromDuration=!0}return e}function vw({keyframes:t,restDelta:e,restSpeed:s,...n}){const a=t[0],i=t[t.length-1],l={done:!1,value:a},{stiffness:o,damping:c,mass:d,duration:m,velocity:u,isResolvedFromDuration:h}=CA({...n,velocity:-wn(n.velocity||0)}),g=u||0,p=c/(2*Math.sqrt(o*d)),x=i-a,j=wn(Math.sqrt(o/d)),v=Math.abs(x)<5;s||(s=v?.01:2),e||(e=v?.005:.5);let y;if(p<1){const b=Ef(j,p);y=N=>{const w=Math.exp(-p*j*N);return i-w*((g+p*j*x)/b*Math.sin(b*N)+x*Math.cos(b*N))}}else if(p===1)y=b=>i-Math.exp(-j*b)*(x+(g+j*x)*b);else{const b=j*Math.sqrt(p*p-1);y=N=>{const w=Math.exp(-p*j*N),k=Math.min(b*N,300);return i-w*((g+p*j*x)*Math.sinh(k)+b*x*Math.cosh(k))/b}}return{calculatedDuration:h&&m||null,next:b=>{const N=y(b);if(h)l.done=b>=m;else{let w=g;b!==0&&(p<1?w=yw(y,b,N):w=0);const k=Math.abs(w)<=s,T=Math.abs(i-N)<=e;l.done=k&&T}return l.value=l.done?i:N,l}}}function u1({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:m}){const u=t[0],h={done:!1,value:u},g=P=>o!==void 0&&P<o||c!==void 0&&P>c,p=P=>o===void 0?c:c===void 0||Math.abs(o-P)<Math.abs(c-P)?o:c;let x=s*e;const j=u+x,v=l===void 0?j:l(j);v!==j&&(x=v-u);const y=P=>-x*Math.exp(-P/n),b=P=>v+y(P),N=P=>{const E=y(P),C=b(P);h.done=Math.abs(E)<=d,h.value=h.done?v:C};let w,k;const T=P=>{g(h.value)&&(w=P,k=vw({keyframes:[h.value,p(h.value)],velocity:yw(b,P,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:m}))};return T(0),{calculatedDuration:null,next:P=>{let E=!1;return!k&&w===void 0&&(E=!0,N(P),T(P)),w!==void 0&&P>w?k.next(P-w):(!E&&N(P),h)}}}const kA=t=>{const e=({timestamp:s})=>t(s);return{start:()=>Ge.update(e,!0),stop:()=>An(e),now:()=>ts.isProcessing?ts.timestamp:performance.now()}},m1=2e4;function h1(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<m1;)e+=s,n=t.next(e);return e>=m1?1/0:e}const TA={decay:u1,inertia:u1,tween:Xu,keyframes:Xu,spring:vw};function Ju({autoplay:t=!0,delay:e=0,driver:s=kA,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:c,onStop:d,onComplete:m,onUpdate:u,...h}){let g=1,p=!1,x,j;const v=()=>{j=new Promise(z=>{x=z})};v();let y;const b=TA[a]||Xu;let N;b!==Xu&&typeof n[0]!="number"&&(N=gw([0,100],n,{clamp:!1}),n=[0,100]);const w=b({...h,keyframes:n});let k;o==="mirror"&&(k=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let T="idle",P=null,E=null,C=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=h1(w));const{calculatedDuration:A}=w;let I=1/0,S=1/0;A!==null&&(I=A+l,S=I*(i+1)-l);let _=0;const L=z=>{if(E===null)return;g>0&&(E=Math.min(E,z)),g<0&&(E=Math.min(z-S/g,E)),P!==null?_=P:_=Math.round(z-E)*g;const Z=_-e*(g>=0?1:-1),B=g>=0?Z<0:Z>S;_=Math.max(Z,0),T==="finished"&&P===null&&(_=S);let G=_,K=w;if(i){const ie=Math.min(_,S)/I;let ue=Math.floor(ie),J=ie%1;!J&&ie>=1&&(J=1),J===1&&ue--,ue=Math.min(ue,i+1),!!(ue%2)&&(o==="reverse"?(J=1-J,l&&(J-=l/I)):o==="mirror"&&(K=k)),G=Na(0,1,J)*I}const H=B?{done:!1,value:n[0]}:K.next(G);N&&(H.value=N(H.value));let{done:q}=H;!B&&A!==null&&(q=g>=0?_>=S:_<=0);const ne=P===null&&(T==="finished"||T==="running"&&q);return u&&u(H.value),ne&&M(),H},R=()=>{y&&y.stop(),y=void 0},F=()=>{T="idle",R(),x(),v(),E=C=null},M=()=>{T="finished",m&&m(),R(),x()},$=()=>{if(p)return;y||(y=s(L));const z=y.now();c&&c(),P!==null?E=z-P:(!E||T==="finished")&&(E=z),T==="finished"&&v(),C=E,P=null,T="running",y.start()};t&&$();const D={then(z,Z){return j.then(z,Z)},get time(){return wn(_)},set time(z){z=pa(z),_=z,P!==null||!y||g===0?P=z:E=y.now()-z/g},get duration(){const z=w.calculatedDuration===null?h1(w):w.calculatedDuration;return wn(z)},get speed(){return g},set speed(z){z===g||!y||(g=z,D.time=wn(_))},get state(){return T},play:$,pause:()=>{T="paused",P=_},stop:()=>{p=!0,T!=="idle"&&(T="idle",d&&d(),F())},cancel:()=>{C!==null&&L(C),F()},complete:()=>{T="finished"},sample:z=>(E=0,L(z))};return D}function EA(t){let e;return()=>(e===void 0&&(e=t()),e)}const AA=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),DA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Td=10,PA=2e4,MA=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ZN(e.ease);function IA(t,e,{onUpdate:s,onComplete:n,...a}){if(!(AA()&&DA.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let l=!1,o,c,d=!1;const m=()=>{c=new Promise(b=>{o=b})};m();let{keyframes:u,duration:h=300,ease:g,times:p}=a;if(MA(e,a)){const b=Ju({...a,repeat:0,delay:0});let N={done:!1,value:u[0]};const w=[];let k=0;for(;!N.done&&k<PA;)N=b.sample(k),w.push(N.value),k+=Td;p=void 0,u=w,h=k-Td,g="linear"}const x=WE(t.owner.current,e,u,{...a,duration:h,ease:g,times:p}),j=()=>{d=!1,x.cancel()},v=()=>{d=!0,Ge.update(j),o(),m()};return x.onfinish=()=>{d||(t.set(GE(u,a)),n&&n(),v())},{then(b,N){return c.then(b,N)},attachTimeline(b){return x.timeline=b,x.onfinish=null,ut},get time(){return wn(x.currentTime||0)},set time(b){x.currentTime=pa(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return wn(h)},play:()=>{l||(x.play(),An(j))},pause:()=>x.pause(),stop:()=>{if(l=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const N=Ju({...a,autoplay:!1});t.setWithVelocity(N.sample(b-Td).value,N.sample(b).value,Td)}v()},complete:()=>{d||x.finish()},cancel:v}}function RA({keyframes:t,delay:e,onUpdate:s,onComplete:n}){const a=()=>(s&&s(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ut,pause:ut,stop:ut,then:i=>(i(),Promise.resolve()),cancel:ut,complete:ut});return e?Ju({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const OA={type:"spring",stiffness:500,damping:25,restSpeed:10},LA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FA={type:"keyframes",duration:.8},VA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$A=(t,{keyframes:e})=>e.length>2?FA:Ni.has(t)?t.startsWith("scale")?LA(e[1]):OA:VA,Af=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wa.test(e)||e==="0")&&!e.startsWith("url(")),UA=new Set(["brightness","contrast","saturate","opacity"]);function BA(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(Lm)||[];if(!n)return t;const a=s.replace(n,"");let i=UA.has(e)?1:0;return n!==s&&(i*=100),e+"("+i+a+")"}const zA=/([a-z-]*)\(.*?\)/g,Df={...wa,getAnimatableNone:t=>{const e=t.match(zA);return e?e.map(BA).join(" "):t}},WA={...MN,color:us,backgroundColor:us,outlineColor:us,fill:us,stroke:us,borderColor:us,borderTopColor:us,borderRightColor:us,borderBottomColor:us,borderLeftColor:us,filter:Df,WebkitFilter:Df},Og=t=>WA[t];function bw(t,e){let s=Og(t);return s!==Df&&(s=wa),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const jw=t=>/^0[^.\s]+$/.test(t);function GA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||jw(t)}function HA(t,e,s,n){const a=Af(e,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const l=n.from!==void 0?n.from:t.get();let o;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?l:i[d-1]),GA(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(o=i[d]);if(a&&c.length&&o)for(let d=0;d<c.length;d++){const m=c[d];i[m]=bw(e,o)}return i}function KA({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...m}){return!!Object.keys(m).length}function Lg(t,e){return t[e]||t.default||t}const YA={skipAnimations:!1},Fg=(t,e,s,n={})=>a=>{const i=Lg(n,t)||{},l=i.delay||n.delay||0;let{elapsed:o=0}=n;o=o-pa(l);const c=HA(e,t,s,i),d=c[0],m=c[c.length-1],u=Af(t,d),h=Af(t,m);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(KA(i)||(g={...g,...$A(t,g)}),g.duration&&(g.duration=pa(g.duration)),g.repeatDelay&&(g.repeatDelay=pa(g.repeatDelay)),!u||!h||zE.current||i.type===!1||YA.skipAnimations)return RA(g);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=IA(e,t,g);if(p)return p}return Ju(g)};function em(t){return!!(Is(t)&&t.add)}const Nw=t=>/^\-?\d*\.?\d+$/.test(t);function Vg(t,e){t.indexOf(e)===-1&&t.push(e)}function $g(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Ug{constructor(){this.subscriptions=[]}add(e){return Vg(this.subscriptions,e),()=>$g(this.subscriptions,e)}notify(e,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,n);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qA=t=>!isNaN(parseFloat(t));class ZA{constructor(e,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:l}=ts;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,Ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=qA(this.current),this.owner=s.owner}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ug);const n=this.events[e].add(s);return e==="change"?()=>{n(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(t,e){return new ZA(t,e)}const ww=t=>e=>e.test(t),QA={test:t=>t==="auto",parse:t=>t},_w=[wi,de,sn,$n,nE,rE,QA],uo=t=>_w.find(ww(t)),XA=[..._w,us,wa],JA=t=>XA.find(ww(t));function e7(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,$l(s))}function t7(t,e){const s=Vm(t,e);let{transitionEnd:n={},transition:a={},...i}=s?t.makeTargetAnimatable(s,!1):{};i={...i,...n};for(const l in i){const o=yE(i[l]);e7(t,l,o)}}function s7(t,e,s){var n,a;const i=Object.keys(e).filter(o=>!t.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const c=i[o],d=e[c];let m=null;Array.isArray(d)&&(m=d[0]),m===null&&(m=(a=(n=s[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&a!==void 0?a:e[c]),m!=null&&(typeof m=="string"&&(Nw(m)||jw(m))?m=parseFloat(m):!JA(m)&&wa.test(d)&&(m=bw(c,d)),t.addValue(c,$l(m,{owner:t})),s[c]===void 0&&(s[c]=m),m!==null&&t.setBaseTarget(c,m))}}function r7(t,e){return e?(e[t]||e.default||e).from:void 0}function n7(t,e,s){const n={};for(const a in t){const i=r7(a,e);if(i!==void 0)n[a]=i;else{const l=s.getValue(a);l&&(n[a]=l.get())}}return n}function a7({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function i7(t,e){const s=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==s)return!0}else return s!==e}function Sw(t,e,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(i=n);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const u in o){const h=t.getValue(u),g=o[u];if(!h||g===void 0||m&&a7(m,u))continue;const p={delay:s,elapsed:0,...Lg(i||{},u)};if(window.HandoffAppearAnimations){const v=t.getProps()[CN];if(v){const y=window.HandoffAppearAnimations(v,u,h,Ge);y!==null&&(p.elapsed=y,p.isHandoff=!0)}}let x=!p.isHandoff&&!i7(h,g);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(Fg(u,h,g,t.shouldReduceMotion&&Ni.has(u)?{type:!1}:p));const j=h.animation;em(c)&&(c.add(u),j.then(()=>c.remove(u))),d.push(j)}return l&&Promise.all(d).then(()=>{l&&t7(t,l)}),d}function Pf(t,e,s={}){const n=Vm(t,e,s.custom);let{transition:a=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const i=n?()=>Promise.all(Sw(t,n,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:u}=a;return l7(t,e,d+c,m,u,s)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(s.delay)])}function l7(t,e,s=0,n=0,a=1,i){const l=[],o=(t.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>o-d*n;return Array.from(t.variantChildren).sort(o7).forEach((d,m)=>{d.notify("AnimationStart",e),l.push(Pf(d,e,{...i,delay:s+c(m)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(l)}function o7(t,e){return t.sortNodePosition(e)}function c7(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>Pf(t,i,s));n=Promise.all(a)}else if(typeof e=="string")n=Pf(t,e,s);else{const a=typeof e=="function"?Vm(t,e,s.custom):e;n=Promise.all(Sw(t,a,s))}return n.then(()=>t.notify("AnimationComplete",e))}const d7=[...Ng].reverse(),u7=Ng.length;function m7(t){return e=>Promise.all(e.map(({animation:s,options:n})=>c7(t,s,n)))}function h7(t){let e=m7(t);const s=p7();let n=!0;const a=(c,d)=>{const m=Vm(t,d);if(m){const{transition:u,transitionEnd:h,...g}=m;c={...c,...g,...h}}return c};function i(c){e=c(t)}function l(c,d){const m=t.getProps(),u=t.getVariantContext(!0)||{},h=[],g=new Set;let p={},x=1/0;for(let v=0;v<u7;v++){const y=d7[v],b=s[y],N=m[y]!==void 0?m[y]:u[y],w=kc(N),k=y===d?b.isActive:null;k===!1&&(x=v);let T=N===u[y]&&N!==m[y]&&w;if(T&&n&&t.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...p},!b.isActive&&k===null||!N&&!b.prevProp||Rm(N)||typeof N=="boolean")continue;let E=f7(b.prevProp,N)||y===d&&b.isActive&&!T&&w||v>x&&w,C=!1;const A=Array.isArray(N)?N:[N];let I=A.reduce(a,{});k===!1&&(I={});const{prevResolvedValues:S={}}=b,_={...S,...I},L=R=>{E=!0,g.has(R)&&(C=!0,g.delete(R)),b.needsAnimating[R]=!0};for(const R in _){const F=I[R],M=S[R];if(p.hasOwnProperty(R))continue;let $=!1;Zu(F)&&Zu(M)?$=!YN(F,M):$=F!==M,$?F!==void 0?L(R):g.add(R):F!==void 0&&g.has(R)?L(R):b.protectedKeys[R]=!0}b.prevProp=N,b.prevResolvedValues=I,b.isActive&&(p={...p,...I}),n&&t.blockInitialAnimation&&(E=!1),E&&(!T||C)&&h.push(...A.map(R=>({animation:R,options:{type:y,...c}})))}if(g.size){const v={};g.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(v[y]=b)}),h.push({animation:v})}let j=!!h.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(h):Promise.resolve()}function o(c,d,m){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(g=>{var p;return(p=g.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),s[c].isActive=d;const h=l(m,c);for(const g in s)s[g].protectedKeys={};return h}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s}}function f7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YN(e,t):!1}function La(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p7(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class g7 extends Aa{constructor(e){super(e),e.animationState||(e.animationState=h7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Rm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let x7=0;class y7 extends Aa{constructor(){super(...arguments),this.id=x7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const v7={animation:{Feature:g7},exit:{Feature:y7}},f1=(t,e)=>Math.abs(t-e);function b7(t,e){const s=f1(t.x,e.x),n=f1(t.y,e.y);return Math.sqrt(s**2+n**2)}class Cw{constructor(e,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Bh(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=b7(u.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:p}=u,{timestamp:x}=ts;this.history.push({...p,timestamp:x});const{onStart:j,onMove:v}=this.handlers;h||(j&&j(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Uh(h,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Bh(u.type==="pointercancel"?this.lastMoveEventInfo:Uh(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(u,j),p&&p(u,j)},!zN(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const l=Fm(e),o=Uh(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=ts;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=s;m&&m(e,Bh(o,this.history)),this.removeListeners=fa(Nn(this.contextWindow,"pointermove",this.handlePointerMove),Nn(this.contextWindow,"pointerup",this.handlePointerUp),Nn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),An(this.updatePoint)}}function Uh(t,e){return e?{point:e(t.point)}:t}function p1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bh({point:t},e){return{point:t,delta:p1(t,kw(e)),offset:p1(t,j7(e)),velocity:N7(e,.1)}}function j7(t){return t[0]}function kw(t){return t[t.length-1]}function N7(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const a=kw(t);for(;s>=0&&(n=t[s],!(a.timestamp-n.timestamp>pa(e)));)s--;if(!n)return{x:0,y:0};const i=wn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function er(t){return t.max-t.min}function Mf(t,e=0,s=.01){return Math.abs(t-e)<=s}function g1(t,e,s,n=.5){t.origin=n,t.originPoint=at(e.min,e.max,t.origin),t.scale=er(s)/er(e),(Mf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=at(s.min,s.max,t.origin)-t.originPoint,(Mf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function qo(t,e,s,n){g1(t.x,e.x,s.x,n?n.originX:void 0),g1(t.y,e.y,s.y,n?n.originY:void 0)}function x1(t,e,s){t.min=s.min+e.min,t.max=t.min+er(e)}function w7(t,e,s){x1(t.x,e.x,s.x),x1(t.y,e.y,s.y)}function y1(t,e,s){t.min=e.min-s.min,t.max=t.min+er(e)}function Zo(t,e,s){y1(t.x,e.x,s.x),y1(t.y,e.y,s.y)}function _7(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?at(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?at(s,t,n.max):Math.min(t,s)),t}function v1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function S7(t,{top:e,left:s,bottom:n,right:a}){return{x:v1(t.x,s,a),y:v1(t.y,e,n)}}function b1(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function C7(t,e){return{x:b1(t.x,e.x),y:b1(t.y,e.y)}}function k7(t,e){let s=.5;const n=er(t),a=er(e);return a>n?s=Ec(e.min,e.max-n,t.min):n>a&&(s=Ec(t.min,t.max-a,e.min)),Na(0,1,s)}function T7(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const If=.35;function E7(t=If){return t===!1?t=0:t===!0&&(t=If),{x:j1(t,"left","right"),y:j1(t,"top","bottom")}}function j1(t,e,s){return{min:N1(t,e),max:N1(t,s)}}function N1(t,e){return typeof t=="number"?t:t[e]||0}const w1=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:w1(),y:w1()}),_1=()=>({min:0,max:0}),Nt=()=>({x:_1(),y:_1()});function lr(t){return[t("x"),t("y")]}function Tw({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function A7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function D7(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function zh(t){return t===void 0||t===1}function Rf({scale:t,scaleX:e,scaleY:s}){return!zh(t)||!zh(e)||!zh(s)}function za(t){return Rf(t)||Ew(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Ew(t){return S1(t.x)||S1(t.y)}function S1(t){return t&&t!=="0%"}function tm(t,e,s){const n=t-s,a=e*n;return s+a}function C1(t,e,s,n,a){return a!==void 0&&(t=tm(t,a,n)),tm(t,s,n)+e}function Of(t,e=0,s=1,n,a){t.min=C1(t.min,e,s,n,a),t.max=C1(t.max,e,s,n,a)}function Aw(t,{x:e,y:s}){Of(t.x,e.translate,e.scale,e.originPoint),Of(t.y,s.translate,s.scale,s.originPoint)}function P7(t,e,s,n=!1){const a=s.length;if(!a)return;e.x=e.y=1;let i,l;for(let o=0;o<a;o++){i=s[o],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Aw(t,l)),n&&za(i.latestValues)&&rl(t,i.latestValues))}e.x=k1(e.x),e.y=k1(e.y)}function k1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zn(t,e){t.min=t.min+e,t.max=t.max+e}function T1(t,e,[s,n,a]){const i=e[a]!==void 0?e[a]:.5,l=at(t.min,t.max,i);Of(t,e[s],e[n],l,e.scale)}const M7=["x","scaleX","originX"],I7=["y","scaleY","originY"];function rl(t,e){T1(t.x,e,M7),T1(t.y,e,I7)}function Dw(t,e){return Tw(D7(t.getBoundingClientRect(),e))}function R7(t,e,s){const n=Dw(t,s),{scroll:a}=e;return a&&(zn(n.x,a.offset.x),zn(n.y,a.offset.y)),n}const Pw=({current:t})=>t?t.ownerDocument.defaultView:null,O7=new WeakMap;class L7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Fm(m,"page").point)},i=(m,u)=>{const{drag:h,dragPropagation:g,onDragStart:p}=this.getProps();if(h&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=GN(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(j=>{let v=this.getAxisMotionValue(j).get()||0;if(sn.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[j];b&&(v=er(b)*(parseFloat(v)/100))}}this.originPoint[j]=v}),p&&Ge.update(()=>p(m,u),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(m,u)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:p,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:j}=u;if(g&&this.currentDirection===null){this.currentDirection=F7(j),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,j),this.updateAxis("y",u.point,j),this.visualElement.render(),x&&x(m,u)},o=(m,u)=>this.stop(m,u),c=()=>lr(m=>{var u;return this.getAnimationState(m)==="paused"&&((u=this.getAxisMotionValue(m).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Cw(e,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Pw(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ge.update(()=>i(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:a}=this.getProps();if(!n||!Ed(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=_7(l,this.constraints[e],this.elastic[e])),i.set(l)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;s&&el(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=S7(a.layoutBox,s):this.constraints=!1,this.elastic=E7(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&lr(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=T7(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!el(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=R7(n,a.root,this.visualElement.getTransformPagePoint());let l=C7(a.layout.layoutBox,i);if(s){const o=s(A7(l));this.hasMutatedConstraints=!!o,o&&(l=Tw(o))}return l}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=lr(m=>{if(!Ed(m,s,this.currentDirection))return;let u=c&&c[m]||{};l&&(u={min:0,max:0});const h=a?200:1e6,g=a?40:1e7,p={type:"inertia",velocity:n?e[m]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(m,p)});return Promise.all(d).then(o)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return n.start(Fg(e,n,0,s))}stopAnimation(){lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){lr(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){lr(s=>{const{drag:n}=this.getProps();if(!Ed(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:l,max:o}=a.layout.layoutBox[s];i.set(e[s]-at(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!el(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};lr(l=>{const o=this.getAxisMotionValue(l);if(o){const c=o.get();a[l]=k7({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),lr(l=>{if(!Ed(l,e,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(at(c,d,a[l]))})}addListeners(){if(!this.visualElement.current)return;O7.set(this.visualElement,this);const e=this.visualElement.current,s=Nn(e,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();el(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const l=vn(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(lr(m=>{const u=this.getAxisMotionValue(m);u&&(this.originPoint[m]+=c[m].translate,u.set(u.get()+c[m].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=If,dragMomentum:o=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Ed(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function F7(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class V7 extends Aa{constructor(e){super(e),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new L7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const E1=t=>(e,s)=>{t&&Ge.update(()=>t(e,s))};class $7 extends Aa{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(e){this.session=new Cw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:E1(e),onStart:E1(s),onMove:n,onEnd:(i,l)=>{delete this.session,a&&Ge.update(()=>a(i,l))}}}mount(){this.removePointerDownListener=Nn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function U7(){const t=f.useContext(Mm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:n}=t,a=f.useId();return f.useEffect(()=>n(a),[]),!e&&s?[!1,()=>s&&s(a)]:[!0]}const tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const s=A1(t,e.target.x),n=A1(t,e.target.y);return`${s}% ${n}%`}},B7={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,a=wa.parse(t);if(a.length>5)return n;const i=wa.createTransformer(t),l=typeof a[0]!="number"?1:0,o=s.x.scale*e.x,c=s.y.scale*e.y;a[0+l]/=o,a[1+l]/=c;const d=at(o,c,.5);return typeof a[2+l]=="number"&&(a[2+l]/=d),typeof a[3+l]=="number"&&(a[3+l]/=d),i(a)}};class z7 extends Dc.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Z8(W7),i&&(s.group&&s.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:a,isPresent:i}=this.props,l=n.projection;return l&&(l.isPresent=i,a||e.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?l.promote():l.relegate()||Ge.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mw(t){const[e,s]=U7(),n=f.useContext(_g);return Dc.createElement(z7,{...t,layoutGroup:n,switchLayoutGroup:f.useContext(TN),isPresent:e,safeToRemove:s})}const W7={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:B7},Iw=["TopLeft","TopRight","BottomLeft","BottomRight"],G7=Iw.length,D1=t=>typeof t=="string"?parseFloat(t):t,P1=t=>typeof t=="number"||de.test(t);function H7(t,e,s,n,a,i){a?(t.opacity=at(0,s.opacity!==void 0?s.opacity:1,K7(n)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,Y7(n))):i&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let l=0;l<G7;l++){const o=`border${Iw[l]}Radius`;let c=M1(e,o),d=M1(s,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||P1(c)===P1(d)?(t[o]=Math.max(at(D1(c),D1(d),n),0),(sn.test(d)||sn.test(c))&&(t[o]+="%")):t[o]=d}(e.rotate||s.rotate)&&(t.rotate=at(e.rotate||0,s.rotate||0,n))}function M1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const K7=Rw(0,.5,rw),Y7=Rw(.5,.95,ut);function Rw(t,e,s){return n=>n<t?0:n>e?1:s(Ec(t,e,n))}function I1(t,e){t.min=e.min,t.max=e.max}function nr(t,e){I1(t.x,e.x),I1(t.y,e.y)}function R1(t,e,s,n,a){return t-=e,t=tm(t,1/s,n),a!==void 0&&(t=tm(t,1/a,n)),t}function q7(t,e=0,s=1,n=.5,a,i=t,l=t){if(sn.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let o=at(i.min,i.max,n);t===i&&(o-=e),t.min=R1(t.min,e,s,o,a),t.max=R1(t.max,e,s,o,a)}function O1(t,e,[s,n,a],i,l){q7(t,e[s],e[n],e[a],e.scale,i,l)}const Z7=["x","scaleX","originX"],Q7=["y","scaleY","originY"];function L1(t,e,s,n){O1(t.x,e,Z7,s?s.x:void 0,n?n.x:void 0),O1(t.y,e,Q7,s?s.y:void 0,n?n.y:void 0)}function F1(t){return t.translate===0&&t.scale===1}function Ow(t){return F1(t.x)&&F1(t.y)}function X7(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Lw(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function V1(t){return er(t.x)/er(t.y)}class J7{constructor(){this.members=[]}add(e){Vg(this.members,e),e.scheduleRender()}remove(e){if($g(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $1(t,e,s){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{rotate:c,rotateX:d,rotateY:m}=s;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `)}const l=t.x.scale*e.x,o=t.y.scale*e.y;return(l!==1||o!==1)&&(n+=`scale(${l}, ${o})`),n||"none"}const eD=(t,e)=>t.depth-e.depth;class tD{constructor(){this.children=[],this.isDirty=!1}add(e){Vg(this.children,e),this.isDirty=!0}remove(e){$g(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eD),this.isDirty=!1,this.children.forEach(e)}}function sD(t,e){const s=performance.now(),n=({timestamp:a})=>{const i=a-s;i>=e&&(An(n),t(i-e))};return Ge.read(n,!0),()=>An(n)}function rD(t){window.MotionDebug&&window.MotionDebug.record(t)}function nD(t){return t instanceof SVGElement&&t.tagName!=="svg"}function aD(t,e,s){const n=Is(t)?t:$l(t);return n.start(Fg("",n,e,s)),n.animation}const U1=["","X","Y","Z"],iD={visibility:"hidden"},B1=1e3;let lD=0;const Wa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Fw({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},o=e==null?void 0:e()){this.id=lD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wa.totalNodes=Wa.resolvedTargetDeltas=Wa.recalculatedProjection=0,this.nodes.forEach(dD),this.nodes.forEach(pD),this.nodes.forEach(gD),this.nodes.forEach(uD),rD(Wa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tD)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ug),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nD(l),this.instance=l;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||c)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=sD(h,250),tu.hasAnimatedSinceResize&&(tu.hasAnimatedSinceResize=!1,this.nodes.forEach(W1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||m.getDefaultTransition()||jD,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=m.getProps(),y=!this.targetLayout||!Lw(this.targetLayout,p)||g,b=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const N={...Lg(x,"layout"),onPlay:j,onComplete:v};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||W1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,An(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const u=this.path[m];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z1);return}this.isUpdating||this.nodes.forEach(hD),this.isUpdating=!1,this.nodes.forEach(fD),this.nodes.forEach(oD),this.nodes.forEach(cD),this.clearAllSnapshots();const o=performance.now();ts.delta=Na(0,1e3/60,o-ts.timestamp),ts.timestamp=o,ts.isProcessing=!0,Mh.update.process(ts),Mh.preRender.process(ts),Mh.render.process(ts),ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mD),this.sharedNodes.forEach(yD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!Ow(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&(o||za(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),ND(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const o=l.measureViewportBox(),{scroll:c}=this.root;return c&&(zn(o.x,c.offset.x),zn(o.y,c.offset.y)),o}removeElementScroll(l){const o=Nt();nr(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:u}=d;if(d!==this.root&&m&&u.layoutScroll){if(m.isRoot){nr(o,l);const{scroll:h}=this.root;h&&(zn(o.x,-h.offset.x),zn(o.y,-h.offset.y))}zn(o.x,m.offset.x),zn(o.y,m.offset.y)}}return o}applyTransform(l,o=!1){const c=Nt();nr(c,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&rl(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),za(m.latestValues)&&rl(c,m.latestValues)}return za(this.latestValues)&&rl(c,this.latestValues),c}removeTransform(l){const o=Nt();nr(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!za(d.latestValues))continue;Rf(d.latestValues)&&d.updateSnapshot();const m=Nt(),u=d.measurePageBox();nr(m,u),L1(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return za(this.latestValues)&&L1(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ts.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Zo(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),Aw(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Zo(this.relativeTargetOrigin,this.target,g.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rf(this.parent.latestValues)||Ew(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ts.timestamp&&(d=!1),d)return;const{layout:m,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||u))return;nr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;P7(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=sl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl());const x=this.projectionTransform;qo(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=$1(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Wa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},u=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Nt(),g=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=g!==p,j=this.getStack(),v=!j||j.members.length<=1,y=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(bD));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const w=N/1e3;G1(u.x,l.x,w),G1(u.y,l.y,w),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vD(this.relativeTarget,this.relativeTargetOrigin,h,w),b&&X7(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Nt()),nr(b,this.relativeTarget)),x&&(this.animationValues=m,H7(m,d,this.latestValues,w,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(An(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{tu.hasAnimatedSinceResize=!0,this.currentAnimation=aD(0,B1,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(B1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:m}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&Vw(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Nt();const u=er(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+u;const h=er(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+h}nr(o,c),rl(o,m),qo(this.projectionDeltaWithTransform,this.layoutCorrected,o,m)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new J7),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const d={};for(let m=0;m<U1.length;m++){const u="rotate"+U1[m];c[u]&&(d[u]=c[u],l.setStaticValue(u,0))}l.render();for(const m in d)l.setStaticValue(m,d[m]);l.scheduleRender()}getProjectionStyles(l){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iD;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=eu(l==null?void 0:l.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=eu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(x.transform=m?m({},""):"none",this.hasProjected=!1),x}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),d.transform=$1(this.projectionDeltaWithTransform,this.treeScale,h),m&&(d.transform=m(h,d.transform));const{x:g,y:p}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,u.animationValues?d.opacity=u===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in Yu){if(h[x]===void 0)continue;const{correct:j,applyTo:v}=Yu[x],y=d.transform==="none"?h[x]:j(h[x],u);if(v){const b=v.length;for(let N=0;N<b;N++)d[v[N]]=y}else d[x]=y}return this.options.layoutId&&(d.pointerEvents=u===this?eu(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(z1),this.root.sharedNodes.clear()}}}function oD(t){t.updateLayout()}function cD(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,l=s.source!==t.layout.source;i==="size"?lr(u=>{const h=l?s.measuredBox[u]:s.layoutBox[u],g=er(h);h.min=n[u].min,h.max=h.min+g}):Vw(i,s.layoutBox,n)&&lr(u=>{const h=l?s.measuredBox[u]:s.layoutBox[u],g=er(n[u]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+g)});const o=sl();qo(o,n,s.layoutBox);const c=sl();l?qo(c,t.applyTransform(a,!0),s.measuredBox):qo(c,n,s.layoutBox);const d=!Ow(o);let m=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:g}=u;if(h&&g){const p=Nt();Zo(p,s.layoutBox,h.layoutBox);const x=Nt();Zo(x,n,g.layoutBox),Lw(p,x)||(m=!0),u.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function dD(t){Wa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mD(t){t.clearSnapshot()}function z1(t){t.clearMeasurements()}function hD(t){t.isLayoutDirty=!1}function fD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pD(t){t.resolveTargetDelta()}function gD(t){t.calcProjection()}function xD(t){t.resetRotation()}function yD(t){t.removeLeadSnapshot()}function G1(t,e,s){t.translate=at(e.translate,0,s),t.scale=at(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function H1(t,e,s,n){t.min=at(e.min,s.min,n),t.max=at(e.max,s.max,n)}function vD(t,e,s,n){H1(t.x,e.x,s.x,n),H1(t.y,e.y,s.y,n)}function bD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jD={duration:.45,ease:[.4,0,.1,1]},K1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Y1=K1("applewebkit/")&&!K1("chrome/")?Math.round:ut;function q1(t){t.min=Y1(t.min),t.max=Y1(t.max)}function ND(t){q1(t.x),q1(t.y)}function Vw(t,e,s){return t==="position"||t==="preserve-aspect"&&!Mf(V1(e),V1(s),.2)}const wD=Fw({attachResizeListener:(t,e)=>vn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wh={current:void 0},$w=Fw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wh.current){const t=new wD({});t.mount(window),t.setOptions({layoutScroll:!0}),Wh.current=t}return Wh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_D={pan:{Feature:$7},drag:{Feature:V7,ProjectionNode:$w,MeasureLayout:Mw}},SD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function CD(t){const e=SD.exec(t);if(!e)return[,];const[,s,n]=e;return[s,n]}function Lf(t,e,s=1){const[n,a]=CD(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const l=i.trim();return Nw(l)?parseFloat(l):l}else return Cf(a)?Lf(a,e,s+1):a}function kD(t,{...e},s){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:s};s&&(s={...s}),t.values.forEach(a=>{const i=a.get();if(!Cf(i))return;const l=Lf(i,n);l&&a.set(l)});for(const a in e){const i=e[a];if(!Cf(i))continue;const l=Lf(i,n);l&&(e[a]=l,s||(s={}),s[a]===void 0&&(s[a]=i))}return{target:e,transitionEnd:s}}const TD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Uw=t=>TD.has(t),ED=t=>Object.keys(t).some(Uw),Z1=t=>t===wi||t===de,Q1=(t,e)=>parseFloat(t.split(", ")[e]),X1=(t,e)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Q1(a[1],e);{const i=n.match(/^matrix\((.+)\)$/);return i?Q1(i[1],t):0}},AD=new Set(["x","y","z"]),DD=Uc.filter(t=>!AD.has(t));function PD(t){const e=[];return DD.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ul={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:X1(4,13),y:X1(5,14)};Ul.translateX=Ul.x;Ul.translateY=Ul.y;const MD=(t,e,s)=>{const n=e.measureViewportBox(),a=e.current,i=getComputedStyle(a),{display:l}=i,o={};l==="none"&&e.setStaticValue("display",t.display||"block"),s.forEach(d=>{o[d]=Ul[d](n,i)}),e.render();const c=e.measureViewportBox();return s.forEach(d=>{const m=e.getValue(d);m&&m.jump(o[d]),t[d]=Ul[d](c,i)}),t},ID=(t,e,s={},n={})=>{e={...e},n={...n};const a=Object.keys(e).filter(Uw);let i=[],l=!1;const o=[];if(a.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let m=s[c],u=uo(m);const h=e[c];let g;if(Zu(h)){const p=h.length,x=h[0]===null?1:0;m=h[x],u=uo(m);for(let j=x;j<p&&h[j]!==null;j++)g?Pg(uo(h[j])===g):g=uo(h[j])}else g=uo(h);if(u!==g)if(Z1(u)&&Z1(g)){const p=d.get();typeof p=="string"&&d.set(parseFloat(p)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&g===de&&(e[c]=h.map(parseFloat))}else u!=null&&u.transform&&(g!=null&&g.transform)&&(m===0||h===0)?m===0?d.set(g.transform(m)):e[c]=u.transform(h):(l||(i=PD(t),l=!0),o.push(c),n[c]=n[c]!==void 0?n[c]:e[c],d.jump(h))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,d=MD(e,t,o);return i.length&&i.forEach(([m,u])=>{t.getValue(m).set(u)}),t.render(),Im&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:e,transitionEnd:n}};function RD(t,e,s,n){return ED(e)?ID(t,e,s,n):{target:e,transitionEnd:n}}const OD=(t,e,s,n)=>{const a=kD(t,e,n);return e=a.target,n=a.transitionEnd,RD(t,e,s,n)},Ff={current:null},Bw={current:!1};function LD(){if(Bw.current=!0,!!Im)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ff.current=t.matches;t.addListener(e),e()}else Ff.current=!1}function FD(t,e,s){const{willChange:n}=e;for(const a in e){const i=e[a],l=s[a];if(Is(i))t.addValue(a,i),em(n)&&n.add(a);else if(Is(l))t.addValue(a,$l(i,{owner:t})),em(n)&&n.remove(a);else if(l!==i)if(t.hasValue(a)){const o=t.getValue(a);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(a);t.addValue(a,$l(o!==void 0?o:i,{owner:t}))}}for(const a in s)e[a]===void 0&&t.removeValue(a);return e}const J1=new WeakMap,zw=Object.keys(Tc),VD=zw.length,ev=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$D=wg.length;class UD{constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ge.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.isControllingVariants=Om(s),this.isVariantNode=kN(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(s,{});for(const u in m){const h=m[u];o[u]!==void 0&&Is(h)&&(h.set(o[u],!1),em(d)&&d.add(u))}}scrapeMotionValuesFromProps(e,s){return{}}mount(e){this.current=e,J1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Bw.current||LD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ff.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){J1.delete(this.current),this.projection&&this.projection.unmount(),An(this.notifyUpdate),An(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,s){const n=Ni.has(e),a=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ge.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...s},n,a,i){let l,o;for(let c=0;c<VD;c++){const d=zw[c],{isEnabled:m,Feature:u,ProjectionNode:h,MeasureLayout:g}=Tc[d];h&&(l=h),m(s)&&(!this.features[d]&&u&&(this.features[d]=new u(this)),g&&(o=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:m,dragConstraints:u,layoutScroll:h,layoutRoot:g}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!m||u&&el(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:g})}return o}updateFeatures(){for(const e in this.features){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}makeTargetAnimatable(e,s=!0){return this.makeTargetAnimatableFromInstance(e,this.props,s)}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<ev.length;n++){const a=ev[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=e["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=FD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<$D;n++){const a=wg[n],i=this.props[a];(kc(i)||i===!1)&&(s[a]=i)}return s}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){s!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,s)),this.values.set(e,s),this.latestValues[e]=s.get()}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=$l(s,{owner:this}),this.addValue(e,n)),n}readValue(e){var s;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=Dg(this.props,n))===null||s===void 0?void 0:s[e]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Is(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ug),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class Ww extends UD{sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:s,...n},{transformValues:a},i){let l=n7(n,e||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),l&&(l=a(l))),i){s7(this,n,l);const o=OD(this,n,l,s);s=o.transitionEnd,n=o.target}return{transition:e,transitionEnd:s,...n}}}function BD(t){return window.getComputedStyle(t)}class zD extends Ww{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,s){if(Ni.has(s)){const n=Og(s);return n&&n.default||0}else{const n=BD(e),a=(DN(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Dw(e,s)}build(e,s,n,a){Cg(e,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,s){return Ag(e,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Is(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(e,s,n,a){LN(e,s,n,a)}}class WD extends Ww{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Ni.has(s)){const n=Og(s);return n&&n.default||0}return s=FN.has(s)?s:jg(s),e.getAttribute(s)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(e,s){return $N(e,s)}build(e,s,n,a){Tg(e,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,s,n,a){VN(e,s,n,a)}mount(e){this.isSVGTag=Eg(e.tagName),super.mount(e)}}const GD=(t,e)=>Sg(t)?new WD(e,{enableHardwareAcceleration:!1}):new zD(e,{enableHardwareAcceleration:!0}),HD={layout:{ProjectionNode:$w,MeasureLayout:Mw}},KD={...v7,...VE,..._D,...HD},Be=Y8((t,e)=>CE(t,e,KD,GD));function Gw(){const t=f.useRef(!1);return bg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function YD(){const t=Gw(),[e,s]=f.useState(0),n=f.useCallback(()=>{t.current&&s(e+1)},[e]);return[f.useCallback(()=>Ge.postRender(n),[n]),e]}class qD extends f.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZD({children:t,isPresent:e}){const s=f.useId(),n=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:c}=a.current;if(e||!n.current||!i||!l)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),f.createElement(qD,{isPresent:e,childRef:n,sizeRef:a},f.cloneElement(t,{ref:n}))}const Gh=({children:t,initial:e,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:l})=>{const o=UN(QD),c=f.useId(),d=f.useMemo(()=>({id:c,initial:e,isPresent:s,custom:a,onExitComplete:m=>{o.set(m,!0);for(const u of o.values())if(!u)return;n&&n()},register:m=>(o.set(m,!1),()=>o.delete(m))}),i?void 0:[s]);return f.useMemo(()=>{o.forEach((m,u)=>o.set(u,!1))},[s]),f.useEffect(()=>{!s&&!o.size&&n&&n()},[s]),l==="popLayout"&&(t=f.createElement(ZD,{isPresent:s},t)),f.createElement(Mm.Provider,{value:d},t)};function QD(){return new Map}function XD(t){return f.useEffect(()=>()=>t(),[])}const Ga=t=>t.key||"";function JD(t,e){t.forEach(s=>{const n=Ga(s);e.set(n,s)})}function eP(t){const e=[];return f.Children.forEach(t,s=>{f.isValidElement(s)&&e.push(s)}),e}const $m=({children:t,custom:e,initial:s=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=f.useContext(_g).forceRender||YD()[0],c=Gw(),d=eP(t);let m=d;const u=f.useRef(new Map).current,h=f.useRef(m),g=f.useRef(new Map).current,p=f.useRef(!0);if(bg(()=>{p.current=!1,JD(d,g),h.current=m}),XD(()=>{p.current=!0,g.clear(),u.clear()}),p.current)return f.createElement(f.Fragment,null,m.map(y=>f.createElement(Gh,{key:Ga(y),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:l},y)));m=[...m];const x=h.current.map(Ga),j=d.map(Ga),v=x.length;for(let y=0;y<v;y++){const b=x[y];j.indexOf(b)===-1&&!u.has(b)&&u.set(b,void 0)}return l==="wait"&&u.size&&(m=[]),u.forEach((y,b)=>{if(j.indexOf(b)!==-1)return;const N=g.get(b);if(!N)return;const w=x.indexOf(b);let k=y;if(!k){const T=()=>{u.delete(b);const P=Array.from(g.keys()).filter(E=>!j.includes(E));if(P.forEach(E=>g.delete(E)),h.current=d.filter(E=>{const C=Ga(E);return C===b||P.includes(C)}),!u.size){if(c.current===!1)return;o(),n&&n()}};k=f.createElement(Gh,{key:Ga(N),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:l},N),u.set(b,k)}m.splice(w,0,k)}),m=m.map(y=>{const b=y.key;return u.has(b)?y:f.createElement(Gh,{key:Ga(y),isPresent:!0,presenceAffectsLayout:i,mode:l},y)}),f.createElement(f.Fragment,null,u.size?m:m.map(y=>f.cloneElement(y)))},Oe={PENDING:"pending",IN_PROGRESS:"in_progress",COMPLETED:"completed",CANCELLED:"cancelled",OVERDUE:"overdue"},Dt={LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent",CRITICAL:"critical"},tt={INVENTORY_RESTOCK:"inventory_restock",INVENTORY_AUDIT:"inventory_audit",LOW_STOCK_ALERT:"low_stock_alert",ORDER_PROCESSING:"order_processing",ORDER_REVIEW:"order_review",REFUND_PROCESSING:"refund_processing",CUSTOMER_INQUIRY:"customer_inquiry",COMPLAINT_HANDLING:"complaint_handling",QUALITY_ASSURANCE:"quality_assurance",PAYMENT_VERIFICATION:"payment_verification",INVOICE_PROCESSING:"invoice_processing",FINANCIAL_REVIEW:"financial_review",PROMOTION_REVIEW:"promotion_review",CONTENT_APPROVAL:"content_approval",CAMPAIGN_SETUP:"campaign_setup",SUPPLIER_EVALUATION:"supplier_evaluation",PURCHASE_ORDER_REVIEW:"purchase_order_review",VENDOR_COMMUNICATION:"vendor_communication",SYSTEM_MAINTENANCE:"system_maintenance",DATA_BACKUP:"data_backup",SECURITY_REVIEW:"security_review"},vl={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},Me={PENDING:"pending",IN_PROGRESS:"in_progress",APPROVED:"approved",REJECTED:"rejected",CANCELLED:"cancelled"};class tP{constructor(){this.tasks=this.generateTasks(),this.approvalWorkflows=this.generateApprovalWorkflows(),this.approvalInstances=this.generateApprovalInstances(),this.operationalMetrics=this.generateOperationalMetrics(),this.alerts=this.generateAlerts(),this.reminders=this.generateReminders(),this.users=this.generateUsers(),this.initializeRealTimeUpdates()}generateTasks(){const e=[],s=Object.values(tt),n=Object.values(Oe),a=Object.values(Dt),i=Object.values(vl);for(let l=1;l<=150;l++){const o=new Date(Date.now()-Math.random()*30*24*60*60*1e3),c=new Date(o.getTime()+Math.random()*14*24*60*60*1e3),d=n[Math.floor(Math.random()*n.length)];e.push({id:l,title:this.generateTaskTitle(s[Math.floor(Math.random()*s.length)]),description:this.generateTaskDescription(),task_type:s[Math.floor(Math.random()*s.length)],status:d,priority:a[Math.floor(Math.random()*a.length)],business_impact:i[Math.floor(Math.random()*i.length)],assigned_to:Math.random()>.3?Math.floor(Math.random()*10)+1:null,created_by:Math.floor(Math.random()*10)+1,created_at:o,due_date:c,started_at:d!==Oe.PENDING?new Date(o.getTime()+Math.random()*24*60*60*1e3):null,completed_at:d===Oe.COMPLETED?new Date(c.getTime()-Math.random()*48*60*60*1e3):null,estimated_hours:Math.floor(Math.random()*40)+1,actual_hours:d===Oe.COMPLETED?Math.floor(Math.random()*35)+1:null,related_entity_type:this.getRelatedEntityType(),related_entity_id:Math.floor(Math.random()*1e3)+1,notes:[],attachments:[],auto_generated:Math.random()>.7,generation_rule_id:Math.random()>.7?Math.floor(Math.random()*5)+1:null,updated_at:new Date})}return e}generateTaskTitle(e){const n={[tt.INVENTORY_RESTOCK]:["補充香水庫存","補充面霜庫存","補充口紅庫存","補充精華液庫存"],[tt.INVENTORY_AUDIT]:["Q1庫存盤點","月度庫存檢查","年度庫存審計","不定期庫存抽查"],[tt.LOW_STOCK_ALERT]:["香奈兒香水庫存不足","SK-II面霜庫存預警","雅詩蘭黛精華庫存警報"],[tt.ORDER_PROCESSING]:["處理訂單 #12345","處理大宗訂單 #67890","處理VIP客戶訂單"],[tt.ORDER_REVIEW]:["審核高額訂單","審核異常訂單","審核退換貨申請"],[tt.REFUND_PROCESSING]:["處理退款申請","處理產品瑕疵退款","處理運送問題退款"],[tt.CUSTOMER_INQUIRY]:["客戶產品諮詢","客戶配送查詢","客戶帳戶問題"],[tt.COMPLAINT_HANDLING]:["處理產品投訴","處理服務投訴","處理配送投訴"],[tt.QUALITY_ASSURANCE]:["品質檢查報告","供應商品質評估","客戶滿意度調查"],[tt.PAYMENT_VERIFICATION]:["驗證大額付款","驗證信用卡交易","驗證銀行轉帳"],[tt.INVOICE_PROCESSING]:["處理供應商發票","處理月度帳單","處理退款發票"],[tt.FINANCIAL_REVIEW]:["月度財務審核","季度損益審查","年度預算檢討"],[tt.PROMOTION_REVIEW]:["審核週年慶活動","審核新品促銷","審核會員優惠"],[tt.CONTENT_APPROVAL]:["審核產品文案","審核行銷素材","審核網站內容"],[tt.CAMPAIGN_SETUP]:["設定聖誕節活動","設定母親節促銷","設定夏季特賣"],[tt.SUPPLIER_EVALUATION]:["評估新供應商","年度供應商考核","供應商績效檢討"],[tt.PURCHASE_ORDER_REVIEW]:["審核採購單","審核大宗採購","審核緊急採購"],[tt.VENDOR_COMMUNICATION]:["與供應商溝通交期","協調產品規格","討論價格調整"],[tt.SYSTEM_MAINTENANCE]:["系統安全更新","資料庫維護","伺服器效能優化"],[tt.DATA_BACKUP]:["每日資料備份","週度完整備份","災難復原測試"],[tt.SECURITY_REVIEW]:["安全漏洞檢查","存取權限審核","防火牆規則更新"]}[e]||["一般任務"];return n[Math.floor(Math.random()*n.length)]}generateTaskDescription(){const e=["需要在指定時間內完成此項目，請注意相關細節和要求。","此任務涉及多個部門協調，請確保溝通順暢。","重要客戶相關事項，請優先處理並保持高品質服務。","定期例行作業，請按照標準作業程序執行。","緊急事項，需要立即關注和處理。","季度重點項目，關係到部門KPI達成。","新流程試行，請詳細記錄執行過程和結果。","客戶滿意度相關，請確保服務品質。"];return e[Math.floor(Math.random()*e.length)]}getRelatedEntityType(){const e=["product","order","customer","supplier","promotion","invoice"];return e[Math.floor(Math.random()*e.length)]}generateApprovalWorkflows(){return[{id:1,workflow_name:"採購單簽核流程",module:"procurement",entity_type:"purchase_order",description:"所有採購單都需要經過此簽核流程",trigger_conditions:[{field:"total_amount",operator:">",value:1e4}],approval_steps:[{step_order:1,step_name:"部門主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"department_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:24,allow_delegation:!0,require_comments:!1,attachment_required:!1},{step_order:2,step_name:"財務主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"finance_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:48,skip_conditions:[{field:"total_amount",operator:"<",value:5e4}],allow_delegation:!0,require_comments:!0,attachment_required:!1},{step_order:3,step_name:"總經理簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"general_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:72,skip_conditions:[{field:"total_amount",operator:"<",value:1e5}],allow_delegation:!1,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:12,escalation_after_hours:48},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date},{id:2,workflow_name:"退款簽核流程",module:"orders",entity_type:"refund_request",description:"客戶退款申請簽核流程",trigger_conditions:[{field:"refund_amount",operator:">",value:5e3}],approval_steps:[{step_order:1,step_name:"客服主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"customer_service_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:8,allow_delegation:!0,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:4,escalation_after_hours:12},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date},{id:3,workflow_name:"促銷活動簽核流程",module:"marketing",entity_type:"promotion",description:"行銷促銷活動審核流程",trigger_conditions:[{field:"discount_percentage",operator:">",value:30}],approval_steps:[{step_order:1,step_name:"行銷主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"marketing_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:24,allow_delegation:!0,require_comments:!1,attachment_required:!0},{step_order:2,step_name:"業務總監簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"sales_director"}],approval_logic:"any_one",required_approvals:1,sla_hours:48,allow_delegation:!1,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:8,escalation_after_hours:24},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date}]}generateApprovalInstances(){const e=[],s=this.approvalWorkflows,n=Object.values(Me);for(let a=1;a<=50;a++){const i=s[Math.floor(Math.random()*s.length)],l=new Date(Date.now()-Math.random()*15*24*60*60*1e3),o=n[Math.floor(Math.random()*n.length)];e.push({id:a,workflow_id:i.id,entity_type:i.entity_type,entity_id:Math.floor(Math.random()*1e3)+1,submitted_by:Math.floor(Math.random()*10)+1,submitted_at:l,submission_notes:this.generateSubmissionNotes(i.entity_type),current_step:Math.floor(Math.random()*i.approval_steps.length)+1,overall_status:o,approval_history:this.generateApprovalHistory(a,i),due_date:new Date(l.getTime()+3*24*60*60*1e3),completed_at:o===Me.APPROVED||o===Me.REJECTED?new Date(l.getTime()+Math.random()*72*60*60*1e3):null,total_processing_time:o===Me.APPROVED||o===Me.REJECTED?Math.floor(Math.random()*4320)+60:null,priority:Object.values(Dt)[Math.floor(Math.random()*Object.values(Dt).length)],business_impact:Object.values(vl)[Math.floor(Math.random()*Object.values(vl).length)],risk_level:["low","medium","high"][Math.floor(Math.random()*3)],created_at:l,updated_at:new Date})}return e}generateSubmissionNotes(e){const n={purchase_order:["緊急採購需求","季度例行採購","新品上市採購","庫存補充採購"],refund_request:["產品品質問題","配送延遲","客戶不滿意","尺寸不合適"],promotion:["季節性促銷","清庫存活動","新客戶優惠","會員專屬優惠"]}[e]||["一般申請"];return n[Math.floor(Math.random()*n.length)]}generateApprovalHistory(e,s){var i,l;const n=[],a=["approve","reject","request_info","delegate"];for(let o=0;o<Math.floor(Math.random()*3)+1;o++)n.push({id:e*10+o,approval_instance_id:e,step_number:o+1,approver_id:Math.floor(Math.random()*10)+1,approver_name:this.generateUserName(),approver_role:((l=(i=s.approval_steps[o])==null?void 0:i.approvers[0])==null?void 0:l.role_name)||"manager",action:a[Math.floor(Math.random()*a.length)],decision_date:new Date(Date.now()-Math.random()*48*60*60*1e3),comments:this.generateApprovalComments(),attachments:[],processing_time_minutes:Math.floor(Math.random()*480)+15,created_at:new Date(Date.now()-Math.random()*48*60*60*1e3)});return n}generateUserName(){const e=["王小明","李美麗","張志偉","陳淑芬","林大維","黃怡君","吳建國","蔡雅婷","劉志強","鄭美玲"];return e[Math.floor(Math.random()*e.length)]}generateApprovalComments(){const e=["同意此申請，請按流程進行","金額合理，核准執行","需要補充更多資訊","建議降低預算後重新申請","緊急需求，加速處理","符合公司政策，准予執行","需要主管進一步確認","條件符合，同意核准"];return e[Math.floor(Math.random()*e.length)]}generateOperationalMetrics(){return{real_time_metrics:{current_timestamp:new Date,orders_today:{total_orders:Math.floor(Math.random()*150)+50,pending_orders:Math.floor(Math.random()*20)+5,processing_orders:Math.floor(Math.random()*30)+10,shipped_orders:Math.floor(Math.random()*80)+20,revenue_today:Math.floor(Math.random()*5e5)+1e5,avg_order_value:Math.floor(Math.random()*3e3)+1e3},inventory_alerts:{low_stock_items:Math.floor(Math.random()*15)+3,out_of_stock_items:Math.floor(Math.random()*5)+1,overstock_items:Math.floor(Math.random()*8)+2,total_inventory_value:Math.floor(Math.random()*5e6)+2e6},customer_service:{open_tickets:Math.floor(Math.random()*25)+10,overdue_tickets:Math.floor(Math.random()*5)+1,avg_response_time_minutes:Math.floor(Math.random()*120)+30,customer_satisfaction_today:(Math.random()*1+4).toFixed(1)},website_performance:{current_visitors:Math.floor(Math.random()*500)+100,conversion_rate_today:(Math.random()*3+2).toFixed(2),bounce_rate_today:(Math.random()*20+30).toFixed(2),page_load_time_avg:(Math.random()*2+1).toFixed(2),uptime_percentage:(Math.random()*1+99).toFixed(2)},financial_summary:{revenue_today:Math.floor(Math.random()*5e5)+1e5,profit_today:Math.floor(Math.random()*15e4)+3e4,outstanding_payments:Math.floor(Math.random()*2e5)+5e4,overdue_invoices:Math.floor(Math.random()*10)+2,cash_flow_status:["positive","negative","neutral"][Math.floor(Math.random()*3)]}},operational_efficiency:{processing_efficiency:{orders_processed_per_hour:Math.floor(Math.random()*20)+10,avg_order_processing_time_minutes:Math.floor(Math.random()*30)+15,orders_requiring_manual_review_percentage:(Math.random()*10+5).toFixed(1),automatic_processing_rate:(Math.random()*20+75).toFixed(1)},inventory_efficiency:{inventory_turnover_rate:(Math.random()*3+4).toFixed(1),stockout_rate_percentage:(Math.random()*3+1).toFixed(1),excess_inventory_percentage:(Math.random()*5+2).toFixed(1),inventory_accuracy_rate:(Math.random()*2+98).toFixed(1)},service_efficiency:{first_contact_resolution_rate:(Math.random()*15+80).toFixed(1),avg_ticket_resolution_time_hours:(Math.random()*12+4).toFixed(1),agent_utilization_rate:(Math.random()*15+80).toFixed(1),customer_effort_score:(Math.random()*1+4).toFixed(1)},supply_chain_efficiency:{supplier_on_time_delivery_rate:(Math.random()*10+90).toFixed(1),procurement_cycle_time_days:Math.floor(Math.random()*5)+7,supplier_defect_rate:(Math.random()*2+.5).toFixed(2),inventory_receiving_accuracy:(Math.random()*2+98).toFixed(1)}},anomaly_monitoring:{active_anomalies:this.generateActiveAnomalies(),system_health:{database_response_time:Math.floor(Math.random()*100)+50,api_response_time:Math.floor(Math.random()*200)+100,error_rate_percentage:(Math.random()*1+.1).toFixed(2),queue_processing_status:["healthy","warning","critical"][Math.floor(Math.random()*3)]},business_health:{conversion_rate_status:["normal","below_average","concerning"][Math.floor(Math.random()*3)],customer_satisfaction_trend:["improving","stable","declining"][Math.floor(Math.random()*3)],inventory_health_score:Math.floor(Math.random()*20)+80,financial_health_score:Math.floor(Math.random()*15)+85}},alert_system:{critical_alerts:this.generateCriticalAlerts(),trending_issues:this.generateTrendingIssues()}}}generateActiveAnomalies(){const e=[],s=["訂單轉換率","庫存週轉率","客戶回應時間","系統錯誤率","網站載入速度"],n=["low","medium","high","critical"],a=["open","investigating","resolved"];for(let i=0;i<Math.floor(Math.random()*5)+2;i++)e.push({anomaly_id:i+1,metric_name:s[Math.floor(Math.random()*s.length)],severity:n[Math.floor(Math.random()*n.length)],detected_at:new Date(Date.now()-Math.random()*24*60*60*1e3),description:"偵測到指標異常波動，建議進行進一步調查",recommended_action:"檢查相關系統狀態並分析根本原因",status:a[Math.floor(Math.random()*a.length)]});return e}generateCriticalAlerts(){const e=[],s=["庫存不足","系統異常","訂單積壓","客戶投訴","財務異常"],n=Object.values(Dt);for(let a=0;a<Math.floor(Math.random()*3)+1;a++)e.push({alert_id:a+1,alert_type:s[Math.floor(Math.random()*s.length)],priority:n[Math.floor(Math.random()*n.length)],message:"系統偵測到需要立即關注的狀況",affected_area:"營運管理",estimated_impact:"可能影響客戶體驗和營收",suggested_actions:["立即檢查相關數據","聯繫相關負責人","啟動緊急應變程序"],created_at:new Date(Date.now()-Math.random()*2*60*60*1e3),acknowledged_by:Math.random()>.5?Math.floor(Math.random()*10)+1:null,resolved_at:Math.random()>.7?new Date:null});return e}generateAlerts(){return{critical:this.generateCriticalAlerts(),anomalies:this.generateActiveAnomalies(),trending_issues:this.generateTrendingIssues()}}generateTrendingIssues(){const e=[],s=["配送延遲增加","退款申請上升","客服回應時間延長","庫存週轉下降","轉換率波動"],n=["increasing","stable","decreasing"],a=["low","medium","high"];for(let i=0;i<Math.floor(Math.random()*4)+2;i++)e.push({issue_pattern:s[Math.floor(Math.random()*s.length)],occurrence_count:Math.floor(Math.random()*20)+5,trend_direction:n[Math.floor(Math.random()*n.length)],risk_assessment:a[Math.floor(Math.random()*a.length)],prevention_recommendations:["加強監控機制","優化作業流程","提供員工培訓","改善系統效能"]});return e}generateReminders(){const e=[];for(let s=1;s<=20;s++)e.push({reminder_id:s,title:this.generateReminderTitle(),description:"系統自動生成的提醒事項",reminder_type:["task_deadline","approval_pending","inventory_alert","system_maintenance"][Math.floor(Math.random()*4)],priority:Object.values(Dt)[Math.floor(Math.random()*Object.values(Dt).length)],target_user_id:Math.floor(Math.random()*10)+1,related_entity_type:"task",related_entity_id:Math.floor(Math.random()*150)+1,scheduled_time:new Date(Date.now()+Math.random()*48*60*60*1e3),is_sent:Math.random()>.3,is_acknowledged:Math.random()>.5,notification_channels:["email","in_app","push"],created_at:new Date(Date.now()-Math.random()*24*60*60*1e3)});return e}generateReminderTitle(){const e=["任務即將到期提醒","簽核審批待處理","庫存預警通知","系統維護提醒","客戶回覆期限提醒","月度報告繳交提醒","供應商付款提醒","員工績效評估提醒"];return e[Math.floor(Math.random()*e.length)]}generateUsers(){const e=[],s=["admin","manager","employee","supervisor"],n=["營運部","行銷部","財務部","客服部","資訊部"];for(let a=1;a<=10;a++)e.push({id:a,name:this.generateUserName(),email:`user${a}@marelle.com`,role:s[Math.floor(Math.random()*s.length)],department:n[Math.floor(Math.random()*n.length)],is_active:!0,last_login:new Date(Date.now()-Math.random()*24*60*60*1e3),created_at:new Date("2024-01-01")});return e}initializeRealTimeUpdates(){setInterval(()=>{this.updateRealTimeMetrics()},6e4),setInterval(()=>{this.checkForAnomalies()},3e5)}updateRealTimeMetrics(){const e=this.operationalMetrics.real_time_metrics;e.orders_today.total_orders+=Math.floor(Math.random()*3),e.orders_today.revenue_today+=Math.floor(Math.random()*5e3),e.website_performance.current_visitors+=Math.floor(Math.random()*20)-10,e.website_performance.current_visitors<50&&(e.website_performance.current_visitors=50),e.current_timestamp=new Date}checkForAnomalies(){if(Math.random()>.7){const e={anomaly_id:this.operationalMetrics.anomaly_monitoring.active_anomalies.length+1,metric_name:"系統效能",severity:"medium",detected_at:new Date,description:"偵測到系統回應時間異常",recommended_action:"檢查伺服器狀態",status:"open"};this.operationalMetrics.anomaly_monitoring.active_anomalies.push(e)}}getTasks(e={}){let s=[...this.tasks];return e.status&&(s=s.filter(n=>e.status.includes(n.status))),e.priority&&(s=s.filter(n=>e.priority.includes(n.priority))),e.task_type&&(s=s.filter(n=>e.task_type.includes(n.task_type))),e.assigned_to&&(s=s.filter(n=>n.assigned_to===e.assigned_to)),{tasks:s,total:s.length,summary:this.getTaskSummary(s)}}getTaskSummary(e=this.tasks){const s={total:e.length,by_status:{},by_priority:{},overdue:0,due_today:0},n=new Date;return n.setHours(23,59,59,999),e.forEach(a=>{if(s.by_status[a.status]=(s.by_status[a.status]||0)+1,s.by_priority[a.priority]=(s.by_priority[a.priority]||0)+1,a.due_date&&a.status!==Oe.COMPLETED){const i=new Date(a.due_date);i<new Date?s.overdue++:i<=n&&s.due_today++}}),s}updateTaskStatus(e,s,n=null){const a=this.tasks.find(i=>i.id===e);return a?(a.status=s,a.updated_at=new Date,s===Oe.COMPLETED?a.completed_at=new Date:s===Oe.IN_PROGRESS&&!a.started_at&&(a.started_at=new Date),n&&a.notes.push({note:n,created_by:1,created_at:new Date}),a):null}assignTask(e,s,n=null,a=null,i=null){const l=this.tasks.find(o=>o.id===e);return l?(l.assigned_to=s,l.updated_at=new Date,n&&(l.priority=n),a&&(l.due_date=new Date(a)),i&&l.notes.push({note:i,created_by:1,created_at:new Date}),l):null}getApprovalInstances(e={}){let s=[...this.approvalInstances];if(e.workflow_type){const n=this.approvalWorkflows.filter(a=>a.entity_type===e.workflow_type).map(a=>a.id);s=s.filter(a=>n.includes(a.workflow_id))}return e.status&&(s=s.filter(n=>e.status.includes(n.overall_status))),e.priority&&(s=s.filter(n=>e.priority.includes(n.priority))),{instances:s,total:s.length,summary:this.getApprovalSummary(s)}}getApprovalSummary(e=this.approvalInstances){const s={total:e.length,by_status:{},overdue:0,due_today:0,avg_processing_time:0},n=new Date;n.setHours(23,59,59,999);let a=0,i=0;return e.forEach(l=>{if(s.by_status[l.overall_status]=(s.by_status[l.overall_status]||0)+1,l.due_date&&l.overall_status===Me.PENDING){const o=new Date(l.due_date);o<new Date?s.overdue++:o<=n&&s.due_today++}l.total_processing_time&&(a+=l.total_processing_time,i++)}),i>0&&(s.avg_processing_time=Math.round(a/i)),s}getOperationalMetrics(){return this.operationalMetrics}getDashboardSummary(){const e=this.getTaskSummary(),s=this.getApprovalSummary(),n=this.operationalMetrics;return{tasks:e,approvals:s,metrics:{orders_today:n.real_time_metrics.orders_today.total_orders,revenue_today:n.real_time_metrics.orders_today.revenue_today,active_alerts:n.alert_system.critical_alerts.length,system_health:n.anomaly_monitoring.system_health.queue_processing_status},last_updated:new Date}}getReminders(e=null){let s=[...this.reminders];return e&&(s=s.filter(n=>n.target_user_id===e)),s.sort((n,a)=>new Date(n.scheduled_time)-new Date(a.scheduled_time))}acknowledgeReminder(e){const s=this.reminders.find(n=>n.reminder_id===e);return s?(s.is_acknowledged=!0,s):null}getUsers(){return this.users}getUserById(e){return this.users.find(s=>s.id===e)}getAlerts(){return this.alerts}getCriticalAlerts(){return this.alerts.critical}getAnomalies(){return this.alerts.anomalies}getTrendingIssues(){return this.alerts.trending_issues}}const bl=new tP,sP=()=>{const[t,e]=f.useState([]),[s,n]=f.useState([]),[a,i]=f.useState(!0),[l,o]=f.useState(null),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[h,g]=f.useState(new Set),[p,x]=f.useState({status:[],priority:[],task_type:[],assigned_to:null,search:""}),[j,v]=f.useState("due_date"),[y,b]=f.useState("asc"),[N,w]=f.useState(1),[k]=f.useState(10);f.useEffect(()=>{T()},[]),f.useEffect(()=>{P()},[t,p,j,y]);const T=async()=>{i(!0);try{const F=bl.getTasks();e(F.tasks)}catch(F){console.error("Error loading tasks:",F)}finally{i(!1)}},P=()=>{let F=[...t];p.search&&(F=F.filter(M=>M.title.toLowerCase().includes(p.search.toLowerCase())||M.description.toLowerCase().includes(p.search.toLowerCase()))),p.status.length>0&&(F=F.filter(M=>p.status.includes(M.status))),p.priority.length>0&&(F=F.filter(M=>p.priority.includes(M.priority))),p.task_type.length>0&&(F=F.filter(M=>p.task_type.includes(M.task_type))),p.assigned_to&&(F=F.filter(M=>M.assigned_to===p.assigned_to)),F.sort((M,$)=>{let D=M[j],z=$[j];return(j==="due_date"||j==="created_at")&&(D=D?new Date(D):new Date(0),z=z?new Date(z):new Date(0)),D<z?y==="asc"?-1:1:D>z?y==="asc"?1:-1:0}),n(F),w(1)},E=async(F,M,$=null)=>{try{const D=bl.updateTaskStatus(F,M,$);D&&e(z=>z.map(Z=>Z.id===F?D:Z))}catch(D){console.error("Error updating task status:",D)}},C=async(F,M,$=null,D=null,z=null)=>{try{const Z=bl.assignTask(F,M,$,D,z);Z&&(e(B=>B.map(G=>G.id===F?Z:G)),u(!1),o(null))}catch(Z){console.error("Error assigning task:",Z)}},A=async F=>{const M=Array.from(h);switch(F){case"complete":for(const $ of M)await E($,Oe.COMPLETED);break;case"cancel":for(const $ of M)await E($,Oe.CANCELLED);break}g(new Set)},I=F=>{const M=new Set(h);M.has(F)?M.delete(F):M.add(F),g(M)},S=Math.ceil(s.length/k),_=(N-1)*k,L=_+k,R=s.slice(_,L);return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})}):r.jsxs("div",{children:[r.jsx(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"任務管理"}),r.jsx("p",{className:"text-gray-600",children:"管理和追蹤系統任務和工作項目"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{onClick:T,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"重新載入"]})})]})}),r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[r.jsx(Hh,{label:"狀態",options:Object.values(Oe),selected:p.status,onChange:F=>x({...p,status:F}),getLabel:F=>F.replace("_"," ")}),r.jsx(Hh,{label:"優先級",options:Object.values(Dt),selected:p.priority,onChange:F=>x({...p,priority:F}),getLabel:F=>F}),r.jsx(Hh,{label:"任務類型",options:Object.values(tt),selected:p.task_type,onChange:F=>x({...p,task_type:F}),getLabel:F=>F.replace("_"," ")})]}),h.size>0&&r.jsxs(Be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("span",{className:"text-sm text-blue-800",children:["已選擇 ",h.size," 個任務"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>A("complete"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"標記完成"}),r.jsx("button",{onClick:()=>A("cancel"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"取消任務"}),r.jsx("button",{onClick:()=>g(new Set),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700",children:"清除選擇"})]})]})]}),r.jsx(rP,{tasks:s}),r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["任務列表 (",s.length,")"]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(aP,{sortBy:j,sortOrder:y,onSortChange:(F,M)=>{v(F),b(M)}})})]})}),r.jsxs("div",{className:"",style:{overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsx("input",{type:"checkbox",className:"rounded",checked:h.size===R.length&&R.length>0,onChange:F=>{F.target.checked?g(new Set(R.map(M=>M.id))):g(new Set)}})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"任務"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"優先級"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"指派者"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"到期日"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"bg-white/30 divide-y divide-gray-200",children:r.jsx($m,{children:R.map((F,M)=>r.jsx(nP,{task:F,index:M,isSelected:h.has(F.id),onToggleSelect:()=>I(F.id),onStatusChange:($,D)=>E(F.id,$,D),onAssign:()=>{o(F),u(!0)},onViewDetails:()=>{o(F),d(!0)}},F.id))})})]})]}),S>1&&r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50/50",children:r.jsx(iP,{currentPage:N,totalPages:S,onPageChange:w})})]}),r.jsx(lP,{task:l,isOpen:c,onClose:()=>{d(!1),o(null)},onStatusChange:(F,M)=>{E(l.id,F,M),d(!1),o(null)}}),r.jsx(oP,{task:l,isOpen:m,onClose:()=>{u(!1),o(null)},onAssign:C})]})},rP=({tasks:t})=>{const e={total:t.length,pending:t.filter(s=>s.status===Oe.PENDING).length,inProgress:t.filter(s=>s.status===Oe.IN_PROGRESS).length,completed:t.filter(s=>s.status===Oe.COMPLETED).length,overdue:t.filter(s=>s.status!==Oe.COMPLETED&&s.due_date&&new Date(s.due_date)<new Date).length};return r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"總任務"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-600",children:e.pending}),r.jsx("div",{className:"text-sm text-gray-600",children:"待處理"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.inProgress}),r.jsx("div",{className:"text-sm text-gray-600",children:"進行中"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.completed}),r.jsx("div",{className:"text-sm text-gray-600",children:"已完成"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.overdue}),r.jsx("div",{className:"text-sm text-gray-600",children:"逾期"})]})]})},nP=({task:t,index:e,isSelected:s,onToggleSelect:n,onStatusChange:a,onAssign:i,onViewDetails:l})=>{var d,m;const[o,c]=f.useState(!1);return r.jsxs(Be.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:e*.05},className:`hover:bg-gray-50/50 ${s?"bg-blue-50/50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"rounded",checked:s,onChange:n})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[t.status&&r.jsx("div",{className:"mt-1",children:t.status===Oe.COMPLETED?r.jsx(Vt,{className:"h-5 w-5 text-green-500"}):t.status===Oe.IN_PROGRESS?r.jsx(vr,{className:"h-5 w-5 text-blue-500"}):t.due_date&&new Date(t.due_date)<new Date?r.jsx(vt,{className:"h-5 w-5 text-red-500"}):r.jsx(Nr,{className:"h-5 w-5 text-amber-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.title}),r.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:t.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:(d=t.task_type)==null?void 0:d.replace("_"," ")}),t.business_impact&&r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${t.business_impact===vl.CRITICAL?"bg-red-100 text-red-800":t.business_impact===vl.HIGH?"bg-orange-100 text-orange-800":t.business_impact===vl.MEDIUM?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:t.business_impact})]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.status===Oe.COMPLETED?"bg-green-100 text-green-800":t.status===Oe.IN_PROGRESS?"bg-blue-100 text-blue-800":t.status===Oe.CANCELLED?"bg-gray-100 text-gray-800":t.due_date&&new Date(t.due_date)<new Date?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:(m=t.status)==null?void 0:m.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${t.priority===Dt.CRITICAL?"bg-red-100 text-red-800 border-red-200":t.priority===Dt.URGENT?"bg-orange-100 text-orange-800 border-orange-200":t.priority===Dt.HIGH?"bg-amber-100 text-amber-800 border-amber-200":t.priority===Dt.MEDIUM?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:t.priority})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vg,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-900",children:t.assigned_to?`用戶 ${t.assigned_to}`:"未指派"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(a6,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:`text-sm ${t.due_date&&new Date(t.due_date)<new Date&&t.status!==Oe.COMPLETED?"text-red-600 font-medium":"text-gray-900"}`,children:t.due_date?new Date(t.due_date).toLocaleDateString("zh-TW"):"-"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>c(!o),className:"text-gray-400 hover:text-gray-600",children:r.jsx(nT,{className:"h-5 w-5"})}),o&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:r.jsxs("div",{className:"py-1",children:[r.jsx("button",{onClick:()=>{l(),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"查看詳情"}),r.jsx("button",{onClick:()=>{i(),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"重新指派"}),t.status!==Oe.COMPLETED&&r.jsx("button",{onClick:()=>{a(Oe.COMPLETED),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-green-700 hover:bg-green-50",children:"標記完成"}),t.status===Oe.PENDING&&r.jsx("button",{onClick:()=>{a(Oe.IN_PROGRESS),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-blue-700 hover:bg-blue-50",children:"開始執行"})]})})]})})]})},Hh=({label:t,options:e,selected:s,onChange:n,getLabel:a})=>{const[i,l]=f.useState(!1),[o,c]=f.useState({top:0,left:0,width:0}),d=f.useRef(null),m=()=>{if(d.current){const h=d.current.getBoundingClientRect();c({top:h.bottom+2,left:h.left,width:h.width})}},u=()=>{i||m(),l(!i)};return r.jsxs("div",{ref:d,className:"relative",children:[r.jsxs("button",{onClick:u,className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[r.jsx("span",{children:s.length>0?`${t} (${s.length})`:t}),r.jsx(Lc,{className:"h-4 w-4"})]}),i&&bm.createPortal(r.jsx("div",{className:"glass-dropdown fixed z-[99999]",style:{top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,zIndex:99999},children:r.jsxs("div",{className:"max-h-60",style:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),e.map(h=>r.jsx("label",{className:"glass-dropdown-option cursor-pointer",children:r.jsxs("div",{className:"flex items-center w-full",children:[r.jsx("input",{type:"checkbox",checked:s.includes(h),onChange:g=>{g.target.checked?n([...s,h]):n(s.filter(p=>p!==h))},className:"rounded mr-3"}),r.jsx("span",{className:"text-sm",children:a?a(h):h})]})},h))]})}),document.body)]})},aP=({sortBy:t,sortOrder:e,onSortChange:s})=>{const[n,a]=f.useState(!1),i=[{field:"due_date",label:"到期日"},{field:"created_at",label:"建立日期"},{field:"priority",label:"優先級"},{field:"status",label:"狀態"}];return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>a(!n),className:"flex items-center px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50",children:[r.jsx(Vc,{className:"h-4 w-4 mr-1"}),"排序",r.jsx(Lc,{className:"h-4 w-4 ml-1"})]}),n&&r.jsx("div",{className:"absolute right-0 z-10 w-40 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:r.jsx("div",{className:"p-1",children:i.map(l=>r.jsx("button",{onClick:()=>{t===l.field?s(l.field,e==="asc"?"desc":"asc"):s(l.field,"asc"),a(!1)},className:`w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 ${t===l.field?"bg-amber-50 text-amber-700":"text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:l.label}),t===l.field&&r.jsx("span",{className:"text-xs",children:e==="asc"?"↑":"↓"})]})},l.field))})})]})},iP=({currentPage:t,totalPages:e,onPageChange:s})=>{const n=[];let i=Math.max(1,t-Math.floor(2.5)),l=Math.min(e,i+5-1);l-i+1<5&&(i=Math.max(1,l-5+1));for(let o=i;o<=l;o++)n.push(o);return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["顯示第 ",(t-1)*10+1," - ",Math.min(t*10,e*10)," 項"]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>s(t-1),disabled:t===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一頁"}),n.map(o=>r.jsx("button",{onClick:()=>s(o),className:`px-3 py-1 text-sm border rounded ${t===o?"bg-amber-600 text-white border-amber-600":"border-gray-300 hover:bg-gray-50"}`,children:o},o)),r.jsx("button",{onClick:()=>s(t+1),disabled:t===e,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一頁"})]})]})},lP=({task:t,isOpen:e,onClose:s,onStatusChange:n})=>{var a,i;return!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh]",style:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"任務詳情"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ji,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:t.title}),r.jsx("p",{className:"text-gray-600",children:t.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"狀態"}),r.jsx("p",{className:"mt-1",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.status===Oe.COMPLETED?"bg-green-100 text-green-800":t.status===Oe.IN_PROGRESS?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"}`,children:(a=t.status)==null?void 0:a.replace("_"," ")})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"優先級"}),r.jsx("p",{className:"mt-1",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.priority===Dt.CRITICAL?"bg-red-100 text-red-800":t.priority===Dt.HIGH?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:t.priority})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"任務類型"}),r.jsx("p",{className:"mt-1 text-gray-900",children:(i=t.task_type)==null?void 0:i.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"業務影響"}),r.jsx("p",{className:"mt-1 text-gray-900",children:t.business_impact})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"建立日期"}),r.jsx("p",{className:"mt-1 text-gray-900",children:new Date(t.created_at).toLocaleDateString("zh-TW")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"到期日"}),r.jsx("p",{className:"mt-1 text-gray-900",children:t.due_date?new Date(t.due_date).toLocaleDateString("zh-TW"):"-"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),t.status!==Oe.COMPLETED&&r.jsx("button",{onClick:()=>n(Oe.COMPLETED),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"標記完成"})]})]})]})})},oP=({task:t,isOpen:e,onClose:s,onAssign:n})=>{const[a,i]=f.useState({assigned_to:"",priority:"",due_date:"",notes:""});if(f.useEffect(()=>{t&&i({assigned_to:t.assigned_to||"",priority:t.priority||"",due_date:t.due_date?new Date(t.due_date).toISOString().split("T")[0]:"",notes:""})},[t]),!e||!t)return null;const l=o=>{o.preventDefault(),n(t.id,parseInt(a.assigned_to),a.priority,a.due_date?new Date(a.due_date):null,a.notes||null)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"指派任務"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ji,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"指派給"}),r.jsxs("select",{value:a.assigned_to,onChange:o=>i({...a,assigned_to:o.target.value}),className:"glass-select w-full font-chinese",required:!0,children:[r.jsx("option",{value:"",children:"選擇用戶"}),[...Array(10)].map((o,c)=>r.jsxs("option",{value:c+1,children:["用戶 ",c+1]},c+1))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"優先級"}),r.jsxs("select",{value:a.priority,onChange:o=>i({...a,priority:o.target.value}),className:"glass-select w-full font-chinese",children:[r.jsx("option",{value:"",children:"選擇優先級"}),Object.values(Dt).map(o=>r.jsx("option",{value:o,children:o},o))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"到期日"}),r.jsx("input",{type:"date",value:a.due_date,onChange:o=>i({...a,due_date:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"備註"}),r.jsx("textarea",{value:a.notes,onChange:o=>i({...a,notes:o.target.value}),placeholder:"新增備註...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"取消"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"指派任務"})]})]})]})})},cP=()=>{const[t,e]=f.useState([]),[s,n]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState(!0),[c,d]=f.useState(null),[m,u]=f.useState(!1),[h,g]=f.useState("pending"),[p,x]=f.useState({workflow_type:"",status:[],priority:[],search:""});f.useEffect(()=>{j()},[]),f.useEffect(()=>{v()},[t,p,h]);const j=async()=>{o(!0);try{const N=bl.getApprovalInstances(),w=bl.approvalWorkflows;e(N.instances),n(w)}catch(N){console.error("Error loading approval data:",N)}finally{o(!1)}},v=()=>{let N=[...t];if(h==="pending"?N=N.filter(w=>w.overall_status===Me.PENDING||w.overall_status===Me.IN_PROGRESS):h==="history"&&(N=N.filter(w=>w.overall_status===Me.APPROVED||w.overall_status===Me.REJECTED||w.overall_status===Me.CANCELLED)),p.search&&(N=N.filter(w=>{var k;return((k=w.submission_notes)==null?void 0:k.toLowerCase().includes(p.search.toLowerCase()))||w.entity_type.toLowerCase().includes(p.search.toLowerCase())})),p.workflow_type){const w=s.filter(k=>k.entity_type===p.workflow_type).map(k=>k.id);N=N.filter(k=>w.includes(k.workflow_id))}p.status.length>0&&(N=N.filter(w=>p.status.includes(w.overall_status))),p.priority.length>0&&(N=N.filter(w=>p.priority.includes(w.priority))),N.sort((w,k)=>new Date(k.submitted_at)-new Date(w.submitted_at)),i(N)},y=async(N,w="")=>{try{console.log("Approving instance:",N,w),e(k=>k.map(T=>T.id===N?{...T,overall_status:Me.APPROVED,completed_at:new Date,approval_history:[...T.approval_history,{id:Date.now(),action:"approve",approver_name:"當前用戶",decision_date:new Date,comments:w||"核准通過"}]}:T))}catch(k){console.error("Error approving instance:",k)}},b=async(N,w="")=>{try{console.log("Rejecting instance:",N,w),e(k=>k.map(T=>T.id===N?{...T,overall_status:Me.REJECTED,completed_at:new Date,approval_history:[...T.approval_history,{id:Date.now(),action:"reject",approver_name:"當前用戶",decision_date:new Date,comments:w||"駁回申請"}]}:T))}catch(k){console.error("Error rejecting instance:",k)}};return l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})}):r.jsxs("div",{children:[r.jsx(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"簽核流程管理"}),r.jsx("p",{className:"text-gray-600",children:"管理和監控審批工作流程"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"重新載入"]})})]})}),r.jsx(dP,{instances:t}),r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg mb-6",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"pending",label:"待簽核",count:t.filter(N=>N.overall_status===Me.PENDING||N.overall_status===Me.IN_PROGRESS).length},{key:"all",label:"全部",count:t.length},{key:"history",label:"歷史記錄",count:t.filter(N=>N.overall_status===Me.APPROVED||N.overall_status===Me.REJECTED).length}].map(N=>r.jsxs("button",{onClick:()=>g(N.key),className:`py-4 border-b-2 font-medium text-sm ${h===N.key?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[N.label," (",N.count,")"]},N.key))})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("select",{value:p.workflow_type,onChange:N=>x({...p,workflow_type:N.target.value}),className:"glass-select font-chinese",children:[r.jsx("option",{value:"",children:"所有類型"}),r.jsx("option",{value:"purchase_order",children:"採購單"}),r.jsx("option",{value:"refund_request",children:"退款申請"}),r.jsx("option",{value:"promotion",children:"促銷活動"})]}),r.jsx(tv,{label:"狀態",options:Object.values(Me),selected:p.status,onChange:N=>x({...p,status:N})}),r.jsx(tv,{label:"優先級",options:Object.values(Dt),selected:p.priority,onChange:N=>x({...p,priority:N})})]})})]}),r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[r.jsx($m,{children:a.map((N,w)=>r.jsx(uP,{instance:N,workflow:s.find(k=>k.id===N.workflow_id),index:w,onApprove:k=>y(N.id,k),onReject:k=>b(N.id,k),onViewDetails:()=>{d(N),u(!0)}},N.id))}),a.length===0&&r.jsxs("div",{className:"text-center py-12 bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg",children:[r.jsx(Em,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到簽核項目"}),r.jsx("p",{className:"text-gray-500",children:h==="pending"?"目前沒有待簽核的項目":"沒有符合篩選條件的項目"})]})]}),r.jsx(fP,{instance:c,workflow:c?s.find(N=>N.id===c.workflow_id):null,isOpen:m,onClose:()=>{u(!1),d(null)},onApprove:N=>{y(c.id,N),u(!1),d(null)},onReject:N=>{b(c.id,N),u(!1),d(null)}})]})},dP=({instances:t})=>{const e={total:t.length,pending:t.filter(s=>s.overall_status===Me.PENDING).length,approved:t.filter(s=>s.overall_status===Me.APPROVED).length,rejected:t.filter(s=>s.overall_status===Me.REJECTED).length,overdue:t.filter(s=>s.overall_status===Me.PENDING&&s.due_date&&new Date(s.due_date)<new Date).length};return r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"總申請"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-600",children:e.pending}),r.jsx("div",{className:"text-sm text-gray-600",children:"待簽核"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.approved}),r.jsx("div",{className:"text-sm text-gray-600",children:"已核准"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.rejected}),r.jsx("div",{className:"text-sm text-gray-600",children:"已駁回"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.overdue}),r.jsx("div",{className:"text-sm text-gray-600",children:"逾期"})]})]})},uP=({instance:t,workflow:e,index:s,onApprove:n,onReject:a,onViewDetails:i})=>{f.useState(!1);const[l,o]=f.useState(!1),c=t.due_date&&t.overall_status===Me.PENDING&&new Date(t.due_date)<new Date;return r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05},className:`bg-white/70 backdrop-blur-md rounded-xl p-6 border shadow-lg ${c?"border-red-300 bg-red-50/30":"border-white/20"}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[Hw(t.overall_status),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(e==null?void 0:e.workflow_name)||"未知工作流程"}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Kw(t.priority)}`,children:t.priority}),c&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"逾期"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體類型"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.entity_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請者"}),r.jsxs("p",{className:"text-sm text-gray-900",children:["用戶 ",t.submitted_by]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"提交時間"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.submitted_at).toLocaleDateString("zh-TW")})]})]}),t.submission_notes&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請說明"}),r.jsx("p",{className:"text-sm text-gray-900 mt-1",children:t.submission_notes})]}),r.jsx(mP,{instance:t,workflow:e}),t.approval_history.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"最近操作"}),r.jsx("div",{className:"space-y-2",children:t.approval_history.slice(-2).map((d,m)=>r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${d.action==="approve"?"bg-green-500":d.action==="reject"?"bg-red-500":"bg-blue-500"}`}),r.jsx("span",{className:"font-medium",children:d.approver_name}),r.jsx("span",{className:"mx-1",children:"·"}),r.jsx("span",{children:d.action==="approve"?"核准":d.action==="reject"?"駁回":"處理"}),r.jsx("span",{className:"mx-1",children:"·"}),r.jsx("span",{children:new Date(d.decision_date).toLocaleDateString("zh-TW")})]},m))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:i,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"查看詳情"}),t.overall_status===Me.PENDING&&r.jsx(r.Fragment,{children:r.jsx("button",{onClick:()=>o(!l),className:"px-3 py-1 text-sm bg-amber-600 text-white rounded hover:bg-amber-700",children:"簽核"})})]})]}),r.jsx($m,{children:l&&r.jsx(hP,{onApprove:n,onReject:a,onCancel:()=>o(!1)})})]})},mP=({instance:t,workflow:e})=>!e||!e.approval_steps?null:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"簽核進度"}),r.jsx("div",{className:"flex items-center space-x-2",children:e.approval_steps.map((s,n)=>{const a=n+1===t.current_step,i=n+1<t.current_step;return n+1>t.current_step,r.jsxs(Dc.Fragment,{children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-xs font-medium ${i?"bg-green-500 text-white":a?"bg-amber-500 text-white":"bg-gray-200 text-gray-600"}`,children:i?"✓":n+1}),r.jsx("div",{className:"flex-1 text-center",children:r.jsx("div",{className:`text-xs font-medium ${a?"text-amber-600":i?"text-green-600":"text-gray-400"}`,children:s.step_name})}),n<e.approval_steps.length-1&&r.jsx(Fc,{className:`h-4 w-4 ${i?"text-green-500":a?"text-amber-500":"text-gray-300"}`})]},n)})})]}),hP=({onApprove:t,onReject:e,onCancel:s})=>{const[n,a]=f.useState(""),[i,l]=f.useState(""),o=c=>{c==="approve"?t(n):c==="reject"&&e(n),a(""),l("")};return r.jsxs(Be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"簽核意見"}),r.jsx("textarea",{value:n,onChange:c=>a(c.target.value),placeholder:"請輸入簽核意見...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent mb-3"}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:s,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"取消"}),r.jsxs("button",{onClick:()=>o("reject"),className:"flex items-center px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:[r.jsx(bN,{className:"h-4 w-4 mr-1"}),"駁回"]}),r.jsxs("button",{onClick:()=>o("approve"),className:"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:[r.jsx(jN,{className:"h-4 w-4 mr-1"}),"核准"]})]})]})},tv=({label:t,options:e,selected:s,onChange:n})=>{const[a,i]=f.useState(!1),[l,o]=f.useState({top:0,left:0,width:0}),c=f.useRef(null),d=()=>{if(c.current){const u=c.current.getBoundingClientRect();o({top:u.bottom+2,left:u.left,width:u.width})}},m=()=>{a||d(),i(!a)};return r.jsxs("div",{ref:c,className:"relative",children:[r.jsxs("button",{onClick:m,className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[r.jsx("span",{children:s.length>0?`${t} (${s.length})`:t}),r.jsx(Lc,{className:"h-4 w-4"})]}),a&&bm.createPortal(r.jsx("div",{className:"glass-dropdown fixed z-[99999]",style:{top:`${l.top}px`,left:`${l.left}px`,width:`${l.width}px`,zIndex:99999},children:r.jsxs("div",{className:"max-h-60",style:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
              div::-webkit-scrollbar {
                display: none;
              }
            `}),e.map(u=>r.jsx("label",{className:"glass-dropdown-option cursor-pointer",children:r.jsxs("div",{className:"flex items-center w-full",children:[r.jsx("input",{type:"checkbox",checked:s.includes(u),onChange:h=>{h.target.checked?n([...s,u]):n(s.filter(g=>g!==u))},className:"rounded mr-3"}),r.jsx("span",{className:"text-sm",children:u})]})},u))]})}),document.body)]})},fP=({instance:t,workflow:e,isOpen:s,onClose:n,onApprove:a,onReject:i})=>{const[l,o]=f.useState("");return!s||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[80vh]",style:{overflowY:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"簽核詳情"}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ji,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本資訊"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"工作流程"}),r.jsx("p",{className:"text-sm text-gray-900",children:e==null?void 0:e.workflow_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體類型"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.entity_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體ID"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.entity_id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請者"}),r.jsxs("p",{className:"text-sm text-gray-900",children:["用戶 ",t.submitted_by]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"提交時間"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.submitted_at).toLocaleString("zh-TW")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"狀態"}),r.jsxs("p",{className:"text-sm text-gray-900 flex items-center",children:[Hw(t.overall_status),r.jsx("span",{className:"ml-2",children:t.overall_status})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"優先級"}),r.jsx("p",{className:"text-sm text-gray-900",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Kw(t.priority)}`,children:t.priority})})]})]})]}),t.submission_notes&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"申請說明"}),r.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:t.submission_notes})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"簽核歷史"}),r.jsx("div",{className:"space-y-4",children:t.approval_history.map((c,d)=>r.jsxs("div",{className:"border-l-4 border-gray-200 pl-4 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${c.action==="approve"?"bg-green-500":c.action==="reject"?"bg-red-500":"bg-blue-500"}`}),r.jsx("span",{className:"font-medium text-gray-900",children:c.approver_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",c.approver_role,")"]})]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(c.decision_date).toLocaleString("zh-TW")})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:["操作: ",r.jsx("span",{className:"font-medium",children:c.action==="approve"?"核准":c.action==="reject"?"駁回":c.action==="delegate"?"委派":c.action==="request_info"?"要求補充資訊":"其他"})]}),c.comments&&r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["意見: ",c.comments]})]},d))})]})]}),t.overall_status===Me.PENDING&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"簽核操作"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"簽核意見"}),r.jsx("textarea",{value:l,onChange:c=>o(c.target.value),placeholder:"請輸入簽核意見...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),r.jsxs("button",{onClick:()=>i(l),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[r.jsx(bN,{className:"h-4 w-4 mr-2"}),"駁回"]}),r.jsxs("button",{onClick:()=>a(l),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(jN,{className:"h-4 w-4 mr-2"}),"核准"]})]})]})]})]})})},Hw=t=>{switch(t){case Me.APPROVED:return r.jsx(Vt,{className:"h-5 w-5 text-green-500"});case Me.REJECTED:return r.jsx(ji,{className:"h-5 w-5 text-red-500"});case Me.IN_PROGRESS:return r.jsx(vr,{className:"h-5 w-5 text-blue-500"});case Me.CANCELLED:return r.jsx(p8,{className:"h-5 w-5 text-gray-500"});default:return r.jsx(Nr,{className:"h-5 w-5 text-amber-500"})}},Kw=t=>{switch(t){case Dt.CRITICAL:return"bg-red-100 text-red-800 border-red-200";case Dt.URGENT:return"bg-orange-100 text-orange-800 border-orange-200";case Dt.HIGH:return"bg-amber-100 text-amber-800 border-amber-200";case Dt.MEDIUM:return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},pP=()=>{const[t,e]=f.useState(null),[s,n]=f.useState([]),[a,i]=f.useState([]),[l,o]=f.useState(null),[c,d]=f.useState(!0),[m,u]=f.useState(30),[h,g]=f.useState(new Date);f.useEffect(()=>{if(p(),c){const w=setInterval(p,m*1e3);return()=>clearInterval(w)}},[c,m]);const p=()=>{const w=bl.getOperationalMetrics();e(w),n(w.alert_system.critical_alerts),i(w.anomaly_monitoring.active_anomalies),g(new Date)},x=w=>{n(k=>k.map(T=>T.alert_id===w?{...T,acknowledged_by:1,acknowledged_at:new Date}:T))},j=w=>{n(k=>k.map(T=>T.alert_id===w?{...T,resolved_at:new Date}:T))};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})});const{real_time_metrics:v,operational_efficiency:y,anomaly_monitoring:b,alert_system:N}=t;return r.jsxs("div",{children:[r.jsx(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"即時監控儀表板"}),r.jsx("p",{className:"text-gray-600",children:"實時系統狀態、警報和異常監控"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"自動更新"}),r.jsx("button",{onClick:()=>d(!c),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-amber-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["最後更新: ",h.toLocaleTimeString()]}),r.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[r.jsx(xs,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]})}),r.jsx(gP,{systemHealth:b.system_health}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(xP,{metrics:v})}),r.jsx("div",{children:r.jsx(yP,{alerts:s,onAcknowledge:x,onResolve:j,onViewDetails:o})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsx(vP,{anomalies:a}),r.jsx(bP,{efficiency:y})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(jP,{issues:N.trending_issues}),r.jsx(NP,{metrics:v,anomalies:a,alerts:s})]}),r.jsx(wP,{alert:l,isOpen:!!l,onClose:()=>o(null),onAcknowledge:x,onResolve:j})]})},gP=({systemHealth:t})=>{const s=(()=>{const{database_response_time:n,api_response_time:a,error_rate_percentage:i,queue_processing_status:l}=t;return n>200||a>500||parseFloat(i)>2?{status:"critical",color:"red",text:"嚴重"}:n>100||a>300||parseFloat(i)>1?{status:"warning",color:"amber",text:"警告"}:{status:"healthy",color:"green",text:"正常"}})();return r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"系統健康狀態"}),r.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.color==="green"?"bg-green-100 text-green-800":s.color==="amber"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:[s.color==="green"?r.jsx(Vt,{className:"h-4 w-4 mr-1"}):s.color==="amber"?r.jsx(vt,{className:"h-4 w-4 mr-1"}):r.jsx(ji,{className:"h-4 w-4 mr-1"}),s.text]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mb-2 mx-auto",children:r.jsx(XT,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[t.database_response_time,"ms"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"資料庫回應"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mb-2 mx-auto",children:r.jsx(l8,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[t.api_response_time,"ms"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"API 回應"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-amber-100 rounded-lg mb-2 mx-auto",children:r.jsx(vt,{className:"h-6 w-6 text-amber-600"})}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[t.error_rate_percentage,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"錯誤率"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mb-2 mx-auto",children:r.jsx(pg,{className:"h-6 w-6 text-purple-600"})}),r.jsx("div",{className:`text-lg font-bold ${t.queue_processing_status==="healthy"?"text-green-600":t.queue_processing_status==="warning"?"text-amber-600":"text-red-600"}`,children:t.queue_processing_status==="healthy"?"正常":t.queue_processing_status==="warning"?"警告":"嚴重"}),r.jsx("div",{className:"text-sm text-gray-600",children:"佇列狀態"})]})]})]})},xP=({metrics:t})=>{const e=[{title:"今日訂單",value:t.orders_today.total_orders,change:"+12.5%",trend:"up",icon:NN,color:"blue",subtitle:`總額: NT$ ${t.orders_today.revenue_today.toLocaleString()}`},{title:"當前訪客",value:t.website_performance.current_visitors,change:"+8.2%",trend:"up",icon:wN,color:"green",subtitle:`轉換率: ${t.website_performance.conversion_rate_today}%`},{title:"庫存警報",value:t.inventory_alerts.low_stock_items,change:"-5.1%",trend:"down",icon:vt,color:"amber",subtitle:`缺貨: ${t.inventory_alerts.out_of_stock_items} 項`},{title:"客服工單",value:t.customer_service.open_tickets,change:"+3.7%",trend:"up",icon:Nr,color:"red",subtitle:`逾期: ${t.customer_service.overdue_tickets} 件`},{title:"系統正常時間",value:`${t.website_performance.uptime_percentage}%`,change:"+0.1%",trend:"up",icon:yg,color:"green",subtitle:`載入時間: ${t.website_performance.page_load_time_avg}s`},{title:"今日營收",value:`NT$ ${Math.round(t.financial_summary.revenue_today/1e3)}K`,change:"+15.3%",trend:"up",icon:Ms,color:"blue",subtitle:`利潤: NT$ ${Math.round(t.financial_summary.profit_today/1e3)}K`}];return r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"即時營運指標"}),r.jsx(Ps,{className:"h-5 w-5 text-gray-500"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((s,n)=>r.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.1},className:"bg-white/50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:`p-2 rounded-lg ${s.color==="blue"?"bg-blue-100":s.color==="green"?"bg-green-100":s.color==="amber"?"bg-amber-100":"bg-red-100"}`,children:r.jsx(s.icon,{className:`h-4 w-4 ${s.color==="blue"?"text-blue-600":s.color==="green"?"text-green-600":s.color==="amber"?"text-amber-600":"text-red-600"}`})}),r.jsxs("div",{className:"flex items-center text-sm",children:[s.trend==="up"?r.jsx(xs,{className:"h-3 w-3 text-green-500 mr-1"}):r.jsx(Fl,{className:"h-3 w-3 text-red-500 mr-1"}),r.jsx("span",{className:s.trend==="up"?"text-green-600":"text-red-600",children:s.change})]})]}),r.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-1",children:s.title}),r.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:s.value}),r.jsx("p",{className:"text-xs text-gray-500",children:s.subtitle})]},s.title))})]})},yP=({alerts:t,onAcknowledge:e,onResolve:s,onViewDetails:n})=>{const a=t.filter(l=>!l.acknowledged_by),i=t.filter(l=>!l.resolved_at);return r.jsxs(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"關鍵警報"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wu,{className:"h-5 w-5 text-red-500 mr-2"}),r.jsxs("span",{className:"text-sm font-medium text-red-600",children:[a.length," 未確認"]})]})]}),r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsx($m,{children:i.map((l,o)=>r.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:o*.05},className:`p-4 rounded-lg border ${l.priority==="critical"?"bg-red-50 border-red-200":l.priority==="high"?"bg-orange-50 border-orange-200":"bg-amber-50 border-amber-200"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Gu,{className:`h-4 w-4 ${l.priority==="critical"?"text-red-500":l.priority==="high"?"text-orange-500":"text-amber-500"}`}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:l.alert_type}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.priority==="critical"?"bg-red-100 text-red-800":l.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:l.priority})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:l.message}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.created_at).toLocaleString("zh-TW")})]}),r.jsxs("div",{className:"flex flex-col space-y-1 ml-3",children:[r.jsx("button",{onClick:()=>n(l),className:"text-xs text-blue-600 hover:text-blue-800",children:"詳情"}),!l.acknowledged_by&&r.jsx("button",{onClick:()=>e(l.alert_id),className:"text-xs text-amber-600 hover:text-amber-800",children:"確認"}),r.jsx("button",{onClick:()=>s(l.alert_id),className:"text-xs text-green-600 hover:text-green-800",children:"解決"})]})]})},l.alert_id))}),i.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"目前沒有關鍵警報"})]})]})]})},vP=({anomalies:t})=>r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"異常監控"}),r.jsx(Os,{className:"h-5 w-5 text-gray-500"})]}),r.jsxs("div",{className:"space-y-4",children:[t.map((e,s)=>r.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(vt,{className:`h-4 w-4 ${e.severity==="critical"?"text-red-500":e.severity==="high"?"text-orange-500":e.severity==="medium"?"text-amber-500":"text-blue-500"}`}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.metric_name})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),r.jsxs("p",{className:"text-xs text-gray-500",children:["偵測時間: ",new Date(e.detected_at).toLocaleString("zh-TW")]}),r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["建議: ",e.recommended_action]})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.severity==="critical"?"bg-red-100 text-red-800":e.severity==="high"?"bg-orange-100 text-orange-800":e.severity==="medium"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:e.severity})]})},e.anomaly_id)),t.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"系統運行正常，未發現異常"})]})]})]}),bP=({efficiency:t})=>{const e=[{category:"處理效率",metrics:[{label:"每小時處理訂單",value:t.processing_efficiency.orders_processed_per_hour,unit:"單"},{label:"平均處理時間",value:t.processing_efficiency.avg_order_processing_time_minutes,unit:"分鐘"},{label:"自動化比率",value:t.processing_efficiency.automatic_processing_rate,unit:"%"}]},{category:"庫存效率",metrics:[{label:"庫存週轉率",value:t.inventory_efficiency.inventory_turnover_rate,unit:""},{label:"缺貨率",value:t.inventory_efficiency.stockout_rate_percentage,unit:"%"},{label:"庫存準確率",value:t.inventory_efficiency.inventory_accuracy_rate,unit:"%"}]},{category:"客服效率",metrics:[{label:"首次解決率",value:t.service_efficiency.first_contact_resolution_rate,unit:"%"},{label:"平均解決時間",value:t.service_efficiency.avg_ticket_resolution_time_hours,unit:"小時"},{label:"客戶滿意度",value:t.service_efficiency.customer_effort_score,unit:"分"}]}];return r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"營運效率"}),r.jsx(I6,{className:"h-5 w-5 text-gray-500"})]}),r.jsx("div",{className:"space-y-6",children:e.map((s,n)=>r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:s.category}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.metrics.map((a,i)=>r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:a.label}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[a.value,a.unit]})]},i))})]},s.category))})]})},jP=({issues:t})=>r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"趨勢問題"}),r.jsx(Ps,{className:"h-5 w-5 text-gray-500"})]}),r.jsxs("div",{className:"space-y-4",children:[t.map((e,s)=>r.jsxs(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.issue_pattern}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.risk_assessment==="high"?"bg-red-100 text-red-800":e.risk_assessment==="medium"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:e.risk_assessment}),r.jsx("span",{className:`text-xs ${e.trend_direction==="increasing"?"text-red-600":e.trend_direction==="decreasing"?"text-green-600":"text-gray-600"}`,children:e.trend_direction==="increasing"?"↗":e.trend_direction==="decreasing"?"↘":"→"})]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["發生次數: ",e.occurrence_count," 次"]}),r.jsxs("div",{className:"text-xs text-blue-600",children:["預防建議: ",e.prevention_recommendations.join(", ")]})]},s)),t.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"目前沒有發現趨勢問題"})]})]})]}),NP=({metrics:t,anomalies:e,alerts:s})=>{const a=(()=>{const i=[];return t.customer_service.open_tickets>20&&i.push({type:"performance",title:"客服工單積壓",description:"當前開放工單數量較高，建議增加客服人力或優化處理流程",priority:"high",action:"查看客服管理"}),t.inventory_alerts.low_stock_items>10&&i.push({type:"inventory",title:"庫存預警",description:"多項商品庫存不足，建議及時補貨以避免缺貨",priority:"medium",action:"檢視庫存狀態"}),parseFloat(t.website_performance.conversion_rate_today)<2&&i.push({type:"marketing",title:"轉換率偏低",description:"今日轉換率低於平均水平，建議檢查網站體驗或行銷策略",priority:"medium",action:"優化使用者體驗"}),e.length>3&&i.push({type:"system",title:"系統異常偵測",description:"系統偵測到多項異常，建議進行全面系統檢查",priority:"high",action:"進行系統診斷"}),s.length>2&&i.push({type:"alert",title:"警報處理",description:"有多個未解決的警報，建議優先處理高優先級警報",priority:"urgent",action:"處理關鍵警報"}),i})();return r.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"智能建議"}),r.jsx(Sc,{className:"h-5 w-5 text-amber-500"})]}),r.jsxs("div",{className:"space-y-4",children:[a.map((i,l)=>r.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Sc,{className:"h-4 w-4 text-amber-500"}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:i.title}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.priority==="urgent"?"bg-red-100 text-red-800":i.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:i.priority})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:i.description}),r.jsxs("button",{className:"text-xs text-amber-600 hover:text-amber-800 font-medium",children:[i.action," →"]})]})})},l)),a.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"系統運行良好，暫無特別建議"})]})]})]})},wP=({alert:t,isOpen:e,onClose:s,onAcknowledge:n,onResolve:a})=>!e||!t?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"警報詳情"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ji,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Gu,{className:`h-6 w-6 ${t.priority==="critical"?"text-red-500":t.priority==="high"?"text-orange-500":"text-amber-500"}`}),r.jsx("h4",{className:"text-lg font-medium text-gray-900",children:t.alert_type}),r.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${t.priority==="critical"?"bg-red-100 text-red-800":t.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:t.priority})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"警報訊息"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"影響區域"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.affected_area})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"發生時間"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.created_at).toLocaleString("zh-TW")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"預估影響"}),r.jsx("p",{className:"text-sm text-gray-900",children:t.estimated_impact})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"建議行動"}),r.jsx("ul",{className:"list-disc list-inside space-y-1",children:t.suggested_actions.map((i,l)=>r.jsx("li",{className:"text-sm text-gray-700",children:i},l))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),!t.acknowledged_by&&r.jsx("button",{onClick:()=>{n(t.alert_id),s()},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"確認警報"}),!t.resolved_at&&r.jsx("button",{onClick:()=>{a(t.alert_id),s()},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"標記解決"})]})]})]})});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),sv=t=>{const e=SP(t);return e.charAt(0).toUpperCase()+e.slice(1)},Yw=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),CP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>f.createElement("svg",{ref:c,...kP,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:Yw("lucide",a),...!i&&!CP(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,m])=>f.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=(t,e)=>{const s=f.forwardRef(({className:n,...a},i)=>f.createElement(TP,{ref:i,iconNode:e,className:Yw(`lucide-${_P(sv(t))}`,`lucide-${t}`,n),...a}));return s.displayName=sv(t),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AP=Kl("check",EP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],su=Kl("chevron-down",DP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Kh=Kl("chevron-up",PP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],IP=Kl("download",MP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rv=Kl("search",RP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nv=Kl("x",OP),_i=({data:t=[],columns:e=[],title:s="數據列表",showExport:n=!0,onExport:a=null,exportFileName:i="數據列表",className:l="",emptyIcon:o=null,emptyTitle:c="沒有找到數據",emptyMessage:d="",emptyDescription:m="請調整搜尋條件或新增第一筆數據",enableBatchSelection:u=!1,selectedItems:h=[],onSelectedItemsChange:g=null,batchActions:p=[],getRowId:x=(j,v)=>j.id||v})=>{const[j,v]=f.useState({key:null,direction:"asc"}),y=f.useMemo(()=>j.key?[...t].sort((C,A)=>{const I=C[j.key],S=A[j.key];if(I==null)return 1;if(S==null)return-1;if(typeof I=="number"&&typeof S=="number")return j.direction==="asc"?I-S:S-I;if(typeof I=="string"&&typeof S=="string"){const R=new Date(I),F=new Date(S);if(!isNaN(R)&&!isNaN(F))return j.direction==="asc"?R-F:F-R}const _=String(I).toLowerCase(),L=String(S).toLowerCase();return _<L?j.direction==="asc"?-1:1:_>L?j.direction==="asc"?1:-1:0}):t,[t,j]),b=C=>{if(g)if(C){const A=y.map((I,S)=>x(I,S));g(A)}else g([])},N=(C,A)=>{if(!g)return;const I=A?[...h,C]:h.filter(S=>S!==C);g(I)},w=u&&y.length>0&&h.length===y.length,k=u&&h.length>0&&h.length<y.length,T=(C,A=!0)=>{if(!A)return;let I="asc";j.key===C&&j.direction==="asc"?I="desc":j.key===C&&j.direction==="desc"&&(I=null),v({key:I?C:null,direction:I})},P=(C,A=!0)=>A?j.key!==C?r.jsxs("div",{className:"flex flex-col ml-1 opacity-30",children:[r.jsx(Kh,{className:"w-3 h-3 -mb-1"}),r.jsx(su,{className:"w-3 h-3"})]}):j.direction==="asc"?r.jsx(Kh,{className:"w-4 h-4 ml-1 text-apricot-600"}):j.direction==="desc"?r.jsx(su,{className:"w-4 h-4 ml-1 text-apricot-600"}):r.jsxs("div",{className:"flex flex-col ml-1 opacity-30",children:[r.jsx(Kh,{className:"w-3 h-3 -mb-1"}),r.jsx(su,{className:"w-3 h-3"})]}):null,E=()=>{if(a){a(y);return}const C=e.map(R=>R.label||R.title||R.key).join(","),A=y.map(R=>e.map(F=>{const M=R[F.key];if(M==null)return"";const $=String(M);return $.includes(",")?`"${$}"`:$}).join(",")),I=[C,...A].join(`
`),S=new Blob([I],{type:"text/csv;charset=utf-8;"}),_=document.createElement("a"),L=URL.createObjectURL(S);_.setAttribute("href",L),_.setAttribute("download",`${i}.csv`),_.style.visibility="hidden",document.body.appendChild(_),_.click(),document.body.removeChild(_)};return r.jsx("div",{className:`glass rounded-2xl overflow-visible ${l}`,children:r.jsxs("div",{className:"overflow-x-auto overflow-y-visible",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:[s," (",y.length,")"]}),n&&r.jsxs("button",{onClick:E,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2 font-chinese",children:[r.jsx(IP,{className:"w-4 h-4"}),"匯出"]})]})}),u&&h.length>0&&r.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-blue-700 font-chinese",children:["已選擇 ",h.length," 項"]}),r.jsx("div",{className:"flex items-center gap-2",children:p.map((C,A)=>r.jsxs("button",{onClick:()=>C.onClick(h),className:`px-3 py-1 text-sm rounded-md transition-colors font-chinese ${C.variant==="danger"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[C.icon&&r.jsx(C.icon,{className:"w-4 h-4 mr-1 inline"}),C.label]},A))})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[u&&r.jsx("th",{className:"px-6 py-3 text-left",children:r.jsx("input",{type:"checkbox",checked:w,ref:C=>{C&&(C.indeterminate=k)},onChange:C=>b(C.target.checked),className:"rounded border-gray-300 text-apricot-600 focus:ring-apricot-500"})}),e.map((C,A)=>r.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider font-chinese ${C.sortable!==!1?"cursor-pointer hover:bg-gray-100 select-none":""}`,onClick:()=>T(C.key,C.sortable),children:r.jsxs("div",{className:"flex items-center",children:[C.label||C.title,P(C.key,C.sortable)]})},C.key||A))]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((C,A)=>{const I=x(C,A),S=h.includes(I);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[u&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:S,onChange:_=>N(I,_.target.checked),className:"rounded border-gray-300 text-apricot-600 focus:ring-apricot-500"})}),e.map((_,L)=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-chinese",children:_.render?_.render(C[_.key],C,A):r.jsx("span",{className:_.className||"text-gray-900",children:C[_.key]})},_.key||L))]},I)})})]})}),y.length===0&&r.jsxs("div",{className:"text-center py-12",children:[o&&r.jsx(o,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-chinese",children:d||c}),r.jsx("p",{className:"text-gray-500 font-chinese",children:m})]})]})})},Zs=({isOpen:t,onClose:e,title:s,children:n,size:a="max-w-4xl",showCloseButton:i=!0,headerClass:l="bg-gradient-to-r from-[#cc824d]/80 to-[#b3723f]/80",footer:o=null,actions:c=[]})=>t?r.jsxs("div",{className:"fixed inset-0 z-[100000] flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-md",onClick:e}),r.jsxs("div",{className:`relative ${a} w-full max-h-[90vh] overflow-visible rounded-3xl bg-white/80 backdrop-blur-xl border border-white/30 shadow-2xl`,children:[s&&r.jsx("div",{className:`${l} backdrop-blur-sm text-white px-6 py-4 border-b border-white/20 rounded-t-3xl`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold font-chinese",children:s}),i&&r.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:r.jsx(_r,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"relative overflow-y-auto overflow-x-visible max-h-[calc(90vh-80px)]",children:n}),(o||c.length>0)&&r.jsx("div",{className:"px-6 py-4 border-t border-white/20 flex justify-end gap-3",children:o||c.map((d,m)=>r.jsx("button",{type:"button",onClick:d.onClick,disabled:d.disabled,className:`px-4 py-2 rounded-md transition text-white ${d.variant==="secondary"?"text-gray-700 bg-white/70 hover:bg-white border border-gray-300":d.variant==="danger"?"bg-red-600 hover:bg-red-700":"bg-[#cc824d] hover:bg-[#b8734a]"} ${d.disabled?"opacity-60 cursor-not-allowed":""}`,children:d.label},m))})]})]}):null,Bg=({product:t,sku:e=null,onGenerated:s,autoGenerate:n=!1,compact:a=!1})=>{const[i,l]=f.useState(!1),[o,c]=f.useState(null),d=()=>{var T,P,E,C;const p=window.location.origin,x=((T=t==null?void 0:t.name)==null?void 0:T["zh-TW"])||(t==null?void 0:t.name)||"",v=(Array.isArray(e==null?void 0:e.variantPath)?e.variantPath:[]).map((A,I)=>{var L,R;const S=((L=A==null?void 0:A.levelName)==null?void 0:L["zh-TW"])||(A==null?void 0:A.level)||`層級${I+1}`,_=((R=A==null?void 0:A.optionName)==null?void 0:R["zh-TW"])||(A==null?void 0:A.option)||"選項";return`${S}: ${_}`}).join(" / ")||"基本款",y=Array.isArray(t==null?void 0:t.categories)?t.categories.map(A=>{var I;return((I=A==null?void 0:A.name)==null?void 0:I["zh-TW"])||(A==null?void 0:A.name)||(A==null?void 0:A.title)||(A==null?void 0:A.slug)||(A==null?void 0:A.id)}).filter(Boolean):[],b=`${p}/products/${(t==null?void 0:t.slug)||((P=t==null?void 0:t.urlSlug)==null?void 0:P["zh-TW"])||(t==null?void 0:t.id)||""}`,N=Array.isArray(e==null?void 0:e.images)&&e.images.length>0?((E=e.images[0])==null?void 0:E.url)||e.images[0]:null,w=Array.isArray(t==null?void 0:t.images)&&t.images.length>0?((C=t.images[0])==null?void 0:C.url)||t.images[0]:null,k=N||w||"";return{type:"product_bundle",url:b,productName:x,sku:(e==null?void 0:e.sku)||(e==null?void 0:e.fullSKU)||`${(t==null?void 0:t.skuPrefix)||""}BASE`,salePrice:(e==null?void 0:e.salePrice)??(e==null?void 0:e.price)??(t==null?void 0:t.price)??null,comparePrice:(e==null?void 0:e.comparePrice)??(t==null?void 0:t.comparePrice)??null,costPrice:(e==null?void 0:e.costPrice)??(t==null?void 0:t.costPrice)??null,variantInfo:v,categories:y,imageUrl:k,description:"商品連結 + SKU 資訊 + 圖片"}},m=p=>{encodeURIComponent(JSON.stringify(p));const x=`
      <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200">
        <rect width="200" height="200" fill="white"/>
        <rect x="20" y="20" width="20" height="20" fill="black"/>
        <rect x="60" y="20" width="20" height="20" fill="black"/>
        <rect x="100" y="20" width="20" height="20" fill="black"/>
        <rect x="140" y="20" width="20" height="20" fill="black"/>
        <rect x="20" y="60" width="20" height="20" fill="black"/>
        <rect x="100" y="60" width="20" height="20" fill="black"/>
        <rect x="160" y="60" width="20" height="20" fill="black"/>
        <rect x="20" y="100" width="20" height="20" fill="black"/>
        <rect x="60" y="100" width="20" height="20" fill="black"/>
        <rect x="140" y="100" width="20" height="20" fill="black"/>
        <rect x="20" y="140" width="20" height="20" fill="black"/>
        <rect x="60" y="140" width="20" height="20" fill="black"/>
        <rect x="100" y="140" width="20" height="20" fill="black"/>
        <rect x="160" y="140" width="20" height="20" fill="black"/>
        <rect x="40" y="160" width="60" height="20" fill="black"/>
        <rect x="120" y="160" width="60" height="20" fill="black"/>
        <text x="100" y="190" font-family="Arial" font-size="8" text-anchor="middle" fill="black">
          ${p.type.toUpperCase()}
        </text>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(x)}`},u=async()=>{l(!0);try{const p=d();if(!p)throw new Error("無效的QR Code類型");await new Promise(v=>setTimeout(v,1500));const x=m(p),j={id:Date.now(),type:p.type,data:p,imageUrl:x,productId:t.id,skuId:(e==null?void 0:e.id)||null,createdAt:new Date().toISOString()};c(j),s&&s(j)}catch(p){console.error("QR Code生成失敗:",p),alert("QR Code生成失敗，請稍後再試")}finally{l(!1)}};f.useEffect(()=>{n&&!o&&!i&&u()},[n]);const h=()=>{if(!o)return;const p=document.createElement("a");p.href=o.imageUrl,p.download=`qr-${o.type}-${(e==null?void 0:e.sku)||t.skuPrefix||"product"}.svg`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},g=()=>{if(!o)return;const p=JSON.stringify(o.data,null,2);navigator.clipboard.writeText(p).then(()=>{alert("QR Code數據已複製到剪貼簿")})};return a?r.jsx("div",{className:"qr-generator",children:o?r.jsx("div",{className:"text-center",children:r.jsx("img",{src:o.imageUrl,alt:"Generated QR Code",className:"w-56 h-56 mx-auto border rounded-lg shadow-md"})}):r.jsx("div",{className:"py-10 text-center text-sm text-gray-500 font-chinese",children:i?"生成中…":"準備中…"})}):r.jsxs("div",{className:"qr-generator glass rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Hu,{className:"w-6 h-6 text-[#cc824d] mr-2"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"QR Code 生成器（整合版）"})]}),r.jsx("div",{className:"flex items-center space-x-3 mb-6",children:r.jsx("button",{onClick:u,disabled:i,className:"flex-1 px-4 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b3723f] disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-chinese flex items-center justify-center",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"生成中..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hu,{className:"w-5 h-5 mr-2"}),"生成 QR Code"]})})}),o&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 font-chinese",children:"生成結果"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:g,className:"px-3 py-1 text-sm text-[#cc824d] border border-[#cc824d] rounded hover:bg-[#cc824d] hover:text-white transition-colors font-chinese",children:"複製數據"}),r.jsxs("button",{onClick:h,className:"px-3 py-1 text-sm bg-[#cc824d] text-white rounded hover:bg-[#b3723f] transition-colors font-chinese flex items-center",children:[r.jsx(ug,{className:"w-4 h-4 mr-1"}),"下載"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:o.imageUrl,alt:"Generated QR Code",className:"w-48 h-48 mx-auto border rounded-lg shadow-md"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2 font-chinese",children:"商品連結 + SKU 資訊 + 圖片"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"類型"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.type})]}),o.data.url&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"連結"}),r.jsx("p",{className:"text-sm text-gray-900 break-all",children:o.data.url})]}),o.data.imageUrl&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"圖片"}),r.jsx("img",{src:o.data.imageUrl,alt:"Variant/Product",className:"w-24 h-24 object-cover rounded border"})]}),o.data.sku&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"SKU"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.sku})]}),o.data.variantInfo&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"變體資訊"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.variantInfo})]}),typeof o.data.salePrice<"u"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"售價"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.salePrice!=null?`NT$${Number(o.data.salePrice).toLocaleString()}`:"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"原價"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.comparePrice!=null?`NT$${Number(o.data.comparePrice).toLocaleString()}`:"-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"成本價"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.costPrice!=null?`NT$${Number(o.data.costPrice).toLocaleString()}`:"-"})]})]}),Array.isArray(o.data.categories)&&o.data.categories.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"分類"}),r.jsx("p",{className:"text-sm text-gray-900",children:o.data.categories.join(" / ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"生成時間"}),r.jsx("p",{className:"text-sm text-gray-900",children:new Date(o.createdAt).toLocaleString("zh-TW")})]})]})]})]})]})},pt=({label:t,children:e})=>r.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2",children:[r.jsx("div",{className:"text-sm text-gray-500 font-chinese col-span-1",children:t}),r.jsx("div",{className:"col-span-2 text-gray-900 text-sm break-words",children:e||"-"})]}),Pi=({title:t,children:e})=>r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 font-chinese",children:t}),r.jsx("div",{className:"bg-white/70 rounded-lg border border-gray-100 p-4",children:e})]}),LP=({images:t=[]})=>!t||t.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚未上傳圖片"}):r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:t.slice(0,10).map((e,s)=>r.jsx("img",{src:(e==null?void 0:e.url)||e,alt:`image-${s}`,className:"w-full h-24 object-cover rounded-lg border"},s))}),FP=t=>({active:"上架",draft:"草稿",archived:"封存"})[t]||"草稿",VP=t=>({visible:"可見",hidden:"隱藏"})[t]||"可見",qw=t=>{if(!t)return"-";if(Array.isArray(t))return t.map(e=>{if(typeof e=="string")return e;if(e&&typeof e=="object"){const s=e.level||e.title||e.name||"",n=e.option||e.value||e.name||"";return s?`${s}: ${n}`:n||"-"}return String(e)}).join(" / ");if(typeof t=="object"){const e=t.items||t.path||t.values;if(Array.isArray(e))return qw(e)}return String(t)},$P=({open:t,onClose:e,product:s})=>{var d,m,u;const[n,a]=f.useState("basic"),[i,l]=f.useState(null),o=f.useMemo(()=>[{key:"basic",label:"基本資訊"},{key:"pricing",label:"定價"},{key:"variants",label:"變體"},{key:"categories",label:"分類"},{key:"media",label:"圖片"},{key:"seo",label:"SEO"}],[]),c=(s==null?void 0:s.image)||((m=(d=s==null?void 0:s.images)==null?void 0:d[0])==null?void 0:m.url)||"/placeholder-image.jpg";return r.jsxs(Zs,{isOpen:t,onClose:e,title:`快速檢視：${(s==null?void 0:s.name)||""}`,size:"max-w-5xl",children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:c,alt:s==null?void 0:s.name,className:"w-16 h-16 rounded-lg object-cover border"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 font-chinese",children:s==null?void 0:s.name}),r.jsxs("div",{className:"text-xs text-gray-600",children:["SKU: ",r.jsx("span",{className:"font-mono",children:s==null?void 0:s.baseSKU})]})]})]})}),r.jsx("div",{className:"border-t",children:r.jsx(xi,{tabs:o,mode:"controlled",activeKey:n,onTabChange:h=>a(h.key||h.label),className:"px-4",layout:"left"})}),r.jsxs("div",{className:"px-6 pb-6",children:[n==="basic"&&r.jsx("div",{children:r.jsxs(Pi,{title:"基本資訊",children:[r.jsx(pt,{label:"產品名稱",children:s==null?void 0:s.name}),r.jsx(pt,{label:"Slug",children:s==null?void 0:s.slug}),r.jsx(pt,{label:"簡短描述",children:s==null?void 0:s.shortDescription}),r.jsx(pt,{label:"描述",children:s==null?void 0:s.description}),r.jsx(pt,{label:"標籤",children:((s==null?void 0:s.tags)||[]).join("、")||"-"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2",children:[r.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"狀態 / 可見性"}),r.jsxs("div",{className:"col-span-2 text-sm text-gray-900",children:[FP(s==null?void 0:s.status)," / ",VP(s==null?void 0:s.visibility)]})]})]})}),n==="pricing"&&r.jsx("div",{children:r.jsxs(Pi,{title:"定價資訊",children:[r.jsx(pt,{label:"銷售價格",children:s!=null&&s.price?`NT$${Number(s.price).toLocaleString()}`:"-"}),r.jsx(pt,{label:"比較價格",children:s!=null&&s.comparePrice?`NT$${Number(s.comparePrice).toLocaleString()}`:"-"}),r.jsx(pt,{label:"成本價格",children:s!=null&&s.costPrice?`NT$${Number(s.costPrice).toLocaleString()}`:"-"}),r.jsx(pt,{label:"利潤",children:s!=null&&s.profit?`NT$${Number(s.profit).toLocaleString()}`:"-"}),r.jsx(pt,{label:"利潤率",children:s!=null&&s.profitMargin?`${s.profitMargin}%`:"-"})]})}),n==="variants"&&r.jsx("div",{children:r.jsxs(Pi,{title:"SKU 變體",children:[r.jsx(pt,{label:"是否多變體",children:s!=null&&s.hasVariants?"是":"否"}),s!=null&&s.hasVariants?r.jsx("div",{className:"mt-2",children:((s==null?void 0:s.skuVariants)||[]).length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚未設定變體"}):r.jsx("div",{className:"space-y-3",children:((s==null?void 0:s.skuVariants)||[]).map((h,g)=>{var w,k,T,P,E,C,A;const p=((w=h==null?void 0:h.config)==null?void 0:w.variantImages)||[],x=((k=p[0])==null?void 0:k.url)||p[0]||((P=(T=s==null?void 0:s.images)==null?void 0:T[0])==null?void 0:P.url)||(s==null?void 0:s.image),j=h.fullSKU||h.sku||`${s==null?void 0:s.baseSKU}${h.suffix||""}`,v=h.finalPrice??h.price??((E=h==null?void 0:h.config)==null?void 0:E.price)??(s==null?void 0:s.price)??null,y=h.finalComparePrice??h.comparePrice??((C=h==null?void 0:h.config)==null?void 0:C.comparePrice)??(s==null?void 0:s.comparePrice)??null,b=h.finalCostPrice??h.costPrice??((A=h==null?void 0:h.config)==null?void 0:A.costPrice)??(s==null?void 0:s.costPrice)??null,N=h.path??h.variantPath;return r.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("img",{src:x||"/placeholder-image.jpg",alt:j,className:"w-14 h-14 rounded object-cover border"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm font-mono text-[#cc824d] truncate",title:j,children:j}),r.jsx("button",{className:"text-xs px-2 py-1 rounded border text-[#cc824d] border-[#cc824d] hover:bg-[#cc824d] hover:text-white transition-colors",onClick:()=>l(i===g?null:g),children:i===g?"收合 QR":"生成 QR"})]}),N&&r.jsxs("div",{className:"text-xs text-gray-600 mt-1 truncate",children:["路徑：",qw(N)]}),v!=null&&r.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:["價格：NT$",Number(v).toLocaleString()]}),(()=>{var S;const I=h.stock??h.quantity??((S=h==null?void 0:h.config)==null?void 0:S.quantity);return I==null||I===""?null:r.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:["庫存：",I]})})()]})]}),i===g&&r.jsx("div",{className:"mt-3",children:r.jsx(Bg,{product:{name:s==null?void 0:s.name,categories:s==null?void 0:s.categories,images:s==null?void 0:s.images},sku:{sku:j,salePrice:v,comparePrice:y,costPrice:b,variantPath:N,images:p}})})]},g)})})}):r.jsxs("div",{className:"text-sm text-gray-600",children:["單一 SKU：",r.jsx("span",{className:"font-mono",children:s==null?void 0:s.baseSKU})]})]})}),n==="categories"&&r.jsx("div",{children:r.jsx(Pi,{title:"分類",children:r.jsx(pt,{label:"主分類",children:(u=s==null?void 0:s.categories)!=null&&u.length?s.categories.map(h=>(h==null?void 0:h.name)||h).join("、"):(s==null?void 0:s.category)||"未分類"})})}),n==="media"&&r.jsx("div",{children:r.jsx(Pi,{title:"圖片",children:r.jsx(LP,{images:s==null?void 0:s.images})})}),n==="seo"&&r.jsx("div",{children:r.jsxs(Pi,{title:"SEO 與分享",children:[r.jsx(pt,{label:"Meta 標題",children:s==null?void 0:s.metaTitle}),r.jsx(pt,{label:"Meta 描述",children:s==null?void 0:s.metaDescription}),r.jsx(pt,{label:"Open Graph 標題",children:(s==null?void 0:s.openGraphTitle)||(s!=null&&s.useMetaTitleForOG?s==null?void 0:s.metaTitle:"")}),r.jsx(pt,{label:"Open Graph 描述",children:(s==null?void 0:s.openGraphDescription)||(s!=null&&s.useMetaDescriptionForOG?s==null?void 0:s.metaDescription:"")}),r.jsx(pt,{label:"搜尋標題",children:(s==null?void 0:s.searchTitle)||(s!=null&&s.useMetaTitleForSearch?s==null?void 0:s.metaTitle:"")}),r.jsx(pt,{label:"搜尋描述",children:(s==null?void 0:s.searchDescription)||(s!=null&&s.useMetaDescriptionForSearch?s==null?void 0:s.metaDescription:"")}),r.jsx(pt,{label:"排除於站內搜尋",children:s!=null&&s.excludeFromSearch?"是":"否"}),r.jsx(pt,{label:"Sitemap 索引",children:s!=null&&s.sitemapIndexing?"是":"否"}),r.jsx(pt,{label:"自訂 Canonical URL",children:(s==null?void 0:s.customCanonicalUrl)||"-"})]})})]})]})},Ze={ACCESSORIES:"配件",HOME:"家居",FRAGRANCE:"香氛",CLOTHING:"服飾",TEA:"茶品",LIFESTYLE:"生活用品"},Mi={IN_STOCK:"in_stock",OUT_OF_STOCK:"out_of_stock",PRE_ORDER:"pre_order",DISCONTINUED:"discontinued"},Ii={DRAFT:"draft",ACTIVE:"active",ARCHIVED:"archived"},Gc=[{id:1,name:"優雅絲巾",slug:"elegant-scarf",shortDescription:"100% 真絲，手工印染，輕盈絲滑。",price:1280,originalPrice:1680,image:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=800&h=800&fit=crop",category:Ze.ACCESSORIES,categories:[{id:"accessories",name:Ze.ACCESSORIES,slug:"accessories"}],tags:["絲巾","真絲","優雅"],description:"採用100%真絲材質，手工印染的優雅絲巾，為您的造型增添精緻感。",inStock:!0,availabilityStatus:Mi.IN_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!0,rating:4.8,reviews:156,comparePrice:1680,costPrice:750,profit:1280-750,profitMargin:Number(((1280-750)/1280*100).toFixed(2)),baseSKU:"scarf",hasVariants:!0,skuVariants:[{id:"sku-1-a",sku:"scarfbk",name:"黑色",path:[{level:"顏色",option:"黑色"}],pathDisplay:"顏色: 黑色",config:{price:1280,comparePrice:1680,costPrice:750,quantity:20,lowStockThreshold:5,allowBackorder:!1,trackQuantity:!0,weight:"120g",dimensions:{length:"70",width:"70",height:"1"},isActive:!0,barcode:"SCARF-BK-001",hsCode:"6214.90",origin:"TW",note:""}},{id:"sku-1-b",sku:"scarfbn",name:"棕色",path:[{level:"顏色",option:"棕色"}],pathDisplay:"顏色: 棕色",config:{price:1280,comparePrice:1680,costPrice:750,quantity:15,lowStockThreshold:5,allowBackorder:!1,trackQuantity:!0,weight:"120g",dimensions:{length:"70",width:"70",height:"1"},isActive:!0,barcode:"SCARF-BN-001",hsCode:"6214.90",origin:"TW",note:""}}],images:[{id:101,url:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=800&h=800&fit=crop",name:"elegant-scarf-1.jpg",size:25e4,type:"image/jpeg"},{id:102,url:"https://images.unsplash.com/photo-1520975922284-87a6c1dc7f3d?w=800&h=800&fit=crop",name:"elegant-scarf-2.jpg",size:245e3,type:"image/jpeg"}],metaTitle:"優雅絲巾 | 真絲手工印染",metaDescription:"100% 真絲優雅絲巾，手工印染，質感細膩，為造型增添亮點。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"優雅絲巾",openGraphDescription:"手工印染的真絲絲巾，輕盈絲滑。",openGraphImage:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"優雅絲巾",searchDescription:"真絲絲巾，手工印染，時尚百搭。",searchImage:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},{id:2,name:"手工陶瓷花瓶",slug:"handmade-ceramic-vase",shortDescription:"職人手工，簡約質樸，家居點綴之選。",price:2880,originalPrice:3200,image:"https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=800&h=800&fit=crop",category:Ze.HOME,categories:[{id:"home",name:Ze.HOME,slug:"home"}],tags:["陶瓷","手工","花器"],description:"職人手工製作的陶瓷花瓶，結合現代簡約與傳統工藝的完美平衡。",inStock:!0,availabilityStatus:Mi.IN_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!0,rating:4.9,reviews:89,comparePrice:3200,costPrice:1600,profit:2880-1600,profitMargin:Number(((2880-1600)/2880*100).toFixed(2)),baseSKU:"vase",hasVariants:!1,skuVariants:[],images:[{id:201,url:"https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=800&h=800&fit=crop",name:"ceramic-vase-1.jpg",size:23e4,type:"image/jpeg"},{id:202,url:"https://images.unsplash.com/photo-1519710164239-da123dc03ef4?w=800&h=800&fit=crop",name:"ceramic-vase-2.jpg",size:235e3,type:"image/jpeg"}],metaTitle:"手工陶瓷花瓶",metaDescription:"簡約質樸的手工陶瓷花瓶，為家居增添溫度。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"手工陶瓷花瓶",openGraphDescription:"職人手工製作的陶瓷花瓶。",openGraphImage:"https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"手工陶瓷花瓶",searchDescription:"家居點綴，簡約質樸。",searchImage:"https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},{id:3,name:"天然蜂蠟蠟燭",slug:"beeswax-candle",shortDescription:"天然蜂蠟，溫潤香氣，持久燃燒。",price:680,originalPrice:880,image:"https://images.unsplash.com/photo-1602874801006-8e0ac25604e9?w=800&h=800&fit=crop",category:Ze.FRAGRANCE,categories:[{id:"fragrance",name:Ze.FRAGRANCE,slug:"fragrance"}],tags:["蜂蠟","香氛","居家"],description:"純天然蜂蠟製作，淡雅花香，燃燒時間長達40小時。",inStock:!0,availabilityStatus:Mi.IN_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!1,rating:4.7,reviews:234,comparePrice:880,costPrice:380,profit:680-380,profitMargin:Number(((680-380)/680*100).toFixed(2)),baseSKU:"candle",hasVariants:!1,skuVariants:[],images:[{id:301,url:"https://images.unsplash.com/photo-1602874801006-8e0ac25604e9?w=800&h=800&fit=crop",name:"beeswax-candle-1.jpg",size:21e4,type:"image/jpeg"}],metaTitle:"天然蜂蠟蠟燭",metaDescription:"純天然蜂蠟，淡雅香氣，40 小時燃燒。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"天然蜂蠟蠟燭",openGraphDescription:"天然材料，溫潤香氣。",openGraphImage:"https://images.unsplash.com/photo-1602874801006-8e0ac25604e9?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"天然蜂蠟蠟燭",searchDescription:"蜂蠟製作，持久燃燒。",searchImage:"https://images.unsplash.com/photo-1602874801006-8e0ac25604e9?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},{id:4,name:"羊毛混紡毛衣",slug:"wool-blend-sweater",shortDescription:"保暖舒適，秋冬必備。",price:3200,originalPrice:4200,image:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=800&h=800&fit=crop",category:Ze.CLOTHING,categories:[{id:"clothing",name:Ze.CLOTHING,slug:"clothing"}],tags:["毛衣","保暖","秋冬"],description:"精選羊毛混紡材質，柔軟舒適，適合秋冬季節穿著。",inStock:!0,availabilityStatus:Mi.IN_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!0,rating:4.6,reviews:112,comparePrice:4200,costPrice:1900,profit:3200-1900,profitMargin:Number(((3200-1900)/3200*100).toFixed(2)),baseSKU:"sweater",hasVariants:!0,skuVariants:[{id:"sku-4-a",sku:"sweaterbkL",name:"黑色 L",path:[{level:"顏色",option:"黑色"},{level:"尺寸",option:"L"}],pathDisplay:"顏色: 黑色 → 尺寸: L",config:{price:3200,comparePrice:4200,costPrice:1900,quantity:8,lowStockThreshold:3,allowBackorder:!1,trackQuantity:!0,weight:"500g",dimensions:{length:"",width:"",height:""},isActive:!0,barcode:"SWEATER-BK-L-001",hsCode:"6110.30",origin:"TW",note:""}},{id:"sku-4-b",sku:"sweatergyM",name:"灰色 M",path:[{level:"顏色",option:"灰色"},{level:"尺寸",option:"M"}],pathDisplay:"顏色: 灰色 → 尺寸: M",config:{price:3200,comparePrice:4200,costPrice:1900,quantity:10,lowStockThreshold:3,allowBackorder:!1,trackQuantity:!0,weight:"480g",dimensions:{length:"",width:"",height:""},isActive:!0,barcode:"SWEATER-GY-M-001",hsCode:"6110.30",origin:"TW",note:""}}],images:[{id:401,url:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=800&h=800&fit=crop",name:"wool-sweater-1.jpg",size:26e4,type:"image/jpeg"}],metaTitle:"羊毛混紡毛衣",metaDescription:"保暖舒適的羊毛混紡毛衣，適合秋冬穿搭。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"羊毛混紡毛衣",openGraphDescription:"經典百搭，舒適保暖。",openGraphImage:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"羊毛混紡毛衣",searchDescription:"秋冬保暖必備單品。",searchImage:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},{id:5,name:"有機綠茶組合",slug:"organic-green-tea-set",shortDescription:"高山有機綠茶，三種風味一次體驗。",price:1680,originalPrice:2080,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=800&h=800&fit=crop",category:Ze.TEA,categories:[{id:"tea",name:Ze.TEA,slug:"tea"}],tags:["茶","有機","綠茶"],description:"來自高山的有機綠茶，清香回甘，包含三種不同風味。",inStock:!0,availabilityStatus:Mi.IN_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!1,rating:4.8,reviews:78,comparePrice:2080,costPrice:980,profit:1680-980,profitMargin:Number(((1680-980)/1680*100).toFixed(2)),baseSKU:"greentea",hasVariants:!0,skuVariants:[{id:"sku-5-a",sku:"greentealight",name:"清香型",path:[{level:"風味",option:"清香型"}],pathDisplay:"風味: 清香型",config:{price:1680,comparePrice:2080,costPrice:980,quantity:30,lowStockThreshold:5,allowBackorder:!1,trackQuantity:!0,weight:"200g",dimensions:{length:"",width:"",height:""},isActive:!0,barcode:"TEA-LGT-001",hsCode:"0902.10",origin:"TW",note:""}},{id:"sku-5-b",sku:"greenteaheavy",name:"濃香型",path:[{level:"風味",option:"濃香型"}],pathDisplay:"風味: 濃香型",config:{price:1680,comparePrice:2080,costPrice:980,quantity:25,lowStockThreshold:5,allowBackorder:!1,trackQuantity:!0,weight:"200g",dimensions:{length:"",width:"",height:""},isActive:!0,barcode:"TEA-HVY-001",hsCode:"0902.10",origin:"TW",note:""}}],images:[{id:501,url:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=800&h=800&fit=crop",name:"green-tea-1.jpg",size:2e5,type:"image/jpeg"}],metaTitle:"有機綠茶組合",metaDescription:"高山有機綠茶，三款風味一次體驗。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"有機綠茶組合",openGraphDescription:"清香回甘，純淨自然。",openGraphImage:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"有機綠茶組合",searchDescription:"自用送禮兩相宜。",searchImage:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},{id:6,name:"竹纖維浴巾",slug:"bamboo-fiber-towel",shortDescription:"竹纖維材質，柔軟親膚，吸水力強。",price:880,originalPrice:1180,image:"https://images.unsplash.com/photo-1620912330775-011bb5d31d4e?w=800&h=800&fit=crop",category:Ze.LIFESTYLE,categories:[{id:"lifestyle",name:Ze.LIFESTYLE,slug:"lifestyle"}],tags:["浴巾","竹纖維","親膚"],description:"天然竹纖維材質，吸水性佳，抗菌防蟎，親膚舒適。",inStock:!1,availabilityStatus:Mi.OUT_OF_STOCK,status:Ii.ACTIVE,visibility:"visible",featured:!1,rating:4.5,reviews:167,comparePrice:1180,costPrice:500,profit:880-500,profitMargin:Number(((880-500)/880*100).toFixed(2)),baseSKU:"towel",hasVariants:!1,skuVariants:[],images:[{id:601,url:"https://images.unsplash.com/photo-1620912330775-011bb5d31d4e?w=800&h=800&fit=crop",name:"bamboo-towel-1.jpg",size:205e3,type:"image/jpeg"}],metaTitle:"竹纖維浴巾",metaDescription:"柔軟親膚的竹纖維浴巾，吸水性佳。",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"竹纖維浴巾",openGraphDescription:"天然材質，舒適耐用。",openGraphImage:"https://images.unsplash.com/photo-1620912330775-011bb5d31d4e?w=1200&h=630&fit=crop",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"竹纖維浴巾",searchDescription:"超強吸水，親膚舒適。",searchImage:"https://images.unsplash.com/photo-1620912330775-011bb5d31d4e?w=800&h=800&fit=crop",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0}],Ri=t=>Gc.filter(e=>e.category===t).length;Gc.length,Ze.ACCESSORIES,Ri(Ze.ACCESSORIES),Ze.HOME,Ri(Ze.HOME),Ze.FRAGRANCE,Ri(Ze.FRAGRANCE),Ze.CLOTHING,Ri(Ze.CLOTHING),Ze.TEA,Ri(Ze.TEA),Ze.LIFESTYLE,Ri(Ze.LIFESTYLE);const av=t=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(t),UP=()=>{const[t,e]=f.useState(Gc),[s,n]=f.useState(!1),[a,i]=f.useState(null),l=m=>{i(m),n(!0)},o=()=>{n(!1),i(null)},c=m=>m?{text:"有庫存",color:"bg-green-100 text-green-800"}:{text:"缺貨",color:"bg-red-100 text-red-800"},d=[{key:"name",label:"商品",sortable:!0,render:(m,u)=>{var g,p;const h=(u==null?void 0:u.image)||((p=(g=u==null?void 0:u.images)==null?void 0:g[0])==null?void 0:p.url)||"/placeholder-image.jpg";return r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:h,alt:(u==null?void 0:u.name)||"產品圖片",className:"w-12 h-12 object-cover rounded-lg mr-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 font-chinese",children:(u==null?void 0:u.name)||"未知商品"}),r.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["SKU: ",(u==null?void 0:u.baseSKU)||"N/A"]})]})]})}},{key:"category",label:"類別",sortable:!0,render:(m,u)=>{var g,p;const h=(u==null?void 0:u.category)||((p=(g=u==null?void 0:u.categories)==null?void 0:g[0])==null?void 0:p.name)||"未分類";return r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-apricot-100 text-apricot-800 rounded-full font-chinese",children:h})}},{key:"sku",label:"SKU",sortable:!0,render:(m,u)=>r.jsx("span",{className:"font-mono text-sm text-gray-800",children:(u==null?void 0:u.baseSKU)||"-"})},{key:"price",label:"價格",sortable:!0,render:(m,u)=>r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-900 font-bold",children:u!=null&&u.price?av(u.price):"N/A"}),(u==null?void 0:u.originalPrice)&&r.jsx("div",{className:"text-sm text-gray-500 line-through",children:av(u.originalPrice)})]})},{key:"inStock",label:"庫存狀態",sortable:!0,render:(m,u)=>{const h=c(u==null?void 0:u.inStock);return r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${h.color} font-chinese`,children:h.text})}},{key:"slug",label:"Slug",sortable:!0,render:(m,u)=>r.jsx("span",{className:"text-xs text-gray-600",children:(u==null?void 0:u.slug)||"-"})},{key:"status",label:"狀態",sortable:!0,render:(m,u)=>{const h=(u==null?void 0:u.status)||"draft",g={active:{text:"上架",color:"bg-green-100 text-green-800"},draft:{text:"草稿",color:"bg-yellow-100 text-yellow-800"},archived:{text:"封存",color:"bg-gray-100 text-gray-800"}},{text:p,color:x}=g[h]||g.draft;return r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${x}`,children:p})}},{key:"visibility",label:"可見性",sortable:!0,render:(m,u)=>{const h=(u==null?void 0:u.visibility)||"visible",g={visible:{text:"可見",color:"bg-blue-100 text-blue-800"},hidden:{text:"隱藏",color:"bg-gray-100 text-gray-800"}},{text:p,color:x}=g[h]||g.visible;return r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${x}`,children:p})}},{key:"variants",label:"多變體",sortable:!0,render:(m,u)=>r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${u!=null&&u.hasVariants?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:u!=null&&u.hasVariants?"是":"否"})},{key:"rating",label:"評分",sortable:!0,render:(m,u)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm text-gray-900",children:(u==null?void 0:u.rating)||0}),r.jsx("span",{className:"text-yellow-400 ml-1",children:"★"}),r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(u==null?void 0:u.reviews)||0,")"]})]})},{key:"actions",label:"操作",sortable:!1,render:(m,u)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",onClick:()=>l(u),children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx(Q0,{to:`/products/edit/${u==null?void 0:u.baseSKU}`,className:"p-2 text-gray-400 hover:text-green-500 transition-colors",children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:r.jsx(wr,{className:"w-4 h-4"})})]})}];return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainerStandard,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:O.pageTitle,children:"商品管理"}),r.jsx("p",{className:O.pageSubtitle,children:"管理商品資訊、庫存和雜貨"})]}),r.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:r.jsxs(Q0,{to:"/products/add",className:"inline-flex items-center px-6 py-3 bg-[#cc824d] text-white font-medium rounded-lg hover:bg-[#b86c37] transition-all duration-200 shadow-md hover:shadow-lg font-chinese",children:[r.jsx(Sr,{className:"w-5 h-5 mr-2"}),"新增商品"]})})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-sm",children:r.jsx(_i,{title:"商品清單",columns:d,data:t,exportFileName:"products",emptyMessage:"沒有找到符合條件的商品"})}),r.jsx($P,{open:s,onClose:o,product:a})]})})},zg=({images:t=[],onChange:e,maxImages:s=10})=>{const[n,a]=f.useState(!1),i=f.useRef(null),l=u=>{const g=Array.from(u).filter(v=>v.type.startsWith("image/")?v.size>10*1024*1024?(alert(`${v.name} 文件過大，請選擇小於 10MB 的圖片`),!1):!0:(alert(`${v.name} 不是有效的圖片文件`),!1)),p=Math.max(0,s-t.length);if(p===0){alert(`最多只能上傳 ${s} 張圖片`);return}const x=g.slice(0,p);g.length>p&&alert(`已達上限，只加入前 ${p} 張圖片`);const j=x.map(v=>new Promise(y=>{const b=new FileReader;b.onload=N=>{y({id:Date.now()+Math.random(),file:v,url:N.target.result,name:v.name,size:v.size,type:v.type})},b.readAsDataURL(v)}));Promise.all(j).then(v=>{e([...t,...v])})},o=u=>{u.preventDefault(),u.stopPropagation(),u.type==="dragenter"||u.type==="dragover"?a(!0):u.type==="dragleave"&&a(!1)},c=u=>{u.preventDefault(),u.stopPropagation(),a(!1),u.dataTransfer.files&&u.dataTransfer.files[0]&&l(u.dataTransfer.files)},d=u=>{u.target.files&&u.target.files[0]&&l(u.target.files)},m=u=>{e(t.filter(h=>h.id!==u))};return r.jsxs("div",{className:"space-y-4",children:[t.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:t.map((u,h)=>r.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden aspect-square",children:[r.jsx("img",{src:u.url,alt:u.name,className:"w-full h-full object-cover"}),h===0&&r.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"主圖"}),r.jsx("button",{type:"button",onClick:()=>m(u.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(_r,{className:"w-4 h-4"})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("div",{className:"truncate",children:u.name}),r.jsxs("div",{children:[(u.size/1024/1024).toFixed(2)," MB"]})]})]},u.id))}),t.length<s&&r.jsxs("div",{className:`
            border-2 border-dashed rounded-lg p-8 text-center transition-colors
            ${n?"border-[#cc824d] bg-[#cc824d]/5":"border-gray-300 hover:border-gray-400"}
          `,onDragEnter:o,onDragLeave:o,onDragOver:o,onDrop:c,children:[r.jsx(Cc,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"拖拽圖片到此處或點擊上傳"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"支援 PNG, JPG, GIF 格式，最大 10MB"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["還可以上傳 ",s-t.length," 張圖片"]}),r.jsxs("button",{type:"button",onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(Rk,{className:"w-4 h-4 mr-2"}),"選擇圖片"]}),r.jsx("input",{ref:i,type:"file",multiple:!0,accept:"image/*",onChange:d,className:"hidden"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:r.jsxs("ul",{className:"space-y-1",children:[r.jsx("li",{children:"• 第一張圖片將作為主圖顯示"}),r.jsx("li",{children:"• 可以拖拽圖片調整順序"}),r.jsx("li",{children:"• 建議圖片比例為 1:1 (正方形)"}),r.jsx("li",{children:"• 最佳解析度：800x800 像素以上"})]})})]})},me={ACTIVE:"active",INACTIVE:"inactive",HIDDEN:"hidden"},jl=[{id:"electronics",name:"電子產品",slug:"electronics",level:1,status:me.ACTIVE,children:[{id:"computers",name:"電腦及周邊",slug:"computers",level:2,status:me.ACTIVE,children:[{id:"laptops",name:"筆記型電腦",slug:"laptops",level:3,status:me.ACTIVE,children:[{id:"gaming-laptops",name:"電競筆電",slug:"gaming-laptops",level:4,status:me.ACTIVE,children:[{id:"high-end-gaming",name:"高階電競",slug:"high-end-gaming",level:5,status:me.ACTIVE},{id:"mid-range-gaming",name:"中階電競",slug:"mid-range-gaming",level:5,status:me.ACTIVE}]},{id:"business-laptops",name:"商務筆電",slug:"business-laptops",level:4,status:me.ACTIVE,children:[{id:"ultrabooks",name:"輕薄筆電",slug:"ultrabooks",level:5,status:me.ACTIVE},{id:"workstations",name:"工作站",slug:"workstations",level:5,status:me.ACTIVE}]}]},{id:"desktops",name:"桌上型電腦",slug:"desktops",level:3,status:me.ACTIVE,children:[{id:"gaming-desktops",name:"電競桌機",slug:"gaming-desktops",level:4,status:me.ACTIVE},{id:"office-desktops",name:"辦公桌機",slug:"office-desktops",level:4,status:me.ACTIVE}]},{id:"accessories",name:"電腦配件",slug:"accessories",level:3,status:me.ACTIVE,children:[{id:"keyboards",name:"鍵盤",slug:"keyboards",level:4,status:me.ACTIVE},{id:"mice",name:"滑鼠",slug:"mice",level:4,status:me.ACTIVE}]}]},{id:"smartphones",name:"智慧型手機",slug:"smartphones",level:2,status:me.ACTIVE,children:[{id:"android",name:"Android 手機",slug:"android",level:3,status:me.ACTIVE,children:[{id:"samsung",name:"Samsung",slug:"samsung",level:4,status:me.ACTIVE},{id:"huawei",name:"Huawei",slug:"huawei",level:4,status:me.ACTIVE}]},{id:"iphone",name:"iPhone",slug:"iphone",level:3,status:me.ACTIVE,children:[{id:"iphone-15",name:"iPhone 15 系列",slug:"iphone-15",level:4,status:me.ACTIVE},{id:"iphone-14",name:"iPhone 14 系列",slug:"iphone-14",level:4,status:me.ACTIVE}]}]}]},{id:"clothing",name:"服裝配件",slug:"clothing",level:1,status:me.ACTIVE,children:[{id:"mens-clothing",name:"男裝",slug:"mens-clothing",level:2,status:me.ACTIVE,children:[{id:"mens-tops",name:"上衣",slug:"mens-tops",level:3,status:me.ACTIVE,children:[{id:"mens-shirts",name:"襯衫",slug:"mens-shirts",level:4,status:me.ACTIVE,children:[{id:"dress-shirts",name:"正式襯衫",slug:"dress-shirts",level:5,status:me.ACTIVE},{id:"casual-shirts",name:"休閒襯衫",slug:"casual-shirts",level:5,status:me.ACTIVE}]},{id:"mens-tshirts",name:"T恤",slug:"mens-tshirts",level:4,status:me.ACTIVE}]},{id:"mens-bottoms",name:"下裝",slug:"mens-bottoms",level:3,status:me.ACTIVE,children:[{id:"mens-pants",name:"長褲",slug:"mens-pants",level:4,status:me.ACTIVE},{id:"mens-shorts",name:"短褲",slug:"mens-shorts",level:4,status:me.ACTIVE}]}]},{id:"womens-clothing",name:"女裝",slug:"womens-clothing",level:2,status:me.ACTIVE,children:[{id:"womens-tops",name:"上衣",slug:"womens-tops",level:3,status:me.ACTIVE,children:[{id:"womens-blouses",name:"襯衫",slug:"womens-blouses",level:4,status:me.ACTIVE},{id:"womens-tshirts",name:"T恤",slug:"womens-tshirts",level:4,status:me.ACTIVE}]},{id:"womens-dresses",name:"洋裝",slug:"womens-dresses",level:3,status:me.ACTIVE,children:[{id:"casual-dresses",name:"休閒洋裝",slug:"casual-dresses",level:4,status:me.ACTIVE},{id:"formal-dresses",name:"正式洋裝",slug:"formal-dresses",level:4,status:me.ACTIVE}]}]}]},{id:"home-garden",name:"居家園藝",slug:"home-garden",level:1,status:me.ACTIVE,children:[{id:"furniture",name:"家具",slug:"furniture",level:2,status:me.ACTIVE,children:[{id:"living-room",name:"客廳家具",slug:"living-room",level:3,status:me.ACTIVE,children:[{id:"sofas",name:"沙發",slug:"sofas",level:4,status:me.ACTIVE},{id:"coffee-tables",name:"茶几",slug:"coffee-tables",level:4,status:me.ACTIVE}]}]}]}],BP=(t,e)=>{const s=(n,a,i=[])=>{for(const l of n){const o=[...i,l];if(l.id===a)return o;if(l.children){const c=s(l.children,a,o);if(c)return c}}return null};return s(t,e)},zP=(t,e)=>{const s=BP(t,e);return s?s.map(n=>n.name).join(" > "):""},WP=(t,e)=>{if(!e)return t;const s=n=>n.filter(a=>{const i=a.name.toLowerCase().includes(e.toLowerCase()),l=a.children?s(a.children).length>0:!1;return i||l?{...a,children:a.children?s(a.children):[]}:!1}).filter(Boolean);return s(t)},GP=(t,e)=>{const s=(i,l)=>{for(const o of i){if(o.id===l)return o;if(o.children){const c=s(o.children,l);if(c)return c}}return null},n=s(t,e);if(!n||!n.children)return[];const a=i=>{const l=[];return i.forEach(o=>{l.push(o.id),o.children&&l.push(...a(o.children))}),l};return a(n.children)},sm={collectAllIds:t=>{const e=[],s=n=>{n.forEach(a=>{e.push(a.id),a.children&&s(a.children)})};return s(t),e},hasSelectedChildren:(t,e)=>t.children?t.children.some(s=>e.includes(s.id)||sm.hasSelectedChildren(s,e)):!1,allChildrenSelected:(t,e)=>t.children?t.children.every(s=>e.includes(s.id)):!1},Zw=({category:t,selectedCategories:e,onToggle:s,expandedItems:n,onExpandToggle:a,level:i=1})=>{const l=t.children&&t.children.length>0,o=n.includes(t.id),c=e.includes(t.id),d=sm.hasSelectedChildren(t,e),m=sm.allChildrenSelected(t,e),u=()=>c?"checked":d&&!m?"indeterminate":"unchecked",h=v=>{v.stopPropagation(),s(t.id)},g=v=>{v.stopPropagation(),l&&a(t.id)},p=()=>{switch(i){case 1:return"pl-0";case 2:return"pl-6";case 3:return"pl-12";case 4:return"pl-18";case 5:return"pl-24";default:return"pl-0"}},x=()=>{switch(i){case 1:return"font-semibold text-gray-900 text-base";case 2:return"font-medium text-gray-800 text-sm";case 3:return"font-medium text-gray-700 text-sm";case 4:return"text-gray-600 text-sm";case 5:return"text-gray-500 text-xs";default:return"text-gray-600 text-sm"}},j=u();return r.jsxs("div",{className:"select-none",children:[r.jsxs("div",{className:`flex items-center py-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors ${p()}`,onClick:()=>l&&a(t.id),children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 mr-2",children:l?r.jsx("button",{onClick:g,className:"p-1 hover:bg-gray-200 rounded",children:o?r.jsx(Lc,{className:"w-4 h-4 text-gray-500"}):r.jsx(Fc,{className:"w-4 h-4 text-gray-500"})}):r.jsx("div",{className:"w-4 h-4"})}),r.jsxs("div",{className:"relative mr-3",children:[r.jsx("input",{type:"checkbox",checked:j==="checked",onChange:h,className:"sr-only"}),r.jsxs("div",{onClick:h,className:`w-4 h-4 border-2 rounded flex items-center justify-center cursor-pointer transition-colors ${j==="checked"?"bg-[#cc824d] border-[#cc824d] text-white":j==="indeterminate"?"bg-[#cc824d]/20 border-[#cc824d] text-[#cc824d]":"border-gray-300 hover:border-[#cc824d]"}`,children:[j==="checked"&&r.jsx(fg,{className:"w-3 h-3"}),j==="indeterminate"&&r.jsx(OT,{className:"w-3 h-3"})]})]}),r.jsx("span",{className:`flex-1 ${x()}`,children:t.name}),r.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["L",i]})]}),l&&o&&r.jsx("div",{className:"ml-2",children:t.children.map(v=>r.jsx(Zw,{category:v,selectedCategories:e,onToggle:s,expandedItems:n,onExpandToggle:a,level:i+1},v.id))})]})},Qw=({selectedCategories:t=[],onChange:e})=>{const[s,n]=f.useState(["electronics","clothing"]),[a,i]=f.useState(""),l=p=>{const x=t.includes(p)?t.filter(j=>j!==p):[...t,p];e(x)},o=p=>{n(x=>x.includes(p)?x.filter(j=>j!==p):[...x,p])},c=()=>{const p=sm.collectAllIds(jl);n(p)},d=()=>{n([])},m=()=>{e([])},u=WP(jl,a),g=(()=>{const p=[],x=j=>{j.forEach(v=>{t.includes(v.id)&&p.push(v.name),v.children&&x(v.children)})};return x(jl),p})();return r.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"分類選擇器"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:c,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"展開全部"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{onClick:d,className:"text-xs text-[#cc824d] hover:text-[#b86c37] font-medium",children:"收合全部"}),r.jsx("span",{className:"text-gray-300",children:"|"}),r.jsx("button",{onClick:m,className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"清除選擇"})]})]}),r.jsx("input",{type:"text",placeholder:"搜尋分類...",value:a,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"}),g.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["已選擇 ",g.length," 個分類："]}),r.jsx("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:g.map(p=>r.jsx("span",{className:"inline-block px-2 py-1 bg-[#cc824d] text-white text-xs rounded-full",children:p},p))})]})]}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:u.length>0?r.jsx("div",{className:"space-y-1",children:u.map(p=>r.jsx(Zw,{category:p,selectedCategories:t,onToggle:l,expandedItems:s,onExpandToggle:o,level:1},p.id))}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:a?"找不到符合的分類":"沒有可用的分類"})}),r.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50 text-xs text-gray-600",children:["已選擇 ",t.length," 個分類"]})]})},Xw=({baseSKU:t,skuVariants:e,onChange:s,basePrice:n=0,baseComparePrice:a=0,baseCostPrice:i=0,productName:l="",productCategories:o=[]})=>{const[c,d]=f.useState([]),[m,u]=f.useState(new Set),[h,g]=f.useState(null),[p,x]=f.useState(!1),[j,v]=f.useState({}),[y,b]=f.useState(!1);f.useEffect(()=>{e&&e.length>0&&c.length===0&&!y?(N(e),b(!0)):!y&&(!e||e.length===0)&&b(!0)},[e,t]);const N=B=>{if(!B||B.length===0)return;const G=[],K={};B.forEach(H=>{if(H.path&&H.path.length>0){let q=G;H.path.forEach((ne,ie)=>{const ue=ie+1;K[ue]=ne.level;let J=q.find(oe=>oe.name===ne.option&&oe.level===ue);J||(J={id:P(),name:ne.option,skuCode:"",fullSKU:t||"",level:ue,children:[],config:w()},q.push(J)),ie===H.path.length-1&&H.config&&(J.config={...w(),...H.config}),q=J.children})}}),d(G),v(K)},w=()=>({price:"",comparePrice:"",costPrice:"",quantity:"",lowStockThreshold:5,allowBackorder:!1,trackQuantity:!0,weight:"",dimensions:{length:"",width:"",height:""},isActive:!0,barcode:"",hsCode:"",origin:"",note:"",variantImages:[]}),k=(B,G)=>{v(K=>({...K,[B]:G}))},T=B=>j[B]||`第 ${B} 層`,P=()=>Date.now()+Math.random(),E=(B,G="")=>({id:P(),name:"",skuCode:"",fullSKU:G,level:B,children:[],config:w(),isEditing:!0}),C=()=>{const B=E(1,t||"");d(G=>{const K=[...G,B];return setTimeout(()=>{const H=Z(K);s&&s(H)},50),K})},A=(B,G,K,H=B)=>B.map(q=>{if(q.id===G){const ne={...q,...K};if("skuCode"in K||"name"in K){const ue=I(H,G).slice(0,-1),J=S(ue);ne.fullSKU=J+(K.skuCode||ne.skuCode||""),ne.children=_(ne.children,ne.fullSKU)}return ne}return{...q,children:A(q.children,G,K,H)}}),I=(B,G)=>{const K=(H,q,ne=[])=>{for(const ie of H){const ue=[...ne,ie];if(ie.id===q)return ue;if(ie.children){const J=K(ie.children,q,ue);if(J)return J}}return null};return K(B,G)||[]},S=(B,G=null)=>{let K=t||"";for(let H=0;H<B.length;H++){const q=B[H],ne=H===B.length-1&&G!==null?G:q.skuCode||"";K+=ne}return K},_=(B,G)=>!Array.isArray(B)||B.length===0?[]:B.map(K=>{const H=G+(K.skuCode||"");return{...K,fullSKU:H,children:_(K.children,H)}}),L=(B,G,K)=>{d(H=>{let q;if(G.includes(".")){const[ne,ie]=G.split(".");if(ne==="config"){const ue=oe=>{for(const re of oe){if(re.id===B)return re;const ee=ue(re.children);if(ee)return ee}return null},J=ue(H);q=A(H,B,{config:{...J==null?void 0:J.config,[ie]:K}})}else q=H}else q=A(H,B,{[G]:K});return setTimeout(()=>{const ne=Z(q);if(s&&s(ne),h&&h.id===B){const ie=J=>{for(const oe of J){if(oe.id===B)return oe;const re=ie(oe.children||[]);if(re)return re}return null},ue=ie(q);if(ue){const J=(re,ee,Re=[])=>{for(const De of re){const V=T(De.level),U=[...Re,{level:V,option:De.name||"未命名"}];if(De.id===ee)return U;const te=J(De.children||[],ee,U);if(te)return te}return null},oe=J(q,B)||[];g({...ue,pathInfo:oe})}}},50),q})},R=B=>{d(G=>{const K=ue=>{for(const J of ue){if(J.id===B)return J;const oe=K(J.children);if(oe)return oe}return null},H=K(G);if(!H)return G;const q=I(G,B),ne=S(q),ie=A(G,B,{children:[...H.children||[],E(H.level+1,ne)]});return setTimeout(()=>{const ue=Z(ie);s&&s(ue)},100),ie})},F=B=>{d(G=>{const K=oe=>{for(const re of oe){if(re.id===B)return re;const ee=K(re.children);if(ee)return ee}return null},H=K(G);if(!H)return G;const q=(oe,re)=>{for(const ee of oe){if(ee.children.some(De=>De.id===re))return ee.fullSKU;const Re=q(ee.children,re);if(Re!=null)return Re}return null},ne=q(G,B)??(t||""),ie=E(H.level,ne),ue=oe=>{const re=oe.findIndex(ee=>ee.id===B);if(re!==-1){const ee=[...oe];return ee.splice(re+1,0,ie),ee}return oe.map(ee=>({...ee,children:ue(ee.children)}))},J=ue(G);return setTimeout(()=>{const oe=Z(J);s&&s(oe)},100),J})},M=B=>{d(G=>{const K=q=>q.filter(ne=>ne.id!==B).map(ne=>({...ne,children:K(ne.children)})),H=K(G);return setTimeout(()=>{const q=Z(H);s&&s(q)},100),H})},$=B=>{u(G=>{const K=new Set(G);return K.has(B)?K.delete(B):K.add(B),K})},D=B=>{const G=z(B.id);g({...B,pathInfo:G}),x(!0)},z=B=>{const G=[],K=(H,q,ne=[])=>{for(const ie of H){const ue=T(ie.level),J=[...ne,{level:ue,option:ie.name||"未命名"}];if(ie.id===q)return G.push(...J),!0;if(K(ie.children,q,J))return!0}return!1};return K(c,B),G},Z=(B=null)=>{const G=B||c,K=[],H=J=>{const oe=parseFloat(J);return Number.isFinite(oe)?oe:0},q=H(n),ne=H(a),ie=H(i),ue=(J,oe=t||"",re=[])=>{J.forEach(ee=>{const Re=oe+(ee.skuCode||""),De=[...re,{level:j[ee.level]||`層級${ee.level}`,option:ee.name||"未命名選項"}];if(!ee.children||ee.children.length===0){if(ee.skuCode&&ee.skuCode.trim()){const V=ee.config||w(),U=H(V.price),te=H(V.comparePrice),Se=H(V.costPrice);K.push({id:`sku-${ee.id}`,sku:Re,name:ee.name||"未命名選項",path:De,pathDisplay:De.map(le=>`${le.level}: ${le.option}`).join(" → "),config:V,price:V.price,comparePrice:V.comparePrice,costPrice:V.costPrice,quantity:V.quantity,trackQuantity:V.trackQuantity,isActive:V.isActive,finalPrice:q+U,finalComparePrice:ne+te,finalCostPrice:ie+Se})}}else ue(ee.children,Re,De)})};return ue(G),K};return f.useEffect(()=>{if(c.length>0&&y){const B=Z();s&&B.length>0&&s(B)}},[c,t,y,n,a,i]),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg transition-all duration-300 ${p?"w-2/3":"w-full"}`,children:[r.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"SKU 結構樹"}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{onClick:C,className:`${O.btnPrimary} text-sm inline-flex items-center whitespace-nowrap`,children:[r.jsx(Sr,{className:"w-4 h-4 mr-1"}),"添加根層級"]})})]})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:c.length>0?r.jsx("div",{className:"space-y-2",children:c.map((B,G)=>r.jsx(Jw,{node:B,expandedItems:m,onToggleExpand:$,onUpdateNode:L,onDeleteNode:M,onAddChild:R,onAddSibling:F,onSelectForConfig:D,isFirstInLevel:G===0,levelTitle:T(B.level),onUpdateLevelTitle:k,getLevelTitle:T},B.id))}):r.jsxs("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx(ma,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"還沒有建立 SKU 結構"}),r.jsx("p",{className:"text-sm",children:"點擊「添加根層級」開始建立 SKU 樹狀結構"})]})})]}),p&&h&&r.jsxs("div",{className:"w-1/3 bg-white border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"SKU 詳細設定"}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(_r,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.fullSKU})]}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:r.jsx(HP,{sku:h,onUpdate:(B,G)=>L(h.id,B,G),baseSKU:t,getLevelTitle:T,basePrice:n,baseComparePrice:a,baseCostPrice:i,productName:l,productCategories:o})})]})]})})},Jw=({node:t,expandedItems:e,onToggleExpand:s,onUpdateNode:n,onDeleteNode:a,onAddChild:i,onAddSibling:l,onSelectForConfig:o,isFirstInLevel:c=!1,levelTitle:d="",onUpdateLevelTitle:m,getLevelTitle:u})=>{const[h,g]=f.useState(t.isEditing||!1),[p,x]=f.useState(!1),[j,v]=f.useState(""),[y,b]=f.useState(""),[N,w]=f.useState(""),k=t.children&&t.children.length>0,T=e.has(t.id),P=t.level<5,E=!k&&t.skuCode,C=()=>{v(t.name||""),b(t.skuCode||""),g(!0)},A=()=>{j!==t.name&&n(t.id,"name",j),y!==t.skuCode&&n(t.id,"skuCode",y),n(t.id,"isEditing",!1),g(!1)},I=()=>{g(!1)},S=()=>{w(d),x(!0)},_=()=>{m(t.level,N),x(!1)},L=()=>{x(!1)},R=()=>({1:"pl-0",2:"pl-6",3:"pl-12",4:"pl-18",5:"pl-24"})[t.level]||"pl-0",F=()=>({1:"bg-blue-100 text-blue-800",2:"bg-green-100 text-green-800",3:"bg-purple-100 text-purple-800",4:"bg-orange-100 text-orange-800",5:"bg-red-100 text-red-800"})[t.level]||"bg-gray-100 text-gray-800";return r.jsxs("div",{className:"select-none",children:[c&&r.jsx("div",{className:`mb-2 ${R()}`,children:p?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:N,onChange:M=>w(M.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm font-medium",placeholder:`第 ${t.level} 層標題`,autoFocus:!0}),r.jsx("button",{onClick:_,className:"text-green-600 hover:text-green-700 p-1",children:r.jsx(Vt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:L,className:"text-red-600 hover:text-red-700 p-1",children:r.jsx(_r,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"flex items-center justify-between py-1 px-2 bg-gray-100 rounded cursor-pointer hover:bg-gray-200",onClick:S,children:[r.jsx("h6",{className:"text-sm font-medium text-gray-700",children:d||`第 ${t.level} 層`}),r.jsx($r,{className:"w-3 h-3 text-gray-400"})]})}),r.jsxs("div",{className:`flex items-center py-2 hover:bg-gray-50 rounded-lg transition-colors ${R()}`,children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 mr-2",children:k?r.jsx("button",{onClick:()=>s(t.id),className:"p-1 hover:bg-gray-200 rounded",children:T?r.jsx(Lc,{className:"w-4 h-4 text-gray-500"}):r.jsx(Fc,{className:"w-4 h-4 text-gray-500"})}):r.jsx("div",{className:"w-4 h-4"})}),r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium mr-3 ${F()}`,children:["L",t.level]}),r.jsx("div",{className:"flex-1 flex items-center space-x-3",children:h?r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx("input",{type:"text",value:j,onChange:M=>v(M.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm flex-1",placeholder:"選項名稱 (例如：黑色、大號)",autoFocus:!0}),r.jsx("input",{type:"text",value:y,onChange:M=>b(M.target.value.toLowerCase().replace(/[^a-z0-9]/g,"")),className:"px-2 py-1 border border-gray-300 rounded text-sm w-20",placeholder:"sku",maxLength:3}),r.jsx("button",{onClick:A,className:"text-green-600 hover:text-green-700 p-1",children:r.jsx(Vt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:I,className:"text-red-600 hover:text-red-700 p-1",children:r.jsx(_r,{className:"w-4 h-4"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[t.name||"未命名選項",t.skuCode&&r.jsxs("span",{className:"ml-2 text-sm font-mono text-gray-600",children:["[",t.skuCode,"]"]})]}),t.fullSKU&&t.skuCode&&r.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["完整 SKU: ",t.fullSKU]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:C,className:"text-gray-400 hover:text-blue-600 p-1 rounded",title:"編輯選項",children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>l(t.id),className:"text-gray-400 hover:text-orange-600 p-1 rounded",title:"添加同層級選項",children:r.jsx(Sr,{className:"w-4 h-4"})}),P&&r.jsx("button",{onClick:()=>i(t.id),className:"text-gray-400 hover:text-green-600 p-1 rounded",title:"添加下一層級",children:r.jsx(Tk,{className:"w-4 h-4"})}),E&&r.jsx("button",{onClick:()=>o(t),className:"text-gray-400 hover:text-[#cc824d] p-1 rounded",title:"設定 SKU 詳細資訊",children:r.jsx(pg,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>a(t.id),className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"刪除",children:r.jsx(wr,{className:"w-4 h-4"})})]})]})})]}),k&&T&&r.jsx("div",{className:"ml-2",children:t.children.map((M,$)=>r.jsx(Jw,{node:M,expandedItems:e,onToggleExpand:s,onUpdateNode:n,onDeleteNode:a,onAddChild:i,onAddSibling:l,onSelectForConfig:o,isFirstInLevel:$===0,levelTitle:u?u(M.level):`第 ${M.level} 層`,onUpdateLevelTitle:m,getLevelTitle:u},M.id))})]})},HP=({sku:t,onUpdate:e,baseSKU:s,getLevelTitle:n,basePrice:a=0,baseComparePrice:i=0,baseCostPrice:l=0,productName:o="",productCategories:c=[]})=>{const d=t.config.trackQuantity?(parseInt(t.config.quantity)||0)<=(parseInt(t.config.lowStockThreshold)||0)?"low":"normal":"unlimited",m=t.pathInfo||[],u=x=>{const j=parseFloat(x);return Number.isFinite(j)?j:0},h=u(a)+u(t.config.price),g=u(i)+u(t.config.comparePrice),p=u(l)+u(t.config.costPrice);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h6",{className:"text-sm font-medium text-blue-900 mb-3",children:"SKU 組成資訊"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"基礎 SKU: "}),r.jsx("span",{className:"font-mono text-blue-800 bg-white px-2 py-1 rounded",children:s||"N/A"})]}),m.length>0&&r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"層級路徑: "}),r.jsx("div",{className:"mt-1 space-y-1",children:m.map((x,j)=>r.jsxs("div",{className:"flex items-center",children:[r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded mr-2",children:["L",j+1]}),r.jsxs("span",{className:"text-sm text-gray-800",children:[x.level,":"]}),r.jsx("span",{className:"font-medium text-gray-900 ml-1",children:x.option})]},j))})]}),r.jsxs("div",{className:"text-sm pt-2 border-t border-blue-200",children:[r.jsx("span",{className:"text-gray-600",children:"最終 SKU: "}),r.jsx("span",{className:"font-mono text-lg font-bold text-blue-800 bg-white px-2 py-1 rounded",children:t.fullSKU||"N/A"})]})]})]}),r.jsxs("div",{children:[r.jsx("h6",{className:"text-sm font-medium text-gray-900 mb-3",children:"基本設定"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.config.isActive,onChange:x=>e("config.isActive",x.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"啟用此變體"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"條碼"}),r.jsx("input",{type:"text",value:t.config.barcode,onChange:x=>e("config.barcode",x.target.value),className:`${O.input} text-sm`,placeholder:"條碼"}),r.jsx("div",{className:"mt-3",children:r.jsx(Bg,{product:{name:o,categories:c},sku:{sku:t.fullSKU,salePrice:h,comparePrice:g,costPrice:p,variantPath:m.map((x,j)=>({level:x.level,option:x.option})),images:Array.isArray(t.config.variantImages)?t.config.variantImages:[]}})})]})]})]}),r.jsxs("div",{children:[r.jsx("h6",{className:"text-sm font-medium text-gray-900 mb-3",children:"價格設定"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'提示：此處輸入的是"差額"，會與定價設定中的基礎價格相加（可為負數）。'}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"售價 *"}),r.jsx("input",{type:"number",value:t.config.price,onChange:x=>e("config.price",x.target.value),className:`${O.input} text-sm`,placeholder:"0",step:"0.01"}),r.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["最終售價：NT$",Number(h).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"原價"}),r.jsx("input",{type:"number",value:t.config.comparePrice,onChange:x=>e("config.comparePrice",x.target.value),className:`${O.input} text-sm`,placeholder:"0",step:"0.01"}),r.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["最終原價：NT$",Number(g).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"成本價"}),r.jsx("input",{type:"number",value:t.config.costPrice,onChange:x=>e("config.costPrice",x.target.value),className:`${O.input} text-sm`,placeholder:"0",step:"0.01"}),r.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["最終成本：NT$",Number(p).toLocaleString()]})]})]})]}),r.jsxs("div",{children:[r.jsx("h6",{className:"text-sm font-medium text-gray-900 mb-3",children:"變體圖片"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"此處設定「此變體」專屬圖片。若未設定，將回退使用商品圖片或無圖。"}),r.jsx(zg,{images:Array.isArray(t.config.variantImages)?t.config.variantImages:[],onChange:x=>e("config.variantImages",x),maxImages:3})]}),r.jsxs("div",{children:[r.jsx("h6",{className:"text-sm font-medium text-gray-900 mb-3",children:"庫存管理"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.config.trackQuantity,onChange:x=>e("config.trackQuantity",x.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"追蹤庫存"})]}),t.config.trackQuantity&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"庫存數量 *"}),r.jsx("input",{type:"number",value:t.config.quantity,onChange:x=>e("config.quantity",x.target.value),className:`${O.input} text-sm`,placeholder:"0",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"低庫存警告"}),r.jsx("input",{type:"number",value:t.config.lowStockThreshold,onChange:x=>e("config.lowStockThreshold",x.target.value),className:`${O.input} text-sm`,placeholder:"5",min:"0"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.config.allowBackorder,onChange:x=>e("config.allowBackorder",x.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"允許缺貨預訂"})]}),r.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${d==="low"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[d==="low"?r.jsx(vt,{className:"w-3 h-3 mr-1"}):r.jsx(Vt,{className:"w-3 h-3 mr-1"}),d==="low"?"庫存不足":"庫存充足"]})]})]})]})]})},e5=({productData:t,onChange:e,errors:s={},categories:n=[]})=>{const[a,i]=f.useState(""),[l,o]=f.useState(!1),[c,d]=f.useState(!1);f.useEffect(()=>{const p=n.length>0?n[0].slug||"category":"products",x=t.slug||"product-slug";i(`${window.location.origin}/${p}/${x}`)},[t.slug,n]);const m=async(p,x,j)=>{if(p){if(!p.type.startsWith("image/")){alert("請選擇圖片檔案");return}if(p.size>5*1024*1024){alert("圖片檔案不能超過 5MB");return}j(!0);try{const v=URL.createObjectURL(p);await new Promise(y=>setTimeout(y,1e3)),e(x,v)}catch(v){console.error("圖片上傳失敗:",v),alert("圖片上傳失敗，請稍後再試")}finally{j(!1)}}},u=p=>{e(p,"")},h=()=>{if(t.name){const p=`${t.name} - Marelle`;e("metaTitle",p)}},g=()=>{if(t.description){const p=t.description.replace(/\n/g," ").substring(0,150)+(t.description.length>150?"...":"");e("metaDescription",p)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"搜尋結果預覽"}),r.jsxs("div",{className:"bg-white border rounded-lg p-4 max-w-lg",children:[r.jsx("div",{className:"text-blue-600 text-lg font-medium leading-tight hover:underline cursor-pointer",children:t.metaTitle||t.name||"Spring - Ecommerce website template"}),r.jsx("div",{className:"text-green-700 text-sm mt-1",children:a}),r.jsx("div",{className:"text-gray-600 text-sm mt-2 leading-relaxed",children:t.metaDescription||t.shortDescription||"Discover Beautifully designed Template for retail store with a distinct design and subtle animations. You will be able to set up your new store website in no ..."})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"此預覽使用 Google 搜尋結果頁面的典型字符限制。搜尋引擎會實驗性調整其字符限制，可能決定顯示不同內容。"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"標題標籤 (Title Tag)"}),r.jsx("button",{type:"button",onClick:h,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!t.name,children:"自動生成"})]}),r.jsx("input",{type:"text",value:t.metaTitle||"",onChange:p=>e("metaTitle",p.target.value),className:`${O.input} ${s.metaTitle?"border-red-500":""}`,placeholder:"搜尋引擎顯示的標題",maxLength:"60"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"建議長度：50-60 字符"}),r.jsxs("span",{children:[(t.metaTitle||"").length,"/60"]})]}),s.metaTitle&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.metaTitle})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"元描述 (Meta Description)"}),r.jsx("button",{type:"button",onClick:g,className:"text-xs text-blue-600 hover:text-blue-800",disabled:!t.description,children:"自動生成"})]}),r.jsx("textarea",{value:t.metaDescription||"",onChange:p=>e("metaDescription",p.target.value),rows:3,className:`${O.input} ${s.metaDescription?"border-red-500":""}`,placeholder:"搜尋引擎顯示的描述",maxLength:"160"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"建議長度：150-160 字符"}),r.jsxs("span",{children:[(t.metaDescription||"").length,"/160"]})]}),s.metaDescription&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.metaDescription})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"網站地圖索引 (Sitemap Indexing)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{type:"radio",id:"sitemap-on",name:"sitemapIndexing",checked:t.sitemapIndexing!==!1,onChange:()=>e("sitemapIndexing",!0),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("label",{htmlFor:"sitemap-on",className:"text-sm font-medium text-gray-700",children:"開啟"}),r.jsx("p",{className:"text-xs text-gray-500",children:"允許搜尋引擎在搜尋結果中返回使用此模板的靜態頁面"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{type:"radio",id:"sitemap-off",name:"sitemapIndexing",checked:t.sitemapIndexing===!1,onChange:()=>e("sitemapIndexing",!1),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("label",{htmlFor:"sitemap-off",className:"text-sm font-medium text-gray-700",children:"關閉"}),r.jsx("p",{className:"text-xs text-gray-500",children:"此頁面模板永遠不會出現在搜尋結果或您的網站地圖中"})]})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"控制搜尋引擎是否可以在搜尋結果中返回使用此模板的靜態頁面。"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"頁面規範網址 (Page Canonical URL)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{type:"radio",id:"canonical-auto",name:"canonicalType",checked:!t.customCanonicalUrl,onChange:()=>e("customCanonicalUrl",""),className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("label",{htmlFor:"canonical-auto",className:"text-sm font-medium text-gray-700",children:"自動生成"}),r.jsx("p",{className:"text-xs text-gray-500",children:"使用頁面的默認網址作為規範網址"})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex items-center h-5",children:r.jsx("input",{type:"radio",id:"canonical-custom",name:"canonicalType",checked:!!t.customCanonicalUrl,onChange:()=>{t.customCanonicalUrl||e("customCanonicalUrl",a)},className:"h-4 w-4 text-[#cc824d] border-gray-300 focus:ring-[#cc824d]"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("label",{htmlFor:"canonical-custom",className:"text-sm font-medium text-gray-700",children:"自定義規範網址"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"指定自定義的規範網址以避免重複內容"}),t.customCanonicalUrl!==void 0&&r.jsx("input",{type:"url",value:t.customCanonicalUrl||"",onChange:p=>e("customCanonicalUrl",p.target.value),className:`${O.input} text-sm`,placeholder:"https://"})]})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"指引搜尋引擎到您偏好的頁面網址以避免重複內容。這將覆蓋網站設定中的全域規範標籤。"})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"開放圖表設定"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"在 Facebook、X (Twitter)、LinkedIn 和 Pinterest 上分享時容器顯示的資訊。"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片預覽"}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-32 h-20 bg-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:t.openGraphImage?r.jsx("img",{src:t.openGraphImage,alt:"Open Graph",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xs text-gray-500 text-center",children:"預覽圖片"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:t.openGraphTitle||t.metaTitle||t.name||"Springring - 電子商務網站模板"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t.openGraphDescription||t.metaDescription||t.shortDescription||"探索設計精美的零售商店模板，它擁有獨特的設計和精緻的動畫效果。"}),r.jsx("p",{className:"text-xs text-gray-500",children:"marelle.com.tw/"})]})]})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開放圖片"}),r.jsxs("div",{className:"space-y-3",children:[t.openGraphImage?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:t.openGraphImage,alt:"Open Graph",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>u("openGraphImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(_r,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[r.jsx("input",{type:"file",id:"openGraphImageUpload",accept:"image/*",onChange:p=>{var j;const x=(j=p.target.files)==null?void 0:j[0];x&&m(x,"openGraphImage",o)},className:"hidden",disabled:l}),r.jsxs("label",{htmlFor:"openGraphImageUpload",className:"cursor-pointer block",children:[r.jsx(Cc,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:l?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),r.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 h-px bg-gray-300"}),r.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),r.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),r.jsx("input",{type:"url",value:t.openGraphImage||"",onChange:p=>e("openGraphImage",p.target.value),className:O.input,placeholder:"https://example.com/image.jpg"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"為獲得最佳效果，請使用至少 1200px x 630px (1.9:1 比例) 的影像。"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"useMetaTitleForOG",checked:t.useMetaTitleForOG!==!1,onChange:p=>e("useMetaTitleForOG",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"useMetaTitleForOG",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),t.useMetaTitleForOG===!1&&r.jsx("input",{type:"text",value:t.openGraphTitle||"",onChange:p=>e("openGraphTitle",p.target.value),className:O.input,placeholder:"開放圖表標題"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"useMetaDescriptionForOG",checked:t.useMetaDescriptionForOG!==!1,onChange:p=>e("useMetaDescriptionForOG",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"useMetaDescriptionForOG",className:"text-xs text-gray-600",children:"與 SEO Meta 描述相同"})]})]}),t.useMetaDescriptionForOG===!1&&r.jsx("textarea",{value:t.openGraphDescription||"",onChange:p=>e("openGraphDescription",p.target.value),rows:3,className:O.input,placeholder:"開放圖表描述"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"網站搜尋設定"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"網站搜尋結果中顯示的資訊。在此處進行更改，請重新發布您的網站，然後在搜尋設定中開始重新索引您的網站。"}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"excludeFromSearch",checked:t.excludeFromSearch||!1,onChange:p=>e("excludeFromSearch",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"excludeFromSearch",className:"ml-2 text-sm text-gray-700",children:"從網站搜尋結果中排除網頁"})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋標題"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"useMetaTitleForSearch",checked:t.useMetaTitleForSearch!==!1,onChange:p=>e("useMetaTitleForSearch",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"useMetaTitleForSearch",className:"text-xs text-gray-600",children:"與 SEO 標題標籤相同"})]})]}),t.useMetaTitleForSearch===!1&&r.jsx("input",{type:"text",value:t.searchTitle||"",onChange:p=>e("searchTitle",p.target.value),className:O.input,placeholder:"搜尋標題"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋描述"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"useMetaDescriptionForSearch",checked:t.useMetaDescriptionForSearch!==!1,onChange:p=>e("useMetaDescriptionForSearch",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"useMetaDescriptionForSearch",className:"text-xs text-gray-600",children:"與 SEO 提述標籤相同"})]})]}),t.useMetaDescriptionForSearch===!1&&r.jsx("textarea",{value:t.searchDescription||"",onChange:p=>e("searchDescription",p.target.value),rows:3,className:O.input,placeholder:"搜尋描述"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"搜尋圖片"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"useOpenGraphImageForSearch",checked:t.useOpenGraphImageForSearch!==!1,onChange:p=>e("useOpenGraphImageForSearch",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"useOpenGraphImageForSearch",className:"text-xs text-gray-600",children:"與 Open Graph 圖片 URL 相同"})]})]}),t.useOpenGraphImageForSearch===!1&&r.jsxs("div",{className:"space-y-3",children:[t.searchImage?r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:t.searchImage,alt:"搜尋圖片",className:"w-full max-w-md h-32 object-cover rounded-lg border border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>u("searchImage"),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:r.jsx(_r,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[r.jsx("input",{type:"file",id:"searchImageUpload",accept:"image/*",onChange:p=>{var j;const x=(j=p.target.files)==null?void 0:j[0];x&&m(x,"searchImage",d)},className:"hidden",disabled:c}),r.jsxs("label",{htmlFor:"searchImageUpload",className:"cursor-pointer block",children:[r.jsx(Cc,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:c?"上傳中...":"點擊上傳圖片或拖拽圖片到此處"}),r.jsx("p",{className:"text-xs text-gray-500",children:"支援 PNG, JPG, GIF 格式，最大 5MB"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 h-px bg-gray-300"}),r.jsx("span",{className:"text-xs text-gray-500",children:"或輸入圖片網址"}),r.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),r.jsx("input",{type:"url",value:t.searchImage||"",onChange:p=>e("searchImage",p.target.value),className:O.input,placeholder:"https://example.com/image.jpg"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"發布設定"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品狀態"}),r.jsxs("select",{value:t.status||"draft",onChange:p=>e("status",p.target.value),className:O.select,children:[r.jsx("option",{value:"draft",children:"草稿"}),r.jsx("option",{value:"active",children:"上架"}),r.jsx("option",{value:"archived",children:"下架"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"可見性"}),r.jsxs("select",{value:t.visibility||"visible",onChange:p=>e("visibility",p.target.value),className:O.select,children:[r.jsx("option",{value:"visible",children:"公開"}),r.jsx("option",{value:"hidden",children:"隱藏"})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"featured",checked:t.featured||!1,onChange:p=>e("featured",p.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"featured",className:"ml-2 text-sm text-gray-700",children:"設為精選產品"})]})})]})]})},t5=({steps:t,currentStep:e,onStepClick:s,completedSteps:n=[],compact:a=!1})=>{var i;return r.jsxs("div",{className:a?"mb-4":"mb-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute ${a?"top-4":"top-6"} left-0 right-0 h-0.5 bg-gray-200`}),r.jsx("div",{className:`absolute ${a?"top-4":"top-6"} left-0 h-0.5 bg-[#cc824d] transition-all duration-500 ease-in-out`,style:{width:`${n.length/(t.length-1)*100}%`}}),r.jsx("div",{className:"relative flex justify-between",children:t.map((l,o)=>{const c=e===o,d=n.includes(o);return r.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>s(o),children:[r.jsxs("div",{className:`
                  relative ${a?"w-8 h-8":"w-12 h-12"} rounded-full border-2 flex items-center justify-center transition-all duration-300 z-10
                  ${c?"bg-[#cc824d] border-[#cc824d] text-white shadow-lg scale-110":d?"bg-[#cc824d] border-[#cc824d] text-white":"bg-white border-gray-300 text-gray-400 group-hover:border-[#cc824d] group-hover:text-[#cc824d]"}
                `,children:[d&&!c?r.jsx(fg,{className:a?"w-4 h-4":"w-6 h-6"}):r.jsx("span",{className:`${a?"text-xs":"text-sm"} font-semibold`,children:o+1}),c&&r.jsx("div",{className:"absolute inset-0 rounded-full bg-[#cc824d] opacity-20 animate-ping"})]}),r.jsxs("div",{className:`${a?"mt-2":"mt-3"} text-center`,children:[r.jsx("div",{className:`
                    ${a?"text-xs":"text-sm"} font-medium transition-colors duration-200
                    ${c?"text-[#cc824d]":d?"text-gray-700":"text-gray-500 group-hover:text-[#cc824d]"}
                  `,children:l.title}),!a&&r.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-20 mx-auto leading-tight",children:l.description})]})]},l.id)})})]}),!a&&r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["步驟 ",e+1," / ",t.length,": ",(i=t[e])==null?void 0:i.title]})})]})},s5=({show:t,onClose:e,title:s="提醒",message:n,type:a="warning",autoClose:i=5e3})=>{if(f.useEffect(()=>{if(t&&i>0){const c=setTimeout(()=>{e()},i);return()=>clearTimeout(c)}},[t,i,e]),!t)return null;const o={warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:"text-yellow-400",title:"text-yellow-800",closeButton:"text-yellow-400 hover:text-yellow-600"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400",title:"text-red-800",closeButton:"text-red-400 hover:text-red-600"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400",title:"text-green-800",closeButton:"text-green-400 hover:text-green-600"},info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400",title:"text-blue-800",closeButton:"text-blue-400 hover:text-blue-600"}}[a];return r.jsxs("div",{className:"fixed top-4 right-4 z-50 max-w-md w-full",children:[r.jsxs("div",{className:`
        ${o.container} 
        border rounded-lg p-4 shadow-lg backdrop-blur-sm
        animate-in slide-in-from-right-full duration-300
      `,children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:`flex-shrink-0 ${o.icon}`,children:r.jsx(vt,{className:"h-5 w-5"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:`text-sm font-medium ${o.title}`,children:s}),n&&r.jsx("div",{className:"mt-1 text-sm",children:typeof n=="string"?r.jsx("p",{children:n}):n})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsxs("button",{type:"button",onClick:e,className:`
                inline-flex rounded-md p-1.5 transition-colors duration-200
                ${o.closeButton}
                hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-transparent focus:ring-current
              `,children:[r.jsx("span",{className:"sr-only",children:"關閉"}),r.jsx(_r,{className:"h-4 w-4"})]})})]}),i>0&&r.jsx("div",{className:"mt-3 w-full bg-white/30 rounded-full h-1",children:r.jsx("div",{className:"bg-current h-1 rounded-full transition-all duration-75 ease-out",style:{animation:`shrink ${i}ms linear forwards`}})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},KP=()=>{var C;const t=Ta(),[e,s]=f.useState(0),[n,a]=f.useState({name:"",slug:"",description:"",shortDescription:"",categories:[],tags:[],price:"",comparePrice:"",costPrice:"",profit:"",profitMargin:"",baseSKU:"",hasVariants:!1,skuVariants:[],images:[],status:"draft",visibility:"visible",featured:!1,metaTitle:"",metaDescription:"",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"",openGraphDescription:"",openGraphImage:"",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"",searchDescription:"",searchImage:"",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0}),[i,l]=f.useState({}),[o,c]=f.useState(""),[d,m]=f.useState([]),[u,h]=f.useState({show:!1,message:"",type:"warning"}),g=[{id:"basic",title:"基本資訊",description:"設定產品名稱、描述和基礎 SKU",icon:gg,isCompleted:!1},{id:"pricing",title:"定價設定",description:"設定價格、成本和利潤（無變體商品）",icon:Ms,isCompleted:!1},{id:"variants",title:"SKU 變體管理",description:"設定五層巢狀 SKU 變體和庫存",icon:ha,isCompleted:!1},{id:"categories",title:"商品分類",description:"設定商品分類歸屬",icon:ha,isCompleted:!1},{id:"media",title:"圖片媒體",description:"上傳產品圖片和媒體",icon:Cc,isCompleted:!1},{id:"seo",title:"SEO 設定",description:"搜尋引擎優化設定",icon:ha,isCompleted:!1}],p=(A,I)=>{a(S=>({...S,[A]:I})),i[A]&&l(S=>({...S,[A]:null}))},x=(A,I)=>{p(A,I)},j=()=>{o.trim()&&!n.tags.includes(o.trim())&&(p("tags",[...n.tags,o.trim()]),c(""))},v=A=>{p("tags",n.tags.filter(I=>I!==A))},y=A=>{s(A),l({})},b=A=>{setTimeout(()=>{const I=document.querySelector(`[name="${A}"], #${A}`);I&&(I.scrollIntoView({behavior:"smooth",block:"center"}),I.focus())},100)},N=()=>{const A=parseFloat(n.price)||0,I=parseFloat(n.costPrice)||0,S=A-I,_=I>0?(S/A*100).toFixed(2):0;p("profit",S.toFixed(2)),p("profitMargin",_)},w=A=>A?A.toLowerCase().trim().replace(/[\u4e00-\u9fff]/g,I=>`char-${I.charCodeAt(0)}`).replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50):"",k=A=>{const I=g[A],S={};switch(I.id){case"basic":n.name.trim()||(S.name="產品名稱為必填項目"),n.slug.trim()?/^[a-z0-9-]+$/.test(n.slug)||(S.slug="路由只能包含小寫英文、數字和連字符"):S.slug="產品路由為必填項目",n.description.trim()||(S.description="產品描述為必填項目"),n.baseSKU.trim()?/^[a-z0-9]+$/.test(n.baseSKU)||(S.baseSKU="基礎 SKU 只能包含小寫英文和數字"):S.baseSKU="基礎 SKU 為必填項目";break;case"pricing":n.hasVariants||(!n.price||parseFloat(n.price)<=0)&&(S.price="請輸入有效的銷售價格");break;case"variants":n.hasVariants&&(n.skuVariants.length===0?S.skuVariants="請設定至少一個 SKU 變體":n.skuVariants.filter(L=>L.isActive&&(!L.price||L.trackQuantity&&!L.quantity)).length>0&&(S.skuVariants="請為所有啟用的變體設定價格和庫存"));break}return l(S),Object.keys(S).length===0},T=()=>{k(e)&&(d.includes(e)||m(A=>[...A,e]),s(A=>Math.min(A+1,g.length-1)))},P=()=>{s(A=>Math.max(A-1,0))},E=async()=>{const A={};let I=-1,S=null;for(let _=0;_<g.length;_++){const L=g[_],R={};switch(L.id){case"basic":n.name.trim()||(R.name="產品名稱為必填項目",I===-1&&(I=_,S="name")),n.slug.trim()?/^[a-z0-9-]+$/.test(n.slug)||(R.slug="路由只能包含小寫英文、數字和連字符",I===-1&&(I=_,S="slug")):(R.slug="產品路由為必填項目",I===-1&&(I=_,S="slug")),n.description.trim()||(R.description="產品描述為必填項目",I===-1&&(I=_,S="description")),n.baseSKU.trim()?/^[a-z0-9]+$/.test(n.baseSKU)||(R.baseSKU="基礎 SKU 只能包含小寫英文和數字",I===-1&&(I=_,S="baseSKU")):(R.baseSKU="基礎 SKU 為必填項目",I===-1&&(I=_,S="baseSKU"));break;case"pricing":n.hasVariants||(!n.price||parseFloat(n.price)<=0)&&(R.price="請輸入有效的銷售價格",I===-1&&(I=_,S="price"));break;case"variants":n.hasVariants&&(n.skuVariants.length===0?(R.skuVariants="請設定至少一個 SKU 變體",I===-1&&(I=_,S="skuVariants")):n.skuVariants.filter(M=>M.isActive&&(!M.price||M.trackQuantity&&!M.quantity)).length>0&&(R.skuVariants="請為所有啟用的變體設定價格和庫存",I===-1&&(I=_,S="skuVariants")));break}Object.keys(R).length>0&&(A[L.id]=R)}if(Object.keys(A).length>0){l(A[g[I].id]||{}),s(I);const _=Object.values(A).reduce((L,R)=>L+Object.keys(R).length,0);h({show:!0,type:"warning",title:"請完成必填項目",message:r.jsxs("div",{children:[r.jsxs("p",{children:["發現 ",_," 個未完成的必填項目："]}),r.jsx("ul",{className:"mt-2 text-xs space-y-1",children:Object.entries(A).map(([L,R])=>{var M;const F=(M=g.find($=>$.id===L))==null?void 0:M.title;return Object.values(R).map(($,D)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"w-1 h-1 bg-current rounded-full mr-2"}),F,": ",$]},`${L}-${D}`))}).flat()})]})}),b(S);return}try{const _={...n,price:parseFloat(n.price)||0,comparePrice:parseFloat(n.comparePrice)||0,costPrice:parseFloat(n.costPrice)||0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),productId:`${n.baseSKU}-${Date.now()}`,images:n.images.map(L=>({id:L.id,url:L.url,name:L.name,size:L.size,isMain:L===n.images[0]})),skuVariants:n.hasVariants?n.skuVariants.map(L=>{var R,F,M;return{...L,price:parseFloat(L.price)||0,comparePrice:parseFloat(L.comparePrice)||0,costPrice:parseFloat(L.costPrice)||0,quantity:parseInt(L.quantity)||0,lowStockThreshold:parseInt(L.lowStockThreshold)||0,weight:parseFloat(L.weight)||0,dimensions:{length:parseFloat((R=L.dimensions)==null?void 0:R.length)||0,width:parseFloat((F=L.dimensions)==null?void 0:F.width)||0,height:parseFloat((M=L.dimensions)==null?void 0:M.height)||0},trackQuantity:!!L.trackQuantity,allowBackorder:!!L.allowBackorder,isActive:!!L.isActive}}):[],hasVariants:!!n.hasVariants,featured:!!n.featured};console.log("準備提交的產品資料:",_),await new Promise(L=>setTimeout(L,1e3)),h({show:!0,type:"success",title:"產品創建成功",message:`產品 "${n.name}" 已成功創建！
產品 ID: ${_.productId}`}),setTimeout(()=>{t("/products")},2e3)}catch(_){console.error("創建產品失敗:",_),h({show:!0,type:"error",title:"創建失敗",message:"創建產品時發生錯誤，請稍後再試。"})}};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainerStandard,children:[r.jsx(s5,{show:u.show,onClose:()=>h({...u,show:!1}),title:u.title,message:u.message,type:u.type,autoClose:u.type==="success"?3e3:0}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2",children:[r.jsxs("div",{className:"lg:w-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"新增產品"}),r.jsx("p",{className:"text-gray-600 font-chinese mt-1",children:"創建新的產品並設定詳細資訊"}),r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["步驟 ",e+1," / ",g.length,": ",(C=g[e])==null?void 0:C.title]})})]}),r.jsx("div",{className:"lg:ml-8 lg:flex-1",children:r.jsx(t5,{steps:g,currentStep:e,onStepClick:y,completedSteps:d,compact:!0})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-8",children:[e===0&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"基本資訊"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品名稱 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",id:"name",value:n.name,onChange:A=>{if(p("name",A.target.value),!n.slug||n.slug===w(n.name)){const I=w(A.target.value);p("slug",I)}},className:`${O.input} ${i.name?"border-red-500":""}`,placeholder:"輸入產品名稱"}),i.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品路由 (Slug) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",name:"slug",id:"slug",value:n.slug,onChange:A=>p("slug",A.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:`${O.input} ${i.slug?"border-red-500":""}`,placeholder:"product-slug",pattern:"[a-z0-9-]+"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("span",{className:"text-xs text-gray-400",children:"/products/"})})]}),r.jsx("button",{type:"button",onClick:()=>p("slug",w(n.name)),className:"px-3 py-2 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!n.name,children:"自動生成"})]}),i.slug&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.slug}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["產品網址將是: ",window.location.origin,"/",n.categories.length>0?n.categories[0].slug||"category":"products","/",n.slug||"product-slug"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["基礎 SKU ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"baseSKU",id:"baseSKU",value:n.baseSKU,onChange:A=>{const I=A.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");p("baseSKU",I)},className:`${O.input} ${i.baseSKU?"border-red-500":""}`,placeholder:"例如：iphone",maxLength:20}),i.baseSKU&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.baseSKU}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["基礎 SKU 將作為所有變體的前綴，例如：",n.baseSKU||"iphone","bkpro"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"簡短描述"}),r.jsx("input",{type:"text",value:n.shortDescription,onChange:A=>p("shortDescription",A.target.value),className:O.input,placeholder:"一句話描述產品特色"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品描述 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",id:"description",value:n.description,onChange:A=>p("description",A.target.value),rows:4,className:`${O.input} ${i.description?"border-red-500":""}`,placeholder:"詳細描述產品功能、特色和使用方法"}),i.description&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品標籤"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:n.tags.map(A=>r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-[#cc824d] text-white",children:[A,r.jsx("button",{type:"button",onClick:()=>v(A),className:"ml-2 text-white hover:text-gray-200",children:r.jsx(_r,{className:"w-4 h-4"})})]},A))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:o,onChange:A=>c(A.target.value),onKeyPress:A=>A.key==="Enter"&&(A.preventDefault(),j()),className:O.input,placeholder:"輸入標籤名稱"}),r.jsx("button",{type:"button",onClick:j,className:O.btnSecondary,children:r.jsx(Sr,{className:"w-4 h-4"})})]})]})]})]}),e===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"定價設定"}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-amber-800",children:["💡 ",r.jsx("strong",{children:"注意："}),"如果您的商品有多個變體（如不同顏色、尺寸等），價格將在下一步的 SKU 變體管理中設定。 此處的定價僅適用於無變體的單一商品。"]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["銷售價格 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",name:"price",id:"price",value:n.price,onChange:A=>{p("price",A.target.value),setTimeout(N,100)},className:`${O.input} pl-12 ${i.price?"border-red-500":""}`,placeholder:"0",min:"0",step:"0.01"})]}),i.price&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"比較價格（原價）"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",value:n.comparePrice,onChange:A=>p("comparePrice",A.target.value),className:`${O.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"成本價格"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",value:n.costPrice,onChange:A=>{p("costPrice",A.target.value),setTimeout(N,100)},className:`${O.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"利潤"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"text",value:n.profit,readOnly:!0,className:`${O.input} pl-12 bg-gray-50`,placeholder:"0"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"利潤率"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:n.profitMargin,readOnly:!0,className:`${O.input} pr-8 bg-gray-50`,placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]})]})]}),e===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"SKU 變體管理"}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("input",{type:"checkbox",id:"hasVariants",checked:n.hasVariants,onChange:A=>p("hasVariants",A.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"hasVariants",className:"ml-2 text-sm text-gray-700",children:"此產品有多個 SKU 變體 (如不同顏色、尺寸、規格等)"})]}),!n.hasVariants&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx(ma,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"此商品為單一 SKU 商品"}),r.jsx("p",{className:"text-sm text-gray-500",children:"如果商品有不同的變體選項，請勾選上方的變體選項"}),n.baseSKU&&r.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"商品 SKU:"}),r.jsx("p",{className:"font-mono text-lg text-[#cc824d]",children:n.baseSKU})]})]}),n.hasVariants&&r.jsx(Xw,{baseSKU:n.baseSKU,skuVariants:n.skuVariants,onChange:A=>p("skuVariants",A),basePrice:n.price,baseComparePrice:n.comparePrice,baseCostPrice:n.costPrice,productName:n.name,productCategories:n.categories}),i.skuVariants&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.skuVariants})]})]}),e===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"商品分類設定"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"選擇商品分類 (可複選)"}),r.jsx(Qw,{selectedCategories:n.categories,onChange:A=>p("categories",A)})]})]}),e===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"圖片媒體"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品圖片"}),r.jsx(zg,{images:n.images,onChange:A=>p("images",A),maxImages:10})]})]}),e===5&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"SEO 設定"}),r.jsx(e5,{productData:n,onChange:x,errors:i,categories:n.categories})]})]}),r.jsxs("div",{className:"border-t border-gray-200 px-8 py-6 flex items-center justify-between bg-gray-50 rounded-b-xl",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>t("/products"),className:O.btnSecondary,children:"取消"}),e>0&&r.jsxs("button",{type:"button",onClick:P,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[r.jsx(xN,{className:"w-4 h-4 mr-2"}),"上一步"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["步驟 ",e+1," / ",g.length]}),r.jsx("div",{className:"flex space-x-3",children:e<g.length-1?r.jsxs("button",{type:"button",onClick:T,className:"inline-flex items-center px-6 py-2 bg-[#cc824d] text-white rounded-lg text-sm font-medium hover:bg-[#b86c37] transition-colors shadow-sm",children:["下一步",r.jsx(Fc,{className:"w-4 h-4 ml-2"})]}):r.jsxs("button",{type:"button",onClick:E,className:"inline-flex items-center px-8 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors shadow-sm",children:[r.jsx(Vt,{className:"w-4 h-4 mr-2"}),"創建產品"]})})]})]})]})]})})},YP=()=>{const{sku:t}=Lp(),e=Ta(),s=f.useMemo(()=>Gc.find(S=>S.baseSKU===t),[t]),n={name:"",slug:"",description:"",shortDescription:"",categories:[],tags:[],price:"",comparePrice:"",costPrice:"",profit:"",profitMargin:"",baseSKU:"",hasVariants:!1,skuVariants:[],images:[],status:"draft",visibility:"visible",featured:!1,metaTitle:"",metaDescription:"",sitemapIndexing:!0,customCanonicalUrl:"",openGraphTitle:"",openGraphDescription:"",openGraphImage:"",useMetaTitleForOG:!0,useMetaDescriptionForOG:!0,excludeFromSearch:!1,searchTitle:"",searchDescription:"",searchImage:"",useMetaTitleForSearch:!0,useMetaDescriptionForSearch:!0,useOpenGraphImageForSearch:!0},a=S=>S?{name:S.name||"",slug:S.slug||"",description:S.description||"",shortDescription:S.shortDescription||"",categories:Array.isArray(S.categories)?S.categories:S.category?[{name:S.category,slug:S.category}]:[],tags:Array.isArray(S.tags)?S.tags:[],price:S.price??"",comparePrice:S.comparePrice??S.originalPrice??"",costPrice:S.costPrice??"",profit:S.profit??"",profitMargin:S.profitMargin??"",baseSKU:S.baseSKU||"",hasVariants:!!S.hasVariants,skuVariants:Array.isArray(S.skuVariants)?S.skuVariants:[],images:Array.isArray(S.images)?S.images:S.image?[{id:Date.now(),url:S.image,name:"cover.jpg",size:0,type:"image/jpeg"}]:[],status:S.status||"draft",visibility:S.visibility||"visible",featured:!!S.featured,metaTitle:S.metaTitle||"",metaDescription:S.metaDescription||"",sitemapIndexing:S.sitemapIndexing!==!1,customCanonicalUrl:S.customCanonicalUrl||"",openGraphTitle:S.openGraphTitle||"",openGraphDescription:S.openGraphDescription||"",openGraphImage:S.openGraphImage||"",useMetaTitleForOG:S.useMetaTitleForOG!==!1,useMetaDescriptionForOG:S.useMetaDescriptionForOG!==!1,excludeFromSearch:!!S.excludeFromSearch,searchTitle:S.searchTitle||"",searchDescription:S.searchDescription||"",searchImage:S.searchImage||"",useMetaTitleForSearch:S.useMetaTitleForSearch!==!1,useMetaDescriptionForSearch:S.useMetaDescriptionForSearch!==!1,useOpenGraphImageForSearch:S.useOpenGraphImageForSearch!==!1}:{...n},[i,l]=f.useState(0),[o,c]=f.useState(a(s)),[d,m]=f.useState({}),[u,h]=f.useState(""),[g,p]=f.useState([]),[x,j]=f.useState({show:!1,message:"",type:"warning"});f.useEffect(()=>{c(a(s))},[s]);const v=[{id:"basic",title:"基本資訊",description:"設定產品名稱、描述和基礎 SKU",icon:gg,isCompleted:!1},{id:"pricing",title:"定價設定",description:"設定價格、成本和利潤（無變體商品）",icon:Ms,isCompleted:!1},{id:"variants",title:"SKU 變體管理",description:"設定五層巢狀 SKU 變體和庫存",icon:ha,isCompleted:!1},{id:"categories",title:"商品分類",description:"設定商品分類歸屬",icon:ha,isCompleted:!1},{id:"media",title:"圖片媒體",description:"上傳產品圖片和媒體",icon:Cc,isCompleted:!1},{id:"seo",title:"SEO 設定",description:"搜尋引擎優化設定",icon:ha,isCompleted:!1}],y=(S,_)=>{c(L=>({...L,[S]:_})),d[S]&&m(L=>({...L,[S]:null}))},b=(S,_)=>y(S,_),N=()=>{u.trim()&&!o.tags.includes(u.trim())&&(y("tags",[...o.tags,u.trim()]),h(""))},w=S=>y("tags",o.tags.filter(_=>_!==S)),k=S=>{l(S),m({})},T=()=>{const S=parseFloat(o.price)||0,_=parseFloat(o.costPrice)||0,L=S-_,R=S>0?(L/S*100).toFixed(2):0;y("profit",L.toFixed(2)),y("profitMargin",R)},P=S=>S?S.toLowerCase().trim().replace(/[\u4e00-\u9fff]/g,_=>`char-${_.charCodeAt(0)}`).replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"").substring(0,50):"",E=S=>{const _=v[S],L={};switch(_.id){case"basic":o.name.trim()||(L.name="產品名稱為必填項目"),o.slug.trim()?/^[a-z0-9-]+$/.test(o.slug)||(L.slug="路由只能包含小寫英文、數字和連字符"):L.slug="產品路由為必填項目",o.description.trim()||(L.description="產品描述為必填項目"),o.baseSKU.trim()?/^[a-z0-9]+$/.test(o.baseSKU)||(L.baseSKU="基礎 SKU 只能包含小寫英文和數字"):L.baseSKU="基礎 SKU 為必填項目";break;case"pricing":o.hasVariants||(!o.price||parseFloat(o.price)<=0)&&(L.price="請輸入有效的銷售價格");break;case"variants":o.hasVariants&&((o.skuVariants||[]).length===0?L.skuVariants="請設定至少一個 SKU 變體":o.skuVariants.filter(F=>F.isActive&&(!F.price||F.trackQuantity&&!F.quantity)).length>0&&(L.skuVariants="請為所有啟用的變體設定價格和庫存"));break}return m(L),Object.keys(L).length===0},C=()=>{E(i)&&(g.includes(i)||p(S=>[...S,i]),l(S=>Math.min(S+1,v.length-1)))},A=()=>l(S=>Math.max(S-1,0)),I=async()=>{for(let S=0;S<v.length;S++)if(!E(S)){l(S);return}try{const S={...o,price:parseFloat(o.price)||0,comparePrice:parseFloat(o.comparePrice)||0,costPrice:parseFloat(o.costPrice)||0,images:(o.images||[]).map(_=>({id:_.id,url:_.url,name:_.name,size:_.size,isMain:_===o.images[0]})),skuVariants:o.hasVariants?(o.skuVariants||[]).map(_=>{var L,R,F;return{..._,price:parseFloat(_.price)||0,comparePrice:parseFloat(_.comparePrice)||0,costPrice:parseFloat(_.costPrice)||0,quantity:parseInt(_.quantity)||0,lowStockThreshold:parseInt(_.lowStockThreshold)||0,weight:parseFloat(_.weight)||0,dimensions:{length:parseFloat((L=_.dimensions)==null?void 0:L.length)||0,width:parseFloat((R=_.dimensions)==null?void 0:R.width)||0,height:parseFloat((F=_.dimensions)==null?void 0:F.height)||0},trackQuantity:!!_.trackQuantity,allowBackorder:!!_.allowBackorder,isActive:!!_.isActive}}):[]};console.log("更新產品資料 payload:",S),await new Promise(_=>setTimeout(_,800)),j({show:!0,type:"success",title:"儲存成功",message:`商品「${o.name}」已更新。`}),setTimeout(()=>e("/products"),1200)}catch(S){console.error(S),j({show:!0,type:"error",title:"儲存失敗",message:"更新時發生錯誤，請稍後重試。"})}};return s?r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainerStandard,children:[r.jsx(s5,{show:x.show,onClose:()=>j({...x,show:!1}),title:x.title,message:x.message,type:x.type,autoClose:x.type==="success"?3e3:0}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2",children:[r.jsxs("div",{className:"lg:w-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"編輯商品"}),r.jsxs("p",{className:"text-gray-600 font-chinese mt-1",children:["SKU：",r.jsx("span",{className:"font-mono",children:o.baseSKU})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-[#cc824d]/10 text-[#cc824d] rounded-full text-sm font-medium",children:["步驟 ",i+1," / ",6,": ",["基本資訊","定價設定","SKU 變體管理","商品分類","圖片媒體","SEO 設定"][i]]})})]}),r.jsx("div",{className:"lg:ml-8 lg:flex-1",children:r.jsx(t5,{steps:v,currentStep:i,onStepClick:k,completedSteps:g,compact:!0})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-8",children:[i===0&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"基本資訊"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品名稱 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",id:"name",value:o.name,onChange:S=>{if(y("name",S.target.value),!o.slug||o.slug===P(o.name)){const _=P(S.target.value);y("slug",_)}},className:`${O.input} ${d.name?"border-red-500":""}`,placeholder:"輸入產品名稱"}),d.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品路由 (Slug) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",name:"slug",id:"slug",value:o.slug,onChange:S=>y("slug",S.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:`${O.input} ${d.slug?"border-red-500":""}`,placeholder:"product-slug",pattern:"[a-z0-9-]+"}),r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("span",{className:"text-xs text-gray-400",children:"/products/"})})]}),r.jsx("button",{type:"button",onClick:()=>y("slug",P(o.name)),className:"px-3 py-2 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!o.name,children:"自動生成"})]}),d.slug&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.slug}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["產品網址將是: ",window.location.origin,"/",o.categories.length>0?o.categories[0].slug||"category":"products","/",o.slug||"product-slug"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["基礎 SKU ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"baseSKU",id:"baseSKU",value:o.baseSKU,onChange:S=>y("baseSKU",S.target.value.toLowerCase().replace(/[^a-z0-9]/g,"")),className:`${O.input} ${d.baseSKU?"border-red-500":""}`,placeholder:"例如：iphone",maxLength:20}),d.baseSKU&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.baseSKU}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["基礎 SKU 將作為所有變體的前綴，例如：",o.baseSKU||"iphone","bkpro"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"簡短描述"}),r.jsx("input",{type:"text",value:o.shortDescription,onChange:S=>y("shortDescription",S.target.value),className:O.input,placeholder:"一句話描述產品特色"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["產品描述 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",id:"description",value:o.description,onChange:S=>y("description",S.target.value),rows:4,className:`${O.input} ${d.description?"border-red-500":""}`,placeholder:"詳細描述產品功能、特色和使用方法"}),d.description&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品標籤"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.tags.map(S=>r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-[#cc824d] text-white",children:[S,r.jsx("button",{type:"button",onClick:()=>w(S),className:"ml-2 text-white hover:text-gray-200",children:r.jsx(_r,{className:"w-4 h-4"})})]},S))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:u,onChange:S=>h(S.target.value),onKeyPress:S=>S.key==="Enter"&&(S.preventDefault(),N()),className:O.input,placeholder:"輸入標籤名稱"}),r.jsx("button",{type:"button",onClick:N,className:O.btnSecondary,children:r.jsx(Sr,{className:"w-4 h-4"})})]})]})]})]}),i===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"定價設定"}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-amber-800",children:["💡 ",r.jsx("strong",{children:"注意："}),"有多個變體時，基礎價會與變體差額相加，最終價格顯示在變體面板。"]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["銷售價格 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",name:"price",id:"price",value:o.price,onChange:S=>{y("price",S.target.value),setTimeout(T,100)},className:`${O.input} pl-12 ${d.price?"border-red-500":""}`,placeholder:"0",min:"0",step:"0.01"})]}),d.price&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.price})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"比較價格（原價）"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",value:o.comparePrice,onChange:S=>y("comparePrice",S.target.value),className:`${O.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"成本價格"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"number",value:o.costPrice,onChange:S=>{y("costPrice",S.target.value),setTimeout(T,100)},className:`${O.input} pl-12`,placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"利潤"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"NT$"}),r.jsx("input",{type:"text",value:o.profit,readOnly:!0,className:`${O.input} pl-12 bg-gray-50`,placeholder:"0"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"利潤率"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o.profitMargin,readOnly:!0,className:`${O.input} pr-8 bg-gray-50`,placeholder:"0"}),r.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]})]})]}),i===2&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"SKU 變體管理"}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("input",{type:"checkbox",id:"hasVariants",checked:o.hasVariants,onChange:S=>y("hasVariants",S.target.checked),className:"h-4 w-4 text-[#cc824d] border-gray-300 rounded focus:ring-[#cc824d]"}),r.jsx("label",{htmlFor:"hasVariants",className:"ml-2 text-sm text-gray-700",children:"此產品有多個 SKU 變體 (如不同顏色、尺寸、規格等)"})]}),!o.hasVariants&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx(ma,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"此商品為單一 SKU 商品"}),r.jsx("p",{className:"text-sm text-gray-500",children:"如果商品有不同的變體選項，請勾選上方的變體選項"}),o.baseSKU&&r.jsxs("div",{className:"mt-4 p-3 bg-white rounded border",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"商品 SKU:"}),r.jsx("p",{className:"font-mono text-lg text-[#cc824d]",children:o.baseSKU})]})]}),o.hasVariants&&r.jsx(Xw,{baseSKU:o.baseSKU,skuVariants:o.skuVariants,onChange:S=>y("skuVariants",S),basePrice:o.price,baseComparePrice:o.comparePrice,baseCostPrice:o.costPrice,productName:o.name,productCategories:o.categories}),d.skuVariants&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.skuVariants})]})]}),i===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"商品分類設定"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"選擇商品分類 (可複選)"}),r.jsx(Qw,{selectedCategories:o.categories,onChange:S=>y("categories",S)})]})]}),i===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"圖片媒體"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"產品圖片"}),r.jsx(zg,{images:o.images,onChange:S=>y("images",S),maxImages:10})]})]}),i===5&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:O.sectionTitle,children:"SEO 設定"}),r.jsx(e5,{productData:o,onChange:b,errors:d,categories:o.categories})]})]}),r.jsxs("div",{className:"border-t border-gray-200 px-8 py-6 flex items-center justify-between bg-gray-50 rounded-b-xl",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>e("/products"),className:O.btnSecondary,children:"取消"}),i>0&&r.jsxs("button",{type:"button",onClick:A,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[r.jsx(xN,{className:"w-4 h-4 mr-2"})," 上一步"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["步驟 ",i+1," / 6"]}),r.jsx("div",{className:"flex space-x-3",children:i<5?r.jsxs("button",{type:"button",onClick:C,className:"inline-flex items-center px-6 py-2 bg-[#cc824d] text-white rounded-lg text-sm font-medium hover:bg-[#b86c37] transition-colors shadow-sm",children:["下一步 ",r.jsx(Fc,{className:"w-4 h-4 ml-2"})]}):r.jsxs("button",{type:"button",onClick:I,className:"inline-flex items-center px-8 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors shadow-sm",children:[r.jsx(Vt,{className:"w-4 h-4 mr-2"})," 儲存變更"]})})]})]})]})]})}):r.jsx("div",{className:O.pageContainer,children:r.jsx("div",{className:O.contentContainerStandard,children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"找不到此商品"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:["SKU: ",t]}),r.jsx("button",{onClick:()=>e("/products"),className:"mt-6 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800",children:"返回商品列表"})]})})})},_e=({options:t=[],value:e="",onChange:s=()=>{},placeholder:n="請選擇...",searchPlaceholder:a="搜尋選項...",className:i="",disabled:l=!1,allowClear:o=!1,multiple:c=!1,maxDisplayOptions:d=10,createNewOption:m=null})=>{const[u,h]=f.useState(!1),[g,p]=f.useState(""),[x,j]=f.useState(t),[v,y]=f.useState(c?Array.isArray(e)?e:[]:[e]),[b,N]=f.useState({top:0,left:0,width:0}),w=f.useRef(null),k=f.useRef(null),T=f.useRef(null),E=(M=>M.map($=>typeof $=="string"?{value:$,label:$}:$))(t);f.useEffect(()=>{const M=E.filter($=>$.label.toLowerCase().includes(g.toLowerCase())||$.value.toLowerCase().includes(g.toLowerCase()));j(M)},[g,t]),f.useEffect(()=>{y(c?Array.isArray(e)?e:[]:[e])},[e,c]);const C=()=>{if(w.current){const M=w.current.getBoundingClientRect(),$=window.innerHeight,D=300;let z=M.bottom+2,Z=M.left;z+D>$&&(z=M.top-D-2),Z+M.width>window.innerWidth&&(Z=window.innerWidth-M.width-10),Z<10&&(Z=10),N({top:Math.max(z,10),left:Z,width:M.width})}},A=()=>{l||(u?h(!1):(h(!0),requestAnimationFrame(()=>{C()})))};f.useEffect(()=>{u&&T.current&&(C(),Rs.fromTo(T.current,{opacity:0,y:-10,scale:.95},{opacity:1,y:0,scale:1,duration:.2,ease:"power2.out"}))},[u]),f.useEffect(()=>{const M=z=>{w.current&&!w.current.contains(z.target)&&T.current&&!T.current.contains(z.target)&&(h(!1),p(""))},$=()=>{u&&C()},D=()=>{u&&C()};return u&&(document.addEventListener("mousedown",M),document.addEventListener("scroll",$,!0),window.addEventListener("scroll",$),window.addEventListener("resize",D),requestAnimationFrame(C)),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("scroll",$,!0),window.removeEventListener("scroll",$),window.removeEventListener("resize",D)}},[u]);const I=M=>{if(c){const $=v.includes(M.value)?v.filter(D=>D!==M.value):[...v,M.value];y($),s($)}else y([M.value]),s(M.value),h(!1),p("")},S=M=>{M.stopPropagation(),c?(y([]),s([])):(y([""]),s(""))},_=()=>{if(m&&g.trim()){const M=m(g.trim());M&&(I(M),p(""))}},L=()=>{if(c){if(v.length===0)return n;if(v.length===1){const M=E.find($=>$.value===v[0]);return M?M.label:v[0]}return`已選擇 ${v.length} 項`}else{if(!v[0])return n;const M=E.find($=>$.value===v[0]);return M?M.label:v[0]}},R=M=>v.includes(M),F=m&&g.trim()&&!x.some(M=>M.label.toLowerCase()===g.toLowerCase());return r.jsxs("div",{ref:w,className:`relative ${i}`,style:{zIndex:u?9999:"auto"},children:[r.jsxs("div",{onClick:A,className:`
          relative w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg 
          cursor-pointer transition-all duration-200 font-chinese
          glass-light hover:border-button-300 hover:shadow-md
          ${l?"opacity-50 cursor-not-allowed":""}
          ${u?"border-button-500 shadow-lg ring-2 ring-button-100":""}
        `,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[!c&&v[0]&&(()=>{const M=E.find($=>$.value===v[0]);return M!=null&&M.icon?r.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4",children:M.icon}):null})(),r.jsx("span",{className:`truncate ${!v[0]&&!c?"text-gray-500":"text-gray-900"}`,children:L()})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o&&(v[0]||c&&v.length>0)&&r.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:r.jsx(nv,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r.jsx(su,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]})]}),c&&v.length>1&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[v.slice(0,3).map(M=>{const $=E.find(D=>D.value===M);return r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-button-100 text-button-800 text-xs rounded-full",children:[$?$.label:M,r.jsx("button",{onClick:D=>{D.stopPropagation(),I({value:M})},className:"hover:bg-button-200 rounded-full p-0.5",children:r.jsx(nv,{className:"w-3 h-3"})})]},M)}),v.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",v.length-3," 更多"]})]})]}),u&&bm.createPortal(r.jsxs("div",{ref:T,className:"fixed z-[200000] glass-dropdown",style:{top:`${b.top}px`,left:`${b.left}px`,width:`${b.width}px`,zIndex:2e5,minWidth:"200px"},children:[r.jsx("div",{className:"glass-dropdown-search",children:r.jsxs("div",{className:"relative",children:[r.jsx(rv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4 z-10"}),r.jsx("input",{ref:k,type:"text",value:g,onChange:M=>p(M.target.value),placeholder:a,className:"font-chinese",autoFocus:!0})]})}),r.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[F&&r.jsxs("button",{onClick:_,className:"glass-dropdown-create font-chinese group",children:[r.jsx("div",{className:"w-4 h-4 border-2 rounded-full flex items-center justify-center transition-colors",style:{borderColor:"#CC824D"},children:r.jsx("div",{className:"w-1 h-1 rounded-full transition-colors",style:{backgroundColor:"#CC824D"}})}),r.jsxs("span",{className:"group-hover:text-orange-800",children:['創建 "',g,'"']})]}),x.slice(0,d).map(M=>r.jsxs("button",{onClick:()=>I(M),className:`glass-dropdown-option font-chinese ${R(M.value)?"selected":""}`,children:[r.jsxs("span",{className:"truncate flex items-center gap-2",children:[M.icon&&r.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4",children:M.icon}),r.jsx("span",{className:"truncate",children:M.label})]}),R(M.value)&&r.jsx(AP,{className:"w-4 h-4 flex-shrink-0 ml-2",style:{color:"#CC824D"}})]},M.value)),x.length===0&&!F&&r.jsxs("div",{className:"glass-dropdown-empty font-chinese",children:[r.jsx(rv,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm",children:"沒有找到符合的選項"})]}),x.length>d&&r.jsxs("div",{className:"glass-dropdown-more font-chinese",children:["還有 ",x.length-d," 個選項..."]})]})]}),document.body)]})},r5="marelle_warehouses",Yh=[{id:"main",name:"主倉庫",code:"WH-MAIN",isDefault:!0,address:"台北市中正區仁愛路 1 段 1 號",contact:"02-1234-5678",enabled:!0},{id:"a",name:"主倉庫A",code:"WH-A",isDefault:!1,address:"新北市板橋區文化路 100 號",contact:"02-8765-4321",enabled:!0}],n5=()=>{try{const t=typeof window<"u"?window.localStorage.getItem(r5):null;if(!t)return Yh;const e=JSON.parse(t);return!Array.isArray(e)||e.length===0?Yh:e}catch{return Yh}},iv=t=>{try{typeof window<"u"&&window.localStorage.setItem(r5,JSON.stringify(t))}catch{}},lv=n5().map(t=>({value:t.name,label:t.name})),ov=(t,e)=>{const s={},n=e.length;if(n<=1)return s[e[0]]=t,s;const a=t<0?-1:1,i=Math.abs(t);if(n===2){const c=Math.floor(i*.7),d=i-c;return s[e[0]]=a*c,s[e[1]]=a*d,s}const l=Math.floor(i/n);let o=i%n;return e.forEach((c,d)=>{let m=l;o>0&&(m+=1,o-=1),s[c]=a*m}),s},a5=(t="*")=>{var n,a,i,l,o,c,d,m,u;let e;Array.isArray(t)?e=t.length?t:[lv[0].value]:t==="*"||!t?e=lv.map(h=>h.value):e=[t];const s=[];for(const h of Gc){const g=((a=(n=h.categories)==null?void 0:n[0])==null?void 0:a.id)||null,p=h.category||((l=(i=h.categories)==null?void 0:i[0])==null?void 0:l.name)||"未分類";if(h.hasVariants&&Array.isArray(h.skuVariants)&&h.skuVariants.length>0)for(const x of h.skuVariants){const j=x.sku||`${h.baseSKU}`,v=x.pathDisplay?x.pathDisplay.replace(/\s*→\s*/g," / "):"",y=h.name,b=Number(((o=x.config)==null?void 0:o.quantity)??0),N=Number(((c=x.config)==null?void 0:c.costPrice)??h.costPrice??0),w=Number(((d=x.config)==null?void 0:d.lowStockThreshold)??5),k=!!((m=x.config)!=null&&m.allowBackorder),T=((u=x.config)==null?void 0:u.barcode)||`${h.baseSKU}-${j}`.toUpperCase(),P=ov(b,e);for(const E of e){const C=Number(P[E]??0),A=C<0?"presale":C<w?"low":"normal",I=Math.round(C*N);s.push({id:`${h.baseSKU}-${j}-${E}`,sku:j,name:y,spec:v||"-",category:p,categoryId:g,warehouse:E,currentStock:C,safeStock:w,avgCost:N,totalValue:I,barcode:T,allowNegative:k,lastUpdated:new Date().toISOString().slice(0,10),status:A})}}else{const x=h.baseSKU,j=h.name,v=h.inStock?10:0,y=Number(h.costPrice??0),b=5,N=`${x}-0001`.toUpperCase(),w=ov(v,e);for(const k of e){const T=Number(w[k]??0),P=T<0?"presale":T<b?"low":"normal",E=Math.round(T*y);s.push({id:`${x}-${k}`,sku:x,name:j,spec:"-",category:p,categoryId:g,warehouse:k,currentStock:T,safeStock:b,avgCost:y,totalValue:E,barcode:N,allowNegative:!1,lastUpdated:new Date().toISOString().slice(0,10),status:P})}}}return s},qP=t=>{const e=new Set,s=new Set;for(const n of t)e.add(n.warehouse),s.add(n.category);return{warehouses:["全部",...Array.from(e)],categories:["全部",...Array.from(s)]}};a5();const ZP=({tree:t=[],value:e=null,onChange:s,placeholder:n="選擇分類"})=>{const a=(u,h,g=[])=>{var p;for(const x of u){const j=[...g,x];if(x.id===h)return j;if((p=x.children)!=null&&p.length){const v=a(x.children,h,j);if(v)return v}}return null},i=f.useMemo(()=>e?a(t,e):[],[t,e]),[l,o]=f.useState(i||[]);f.useEffect(()=>{const u=e?a(t,e):[];o(u||[])},[e]);const c=f.useMemo(()=>{const u=[];u.push(t.map(h=>({value:h.id,label:h.name,node:h})));for(let h=1;h<5;h++){const g=l[h-1],p=(g==null?void 0:g.children)||[];if(p.length)u.push(p.map(x=>({value:x.id,label:x.name,node:x})));else break}return u},[t,l]),d=(u,h)=>{var j,v;if(!h){o(y=>y.slice(0,u)),s&&s(u===0?null:((j=prev[u-1])==null?void 0:j.id)||null);return}const p=(v=(c[u]||[]).find(y=>y.value===h))==null?void 0:v.node;if(!p)return;const x=[...l.slice(0,u),p];o(x),s&&s(p.id)},m=()=>{o([]),s&&s(null)};return r.jsxs("div",{className:"flex items-center space-x-2",children:[c.map((u,h)=>{var g;return r.jsx(_e,{options:[{value:"",label:h===0?"全部":"無"},...u.map(p=>({value:p.value,label:p.label}))],value:((g=l[h])==null?void 0:g.id)||"",onChange:p=>d(h,p),placeholder:h===0?n:"選擇子分類",className:"w-40"},h)}),r.jsx("button",{className:"px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded",onClick:m,children:"清除"})]})},QP=()=>{const[t,e]=f.useState("全部"),[s,n]=f.useState(null),[a,i]=f.useState(null),[l,o]=f.useState(null),[c,d]=f.useState(()=>a5("*")),{warehouses:m}=f.useMemo(()=>qP(c),[c]),u=f.useMemo(()=>c.filter(x=>{const j=t==="全部"||x.warehouse===t;let v=!0;if(s){const y=new Set([s,...GP(jl,s)]);v=x.categoryId?y.has(x.categoryId):!1}return j&&v}),[t,s,c]),h=p=>p.status==="presale"?r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-purple-100 text-purple-700 rounded font-chinese",children:"預售中"}):p.status==="low"?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-red-100 text-red-700 rounded font-chinese",children:[r.jsx(vt,{className:"w-3 h-3 mr-1"}),"低庫存"]}):r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-green-100 text-green-700 rounded font-chinese",children:"正常"}),g=[{key:"sku",label:"SKU",sortable:!0,render:p=>r.jsx("span",{className:"font-mono text-sm",children:p})},{key:"name",label:"商品名稱",sortable:!0,render:p=>r.jsx("span",{className:"font-chinese",children:p})},{key:"spec",label:"規格",sortable:!0,render:p=>r.jsx("span",{className:"font-chinese text-sm text-gray-600",children:p||"-"})},{key:"category",label:"分類",sortable:!0,render:p=>r.jsx("span",{className:"font-chinese",children:p})},{key:"currentStock",label:"庫存量",sortable:!0,render:(p,x)=>r.jsx("span",{className:`font-bold ${p<0?"text-purple-600":p<x.safeStock?"text-red-600":"text-green-600"}`,children:p})},{key:"safeStock",label:"安全庫存",sortable:!0},{key:"qrcode",label:"QR Code",sortable:!1,render:(p,x)=>r.jsxs("button",{className:"px-2 py-1 text-xs border rounded hover:bg-gray-50 flex items-center space-x-1",onClick:()=>o(x),children:[r.jsx(Hu,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{children:"顯示"})]})},{key:"allowNegative",label:"允許預購",sortable:!1,render:p=>p?r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-bold bg-purple-100 text-purple-700 rounded font-chinese",children:"允許"}):r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-chinese",children:"禁止"})},{key:"status",label:"狀態",sortable:!1,render:(p,x)=>h(x)},{key:"actions",label:"操作",sortable:!1,render:(p,x)=>r.jsx("div",{className:"flex space-x-2",children:r.jsx("button",{className:"p-1 text-gray-700 hover:bg-gray-100 rounded flex items-center",title:"檢視",onClick:()=>i(x),children:r.jsx(Os,{className:"w-4 h-4"})})})}];return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:ADMIN_STYLES.contentContainerStandard,children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(xk,{className:"w-8 h-8 text-amber-500 mr-3"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"庫存管理"})]}),r.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mg,{className:"w-5 h-5 text-gray-400"}),r.jsx(_e,{options:m.map(p=>({value:p,label:p==="全部"?"全部倉庫":p})),value:t,onChange:e,placeholder:"選擇倉庫",className:"w-36"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vc,{className:"w-5 h-5 text-gray-400"}),r.jsx(ZP,{tree:jl,value:s,onChange:n,placeholder:"選擇分類"})]}),s&&r.jsxs("div",{className:"text-xs text-gray-500 font-chinese",children:["分類路徑：",zP(jl,s)]}),r.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["共",u.length," 項商品"]})]})}),r.jsx(_i,{data:u,columns:g,title:"庫存清單",emptyMessage:"沒有找到符合條件的庫存資料",exportFileName:"庫存清單"}),a&&r.jsxs("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>i(null)}),r.jsxs("div",{className:"absolute right-0 top-0 h-full w-full sm:w-[460px] bg-white shadow-2xl p-6 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold font-chinese",children:"庫存詳情"}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>i(null),children:"✕"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2 font-chinese",children:"基本資訊"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"SKU"}),r.jsx("span",{className:"font-mono text-gray-900",children:a.sku})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"商品名稱"}),r.jsx("span",{className:"font-chinese text-gray-900 max-w-[60%] truncate text-right",children:a.name})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"規格"}),r.jsx("span",{className:"font-chinese text-gray-900 max-w-[60%] truncate text-right",children:a.spec||"-"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"分類"}),r.jsx("span",{className:"font-chinese text-gray-900",children:r.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100",children:a.category})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"倉庫"}),r.jsx("div",{className:"w-full",children:r.jsx(_e,{options:m.filter(p=>p!=="全部").map(p=>({value:p,label:p})),value:a.warehouse,onChange:p=>i(x=>({...x,warehouse:p})),placeholder:"選擇倉庫",className:"w-full"})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"更新日期"}),r.jsx("span",{className:"text-gray-600",children:a.lastUpdated})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2 font-chinese",children:"數量設定"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"庫存量"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:a.currentStock,onChange:p=>i(x=>({...x,currentStock:Number(p.target.value)}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"安全庫存"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:a.safeStock,onChange:p=>i(x=>({...x,safeStock:Number(p.target.value)}))})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2 font-chinese",children:"成本與價值"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"平均成本"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:a.avgCost,onChange:p=>i(x=>({...x,avgCost:Number(p.target.value)}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"庫存價值"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",value:a.totalValue,onChange:p=>i(x=>({...x,totalValue:Number(p.target.value)}))})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2 font-chinese",children:"其他"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 font-chinese",children:"允許預購"}),r.jsx("button",{className:`px-3 py-1 rounded text-xs font-chinese ${a.allowNegative?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,onClick:()=>i(p=>({...p,allowNegative:!p.allowNegative})),children:a.allowNegative?"允許":"禁止"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"條碼"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-mono text-xs",children:a.barcode}),r.jsxs("button",{className:"px-2 py-1 text-xs border rounded hover:bg-gray-50 flex items-center space-x-1",onClick:()=>o(a),children:[r.jsx(Hu,{className:"w-4 h-4"})," ",r.jsx("span",{children:"顯示 QR"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded hover:bg-[#b3723f] font-chinese",onClick:()=>{d(p=>p.map(x=>x.id===a.id?{...x,...a,totalValue:Math.round(Number(a.currentStock)*Number(a.avgCost||0))}:x)),i(null)},children:"完成"})})]})]})]}),l&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>o(null)}),r.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold font-chinese",children:"QR Code"}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>o(null),children:"✕"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"flex items-start justify-center",children:r.jsx(Bg,{autoGenerate:!0,compact:!0,product:{id:l.sku,name:l.name,slug:l.sku,price:l.totalValue,comparePrice:null,costPrice:l.avgCost},sku:{id:l.id,sku:l.sku,price:null,comparePrice:null,costPrice:l.avgCost,variantPath:l.spec&&l.spec!=="-"?l.spec.split(" / ").map(p=>({level:"規格",option:p})):[]}})}),r.jsxs("div",{className:"text-sm space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"商品名稱"}),r.jsx("span",{className:"font-chinese text-gray-900 max-w-[60%] truncate text-right",children:l.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"SKU"}),r.jsx("span",{className:"font-mono",children:l.sku})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"規格"}),r.jsx("span",{className:"font-chinese text-gray-900 max-w-[60%] truncate text-right",children:l.spec||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"分類"}),r.jsx("span",{className:"font-chinese",children:l.category})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"倉庫"}),r.jsx("span",{className:"font-chinese",children:l.warehouse})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"庫存量"}),r.jsx("span",{className:"font-bold",children:l.currentStock})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"安全庫存"}),r.jsx("span",{children:l.safeStock})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"平均成本"}),r.jsxs("span",{children:["NT$ ",Number(l.avgCost).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"庫存價值"}),r.jsxs("span",{children:["NT$ ",Number(l.totalValue).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"條碼"}),r.jsx("span",{className:"font-mono text-xs",children:l.barcode})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"允許預購"}),r.jsx("span",{className:"font-chinese",children:l.allowNegative?"允許":"禁止"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500 font-chinese",children:"更新日期"}),r.jsx("span",{className:"text-gray-600",children:l.lastUpdated})]})]})]})]})]})]})})},cv={id:"",name:"",code:"",isDefault:!1,address:"",contact:"",enabled:!0},XP=()=>{const[t,e]=f.useState(()=>n5()),[s,n]=f.useState(null),[a,i]=f.useState(cv),l=()=>i(cv),o=()=>{l(),n("NEW")},c=h=>{i({...h}),n(h.id)},d=()=>{n(null),l()},m=()=>{var p;if(!((p=a.name)!=null&&p.trim()))return alert("請輸入倉庫名稱");const h=s==="NEW"||!a.id?a.name.replace(/\s+/g,"-").toLowerCase():a.id,g=s==="NEW"?[...t,{...a,id:h}]:t.map(x=>x.id===s?{...a,id:h}:x);a.isDefault&&g.forEach(x=>{x.isDefault=x.id===h}),e(g),iv(g),d()},u=h=>{if(!confirm("確定要刪除此倉庫？"))return;const g=t.filter(p=>p.id!==h);e(g),iv(g)};return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:ADMIN_STYLES.contentContainerStandard,children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(mg,{className:"w-8 h-8 text-amber-500 mr-3"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"倉庫管理"})]}),r.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-gray-600 font-chinese",children:"管理倉庫清單、新增/刪除、設定預設倉庫與聯絡資訊"}),r.jsxs("button",{onClick:o,className:"px-3 py-2 rounded bg-[#cc824d] text-white hover:bg-[#b3723f] flex items-center text-sm",children:[r.jsx(Sr,{className:"w-4 h-4 mr-1"})," 新增倉庫"]})]})}),s&&r.jsxs("div",{className:"glass rounded-2xl p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4 font-chinese",children:s==="NEW"?"新增倉庫":"編輯倉庫"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"名稱"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:a.name,onChange:h=>i(g=>({...g,name:h.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"代碼"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:a.code,onChange:h=>i(g=>({...g,code:h.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"聯絡資訊"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:a.contact,onChange:h=>i(g=>({...g,contact:h.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 font-chinese",children:"地址"}),r.jsx("input",{className:"w-full border rounded px-3 py-2",value:a.address,onChange:h=>i(g=>({...g,address:h.target.value}))})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm text-gray-600 font-chinese",children:"設為預設倉庫"}),r.jsx("input",{type:"checkbox",checked:a.isDefault,onChange:h=>i(g=>({...g,isDefault:h.target.checked}))})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("label",{className:"text-sm text-gray-600 font-chinese",children:"啟用"}),r.jsx("input",{type:"checkbox",checked:a.enabled,onChange:h=>i(g=>({...g,enabled:h.target.checked}))})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[r.jsxs("button",{onClick:d,className:"px-3 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200 flex items-center text-sm",children:[r.jsx(_r,{className:"w-4 h-4 mr-1"})," 取消"]}),r.jsxs("button",{onClick:m,className:"px-3 py-2 rounded bg-[#cc824d] text-white hover:bg-[#b3723f] flex items-center text-sm",children:[r.jsx(fg,{className:"w-4 h-4 mr-1"})," 儲存"]})]})]}),r.jsx("div",{className:"glass rounded-2xl p-6",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"py-2",children:"名稱"}),r.jsx("th",{className:"py-2",children:"代碼"}),r.jsx("th",{className:"py-2",children:"聯絡"}),r.jsx("th",{className:"py-2",children:"地址"}),r.jsx("th",{className:"py-2",children:"預設"}),r.jsx("th",{className:"py-2",children:"啟用"}),r.jsx("th",{className:"py-2 text-right",children:"操作"})]})}),r.jsx("tbody",{children:t.map(h=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2",children:h.name}),r.jsx("td",{className:"py-2",children:h.code}),r.jsx("td",{className:"py-2",children:h.contact}),r.jsx("td",{className:"py-2",children:h.address}),r.jsx("td",{className:"py-2",children:h.isDefault?"✓":""}),r.jsx("td",{className:"py-2",children:h.enabled?"啟用":"停用"}),r.jsxs("td",{className:"py-2 text-right",children:[r.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-100 rounded",onClick:()=>c(h),children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-red-600 hover:bg-red-100 rounded ml-1",onClick:()=>u(h.id),children:r.jsx(wr,{className:"w-4 h-4"})})]})]},h.id))})]})})]})})},JP=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0),[a,i]=f.useState("all"),l=[{value:"all",label:"全部狀態"},{value:"pending",label:"待處理"},{value:"processing",label:"處理中"},{value:"shipped",label:"已發貨"},{value:"delivered",label:"已送達"},{value:"cancelled",label:"已取消"}],[o,c]=f.useState([]),[d,m]=f.useState(1),[u]=f.useState(10),[h,g]=f.useState({total:0,pending:0,processing:0,shipped:0,delivered:0,cancelled:0});f.useEffect(()=>{p(),x(),Rs.fromTo(".order-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const p=async()=>{n(!0);try{const C=await orderDataManager.getOrders();C.success&&e(C.data)}catch(C){console.error("Error loading orders:",C)}finally{n(!1)}},x=async()=>{try{const C=await orderDataManager.getOrderStatistics();C.success&&g(C.data)}catch(C){console.error("Error loading statistics:",C)}},j=C=>{if(window.confirm("確定要刪除這個訂單嗎？此操作無法復原。")){const A=orderDataManager.deleteOrder(C);A.success?(p(),x()):alert("刪除失敗："+A.error)}},v=()=>{if(o.length===0){alert("請先選擇要刪除的訂單");return}window.confirm(`確定要刪除選中的 ${o.length} 個訂單嗎？`)&&(o.forEach(C=>{orderDataManager.deleteOrder(C)}),c([]),p(),x())},y=C=>{c(A=>A.includes(C)?A.filter(I=>I!==C):[...A,C])},b=()=>{o.length===w.length?c([]):c(w.map(C=>C.id))},N=C=>{const I={pending:{label:"待處理",className:"bg-yellow-100 text-yellow-800"},processing:{label:"處理中",className:"bg-blue-100 text-blue-800"},shipped:{label:"已發貨",className:"bg-purple-100 text-purple-800"},delivered:{label:"已送達",className:"bg-green-100 text-green-800"},cancelled:{label:"已取消",className:"bg-red-100 text-red-800"}}[C]||{label:C,className:"bg-gray-100 text-gray-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.className}`,children:I.label})},w=t.filter(C=>a==="all"||C.status===a),k=d*u,T=k-u,P=w.slice(T,k),E=Math.ceil(w.length/u);return s?r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"flex justify-center items-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"載入訂單數據中..."})]})}):r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"訂單管理"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有訂單信息與狀態"})]}),r.jsx("div",{className:`${O.glassCard} p-6 mb-6`,children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsx("div",{className:"flex flex-1 gap-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vc,{className:"w-5 h-5 text-gray-400"}),r.jsx(_e,{options:l,value:a,onChange:i,placeholder:"選擇狀態",className:"w-36"})]})}),r.jsxs("div",{className:"flex gap-2",children:[o.length>0&&r.jsxs("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[r.jsx(wr,{className:"w-4 h-4"}),"刪除選中 (",o.length,")"]}),r.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[r.jsx(ug,{className:"w-4 h-4"}),"匯出"]})]})]})}),r.jsxs("div",{className:`${O.glassCard} overflow-hidden`,children:[r.jsxs("div",{className:"",style:{overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none"},children:[r.jsx("style",{jsx:!0,children:`
            div::-webkit-scrollbar {
              display: none;
            }
          `}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50/80 border-b border-gray-200/60",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left",children:r.jsx("input",{type:"checkbox",checked:o.length===w.length&&w.length>0,onChange:b,className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"訂單編號"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"客戶信息"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"商品數量"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"總金額"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"下單時間"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200/60",children:P.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50/40 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("input",{type:"checkbox",checked:o.includes(C.id),onChange:()=>y(C.id),className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.id})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.customerName}),r.jsx("div",{className:"text-sm text-gray-500",children:C.customerEmail})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[C.itemCount," 項商品"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.totalAmount.toLocaleString()})}),r.jsx("td",{className:"px-6 py-4",children:N(C.status)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:C.createdAt})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex justify-center space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 transition-colors",children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900 transition-colors",children:r.jsx(xg,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>j(C.id),className:"text-red-600 hover:text-red-900 transition-colors",children:r.jsx(wr,{className:"w-4 h-4"})})]})})]},C.id))})]})]}),E>1&&r.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-200/60",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["顯示 ",T+1," 到 ",Math.min(k,w.length)," 項， 共 ",w.length," 項結果"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>m(C=>Math.max(C-1,1)),disabled:d===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一頁"}),r.jsx("div",{className:"flex space-x-1",children:[...Array(E)].map((C,A)=>{const I=A+1;return r.jsx("button",{onClick:()=>m(I),className:`px-3 py-1 rounded-md text-sm font-medium ${d===I?"bg-[#cc824d] text-white":"text-gray-500 hover:text-gray-700"}`,children:I},I)})}),r.jsx("button",{onClick:()=>m(C=>Math.min(C+1,E)),disabled:d===E,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一頁"})]})]})]}),w.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的訂單"})})]})},On={PENDING:"pending",PAYMENT_PENDING:"payment_pending",CONFIRMED:"confirmed",PROCESSING:"processing",SHIPPED:"shipped",DELIVERED:"delivered",CANCELLED:"cancelled"},eM=()=>{const{id:t}=Lp(),e=Ta(),[s,n]=f.useState(null),[a,i]=f.useState(!0);f.useEffect(()=>{i(!0),setTimeout(()=>{n({id:t,orderNumber:`ORD-${t.toString().padStart(6,"0")}`,status:On.CONFIRMED,customer:{name:"張小明",email:"zhang@example.com",phone:"0912345678"},totalAmount:1200,items:[{id:1,name:"商品A",quantity:2,price:600}],createdAt:new Date().toISOString()}),i(!1)},1e3)},[t]);const l={[On.PENDING]:{label:"待處理",className:"bg-gray-100 text-gray-800",icon:Nr},[On.PAYMENT_PENDING]:{label:"待付款",className:"bg-yellow-100 text-yellow-800",icon:Ms},[On.CONFIRMED]:{label:"已確認",className:"bg-blue-100 text-blue-800",icon:Vt},[On.PROCESSING]:{label:"處理中",className:"bg-purple-100 text-purple-800",icon:Nr},[On.SHIPPED]:{label:"已出貨",className:"bg-indigo-100 text-indigo-800",icon:ja},[On.DELIVERED]:{label:"已送達",className:"bg-green-100 text-green-800",icon:Vt},[On.CANCELLED]:{label:"已取消",className:"bg-red-100 text-red-800",icon:ji}},o=()=>{window.confirm("確認要刪除這個訂單嗎？此操作無法復原。")&&(alert("訂單已刪除"),e("/management/orders"))},c=()=>{e(`/management/orders/edit/${t}`)};if(a)return r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!s)return r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"找不到訂單資料"})});const d=l[s.status],m=d.icon;return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/management/orders"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:r.jsx(fN,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"訂單詳情"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:[r.jsx($r,{className:"h-4 w-4 mr-2"}),"編輯"]}),r.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200",children:[r.jsx(wr,{className:"h-4 w-4 mr-2"}),"刪除"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["訂單編號：",s.orderNumber]}),r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${d.className}`,children:[r.jsx(m,{className:"h-4 w-4 mr-1"}),d.label]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"客戶資訊"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:s.customer.name}),r.jsx("p",{className:"text-sm text-gray-600",children:s.customer.email}),r.jsx("p",{className:"text-sm text-gray-600",children:s.customer.phone})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"訂單資訊"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-gray-900",children:["總金額：NT$ ",s.totalAmount.toLocaleString()]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["建立時間：",new Date(s.createdAt).toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"訂單商品"}),r.jsx("div",{className:"space-y-4",children:s.items.map(u=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:u.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["數量：",u.quantity]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["NT$ ",u.price.toLocaleString()]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["小計：NT$ ",(u.price*u.quantity).toLocaleString()]})]})]},u.id))})]})]})},tM=()=>{const t=Ta(),{id:e}=Lp(),s=!!e,[n,a]=f.useState({customerName:"",customerEmail:"",customerPhone:"",items:[{id:1,name:"",quantity:1,price:0}],notes:""}),[i,l]=f.useState(!1);f.useEffect(()=>{s&&a({customerName:"張小明",customerEmail:"zhang@example.com",customerPhone:"0912345678",items:[{id:1,name:"商品A",quantity:2,price:600}],notes:"測試訂單"})},[s]);const o=(g,p)=>{a(x=>({...x,[g]:p}))},c=(g,p,x)=>{a(j=>({...j,items:j.items.map((v,y)=>y===g?{...v,[p]:x}:v)}))},d=()=>{a(g=>({...g,items:[...g.items,{id:Date.now(),name:"",quantity:1,price:0}]}))},m=g=>{a(p=>({...p,items:p.items.filter((x,j)=>j!==g)}))},u=async g=>{g.preventDefault(),l(!0);try{await new Promise(p=>setTimeout(p,1e3)),alert(s?"訂單更新成功":"訂單建立成功"),t("/management/orders")}catch(p){console.error("Error saving order:",p),alert("保存失敗："+p.message)}finally{l(!1)}},h=()=>n.items.reduce((g,p)=>g+p.quantity*p.price,0);return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("button",{onClick:()=>t("/management/orders"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:r.jsx(fN,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?"編輯訂單":"新增訂單"})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"客戶資訊"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"客戶姓名 *"}),r.jsx("input",{type:"text",value:n.customerName,onChange:g=>o("customerName",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電子郵件 *"}),r.jsx("input",{type:"email",value:n.customerEmail,onChange:g=>o("customerEmail",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"聯絡電話 *"}),r.jsx("input",{type:"tel",value:n.customerPhone,onChange:g=>o("customerPhone",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"訂單商品"}),r.jsxs("button",{type:"button",onClick:d,className:"flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:[r.jsx(Sr,{className:"h-4 w-4 mr-1"}),"新增商品"]})]}),r.jsx("div",{className:"space-y-4",children:n.items.map((g,p)=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",placeholder:"商品名稱",value:g.name,onChange:x=>c(p,"name",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),r.jsx("div",{className:"w-24",children:r.jsx("input",{type:"number",placeholder:"數量",value:g.quantity,onChange:x=>c(p,"quantity",parseInt(x.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",required:!0})}),r.jsx("div",{className:"w-32",children:r.jsx("input",{type:"number",placeholder:"單價",value:g.price,onChange:x=>c(p,"price",parseFloat(x.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:!0})}),r.jsx("div",{className:"w-32 text-right",children:r.jsxs("p",{className:"font-medium text-gray-900",children:["NT$ ",(g.quantity*g.price).toLocaleString()]})}),n.items.length>1&&r.jsx("button",{type:"button",onClick:()=>m(p),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg",children:r.jsx(wr,{className:"h-4 w-4"})})]},g.id))}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["總計：NT$ ",h().toLocaleString()]})})})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"備註"}),r.jsx("textarea",{value:n.notes,onChange:g=>o("notes",g.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"輸入訂單備註..."})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",onClick:()=>t("/management/orders"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"取消"}),r.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"保存中...":s?"更新訂單":"建立訂單"})]})]})]})},Bt=[];for(let t=0;t<256;++t)Bt.push((t+256).toString(16).slice(1));function sM(t,e=0){return(Bt[t[e+0]]+Bt[t[e+1]]+Bt[t[e+2]]+Bt[t[e+3]]+"-"+Bt[t[e+4]]+Bt[t[e+5]]+"-"+Bt[t[e+6]]+Bt[t[e+7]]+"-"+Bt[t[e+8]]+Bt[t[e+9]]+"-"+Bt[t[e+10]]+Bt[t[e+11]]+Bt[t[e+12]]+Bt[t[e+13]]+Bt[t[e+14]]+Bt[t[e+15]]).toLowerCase()}let qh;const rM=new Uint8Array(16);function nM(){if(!qh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qh=crypto.getRandomValues.bind(crypto)}return qh(rM)}const aM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),dv={randomUUID:aM};function iM(t,e,s){var a;t=t||{};const n=t.random??((a=t.rng)==null?void 0:a.call(t))??nM();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(s=s||0,s<0||s+16>e.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[s+i]=n[i];return e}return sM(n)}function lM(t,e,s){return dv.randomUUID&&!e&&!t?dv.randomUUID():iM(t,e,s)}const oM=[{id:1,memberNo:"M000001",name:"張雅婷",email:"zhang@example.com",phone:"0912345678",gender:"女",birthday:"1990-05-15",registerDate:"2023-01-15",lastLoginDate:"2024-09-15",level:"VIP",totalSpent:15800,points:1580,orders:12,status:"active",tags:["高價值客戶","忠誠會員"],shippingAddresses:[{id:"addr-"+Math.random().toString(36).slice(2),type:"home",isDefault:!0,contactName:"張雅婷",phone:"0912345678",postalCode:"100",city:"臺北市",district:"中正區",streetAddress:"重慶南路一段 122 號 5 樓"},{id:"addr-"+Math.random().toString(36).slice(2),type:"cvs",isDefault:!1,provider:"7-ELEVEN",storeId:"123456",storeName:"博愛門市",storeAddress:"臺北市中正區重慶南路一段 50 號"}]},{id:2,memberNo:"M000002",name:"李大明",email:"li@example.com",phone:"0923456789",gender:"男",birthday:"1985-08-22",registerDate:"2023-03-20",lastLoginDate:"2024-09-14",level:"金卡",totalSpent:8900,points:890,orders:7,status:"active",tags:["潛力客戶"],shippingAddresses:[{id:"addr-"+Math.random().toString(36).slice(2),type:"home",isDefault:!0,contactName:"李大明",phone:"0923456789",postalCode:"220",city:"新北市",district:"板橋區",streetAddress:"文化路一段 100 巷 8 號 3 樓"}]},{id:3,memberNo:"M000003",name:"王美華",email:"wang@example.com",phone:"0934567890",gender:"女",birthday:"1992-12-03",registerDate:"2023-06-10",lastLoginDate:"2024-08-30",level:"銀卡",totalSpent:3200,points:320,orders:3,status:"inactive",tags:["新會員"],shippingAddresses:[]},{id:4,memberNo:"M000004",name:"陳志偉",email:"chen@example.com",phone:"0945678901",gender:"男",birthday:"1988-04-18",registerDate:"2022-11-25",lastLoginDate:"2024-09-16",level:"VIP",totalSpent:25600,points:2560,orders:18,status:"active",tags:["高價值客戶","推薦達人"],shippingAddresses:[{id:"addr-"+Math.random().toString(36).slice(2),type:"cvs",isDefault:!0,provider:"FAMILY_MART",storeId:"F12345",storeName:"府前店",storeAddress:"臺南市中西區府前路一段 88 號"}]}];class cM{constructor(){const e=localStorage.getItem("marelle_members");this.members=e?JSON.parse(e):oM,this.members=this.members.map(s=>({...s,shippingAddresses:Array.isArray(s.shippingAddresses)?s.shippingAddresses:[]}))}persist(){localStorage.setItem("marelle_members",JSON.stringify(this.members))}async getMembers(){return{success:!0,data:this.members}}async getShippingAddresses(e){const s=this.members.find(n=>n.id===Number(e)||n.memberNo===e);return s?{success:!0,data:s.shippingAddresses||[]}:{success:!1,error:"會員不存在"}}async addShippingAddress(e,s){const n=this.members.find(i=>i.id===Number(e)||i.memberNo===e);if(!n)return{success:!1,error:"會員不存在"};const a={id:lM(),isDefault:!1,...s};return(!n.shippingAddresses||n.shippingAddresses.length===0)&&(a.isDefault=!0),n.shippingAddresses=[...n.shippingAddresses||[],a],this.persist(),{success:!0,data:a}}async updateShippingAddress(e,s,n){const a=this.members.find(l=>l.id===Number(e)||l.memberNo===e);if(!a)return{success:!1,error:"會員不存在"};const i=(a.shippingAddresses||[]).findIndex(l=>l.id===s);return i===-1?{success:!1,error:"地址不存在"}:(a.shippingAddresses[i]={...a.shippingAddresses[i],...n},this.persist(),{success:!0,data:a.shippingAddresses[i]})}async deleteShippingAddress(e,s){var i;const n=this.members.find(l=>l.id===Number(e)||l.memberNo===e);if(!n)return{success:!1,error:"會員不存在"};const a=((i=n.shippingAddresses)==null?void 0:i.length)||0;return n.shippingAddresses=(n.shippingAddresses||[]).filter(l=>l.id!==s),n.shippingAddresses.length===a?{success:!1,error:"地址不存在"}:(n.shippingAddresses.length>0&&!n.shippingAddresses.some(l=>l.isDefault)&&(n.shippingAddresses[0].isDefault=!0),this.persist(),{success:!0})}async setDefaultShippingAddress(e,s){var a;const n=this.members.find(i=>i.id===Number(e)||i.memberNo===e);return n?(a=n.shippingAddresses)!=null&&a.some(i=>i.id===s)?(n.shippingAddresses=n.shippingAddresses.map(i=>({...i,isDefault:i.id===s})),this.persist(),{success:!0}):{success:!1,error:"地址不存在"}:{success:!1,error:"會員不存在"}}}const cn=new cM,dM=[{id:"O20240915001",memberId:1,orderNo:"O-2024-0915-001",createdAt:"2024-09-15 10:32",status:"delivered",payment:{method:"CreditCard",status:"paid"},shipping:{method:"home",fee:100,address:{postalCode:"100",city:"臺北市",district:"中正區",streetAddress:"重慶南路一段 122 號 5 樓"},carrier:"黑貓",trackingNo:"T1234567890"},items:[{sku:"SKU-001",name:"經典保濕精華 50ml",qty:1,price:1280},{sku:"SKU-002",name:"玫瑰潔面乳 150ml",qty:2,price:680}],discounts:[{type:"coupon",code:"WELCOME100",amount:100}],totals:{subtotal:2640,discount:100,shipping:100,grandTotal:2640},invoice:{type:"電子發票",number:"AB12345678",carrier:"/1234567890",title:"個人",issuedAt:"2024-09-15 10:40",status:"issued"}},{id:"O20240828007",memberId:1,orderNo:"O-2024-0828-007",createdAt:"2024-08-28 16:05",status:"shipped",payment:{method:"ATM",status:"paid"},shipping:{method:"cvs",provider:"FAMILY_MART",fee:60,store:{id:"F12345",name:"府前店",address:"臺南市中西區府前路一段 88 號"},carrier:"全家店到店",trackingNo:"FM12345678"},items:[{sku:"SKU-010",name:"絲絨口紅 3g",qty:1,price:520}],discounts:[],totals:{subtotal:520,discount:0,shipping:60,grandTotal:580},invoice:{type:"電子發票",number:"CD23456789",carrier:"/9988776655",title:"個人",issuedAt:"2024-08-28 16:15",status:"issued"}},{id:"O20240712003",memberId:2,orderNo:"O-2024-0712-003",createdAt:"2024-07-12 11:20",status:"processing",payment:{method:"CreditCard",status:"paid"},shipping:{method:"home",fee:100,address:{postalCode:"220",city:"新北市",district:"板橋區",streetAddress:"文化路一段 100 巷 8 號 3 樓"},carrier:"新竹物流",trackingNo:"HCT87654321"},items:[{sku:"SKU-003",name:"薰衣草身體乳 250ml",qty:1,price:880},{sku:"SKU-004",name:"晶透卸妝油 200ml",qty:1,price:720}],discounts:[{type:"points",amount:50}],totals:{subtotal:1600,discount:50,shipping:100,grandTotal:1650},invoice:{type:"電子發票",number:"EF34567890",carrier:"/5566778899",title:"個人",issuedAt:"2024-07-12 11:35",status:"issued"}}],uM=[{id:"R20240916001",memberId:1,refundNo:"R-2024-0916-001",originalOrderId:"O20240915001",createdAt:"2024-09-16 09:20",status:"refunded",payment:{method:"CreditCard",status:"refunded"},shippingReturn:{method:"home",carrier:"黑貓",trackingNo:"RT987654321"},items:[{sku:"SKU-002",name:"玫瑰潔面乳 150ml",qty:1,price:680}],amounts:{subtotal:680,shippingRefund:100,totalRefund:780},invoice:{type:"折讓單",number:"CN1234567",issuedAt:"2024-09-16 10:05",status:"issued"}},{id:"R20240830002",memberId:1,refundNo:"R-2024-0830-002",originalOrderId:"O20240828007",createdAt:"2024-08-30 13:45",status:"approved",payment:{method:"ATM",status:"pending"},shippingReturn:{method:"cvs",provider:"FAMILY_MART",storeId:"F12345",storeName:"府前店"},items:[{sku:"SKU-010",name:"絲絨口紅 3g",qty:1,price:520}],amounts:{subtotal:520,shippingRefund:60,totalRefund:580},invoice:{type:"折讓單",number:"CN2233445",issuedAt:null,status:"pending"}}];class mM{async getOrdersByMember(e){const s=Number(e);return{success:!0,data:dM.filter(a=>a.memberId===s)}}async getRefundsByMember(e){const s=Number(e);return{success:!0,data:uM.filter(a=>a.memberId===s)}}}const uv=new mM,Pr=t=>`NT$ ${Number(t||0).toLocaleString()}`,hM=({detail:t})=>{var i,l,o,c,d,m,u,h,g,p,x,j,v,y,b,N,w,k,T,P,E,C,A,I,S,_,L,R,F,M,$,D,z,Z,B,G,K,H,q,ne,ie,ue,J,oe,re,ee,Re,De;const[e,s]=f.useState("items"),n=t.type==="order",a=t.data;return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:n?"訂單編號":"退款編號"}),r.jsx("div",{className:"font-mono text-sm mt-1",children:n?a.orderNo:a.refundNo})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"建立時間"}),r.jsx("div",{className:"text-sm mt-1",children:a.createdAt||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"狀態"}),r.jsx("div",{className:"mt-1 inline-flex px-2 py-0.5 text-xs rounded bg-gray-100 text-gray-700",children:a.status||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:n?"金額":"退款金額"}),r.jsx("div",{className:`text-sm mt-1 ${n?"font-semibold":"text-red-600 font-semibold"}`,children:n?Pr((i=a.totals)==null?void 0:i.grandTotal):`- ${Pr((l=a.amounts)==null?void 0:l.totalRefund)}`})]})]}),r.jsx(xi,{mode:"controlled",activeKey:e,onTabChange:V=>s(V.key),layout:"left",tabs:[{key:"items",label:"商品明細"},{key:"shipping",label:"配送細節"},{key:"payment",label:"付款與金額"},{key:"invoice",label:"發票/折讓"}]}),e==="items"&&r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 text-xs text-gray-500 px-2 mb-1",children:[r.jsx("div",{className:"md:col-span-6",children:"商品"}),r.jsx("div",{className:"md:col-span-2 text-right",children:"單價"}),r.jsx("div",{className:"md:col-span-2 text-right",children:"數量"}),r.jsx("div",{className:"md:col-span-2 text-right",children:"小計"})]}),r.jsx("div",{className:"space-y-2",children:(a.items||[]).map((V,U)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/60 rounded px-2 py-3",children:[r.jsxs("div",{className:"col-span-12 md:col-span-6 flex items-center gap-3",children:[V.image&&r.jsx("img",{src:V.image,alt:"",className:"w-10 h-10 rounded object-cover"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:V.name}),r.jsx("div",{className:"text-xs text-gray-500",children:V.sku||""})]})]}),r.jsx("div",{className:"col-span-4 md:col-span-2 text-right",children:Pr(V.price)}),r.jsxs("div",{className:"col-span-4 md:col-span-2 text-right",children:["x ",V.qty]}),r.jsx("div",{className:"col-span-4 md:col-span-2 text-right font-semibold",children:Pr((V.price||0)*(V.qty||0))})]},U))})]}),e==="shipping"&&r.jsx("div",{className:"text-sm grid md:grid-cols-2 gap-4",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"配送方式"}),r.jsx("div",{className:"font-medium",children:((o=a.shipping)==null?void 0:o.method)==="home"?"宅配":"超商取貨"}),((c=a.shipping)==null?void 0:c.method)==="home"?r.jsxs("div",{className:"text-gray-700 mt-2",children:[(m=(d=a.shipping)==null?void 0:d.address)==null?void 0:m.postalCode," ",(h=(u=a.shipping)==null?void 0:u.address)==null?void 0:h.city,(p=(g=a.shipping)==null?void 0:g.address)==null?void 0:p.district,(j=(x=a.shipping)==null?void 0:x.address)==null?void 0:j.streetAddress]}):r.jsxs("div",{className:"text-gray-700 mt-2",children:[(y=(v=a.shipping)==null?void 0:v.store)==null?void 0:y.name,"（",(N=(b=a.shipping)==null?void 0:b.store)==null?void 0:N.id,"）- ",(k=(w=a.shipping)==null?void 0:w.store)==null?void 0:k.address]})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"物流資訊"}),r.jsxs("div",{children:["物流：",((T=a.shipping)==null?void 0:T.carrier)||"—"]}),r.jsxs("div",{children:["追蹤：",((P=a.shipping)==null?void 0:P.trackingNo)||"—"]}),r.jsxs("div",{children:["狀態：",a.status||"—"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"退貨方式"}),r.jsx("div",{className:"font-medium",children:((E=a.shippingReturn)==null?void 0:E.method)==="home"?"宅配":"超商寄件"}),((C=a.shippingReturn)==null?void 0:C.method)==="home"?r.jsx("div",{className:"text-gray-700 mt-2",children:((I=(A=a.shippingReturn)==null?void 0:A.address)==null?void 0:I.postalCode)||""}):r.jsxs("div",{className:"text-gray-700 mt-2",children:[((S=a.shippingReturn)==null?void 0:S.storeName)||"","（",((_=a.shippingReturn)==null?void 0:_.storeId)||"","）"]})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"物流資訊"}),r.jsxs("div",{children:["物流：",((L=a.shippingReturn)==null?void 0:L.carrier)||((R=a.shippingReturn)==null?void 0:R.provider)||"—"]}),r.jsxs("div",{children:["追蹤：",((F=a.shippingReturn)==null?void 0:F.trackingNo)||"—"]}),r.jsxs("div",{children:["狀態：",a.status||"—"]})]})]})}),e==="payment"&&r.jsxs("div",{className:"text-sm space-y-3",children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:n?"付款方式":"退款方式"}),r.jsxs("div",{children:[((M=a.payment)==null?void 0:M.method)||"—","（",(($=a.payment)==null?void 0:$.status)||"—","）"]})]}),n?r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"小計"}),r.jsx("div",{className:"font-medium mt-1",children:Pr((D=a.totals)==null?void 0:D.subtotal)})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"折扣"}),r.jsx("div",{className:"font-medium mt-1",children:Pr((z=a.totals)==null?void 0:z.discount)})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"運費"}),r.jsx("div",{className:"font-medium mt-1",children:Pr((Z=a.totals)==null?void 0:Z.shipping)})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"應付金額"}),r.jsx("div",{className:"font-semibold mt-1",children:Pr((B=a.totals)==null?void 0:B.grandTotal)})]})]}):r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"退貨商品金額"}),r.jsx("div",{className:"font-medium mt-1",children:Pr((G=a.amounts)==null?void 0:G.subtotal)})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"退運費"}),r.jsx("div",{className:"font-medium mt-1",children:Pr((K=a.amounts)==null?void 0:K.shippingRefund)})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"退款總額"}),r.jsx("div",{className:"font-semibold text-red-600 mt-1",children:Pr((H=a.amounts)==null?void 0:H.totalRefund)})]})]})]}),e==="invoice"&&r.jsx("div",{className:"text-sm grid md:grid-cols-2 gap-3",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"發票類型"}),r.jsx("div",{className:"mt-1",children:((q=a.invoice)==null?void 0:q.type)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"發票號碼"}),r.jsx("div",{className:"mt-1",children:((ne=a.invoice)==null?void 0:ne.number)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"載具"}),r.jsx("div",{className:"mt-1",children:((ie=a.invoice)==null?void 0:ie.carrier)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"抬頭"}),r.jsx("div",{className:"mt-1",children:((ue=a.invoice)==null?void 0:ue.title)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"開立日期"}),r.jsx("div",{className:"mt-1",children:((J=a.invoice)==null?void 0:J.issuedAt)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"狀態"}),r.jsx("div",{className:"mt-1",children:((oe=a.invoice)==null?void 0:oe.status)||"—"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"類型"}),r.jsx("div",{className:"mt-1",children:((re=a.invoice)==null?void 0:re.type)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"折讓單號"}),r.jsx("div",{className:"mt-1",children:((ee=a.invoice)==null?void 0:ee.number)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"開立日期"}),r.jsx("div",{className:"mt-1",children:((Re=a.invoice)==null?void 0:Re.issuedAt)||"—"})]}),r.jsxs("div",{className:"glass rounded-lg p-3",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"狀態"}),r.jsx("div",{className:"mt-1",children:((De=a.invoice)==null?void 0:De.status)||"—"})]})]})})]})},i5={臺北市:[{name:"中正區",zip:"100"},{name:"大同區",zip:"103"},{name:"中山區",zip:"104"},{name:"松山區",zip:"105"},{name:"大安區",zip:"106"},{name:"萬華區",zip:"108"},{name:"信義區",zip:"110"},{name:"士林區",zip:"111"},{name:"北投區",zip:"112"},{name:"內湖區",zip:"114"},{name:"南港區",zip:"115"},{name:"文山區",zip:"116"}],新北市:[{name:"板橋區",zip:"220"},{name:"新莊區",zip:"242"},{name:"中和區",zip:"235"},{name:"永和區",zip:"234"},{name:"土城區",zip:"236"},{name:"樹林區",zip:"238"},{name:"三峽區",zip:"237"},{name:"鶯歌區",zip:"239"},{name:"三重區",zip:"241"},{name:"蘆洲區",zip:"247"},{name:"五股區",zip:"248"},{name:"泰山區",zip:"243"},{name:"林口區",zip:"244"},{name:"淡水區",zip:"251"},{name:"八里區",zip:"249"},{name:"三芝區",zip:"252"},{name:"石門區",zip:"253"},{name:"金山區",zip:"208"},{name:"萬里區",zip:"207"},{name:"汐止區",zip:"221"},{name:"瑞芳區",zip:"224"},{name:"貢寮區",zip:"228"},{name:"平溪區",zip:"226"},{name:"雙溪區",zip:"227"},{name:"石碇區",zip:"223"},{name:"深坑區",zip:"222"},{name:"新店區",zip:"231"},{name:"坪林區",zip:"232"},{name:"烏來區",zip:"233"}],桃園市:[{name:"桃園區",zip:"330"},{name:"中壢區",zip:"320"},{name:"平鎮區",zip:"324"},{name:"八德區",zip:"334"},{name:"楊梅區",zip:"326"},{name:"蘆竹區",zip:"338"},{name:"大溪區",zip:"335"},{name:"龍潭區",zip:"325"},{name:"龜山區",zip:"333"},{name:"大園區",zip:"337"},{name:"觀音區",zip:"328"},{name:"新屋區",zip:"327"},{name:"復興區",zip:"336"}],臺中市:[{name:"中區",zip:"400"},{name:"東區",zip:"401"},{name:"南區",zip:"402"},{name:"西區",zip:"403"},{name:"北區",zip:"404"},{name:"北屯區",zip:"406"},{name:"西屯區",zip:"407"},{name:"南屯區",zip:"408"},{name:"太平區",zip:"411"},{name:"大里區",zip:"412"},{name:"霧峰區",zip:"413"},{name:"豐原區",zip:"420"},{name:"后里區",zip:"421"},{name:"石岡區",zip:"422"},{name:"東勢區",zip:"423"},{name:"新社區",zip:"424"},{name:"潭子區",zip:"427"},{name:"大雅區",zip:"428"},{name:"神岡區",zip:"429"},{name:"大肚區",zip:"432"},{name:"沙鹿區",zip:"433"},{name:"龍井區",zip:"434"},{name:"梧棲區",zip:"435"},{name:"清水區",zip:"436"},{name:"大甲區",zip:"437"},{name:"外埔區",zip:"438"},{name:"大安區",zip:"439"},{name:"和平區",zip:"424"}],臺南市:[{name:"中西區",zip:"700"},{name:"東區",zip:"701"},{name:"南區",zip:"702"},{name:"北區",zip:"704"},{name:"安平區",zip:"708"},{name:"安南區",zip:"709"},{name:"永康區",zip:"710"},{name:"歸仁區",zip:"711"},{name:"新化區",zip:"712"},{name:"仁德區",zip:"717"},{name:"關廟區",zip:"718"},{name:"新市區",zip:"744"}],高雄市:[{name:"新興區",zip:"800"},{name:"前金區",zip:"801"},{name:"苓雅區",zip:"802"},{name:"鹽埕區",zip:"803"},{name:"鼓山區",zip:"804"},{name:"旗津區",zip:"805"},{name:"前鎮區",zip:"806"},{name:"三民區",zip:"807"},{name:"楠梓區",zip:"811"},{name:"小港區",zip:"812"},{name:"左營區",zip:"813"},{name:"鳳山區",zip:"830"},{name:"大寮區",zip:"831"},{name:"仁武區",zip:"814"},{name:"岡山區",zip:"820"},{name:"路竹區",zip:"821"},{name:"橋頭區",zip:"825"},{name:"梓官區",zip:"826"},{name:"彌陀區",zip:"827"},{name:"永安區",zip:"828"},{name:"湖內區",zip:"829"},{name:"大樹區",zip:"840"},{name:"大社區",zip:"815"}],基隆市:[{name:"仁愛區",zip:"200"},{name:"信義區",zip:"201"},{name:"中正區",zip:"202"},{name:"中山區",zip:"203"},{name:"安樂區",zip:"204"},{name:"暖暖區",zip:"205"},{name:"七堵區",zip:"206"}],新竹市:[{name:"東區",zip:"300"},{name:"北區",zip:"300"},{name:"香山區",zip:"300"}],嘉義市:[{name:"東區",zip:"600"},{name:"西區",zip:"600"}]},fM=Object.keys(i5);function pM(t){return i5[t]||[]}const gM=({newAddress:t,setNewAddress:e,onSave:s,saving:n})=>{const a=f.useMemo(()=>(fM||[]).map(l=>({value:l,label:l})),[]),i=f.useMemo(()=>t.city?pM(t.city).map(l=>({value:l.name,label:`${l.name}（${l.zip}）`,zip:l.zip})):[],[t.city]);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"收件人"}),r.jsx("input",{value:t.contactName||"",onChange:l=>e(o=>({...o,contactName:l.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"王小明"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"電話"}),r.jsx("input",{value:t.phone||"",onChange:l=>e(o=>({...o,phone:l.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"09xx-xxx-xxx"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"縣市"}),r.jsx(_e,{options:a,value:t.city||null,onChange:l=>e(o=>({...o,city:l,district:"",postalCode:""})),placeholder:"選擇縣市"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"行政區"}),r.jsx(_e,{options:i,value:t.district||null,onChange:(l,o)=>e(c=>({...c,district:l,postalCode:(o==null?void 0:o.zip)||""})),placeholder:"選擇行政區",disabled:!t.city})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"郵遞區號"}),r.jsx("input",{value:t.postalCode||"",onChange:l=>e(o=>({...o,postalCode:l.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"e.g., 100"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"詳細地址"}),r.jsx("input",{value:t.streetAddress||"",onChange:l=>e(o=>({...o,streetAddress:l.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"某某路 123 號 5 樓"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!t.isDefault,onChange:l=>e(o=>({...o,isDefault:l.target.checked}))}),"設為預設地址"]}),r.jsx("button",{onClick:s,disabled:!!n,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",children:n?"儲存中…":"新增地址"})]})]})},xM=[{value:"711",label:"7-ELEVEN",icon:()=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-sm bg-green-600"})},{value:"familymart",label:"全家 FamilyMart",icon:()=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-sm bg-emerald-500"})},{value:"hilife",label:"萊爾富 Hi-Life",icon:()=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-sm bg-red-500"})},{value:"okmart",label:"OK mart",icon:()=>r.jsx("span",{className:"inline-block w-4 h-4 rounded-sm bg-rose-500"})}],yM=({newAddress:t,setNewAddress:e,onSave:s,saving:n})=>{const a=f.useMemo(()=>xM.map(i=>({value:i.value,label:i.label,icon:i.icon})),[]);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"取件人"}),r.jsx("input",{value:t.contactName||"",onChange:i=>e(l=>({...l,contactName:i.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"王小明"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"電話"}),r.jsx("input",{value:t.phone||"",onChange:i=>e(l=>({...l,phone:i.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"09xx-xxx-xxx"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"超商"}),r.jsx(_e,{options:a,value:t.provider||null,onChange:i=>e(l=>({...l,provider:i})),placeholder:"選擇品牌"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"門市名稱"}),r.jsx("input",{value:t.storeName||"",onChange:i=>e(l=>({...l,storeName:i.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"如 台北站前門市"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"門市代號"}),r.jsx("input",{value:t.storeId||"",onChange:i=>e(l=>({...l,storeId:i.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"e.g., 123456"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"門市地址"}),r.jsx("input",{value:t.storeAddress||"",onChange:i=>e(l=>({...l,storeAddress:i.target.value})),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"完整地址"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:!!t.isDefault,onChange:i=>e(l=>({...l,isDefault:i.target.checked}))}),"設為預設門市"]}),r.jsx("button",{onClick:s,disabled:!!n,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",children:n?"儲存中…":"新增門市"})]})]})},vM=({selectedLevel:t,onChangeLevel:e,selectedStatus:s,onChangeStatus:n,total:a})=>r.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(m8,{className:"w-5 h-5 text-gray-400"}),r.jsx(_e,{options:[{value:"全部",label:"全部等級"},{value:"VIP",label:"VIP"},{value:"金卡",label:"金卡"},{value:"銀卡",label:"銀卡"},{value:"一般",label:"一般"}],value:t,onChange:e,placeholder:"選擇會員等級",className:"w-36"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vc,{className:"w-5 h-5 text-gray-400"}),r.jsx(_e,{options:[{value:"全部",label:"全部狀態"},{value:"active",label:"活動"},{value:"inactive",label:"休眠"}],value:s,onChange:n,placeholder:"選擇會員狀態",className:"w-28"})]}),r.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["共 ",a," 位會員"]})]})}),bM=({orders:t,onOpen:e})=>!t||t.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚無訂單"}):r.jsx("div",{className:"space-y-3",children:t.map(s=>r.jsx("button",{className:"w-full text-left glass rounded-xl p-4 hover:bg-white/60 transition",onClick:()=>e({type:"order",data:s}),children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[r.jsx("div",{className:"font-mono text-sm",children:s.orderNo}),r.jsx("div",{className:"text-sm text-gray-600",children:s.createdAt}),r.jsxs("div",{className:"text-sm font-semibold",children:["NT$ ",s.totals.grandTotal.toLocaleString()]}),r.jsx("div",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-700",children:s.status})]})},s.id))}),jM=({refunds:t,onOpen:e})=>!t||t.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚無退款紀錄"}):r.jsx("div",{className:"space-y-3",children:t.map(s=>r.jsx("button",{className:"w-full text-left glass rounded-xl p-4 hover:bg-white/60 transition",onClick:()=>e({type:"refund",data:s}),children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[r.jsx("div",{className:"font-mono text-sm",children:s.refundNo}),r.jsx("div",{className:"text-sm text-gray-600",children:s.createdAt}),r.jsxs("div",{className:"text-sm font-semibold text-red-600",children:["- NT$ ",s.amounts.totalRefund.toLocaleString()]}),r.jsx("div",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-700",children:s.status})]})},s.id))}),NM=({addresses:t,memberId:e,refreshAfter:s,dataManager:n})=>{const a=(t||[]).filter(i=>i.type==="home");return a.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚無宅配地址"}):r.jsx("div",{className:"space-y-3",children:a.map(i=>r.jsxs("div",{className:"glass rounded-xl p-4 flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-chinese font-semibold",children:[i.contactName,"（",i.phone,"）",i.isDefault&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded",children:"預設"})]}),r.jsxs("div",{className:"text-gray-600",children:[i.postalCode," ",i.city,i.district,i.streetAddress]})]}),r.jsxs("div",{className:"flex gap-2 mt-3 md:mt-0",children:[!i.isDefault&&r.jsx("button",{className:"px-3 py-1 text-xs bg-blue-600 text-white rounded",onClick:async()=>{await n.setDefaultShippingAddress(e,i.id),await s()},children:"設為預設"}),r.jsx("button",{className:"px-3 py-1 text-xs bg-red-600 text-white rounded",onClick:async()=>{await n.deleteShippingAddress(e,i.id),await s()},children:"刪除"})]})]},i.id))})},wM=({addresses:t,memberId:e,refreshAfter:s,dataManager:n})=>{const a=(t||[]).filter(i=>i.type==="cvs");return a.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"尚無超商取貨地址"}):r.jsx("div",{className:"space-y-3",children:a.map(i=>r.jsxs("div",{className:"glass rounded-xl p-4 flex flex-col md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"font-chinese font-semibold",children:[i.provider," 門市",i.isDefault&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded",children:"預設"})]}),r.jsxs("div",{className:"text-gray-600",children:[i.storeName,"（",i.storeId,"）- ",i.storeAddress]})]}),r.jsxs("div",{className:"flex gap-2 mt-3 md:mt-0",children:[!i.isDefault&&r.jsx("button",{className:"px-3 py-1 text-xs bg-blue-600 text-white rounded",onClick:async()=>{await n.setDefaultShippingAddress(e,i.id),await s()},children:"設為預設"}),r.jsx("button",{className:"px-3 py-1 text-xs bg-red-600 text-white rounded",onClick:async()=>{await n.deleteShippingAddress(e,i.id),await s()},children:"刪除"})]})]},i.id))})},_M=[],SM=()=>{const[t,e]=f.useState("全部"),[s,n]=f.useState("全部"),[a,i]=f.useState(!1),[l,o]=f.useState(null),[c,d]=f.useState("profile"),[m,u]=f.useState([]),[h,g]=f.useState([]),[p,x]=f.useState(null),[j,v]=f.useState(_M),[y,b]=f.useState({type:"home",contactName:"",phone:"",postalCode:"",city:"",district:"",streetAddress:"",provider:"7-ELEVEN",storeId:"",storeName:"",storeAddress:""});f.useEffect(()=>{(async()=>{const{success:C,data:A}=await cn.getMembers();C&&v(A)})()},[]),f.useEffect(()=>{(async()=>{if(l!=null&&l.id){const{success:C,data:A}=await uv.getOrdersByMember(l.id);C&&u(A);const I=await uv.getRefundsByMember(l.id);I.success&&g(I.data)}else u([]),g([])})()},[l]);const N=()=>x(null),w=f.useMemo(()=>j.filter(C=>{const A=t==="全部"||C.level===t,I=s==="全部"||C.status===s;return A&&I}),[t,s,j]),k=E=>{const C={VIP:{bg:"bg-purple-100",text:"text-purple-700",icon:"👑"},金卡:{bg:"bg-yellow-100",text:"text-yellow-700",icon:"🥇"},銀卡:{bg:"bg-gray-100",text:"text-gray-700",icon:"🥈"},一般:{bg:"bg-blue-100",text:"text-blue-700",icon:"✅"}},A=C[E]||C.一般;return r.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-bold rounded font-chinese ${A.bg} ${A.text}`,children:[A.icon," ",E]})},T=E=>E==="active"?r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-green-100 text-green-700 rounded font-chinese",children:"活動"}):r.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-red-100 text-red-700 rounded font-chinese",children:"休眠"}),P=[{key:"memberNo",label:"會員編號",sortable:!0,render:E=>r.jsx("span",{className:"font-mono text-sm",children:E})},{key:"name",label:"姓名",sortable:!0,render:E=>r.jsx("span",{className:"font-chinese font-medium",children:E})},{key:"contact",label:"聯絡資料",sortable:!1,render:(E,C)=>r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{children:C.email}),r.jsx("div",{className:"text-gray-500",children:C.phone})]})},{key:"level",label:"會員等級",sortable:!0,render:E=>k(E)},{key:"totalSpent",label:"消費金額",sortable:!0,render:E=>r.jsxs("span",{className:"font-bold text-green-600",children:["NT$ ",Number(E||0).toLocaleString()]})},{key:"points",label:"積分",sortable:!0,render:E=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(yT,{className:"w-4 h-4 text-amber-500 mr-1"}),E]})},{key:"orders",label:"訂單數",sortable:!0},{key:"status",label:"狀態",sortable:!1,render:E=>T(E)},{key:"tags",label:"標籤",sortable:!1,render:(E=[])=>r.jsx("div",{className:"flex flex-wrap gap-1",children:E.slice(0,2).map((C,A)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded font-chinese",children:[r.jsx(ha,{className:"w-3 h-3 mr-1"}),C]},A))})},{key:"actions",label:"操作",sortable:!1,render:(E,C)=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"查看詳情",onClick:()=>o(C),children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"編輯",children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-purple-600 hover:bg-purple-100 rounded",title:"溝通紀錄",children:r.jsx(m6,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-amber-600 hover:bg-amber-100 rounded",title:"積分管理",children:r.jsx(yN,{className:"w-4 h-4"})})]})}];return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:ADMIN_STYLES.contentContainerStandard,children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dm,{className:"w-8 h-8 text-amber-500 mr-3"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"會員管理系統"})]}),r.jsxs("button",{className:"btn btn-primary flex items-center",onClick:()=>i(!0),children:[r.jsx(Sr,{className:"w-5 h-5 mr-2"}),"新增會員"]})]}),r.jsx(vM,{selectedLevel:t,onChangeLevel:e,selectedStatus:s,onChangeStatus:n,total:w.length}),r.jsx(_i,{data:w,columns:P,title:"會員清單",emptyMessage:"沒有找到符合條件的會員資料",exportFileName:"會員清單"}),r.jsx(Zs,{isOpen:!!l,onClose:()=>{x(null),o(null)},title:"會員詳情",size:"max-w-2xl",children:l&&r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx(xi,{mode:"controlled",activeKey:c,onTabChange:E=>d(E.key),layout:"left",tabs:[{key:"profile",label:"基本資料"},{key:"orders",label:`訂單 (${m.length})`},{key:"home",label:"宅配地址"},{key:"cvs",label:"超商取貨地址"},{key:"refunds",label:`退款 (${h.length})`}]}),c==="profile"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"會員編號"}),r.jsx("div",{className:"text-gray-900",children:l.memberNo})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"姓名"}),r.jsx("div",{className:"text-gray-900 font-chinese",children:l.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"Email"}),r.jsx("div",{className:"text-gray-900",children:l.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"電話"}),r.jsx("div",{className:"text-gray-900",children:l.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"性別"}),r.jsx("div",{className:"text-gray-900 font-chinese",children:l.gender})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"生日"}),r.jsx("div",{className:"text-gray-900",children:l.birthday})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"註冊日期"}),r.jsx("div",{className:"text-gray-900",children:l.registerDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"最後登入"}),r.jsx("div",{className:"text-gray-900",children:l.lastLoginDate})]})]}),r.jsxs("div",{className:"border-t border-white/30 pt-6",children:[r.jsx("h3",{className:"text-lg font-bold font-chinese mb-4",children:"會員標籤"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(l.tags||[]).map((E,C)=>r.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm bg-blue-100/80 text-blue-700 rounded-full font-chinese backdrop-blur-sm",children:[r.jsx(ha,{className:"w-4 h-4 mr-1"}),E]},C))})]})]}),c==="orders"&&r.jsx(bM,{orders:m,onOpen:x}),c==="refunds"&&r.jsx(jM,{refunds:h,onOpen:x}),c==="home"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(NM,{addresses:l.shippingAddresses,memberId:l.id,dataManager:cn,refreshAfter:async()=>{const{data:E}=await cn.getMembers();v(E),o(E.find(C=>C.id===l.id))}}),r.jsx("div",{className:"mt-2",children:r.jsx(gM,{newAddress:y,setNewAddress:b,onSave:async()=>{const E={type:"home",contactName:y.contactName,phone:y.phone,postalCode:y.postalCode,city:y.city,district:y.district,streetAddress:y.streetAddress,isDefault:!!y.isDefault};await cn.addShippingAddress(l.id,E);const{data:C}=await cn.getMembers();v(C);const A=C.find(I=>I.id===l.id);o(A),b({type:"home",contactName:"",phone:"",postalCode:"",city:"",district:"",streetAddress:"",provider:"7-ELEVEN",storeId:"",storeName:"",storeAddress:""})}})})]}),c==="cvs"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(wM,{addresses:l.shippingAddresses,memberId:l.id,dataManager:cn,refreshAfter:async()=>{const{data:E}=await cn.getMembers();v(E),o(E.find(C=>C.id===l.id))}}),r.jsx("div",{className:"mt-2",children:r.jsx(yM,{newAddress:y,setNewAddress:b,onSave:async()=>{const E={type:"cvs",provider:y.provider,storeId:y.storeId,storeName:y.storeName,storeAddress:y.storeAddress,isDefault:!!y.isDefault};await cn.addShippingAddress(l.id,E);const{data:C}=await cn.getMembers();v(C);const A=C.find(I=>I.id===l.id);o(A),b({type:"home",contactName:"",phone:"",postalCode:"",city:"",district:"",streetAddress:"",provider:"7-ELEVEN",storeId:"",storeName:"",storeAddress:""})}})})]})]})}),p&&r.jsx(Zs,{isOpen:!!p,onClose:N,title:p.type==="order"?`訂單詳情：${p.data.orderNo}`:`退款詳情：${p.data.refundNo}`,size:"max-w-4xl",children:r.jsx("div",{className:"p-4",children:r.jsx(hM,{detail:p})})})]})})},Zh=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Ee={ACTIVE:"active",INACTIVE:"inactive",PENDING:"pending",SUSPENDED:"suspended",BLACKLISTED:"blacklisted"},Fe={A_STRATEGIC:"A",B_PREFERRED:"B",C_QUALIFIED:"C",D_CONDITIONAL:"D",E_UNQUALIFIED:"E"},Qh={CORPORATION:"corporation",LIMITED:"limited",PARTNERSHIP:"partnership",SOLE_PROPRIETORSHIP:"sole",FOREIGN:"foreign"},Xh={PRIMARY:"primary",SALES:"sales",TECHNICAL:"technical",FINANCE:"finance",LOGISTICS:"logistics",QUALITY:"quality"},CM=[{id:"supplier-001",companyName:"美妝世界股份有限公司",companyNameEn:"Beauty World Corp.",taxId:"12345678",businessLicense:"BL-2023-001",establishedDate:"2015-03-15",companyType:Qh.CORPORATION,industry:"化妝品批發",scale:"medium",website:"https://beautyworld.com.tw",description:"專業化妝品供應商，提供各類美妝產品",logo:"/images/suppliers/beauty-world-logo.png",status:Ee.ACTIVE,grade:Fe.A_STRATEGIC,overallRating:4.8,createdAt:"2023-01-15T08:00:00Z",updatedAt:"2024-12-01T10:30:00Z"},{id:"supplier-002",companyName:"精品包裝有限公司",companyNameEn:"Premium Packaging Ltd.",taxId:"87654321",businessLicense:"BL-2023-002",establishedDate:"2018-08-20",companyType:Qh.LIMITED,industry:"包裝材料",scale:"small",website:"https://premium-pack.com",description:"專業包裝材料供應商，提供精美包裝解決方案",logo:"/images/suppliers/premium-pack-logo.png",status:Ee.ACTIVE,grade:Fe.B_PREFERRED,overallRating:4.5,createdAt:"2023-02-20T09:15:00Z",updatedAt:"2024-11-28T14:20:00Z"},{id:"supplier-003",companyName:"綠色環保材料企業社",companyNameEn:"Green Eco Materials",taxId:"11223344",businessLicense:"BL-2023-003",establishedDate:"2020-12-10",companyType:Qh.SOLE_PROPRIETORSHIP,industry:"環保材料",scale:"small",website:"https://green-eco.tw",description:"專注於環保材料的供應商，提供可持續包裝解決方案",logo:"/images/suppliers/green-eco-logo.png",status:Ee.ACTIVE,grade:Fe.C_QUALIFIED,overallRating:4.2,createdAt:"2023-03-10T11:00:00Z",updatedAt:"2024-11-25T16:45:00Z"}],kM=[{id:"contact-001",supplierId:"supplier-001",contactType:Xh.PRIMARY,name:"張美玲",title:"業務經理",department:"業務部",phone:"02-2234-5678",mobile:"0912-345-678",email:"meiling.zhang@beautyworld.com.tw",wechat:"meiling_zhang",line:"meiling123",isPrimary:!0,isActive:!0,notes:"主要業務聯絡人，負責產品報價與訂單處理"},{id:"contact-002",supplierId:"supplier-001",contactType:Xh.TECHNICAL,name:"李技師",title:"技術顧問",department:"技術部",phone:"02-2234-5679",mobile:"0987-654-321",email:"tech.li@beautyworld.com.tw",isPrimary:!1,isActive:!0,notes:"技術問題聯絡人"},{id:"contact-003",supplierId:"supplier-002",contactType:Xh.SALES,name:"王小明",title:"銷售代表",department:"銷售部",phone:"02-8765-4321",mobile:"0923-456-789",email:"xiaoming.wang@premium-pack.com",isPrimary:!0,isActive:!0,notes:"包裝材料業務負責人"}],TM=[{id:"sp-001",supplierId:"supplier-001",productId:"product-001",supplierProductCode:"BW-LP-001",supplierProductName:"保濕唇膏經典款",supplierPrice:85,currency:"TWD",minOrderQuantity:100,maxOrderQuantity:5e3,leadTimeDays:7,availability:"in_stock",supplierStock:2500,lastPriceUpdate:"2024-11-15T10:00:00Z",isMainSupplier:!0,priority:1,status:"active",notes:"熱銷商品，建議保持充足庫存"},{id:"sp-002",supplierId:"supplier-002",productId:"product-002",supplierProductCode:"PP-BOX-001",supplierProductName:"精美禮品盒",supplierPrice:25,currency:"TWD",minOrderQuantity:200,leadTimeDays:10,availability:"in_stock",supplierStock:1e3,lastPriceUpdate:"2024-11-10T15:30:00Z",isMainSupplier:!0,priority:1,status:"active",notes:"可客製化印刷"}],EM=[{id:"perf-001",supplierId:"supplier-001",evaluationPeriod:{start:"2024-07-01",end:"2024-09-30"},evaluationType:"quarterly",overallRating:4.8,qualityScore:4.9,deliveryScore:4.7,serviceScore:4.8,costScore:4.6,onTimeDeliveryRate:95.5,qualityPassRate:98.2,defectRate:1.8,returnRate:.5,averageLeadTime:6.5,responseTime:2.1,evaluatedBy:"admin-001",status:"completed",createdAt:"2024-10-01T09:00:00Z"},{id:"perf-002",supplierId:"supplier-002",evaluationPeriod:{start:"2024-07-01",end:"2024-09-30"},evaluationType:"quarterly",overallRating:4.5,qualityScore:4.6,deliveryScore:4.3,serviceScore:4.7,costScore:4.4,onTimeDeliveryRate:89.2,qualityPassRate:96.8,defectRate:3.2,returnRate:1.2,averageLeadTime:9.8,responseTime:3.5,evaluatedBy:"admin-001",status:"completed",createdAt:"2024-10-01T10:30:00Z"}];class AM{constructor(){this.storageKey="marelle-suppliers",this.contactsKey="marelle-supplier-contacts",this.productsKey="marelle-supplier-products",this.performanceKey="marelle-supplier-performance",this.initializeData()}initializeData(){localStorage.getItem(this.storageKey)||localStorage.setItem(this.storageKey,JSON.stringify(CM)),localStorage.getItem(this.contactsKey)||localStorage.setItem(this.contactsKey,JSON.stringify(kM)),localStorage.getItem(this.productsKey)||localStorage.setItem(this.productsKey,JSON.stringify(TM)),localStorage.getItem(this.performanceKey)||localStorage.setItem(this.performanceKey,JSON.stringify(EM))}getAllSuppliers(){try{return JSON.parse(localStorage.getItem(this.storageKey)||"[]").map(s=>({...s,contactsCount:this.getSupplierContacts(s.id).length,productsCount:this.getSupplierProducts(s.id).length,latestPerformance:this.getLatestPerformance(s.id)}))}catch(e){return console.error("Error loading suppliers:",e),[]}}getSupplierById(e){return this.getAllSuppliers().find(n=>n.id===e)}createSupplier(e){try{const s=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),n={id:Zh(),...e,status:e.status||Ee.PENDING,grade:e.grade||Fe.E_UNQUALIFIED,overallRating:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return s.push(n),localStorage.setItem(this.storageKey,JSON.stringify(s)),{success:!0,supplier:n}}catch(s){return console.error("Error creating supplier:",s),{success:!1,error:s.message}}}updateSupplier(e,s){try{const n=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),a=n.findIndex(i=>i.id===e);return a===-1?{success:!1,error:"Supplier not found"}:(n[a]={...n[a],...s,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(n)),{success:!0,supplier:n[a]})}catch(n){return console.error("Error updating supplier:",n),{success:!1,error:n.message}}}deleteSupplier(e){try{const n=JSON.parse(localStorage.getItem(this.storageKey)||"[]").filter(a=>a.id!==e);return this.deleteSupplierContacts(e),this.deleteSupplierProducts(e),localStorage.setItem(this.storageKey,JSON.stringify(n)),{success:!0}}catch(s){return console.error("Error deleting supplier:",s),{success:!1,error:s.message}}}getSupplierContacts(e){try{return JSON.parse(localStorage.getItem(this.contactsKey)||"[]").filter(n=>n.supplierId===e)}catch(s){return console.error("Error loading contacts:",s),[]}}createContact(e){try{const s=JSON.parse(localStorage.getItem(this.contactsKey)||"[]"),n={id:Zh(),...e,isActive:!0,createdAt:new Date().toISOString()};return s.push(n),localStorage.setItem(this.contactsKey,JSON.stringify(s)),{success:!0,contact:n}}catch(s){return console.error("Error creating contact:",s),{success:!1,error:s.message}}}updateContact(e,s){try{const n=JSON.parse(localStorage.getItem(this.contactsKey)||"[]"),a=n.findIndex(i=>i.id===e);return a===-1?{success:!1,error:"Contact not found"}:(n[a]={...n[a],...s},localStorage.setItem(this.contactsKey,JSON.stringify(n)),{success:!0,contact:n[a]})}catch(n){return console.error("Error updating contact:",n),{success:!1,error:n.message}}}deleteContact(e){try{const n=JSON.parse(localStorage.getItem(this.contactsKey)||"[]").filter(a=>a.id!==e);return localStorage.setItem(this.contactsKey,JSON.stringify(n)),{success:!0}}catch(s){return console.error("Error deleting contact:",s),{success:!1,error:s.message}}}deleteSupplierContacts(e){try{const n=JSON.parse(localStorage.getItem(this.contactsKey)||"[]").filter(a=>a.supplierId!==e);localStorage.setItem(this.contactsKey,JSON.stringify(n))}catch(s){console.error("Error deleting supplier contacts:",s)}}getSupplierProducts(e){try{return JSON.parse(localStorage.getItem(this.productsKey)||"[]").filter(n=>n.supplierId===e)}catch(s){return console.error("Error loading supplier products:",s),[]}}createSupplierProduct(e){try{const s=JSON.parse(localStorage.getItem(this.productsKey)||"[]"),n={id:Zh(),...e,currency:e.currency||"TWD",availability:e.availability||"in_stock",status:"active",lastPriceUpdate:new Date().toISOString(),createdAt:new Date().toISOString()};return s.push(n),localStorage.setItem(this.productsKey,JSON.stringify(s)),{success:!0,supplierProduct:n}}catch(s){return console.error("Error creating supplier product:",s),{success:!1,error:s.message}}}deleteSupplierProducts(e){try{const n=JSON.parse(localStorage.getItem(this.productsKey)||"[]").filter(a=>a.supplierId!==e);localStorage.setItem(this.productsKey,JSON.stringify(n))}catch(s){console.error("Error deleting supplier products:",s)}}getLatestPerformance(e){try{return JSON.parse(localStorage.getItem(this.performanceKey)||"[]").filter(a=>a.supplierId===e).sort((a,i)=>new Date(i.createdAt)-new Date(a.createdAt))[0]}catch(s){return console.error("Error loading performance:",s),null}}getSupplierPerformances(e){try{return JSON.parse(localStorage.getItem(this.performanceKey)||"[]").filter(n=>n.supplierId===e)}catch(s){return console.error("Error loading performances:",s),[]}}searchSuppliers(e,s={}){let n=this.getAllSuppliers();if(e){const a=e.toLowerCase();n=n.filter(i=>{var l;return i.companyName.toLowerCase().includes(a)||((l=i.companyNameEn)==null?void 0:l.toLowerCase().includes(a))||i.taxId.includes(a)||i.industry.toLowerCase().includes(a)})}return s.status&&(n=n.filter(a=>a.status===s.status)),s.grade&&(n=n.filter(a=>a.grade===s.grade)),s.companyType&&(n=n.filter(a=>a.companyType===s.companyType)),s.minRating&&(n=n.filter(a=>a.overallRating>=s.minRating)),n}getSupplierStatistics(){const e=this.getAllSuppliers();return{total:e.length,active:e.filter(s=>s.status===Ee.ACTIVE).length,pending:e.filter(s=>s.status===Ee.PENDING).length,suspended:e.filter(s=>s.status===Ee.SUSPENDED).length,gradeDistribution:{A:e.filter(s=>s.grade===Fe.A_STRATEGIC).length,B:e.filter(s=>s.grade===Fe.B_PREFERRED).length,C:e.filter(s=>s.grade===Fe.C_QUALIFIED).length,D:e.filter(s=>s.grade===Fe.D_CONDITIONAL).length,E:e.filter(s=>s.grade===Fe.E_UNQUALIFIED).length},averageRating:e.reduce((s,n)=>s+n.overallRating,0)/e.length||0}}}const nl=new AM,mv=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0),[a,i]=f.useState({search:"",status:"all",grade:"all"}),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[h,g]=f.useState(null),[p,x]=f.useState({status:"",grade:"",website:""}),[j,v]=f.useState({companyName:"",industry:"",taxId:"",website:"",establishedDate:"",status:Ee.PENDING,grade:Fe.E_UNQUALIFIED}),[y,b]=f.useState(!1),[N,w]=f.useState(!1);f.useEffect(()=>{k()},[a]);const k=()=>{n(!0);try{const _=(nl.getAllSuppliers()||[]).filter(L=>{const R=(a.search||"").toLowerCase(),F=!R||[L.companyName,L.companyNameEn,L.taxId,L.industry,L.website].some(D=>String(D||"").toLowerCase().includes(R)),M=a.status==="all"||L.status===a.status,$=a.grade==="all"||L.grade===a.grade;return F&&M&&$});e(_)}catch(S){console.error("Error loading suppliers:",S),e([])}finally{n(!1)}},T=S=>{const _={[Ee.ACTIVE]:"bg-green-100 text-green-800",[Ee.PENDING]:"bg-yellow-100 text-yellow-800",[Ee.SUSPENDED]:"bg-red-100 text-red-800",[Ee.BLACKLISTED]:"bg-red-100 text-red-900",inactive:"bg-gray-100 text-gray-800"},L={[Ee.ACTIVE]:"活躍",[Ee.PENDING]:"待審核",[Ee.SUSPENDED]:"暫停",[Ee.BLACKLISTED]:"黑名單",inactive:"停用"},R=_[S]||"bg-gray-100 text-gray-800",F=L[S]||S;return r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${R}`,children:F})},P=S=>{g(S),o(!0)},E=S=>{g(S),x({status:S.status||Ee.PENDING,grade:S.grade||Fe.E_UNQUALIFIED,website:S.website||""}),d(!0)},C=()=>{if(h){b(!0);try{const S=nl.updateSupplier(h.id,{status:p.status,grade:p.grade,website:p.website});S!=null&&S.success||alert("儲存失敗："+((S==null?void 0:S.error)||"未知錯誤")),k(),d(!1)}catch(S){console.error("更新供應商失敗",S),alert("更新供應商失敗")}finally{b(!1)}}},A=S=>{if(window.confirm("確定要刪除這個供應商嗎？此操作會一併刪除相關聯絡人和採購記錄。")){const _=nl.deleteSupplier(S);_.success?k():alert("刪除失敗："+_.error)}},I=()=>{if(!j.companyName||!j.companyName.trim()){alert("請輸入供應商名稱");return}w(!0);try{const S={companyName:j.companyName.trim(),industry:j.industry||"",taxId:j.taxId||"",website:j.website||"",establishedDate:j.establishedDate||"",status:j.status,grade:j.grade},_=nl.createSupplier(S);_!=null&&_.success?(k(),u(!1),v({companyName:"",industry:"",taxId:"",website:"",establishedDate:"",status:Ee.PENDING,grade:Fe.E_UNQUALIFIED})):alert("建立失敗："+((_==null?void 0:_.error)||"未知錯誤"))}catch(S){console.error("建立供應商失敗",S),alert("建立供應商失敗")}finally{w(!1)}};return s?r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"flex justify-center items-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"載入供應商數據中..."})]})}):r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"供應商管理"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有供應商信息與合作關係"})]}),r.jsx("div",{children:r.jsxs("button",{className:`${O.primaryButton} inline-flex items-center`,onClick:()=>u(!0),children:[r.jsx(Sr,{className:"w-5 h-5 mr-2"})," 新增供應商"]})})]}),r.jsx("div",{className:`${O.glassCard} mb-6`,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Am,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"搜尋供應商名稱、統編、產業...",value:a.search,onChange:S=>i(_=>({..._,search:S.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"狀態",value:a.status,onChange:S=>i(_=>({..._,status:S})),options:[{value:"all",label:"所有狀態"},{value:Ee.ACTIVE,label:"活躍"},{value:Ee.PENDING,label:"待審核"},{value:Ee.SUSPENDED,label:"暫停"},{value:Ee.BLACKLISTED,label:"黑名單"},{value:"inactive",label:"停用"}],size:"sm"})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"分級",value:a.grade,onChange:S=>i(_=>({..._,grade:S})),options:[{value:"all",label:"所有分級"},{value:Fe.A_STRATEGIC,label:"A"},{value:Fe.B_PREFERRED,label:"B"},{value:Fe.C_QUALIFIED,label:"C"},{value:Fe.D_CONDITIONAL,label:"D"},{value:Fe.E_UNQUALIFIED,label:"E"}],size:"sm"})})]})}),r.jsx(_i,{title:"供應商列表",data:t,exportFileName:"供應商列表",emptyIcon:Zk,emptyTitle:"沒有找到供應商",emptyDescription:"請調整搜尋/篩選條件或新增第一筆供應商",columns:[{key:"companyName",label:"供應商名稱",sortable:!0},{key:"industry",label:"產業",sortable:!0},{key:"status",label:"狀態",sortable:!0,render:S=>T(S)},{key:"grade",label:"分級",sortable:!0},{key:"overallRating",label:"評分",sortable:!0,render:S=>r.jsx("span",{className:"text-gray-900",children:S!=null?Number(S).toFixed(1):"-"})},{key:"taxId",label:"統一編號",sortable:!0},{key:"establishedDate",label:"成立日期",sortable:!0},{key:"createdAt",label:"建立時間",sortable:!0},{key:"actions",label:"操作",sortable:!1,render:(S,_)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"檢視","aria-label":"檢視",onClick:()=>P(_),children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-amber-600 transition-colors",title:"編輯","aria-label":"編輯",onClick:()=>E(_),children:r.jsx($r,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"刪除","aria-label":"刪除",onClick:()=>A(_.id),children:r.jsx(wr,{className:"w-4 h-4"})})]})}]}),r.jsx(Zs,{isOpen:l&&!!h,onClose:()=>o(!1),title:h?`檢視供應商：${h.companyName}`:"檢視供應商",children:h&&r.jsx("div",{className:"p-6 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"供應商名稱"}),r.jsx("div",{className:"font-medium",children:h.companyName})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"產業"}),r.jsx("div",{className:"font-medium",children:h.industry||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"狀態"}),r.jsx("div",{className:"font-medium",children:T(h.status)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"分級"}),r.jsx("div",{className:"font-medium",children:h.grade||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"統一編號"}),r.jsx("div",{className:"font-medium",children:h.taxId||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"網站"}),r.jsx("div",{className:"font-medium",children:h.website||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"成立日期"}),r.jsx("div",{className:"font-medium",children:h.establishedDate||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"建立時間"}),r.jsx("div",{className:"font-medium",children:h.createdAt||"-"})]})]})})}),r.jsx(Zs,{isOpen:c&&!!h,onClose:()=>d(!1),title:h?`編輯供應商：${h.companyName}`:"編輯供應商",children:h&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"狀態"}),r.jsx(_e,{value:p.status,onChange:S=>x(_=>({..._,status:S})),options:[{value:Ee.ACTIVE,label:"活躍"},{value:Ee.PENDING,label:"待審核"},{value:Ee.SUSPENDED,label:"暫停"},{value:Ee.BLACKLISTED,label:"黑名單"},{value:"inactive",label:"停用"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"分級"}),r.jsx(_e,{value:p.grade,onChange:S=>x(_=>({..._,grade:S})),options:[{value:Fe.A_STRATEGIC,label:"A"},{value:Fe.B_PREFERRED,label:"B"},{value:Fe.C_QUALIFIED,label:"C"},{value:Fe.D_CONDITIONAL,label:"D"},{value:Fe.E_UNQUALIFIED,label:"E"}]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"網站"}),r.jsx("input",{type:"text",className:O.input,value:p.website,onChange:S=>x(_=>({..._,website:S.target.value}))})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>d(!1),children:"取消"}),r.jsx("button",{className:`${O.primaryButton} ${y?"opacity-70 pointer-events-none":""}`,onClick:C,children:y?"儲存中…":"儲存變更"})]})]})}),r.jsx(Zs,{isOpen:m,onClose:()=>u(!1),title:"新增供應商",children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"供應商名稱"}),r.jsx("input",{type:"text",className:O.input,value:j.companyName,onChange:S=>v(_=>({..._,companyName:S.target.value})),placeholder:"例如：美妝世界股份有限公司"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"產業"}),r.jsx("input",{type:"text",className:O.input,value:j.industry,onChange:S=>v(_=>({..._,industry:S.target.value})),placeholder:"例如：化妝品批發"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"統一編號"}),r.jsx("input",{type:"text",className:O.input,value:j.taxId,onChange:S=>v(_=>({..._,taxId:S.target.value})),placeholder:"例如：12345678"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"網站"}),r.jsx("input",{type:"text",className:O.input,value:j.website,onChange:S=>v(_=>({..._,website:S.target.value})),placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"成立日期"}),r.jsx("input",{type:"date",className:O.input,value:j.establishedDate,onChange:S=>v(_=>({..._,establishedDate:S.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"狀態"}),r.jsx(_e,{value:j.status,onChange:S=>v(_=>({..._,status:S})),options:[{value:Ee.ACTIVE,label:"活躍"},{value:Ee.PENDING,label:"待審核"},{value:Ee.SUSPENDED,label:"暫停"},{value:Ee.BLACKLISTED,label:"黑名單"},{value:"inactive",label:"停用"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"分級"}),r.jsx(_e,{value:j.grade,onChange:S=>v(_=>({..._,grade:S})),options:[{value:Fe.A_STRATEGIC,label:"A"},{value:Fe.B_PREFERRED,label:"B"},{value:Fe.C_QUALIFIED,label:"C"},{value:Fe.D_CONDITIONAL,label:"D"},{value:Fe.E_UNQUALIFIED,label:"E"}]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>u(!1),children:"取消"}),r.jsx("button",{className:`${O.primaryButton} ${N?"opacity-70 pointer-events-none":""}`,onClick:I,children:N?"建立中…":"建立供應商"})]})]})})]})},hv=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Ha={DRAFT:"draft",PENDING_APPROVAL:"pending",APPROVED:"approved",REJECTED:"rejected",SENT_TO_SUPPLIER:"sent",CONFIRMED:"confirmed",IN_PRODUCTION:"production",READY_TO_SHIP:"ready",SHIPPED:"shipped",DELIVERED:"delivered",INSPECTING:"inspecting",COMPLETED:"completed",CANCELLED:"cancelled",PARTIALLY_RECEIVED:"partial"},fv={STANDARD:"standard",URGENT:"urgent",PLANNED:"planned",SAMPLE:"sample",BLANKET:"blanket",MAINTENANCE:"maintenance",CONSIGNMENT:"consignment"},Nl={LOW:"low",NORMAL:"normal",HIGH:"high",URGENT:"urgent",CRITICAL:"critical"},pv={CASH_ON_DELIVERY:"cod",NET_30:"net30",NET_60:"net60",NET_90:"net90",ADVANCE_PAYMENT:"advance",PARTIAL_ADVANCE:"partial",LETTER_OF_CREDIT:"lc",BANK_GUARANTEE:"bg"},gv={STANDARD:"standard",EXPRESS:"express",FREIGHT:"freight",PICKUP:"pickup",DROP_SHIPPING:"dropship"},l5={PENDING:"pending",IN_PROGRESS:"progress",PASSED:"passed",FAILED:"failed",PARTIAL:"partial",REWORK:"rework"},rm={OPERATIONAL:"operational",CAPITAL:"capital",MARKETING:"marketing",MAINTENANCE:"maintenance",EMERGENCY:"emergency"},DM=[{id:"po-001",poNumber:"PO-2024-001",type:fv.STANDARD,status:Ha.CONFIRMED,priority:Nl.NORMAL,supplierId:"supplier-001",supplierName:"美妝世界股份有限公司",requesterId:"user-001",requesterName:"張小明",departmentId:"dept-001",departmentName:"商品部",budgetType:rm.OPERATIONAL,budgetCode:"OP-2024-Q1",totalAmount:85e3,currency:"TWD",taxRate:.05,taxAmount:4250,totalWithTax:89250,paymentTerms:pv.NET_30,shippingMethod:gv.STANDARD,requestedDate:"2024-12-01",expectedDeliveryDate:"2024-12-15",actualDeliveryDate:null,notes:"年度庫存補充採購",internalNotes:"優先處理熱銷商品",createdAt:"2024-11-20T09:00:00Z",updatedAt:"2024-12-01T14:30:00Z",approvedBy:"manager-001",approvedAt:"2024-11-21T10:15:00Z",items:[{id:"poi-001",productId:"prod-001",productName:"玻尿酸精華液",productSku:"HA-SERUM-30ML",specification:"30ml/瓶",unitPrice:500,quantity:100,receivedQuantity:0,totalPrice:5e4,notes:"要求原廠包裝"},{id:"poi-002",productId:"prod-002",productName:"膠原蛋白面膜",productSku:"COL-MASK-BOX",specification:"10片/盒",unitPrice:350,quantity:100,receivedQuantity:0,totalPrice:35e3,notes:"需要中文標籤"}]},{id:"po-002",poNumber:"PO-2024-002",type:fv.URGENT,status:Ha.IN_PRODUCTION,priority:Nl.HIGH,supplierId:"supplier-002",supplierName:"精品包裝有限公司",requesterId:"user-002",requesterName:"李美華",departmentId:"dept-002",departmentName:"包裝部",budgetType:rm.OPERATIONAL,budgetCode:"OP-2024-Q1",totalAmount:45e3,currency:"TWD",taxRate:.05,taxAmount:2250,totalWithTax:47250,paymentTerms:pv.NET_30,shippingMethod:gv.EXPRESS,requestedDate:"2024-12-03",expectedDeliveryDate:"2024-12-10",actualDeliveryDate:null,notes:"聖誕節包裝緊急補貨",internalNotes:"需要加急處理",createdAt:"2024-12-01T15:00:00Z",updatedAt:"2024-12-03T11:20:00Z",approvedBy:"manager-001",approvedAt:"2024-12-01T16:30:00Z",items:[{id:"poi-003",productId:"pack-001",productName:"聖誕禮盒包裝",productSku:"XMAS-BOX-L",specification:"大型禮盒",unitPrice:150,quantity:300,receivedQuantity:0,totalPrice:45e3,notes:"紅色配金色裝飾"}]}],PM=[{id:"suggestion-001",type:"stock_alert",priority:Nl.HIGH,productId:"prod-003",productName:"BB霜",currentStock:15,minStock:50,recommendedOrderQuantity:200,estimatedCost:6e4,suggestedSupplierId:"supplier-001",suggestedSupplierName:"美妝世界股份有限公司",reason:"庫存低於安全庫存，建議立即補貨",urgencyLevel:"high",expectedStockoutDate:"2024-12-08",salesTrend:"increasing",seasonalFactor:1.2,createdAt:"2024-12-01T08:00:00Z",isActionTaken:!1},{id:"suggestion-002",type:"supplier_performance",priority:Nl.NORMAL,supplierId:"supplier-003",supplierName:"綠色環保材料企業社",issue:"交貨延遲頻繁",recommendation:"建議尋找備用供應商或重新評估合作關係",affectedOrders:["po-003","po-005"],performanceScore:3.2,createdAt:"2024-11-28T10:30:00Z",isActionTaken:!1},{id:"suggestion-003",type:"cost_optimization",priority:Nl.NORMAL,category:"化妝品",currentAverageCost:450,optimizedAverageCost:380,potentialSavings:14e3,recommendation:"通過批量採購可降低單位成本約15%",batchSize:500,savingsPercentage:15.5,createdAt:"2024-11-25T14:15:00Z",isActionTaken:!1}],MM=[{id:"inspect-001",purchaseOrderId:"po-001",poNumber:"PO-2024-001",inspectionDate:"2024-12-15",inspectorId:"inspector-001",inspectorName:"品管王小美",status:l5.PASSED,overallRating:4.5,items:[{id:"inspect-item-001",productId:"prod-001",productName:"玻尿酸精華液",orderedQuantity:100,receivedQuantity:100,acceptedQuantity:98,rejectedQuantity:2,rejectionReason:"包裝破損",qualityScore:4.8,notes:"整體品質良好，僅少量包裝問題"}],totalItemsInspected:2,totalAccepted:198,totalRejected:2,overallNotes:"供應商品質穩定，建議繼續合作",actionRequired:!1,completedAt:"2024-12-15T16:30:00Z"}],IM={budgets:[{id:"budget-001",code:"OP-2024-Q1",name:"2024年第一季營運預算",type:rm.OPERATIONAL,totalAmount:5e5,usedAmount:234500,remainingAmount:265500,utilizationRate:46.9,department:"商品部",startDate:"2024-01-01",endDate:"2024-03-31",status:"active"},{id:"budget-002",code:"MK-2024-Q1",name:"2024年第一季行銷預算",type:rm.MARKETING,totalAmount:2e5,usedAmount:145e3,remainingAmount:55e3,utilizationRate:72.5,department:"行銷部",startDate:"2024-01-01",endDate:"2024-03-31",status:"active"}],alerts:[{id:"alert-001",budgetId:"budget-002",type:"high_utilization",message:"行銷預算使用率已達72.5%，請注意預算控制",severity:"warning",createdAt:"2024-12-01T09:00:00Z"}]},RM={categories:[{id:"category-001",name:"化妝品",totalSpent:18e4,percentageOfTotal:45.2,averageUnitCost:420,trend:"stable",monthlySpending:[{month:"2024-10",amount:65e3},{month:"2024-11",amount:58e3},{month:"2024-12",amount:57e3}]},{id:"category-002",name:"包裝材料",totalSpent:95e3,percentageOfTotal:23.8,averageUnitCost:120,trend:"increasing",monthlySpending:[{month:"2024-10",amount:28e3},{month:"2024-11",amount:32e3},{month:"2024-12",amount:35e3}]}],suppliers:[{supplierId:"supplier-001",supplierName:"美妝世界股份有限公司",totalSpent:145e3,orderCount:12,averageOrderValue:12083,onTimeDeliveryRate:95.5,qualityRating:4.6},{supplierId:"supplier-002",supplierName:"精品包裝有限公司",totalSpent:89e3,orderCount:8,averageOrderValue:11125,onTimeDeliveryRate:88.2,qualityRating:4.3}]};class OM{constructor(){this.purchaseOrders=[...DM],this.suggestions=[...PM],this.inspectionRecords=[...MM],this.budgetControl={...IM},this.costAnalysis={...RM}}getPurchaseOrders(e={}){let s=[...this.purchaseOrders];if(e.status&&(s=s.filter(n=>n.status===e.status)),e.type&&(s=s.filter(n=>n.type===e.type)),e.supplierId&&(s=s.filter(n=>n.supplierId===e.supplierId)),e.dateFrom&&(s=s.filter(n=>n.createdAt>=e.dateFrom)),e.dateTo&&(s=s.filter(n=>n.createdAt<=e.dateTo)),e.search){const n=e.search.toLowerCase();s=s.filter(a=>a.poNumber.toLowerCase().includes(n)||a.supplierName.toLowerCase().includes(n)||a.notes.toLowerCase().includes(n))}return s}getPurchaseOrderById(e){return this.purchaseOrders.find(s=>s.id===e)}createPurchaseOrder(e){const s={id:hv(),poNumber:this.generatePONumber(),status:Ha.DRAFT,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return this.purchaseOrders.unshift(s),s}updatePurchaseOrder(e,s){const n=this.purchaseOrders.findIndex(a=>a.id===e);return n!==-1?(this.purchaseOrders[n]={...this.purchaseOrders[n],...s,updatedAt:new Date().toISOString()},this.purchaseOrders[n]):null}deletePurchaseOrder(e){const s=this.purchaseOrders.findIndex(n=>n.id===e);return s!==-1?this.purchaseOrders.splice(s,1)[0]:null}generatePONumber(){const e=new Date().getFullYear(),s=this.purchaseOrders.map(a=>a.poNumber).filter(a=>a.startsWith(`PO-${e}-`)).map(a=>parseInt(a.split("-")[2])).sort((a,i)=>i-a),n=s.length>0?s[0]+1:1;return`PO-${e}-${n.toString().padStart(3,"0")}`}getProcurementSuggestions(e={}){let s=[...this.suggestions];return e.type&&(s=s.filter(n=>n.type===e.type)),e.priority&&(s=s.filter(n=>n.priority===e.priority)),e.isActionTaken!==void 0&&(s=s.filter(n=>n.isActionTaken===e.isActionTaken)),s.sort((n,a)=>{const i={critical:5,urgent:4,high:3,normal:2,low:1};return i[a.priority]-i[n.priority]})}markSuggestionAsActionTaken(e){const s=this.suggestions.find(n=>n.id===e);return s&&(s.isActionTaken=!0,s.actionTakenAt=new Date().toISOString()),s}getInspectionRecords(e={}){let s=[...this.inspectionRecords];return e.status&&(s=s.filter(n=>n.status===e.status)),e.purchaseOrderId&&(s=s.filter(n=>n.purchaseOrderId===e.purchaseOrderId)),s}createInspectionRecord(e){const s={id:hv(),createdAt:new Date().toISOString(),...e};return this.inspectionRecords.unshift(s),s}getBudgetInfo(){return this.budgetControl}checkBudgetAvailability(e,s){const n=this.budgetControl.budgets.find(a=>a.code===e);return n?n.remainingAmount<s?{available:!1,reason:"預算不足",remaining:n.remainingAmount,required:s}:{available:!0,remaining:n.remainingAmount-s}:{available:!1,reason:"預算代碼不存在"}}getCostAnalysis(){return this.costAnalysis}getDashboardStats(){const e=new Date,s=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}`,n=this.purchaseOrders.length,a=this.purchaseOrders.filter(m=>[Ha.PENDING_APPROVAL,Ha.SENT_TO_SUPPLIER].includes(m.status)).length,i=this.purchaseOrders.filter(m=>m.status===Ha.COMPLETED).length,l=this.purchaseOrders.filter(m=>m.createdAt.startsWith(s)),o=l.reduce((m,u)=>m+u.totalWithTax,0),c=this.suggestions.filter(m=>m.priority===Nl.URGENT&&!m.isActionTaken).length,d=this.inspectionRecords.filter(m=>m.status===l5.PENDING).length;return{totalOrders:n,pendingOrders:a,completedOrders:i,thisMonthSpending:o,urgentSuggestions:c,pendingInspections:d,averageOrderValue:n>0?o/l.length:0,onTimeDeliveryRate:this.calculateOnTimeDeliveryRate()}}calculateOnTimeDeliveryRate(){const e=this.purchaseOrders.filter(n=>n.status===Ha.COMPLETED&&n.actualDeliveryDate);return e.length===0?0:e.filter(n=>n.actualDeliveryDate<=n.expectedDeliveryDate).length/e.length*100}}const Jh=new OM,LM=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0),[a,i]=f.useState({status:"all",priority:"all",searchQuery:""}),[l,o]=f.useState(!1),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[h,g]=f.useState(null),[p,x]=f.useState({status:"",priority:"",expectedDeliveryDate:"",notes:""}),[j,v]=f.useState({supplierId:"",supplierName:"",type:"standard",priority:"normal",totalAmount:"",taxRate:.05,expectedDeliveryDate:"",notes:""}),[y,b]=f.useState([]),[N,w]=f.useState(!1);f.useEffect(()=>{k()},[a]),f.useEffect(()=>{try{const _=((nl.getAllSuppliers?nl.getAllSuppliers():[])||[]).map(L=>({value:L.id,label:L.companyName}));b(_)}catch(S){console.warn("載入供應商失敗或未提供供應商管理器",S),b([])}},[]);const k=async()=>{n(!0);try{const S={};a.status!=="all"&&(S.status=a.status),a.searchQuery&&(S.search=a.searchQuery);const _=Jh.getPurchaseOrders(S)||[],L=a.priority==="all"?_:_.filter(R=>R.priority===a.priority);e(L)}catch(S){console.error("Error loading procurement data:",S)}finally{n(!1)}},T=S=>{const _={draft:O.statusInactive,pending:O.statusPending,approved:O.statusInfo,confirmed:O.statusSuccess,production:O.statusWarning,shipped:O.statusInfo,delivered:O.statusSuccess,completed:O.statusSuccess,cancelled:O.statusError},L={draft:"草稿",pending:"待審核",approved:"已核准",confirmed:"已確認",production:"生產中",shipped:"已出貨",delivered:"已送達",completed:"已完成",cancelled:"已取消"},R=_[S]||O.statusInactive;return r.jsx("span",{className:R,children:L[S]||S})},P=S=>{const _={low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800",critical:"bg-red-100 text-red-800"},L={low:"低",normal:"一般",high:"高",urgent:"緊急",critical:"關鍵"},R=_[S]||"bg-gray-100 text-gray-800";return r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${R}`,children:L[S]||S})},E=S=>{g(S),o(!0)},C=S=>{g(S),x({status:S.status||"draft",priority:S.priority||"normal",expectedDeliveryDate:S.expectedDeliveryDate||"",notes:S.notes||""}),d(!0)},A=async()=>{if(h){w(!0);try{Jh.updatePurchaseOrder(h.id,{status:p.status,priority:p.priority,expectedDeliveryDate:p.expectedDeliveryDate,notes:p.notes}),await k(),d(!1)}catch(S){console.error("更新失敗",S)}finally{w(!1)}}},I=async()=>{var S;if(!j.supplierId&&!j.supplierName){alert("請選擇或輸入供應商");return}w(!0);try{const _=Number(j.totalAmount)||0,L=Number(j.taxRate)||0,R=Math.round(_*(1+L)),F={supplierId:j.supplierId||void 0,supplierName:j.supplierName||((S=y.find($=>$.value===j.supplierId))==null?void 0:S.label)||"",type:j.type,priority:j.priority,totalAmount:_,taxRate:L,totalWithTax:R,expectedDeliveryDate:j.expectedDeliveryDate||"",notes:j.notes||""},M=Jh.createPurchaseOrder(F);await k(),u(!1),M&&(g(M),o(!0)),v({supplierId:"",supplierName:"",type:"standard",priority:"normal",totalAmount:"",taxRate:.05,expectedDeliveryDate:"",notes:""})}catch(_){console.error("建立失敗",_)}finally{w(!1)}};return s?r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"flex justify-center items-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"載入採購數據中..."})]})}):r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"採購管理"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有採購訂單和供應商關係"})]}),r.jsx("div",{children:r.jsxs("button",{className:`${O.primaryButton} inline-flex items-center`,onClick:()=>u(!0),children:[r.jsx(Sr,{className:"w-5 h-5 mr-2"})," 新增採購單"]})})]}),r.jsx("div",{className:`${O.glassCard} mb-6`,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Am,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"搜尋採購單號、供應商...",value:a.searchQuery,onChange:S=>i(_=>({..._,searchQuery:S.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"篩選狀態",value:a.status,onChange:S=>i(_=>({..._,status:S})),options:[{value:"all",label:"所有狀態"},{value:"draft",label:"草稿"},{value:"pending",label:"待審核"},{value:"approved",label:"已核准"},{value:"confirmed",label:"已確認"},{value:"production",label:"生產中"},{value:"shipped",label:"已出貨"},{value:"delivered",label:"已送達"},{value:"completed",label:"已完成"},{value:"cancelled",label:"已取消"}],size:"sm"})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"優先級",value:a.priority,onChange:S=>i(_=>({..._,priority:S})),options:[{value:"all",label:"所有優先級"},{value:"low",label:"低"},{value:"normal",label:"一般"},{value:"high",label:"高"},{value:"urgent",label:"緊急"},{value:"critical",label:"關鍵"}]})}),r.jsx("div",{})]})}),r.jsx(_i,{title:"採購訂單",data:t,columns:[{key:"poNumber",label:"採購單號",sortable:!0},{key:"supplierName",label:"供應商",sortable:!0},{key:"type",label:"類型",sortable:!0,render:S=>r.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S})},{key:"status",label:"狀態",sortable:!0,render:S=>T(S)},{key:"priority",label:"優先級",sortable:!0,render:S=>P(S)},{key:"totalWithTax",label:"總金額(含稅)",sortable:!0,render:(S,_)=>r.jsx("span",{className:"text-gray-900",children:(S??_.totalAmount??0).toLocaleString()})},{key:"expectedDeliveryDate",label:"預計交期",sortable:!0},{key:"createdAt",label:"建立時間",sortable:!0},{key:"actions",label:"操作",sortable:!1,render:(S,_)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"檢視","aria-label":"檢視",onClick:()=>E(_),children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-amber-600 transition-colors",title:"編輯","aria-label":"編輯",onClick:()=>C(_),children:r.jsx($r,{className:"w-4 h-4"})})]})}],showExport:!0,exportFileName:"採購訂單",emptyIcon:vN,emptyTitle:"沒有找到採購訂單",emptyDescription:"請調整篩選條件或稍後再試",enableBatchSelection:!1}),r.jsx(Zs,{isOpen:m,onClose:()=>u(!1),title:"新增採購單",children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"供應商"}),y.length>0?r.jsx(_e,{placeholder:"選擇供應商",value:j.supplierId||"custom",onChange:S=>{v(S==="custom"?_=>({..._,supplierId:"",supplierName:""}):_=>({..._,supplierId:S,supplierName:""}))},options:[{value:"custom",label:"手動輸入供應商名稱"},...y]}):r.jsx("input",{type:"text",className:O.input,placeholder:"輸入供應商名稱",value:j.supplierName,onChange:S=>v(_=>({..._,supplierName:S.target.value}))}),y.length>0&&!j.supplierId&&r.jsx("input",{type:"text",className:`${O.input} mt-2`,placeholder:"或輸入供應商名稱",value:j.supplierName,onChange:S=>v(_=>({..._,supplierName:S.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"類型"}),r.jsx(_e,{value:j.type,onChange:S=>v(_=>({..._,type:S})),options:[{value:"standard",label:"一般"},{value:"urgent",label:"緊急"},{value:"planned",label:"預定"},{value:"sample",label:"樣品"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"優先級"}),r.jsx(_e,{value:j.priority,onChange:S=>v(_=>({..._,priority:S})),options:[{value:"low",label:"低"},{value:"normal",label:"一般"},{value:"high",label:"高"},{value:"urgent",label:"緊急"},{value:"critical",label:"關鍵"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"預計交期"}),r.jsx("input",{type:"date",className:O.input,value:j.expectedDeliveryDate,onChange:S=>v(_=>({..._,expectedDeliveryDate:S.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"金額（未稅）"}),r.jsx("input",{type:"number",min:"0",className:O.input,placeholder:"例如 50000",value:j.totalAmount,onChange:S=>v(_=>({..._,totalAmount:S.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"稅率"}),r.jsx(_e,{value:String(j.taxRate),onChange:S=>v(_=>({..._,taxRate:Number(S)})),options:[{value:"0",label:"0%"},{value:"0.05",label:"5%"},{value:"0.1",label:"10%"}]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"備註"}),r.jsx("textarea",{className:`${O.input} min-h-[100px]`,value:j.notes,onChange:S=>v(_=>({..._,notes:S.target.value}))})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>u(!1),children:"取消"}),r.jsx("button",{className:`${O.primaryButton} ${N?"opacity-70 pointer-events-none":""}`,onClick:I,children:N?"建立中…":"建立採購單"})]})]})}),r.jsx(Zs,{isOpen:l&&!!h,onClose:()=>o(!1),title:h?`檢視採購單 ${h.poNumber}`:"檢視採購單",children:h&&r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"採購單號"}),r.jsx("div",{className:"font-medium",children:h.poNumber})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"供應商"}),r.jsx("div",{className:"font-medium",children:h.supplierName})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"狀態"}),r.jsx("div",{className:"font-medium",children:T(h.status)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"優先級"}),r.jsx("div",{className:"font-medium",children:P(h.priority)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"總金額(含稅)"}),r.jsx("div",{className:"font-medium",children:(h.totalWithTax??h.totalAmount??0).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"預計交期"}),r.jsx("div",{className:"font-medium",children:h.expectedDeliveryDate||"-"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"建立時間"}),r.jsx("div",{className:"font-medium",children:h.createdAt})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"備註"}),r.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:h.notes||"—"})]}),r.jsx("div",{className:"px-0 pt-2",children:r.jsx("button",{className:O.primaryButton,onClick:()=>{o(!1),C(h)},children:"編輯此採購單"})})]})}),r.jsx(Zs,{isOpen:c&&!!h,onClose:()=>d(!1),title:h?`編輯採購單 ${h.poNumber}`:"編輯採購單",children:h&&r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"狀態"}),r.jsx(_e,{value:p.status,onChange:S=>x(_=>({..._,status:S})),options:[{value:"draft",label:"草稿"},{value:"pending",label:"待審核"},{value:"approved",label:"已核准"},{value:"confirmed",label:"已確認"},{value:"production",label:"生產中"},{value:"ready",label:"準備出貨"},{value:"shipped",label:"已出貨"},{value:"delivered",label:"已送達"},{value:"inspecting",label:"驗收中"},{value:"completed",label:"已完成"},{value:"cancelled",label:"已取消"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"優先級"}),r.jsx(_e,{value:p.priority,onChange:S=>x(_=>({..._,priority:S})),options:[{value:"low",label:"低"},{value:"normal",label:"一般"},{value:"high",label:"高"},{value:"urgent",label:"緊急"},{value:"critical",label:"關鍵"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"預計交期"}),r.jsx("input",{type:"date",className:O.input,value:p.expectedDeliveryDate||"",onChange:S=>x(_=>({..._,expectedDeliveryDate:S.target.value}))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"備註"}),r.jsx("textarea",{className:`${O.input} min-h-[100px]`,value:p.notes,onChange:S=>x(_=>({..._,notes:S.target.value}))})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>d(!1),children:"取消"}),r.jsx("button",{className:`${O.primaryButton} ${N?"opacity-70 pointer-events-none":""}`,onClick:A,children:N?"儲存中…":"儲存變更"})]})]})})]})},FM="2025-09-24T15:01:48.717Z",VM={300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",311:"訂單傳送物流成功",320:"郵局已確認資料，可列印",325:"退貨訂單處理中(綠界已收到訂單資料)",2e3:"已申請門市變更",2001:"訂單傳送超商成功",2002:"出貨單號不合規則",2003:"XML檔內出貨單號重複",2004:"出貨單號重複上傳使用(驗收時發現)",2005:"日期格式不符",2006:"訂單金額或代收金額錯誤",2007:"商品類型為空",2008:"訂單為空",2009:"門市店號為空",2010:"出貨日期為空",2011:"出貨金額為空",2012:"出貨編號不存在",2013:"母廠商不存在",2014:"子廠商不存在",2015:"出貨編號已存在(單筆)",2016:"門市已關轉店，將進行退貨處理",2017:"出貨日期不符合規定",2018:"服務類型不符規定(如只開取貨付款服務，卻使用純取貨服務)",2019:"商品類型不符規定",2020:"廠商尚未申請店配服務",2021:"同一批次出貨編號重複(批次)",2022:"出貨金額不符規定",2023:"取貨人姓名為空",2024:"訂單傳送超商成功",2025:"門市轉店號(舊門市店號已更新)",2026:"無此門市，將進行退貨處理",2027:"門市指定時間不配送，後續配送中",2028:"門市關轉店，3日內未更新SUP(新店號)便至退貨流程",2029:"門市尚未開店",2030:"物流中心驗收成功",2031:"等待賣家出貨",2032:"包裝異常，請洽客服",2033:"包裹超材，退回賣家",2034:"違禁品(退貨及罰款處理)",2035:"訂單資料重複上傳",2036:"訂單超過驗收期限（賣家未出貨）",2037:"取件門市關轉，請重選門市",2038:"標籤錯誤，廠退處理",2039:"標籤錯誤，廠退處理",2040:"標籤錯誤，廠退處理",2041:"物流中心理貨中",2042:"包裹遺失，進入賠償程序",2043:"門市指定時間不配送，後續配送中",2044:"賣家已取退回包裹",2045:"不正常到貨(商品提早到物流中心)，廠退處理",2046:"貨件未取退回大智通物流中心",2047:"正常二退(退貨時間延長，在判賠期限內退回)",2048:"包裝異常，請洽客服",2049:"門市關店，將進行退貨處理",2050:"門市轉店，將進行退貨處理",2051:"賣家要求提早退貨",2052:"違禁品(退貨及罰款處理)",2053:"門市刷A給B，請洽客服",2054:"賣家要求提早退貨",2055:"包裹退至物流中心",2057:"車輛故障，後續配送中",2058:"天候不佳，後續配送中",2059:"道路中斷，後續配送中",2060:"門市停業，廠退處理",2061:"包裹異常，請洽客服",2062:"包裹異常，請洽客服",2063:"包裹配達取件門市",2065:"買家未取包裹，將退回物流中心",2066:"包裹異常，請洽客服",2067:"買家已到店取貨",2068:"賣家已到門市寄件",2069:"退貨便收件(商品退回指定C門市)",2070:"賣家已取退回包裹",2071:"門市代碼格式錯誤",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2076:"買家未取包裹，已退回物流中心",2077:"賣家未取包裹，待申請退回",2078:"買家未取包裹，已退回物流中心",2079:"買家未取貨退回物流中心-商品瑕疵(進物流中心)",2080:"買家未取貨退回物流中心-超材",2081:"買家未取貨退回物流中心-違禁品(退貨及罰款處理)",2082:"買家未取貨退回物流中心-訂單資料重複上傳",2083:"買家未取貨退回物流中心-已過門市進貨日（未於指定時間內寄至物流中心)",2084:"買家未取貨退回物流中心-第一段標籤規格錯誤",2085:"買家未取貨退回物流中心-第一段標籤無法判讀",2086:"買家未取貨退回物流中心-第一段標籤資料錯誤",2087:"買家未取貨退回物流中心-物流中心理貨中",2088:"買家未取貨退回物流中心-商品遺失",2089:"買家未取退回物流中心-門市指定不配送(六、日)",2092:"買家未取退回物流中心-門市關轉",2093:"買家未取退回物流中心-爆量",2094:"包裹異常，請洽客服",2095:"天候路況不佳",2096:"賣家未取包裹，待申請退回",2097:"賣家未取包裹，宅配退回中",2098:"包裹重新配達取件門市",2099:"包裹重新配達寄件門市",2101:"門市關轉店",2102:"門市舊店號更新",2103:"無取件門市資料",2104:"門市關轉，請重選門市",2105:"已申請門市變更",3001:"轉運中(即集貨)",3002:"不在家",3003:"配完",3004:"送錯BASE (送錯營業所)",3005:"送錯CENTER(送錯轉運中心)",3006:"配送中",3007:"公司行號休息",3008:"地址錯誤，聯繫收件人",3009:"搬家",3010:"轉寄(如原本寄到A，改寄B)",3011:"暫置營業所(收件人要求至營業所取貨)",3012:"到所(收件人要求到站所取件)",3013:"當配下車(當日配送A至B營業所，已抵達B營業所)",3014:"當配上車(當日配送從A至B營業所，已抵達A營業所)",3015:"空運配送中",3016:"配完狀態刪除",3017:"退回狀態刪除(代收退貨刪除)",3018:"包裹配達取件門市",3019:"包裹已退至原寄件門市",3020:"買家未取包裹，將退回物流中心",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3024:"物流中心驗收成功",3025:"買家未取包裹，已退回物流中心",3029:"包裹已配達指定取件門市",3031:"包裹已退至指定寄件門市",3032:"賣家已到門市寄件",3033:"EC客戶要求提早退貨",3117:"拒收(調查處理中)",3118:"暫置營業所",3119:"暫置營業所(假日暫置)",3120:"預備配送中",3121:"轉交門市配達",3122:"另約時間",3123:"逾期未取，門市刷退",3124:"退貨包裹待司機取回",3125:"司機已到門市取回",3301:"交寄郵件",3302:"各區郵局招領中",3303:"投遞不成功",3304:"依寄件人指示銷毀",3305:"拒收",3306:"退回投遞不成功",3307:"i郵箱取件成功",3308:"投遞成功",3309:"投遞成功(收受人領取)",3310:"已退回寄件人",3311:"退回郵件投遞中",3312:"貨件投遞中",3313:"郵局貨件運轉中",3314:"到達i郵箱",3315:"i郵箱逾期退招領",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",4003:"退件包裹異常，協尋中",4004:"包裹遺失，進入賠償程序",5001:"損壞，站所將協助退貨",5002:"遺失",5003:"BASE列管(寄件人和收件人聯絡不到)",5004:"賣家未取包裹，待申請退回",5005:"代收退貨",5006:"代收毀損",5007:"代收遺失",5008:"退貨配完",5009:"包裹異常，請洽客服",7001:"超大(通常發生於司機取件，不取件)",7002:"超重(通常發生於司機取件，不取件)",7003:"地址錯誤，聯繫收件人",7004:"航班延誤",7005:"託運單刪除",7006:"包裹遺失，進入賠償程序",7007:"包裹遺失，進入賠償程序",7008:"包裹破損，請洽客服",7009:"包裝異常，請洽客服",7010:"包裝異常，請洽客服",7011:"取件門市關轉，請重選門市",7012:"條碼錯誤，廠退處理",7013:"訂單超過驗收期限（賣家未出貨）",7014:"等待賣家出貨",7015:"條碼重複，請洽客服",7016:"包裹超材，退回賣家",7017:"取件包裹異常，協尋中",7018:"包裹遺失，進入賠償程序",7019:"寄件包裹異常，協尋中",7020:"包裹遺失，進入賠償程序",7021:"包裹異常，請洽客服",7022:"包裹異常，請洽客服",7023:"包裹異常，請洽客服",7024:"另約時間",7025:"電聯不上",7026:"資料有誤",7027:"無件可退",7028:"超大超重",7029:"已回收",7030:"別家收走",7031:"商品未到",7032:"寄件門市關轉，請重選門市",7033:"資料異常",7034:"貨物進店發生異常，請洽客服",7035:"逾期未領，貨件銷毀",7036:"貨件破損，請洽客服",7037:"訂單上傳失敗",7038:"門市驗收異常，請洽客服",7101:"取件門市關轉，請重選門市",7102:"包裹配送驗收異常-無進貨資料",7103:"包裹配送驗收異常-條碼錯誤",7104:"包裹配送驗收異常-超材",7105:"包裹配送驗收異常-大物流包裝不良(滲漏)",7106:"包裹配送驗收異常-小物流破損",7107:"包裹配送驗收異常-門市反應商品包裝不良(滲漏)",7201:"寄件門市關轉，請重選門市",7202:"退貨包裹配送驗收異常-無進貨資料",7203:"退貨包裹配送驗收異常-條碼錯誤",7204:"退貨包裹配送驗收異常-超材",7205:"退貨包裹配送驗收異常-大物流包裝不良(滲漏)",7206:"退貨包裹配送驗收異常-小物流破損",7207:"退貨包裹配送驗收異常-門市反應商品包裝不良(滲漏)",7255:"包裹退至物流中心",7300:"郵局接收資料異常",7301:"郵件破損 - 無法投遞",7302:"郵件遺失",9001:"退貨已取",9002:"退貨已取",9999:"訂單取消"},$M={CVS:{UNIMART:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",2e3:"已申請門市變更",2001:"訂單傳送超商成功",2002:"出貨單號不合規則",2003:"XML檔內出貨單號重複",2004:"出貨單號重複上傳使用(驗收時發現)",2005:"日期格式不符",2006:"訂單金額或代收金額錯誤",2007:"商品類型為空",2008:"訂單為空",2009:"門市店號為空",2010:"出貨日期為空",2011:"出貨金額為空",2012:"出貨編號不存在",2013:"母廠商不存在",2014:"子廠商不存在",2015:"出貨編號已存在(單筆)",2016:"門市已關轉店，將進行退貨處理",2017:"出貨日期不符合規定",2018:"服務類型不符規定(如只開取貨付款服務，卻使用純取貨服務)",2019:"商品類型不符規定",2020:"廠商尚未申請店配服務",2021:"同一批次出貨編號重複(批次)",2022:"出貨金額不符規定",2023:"取貨人姓名為空",2024:"訂單傳送超商成功",2025:"門市轉店號(舊門市店號已更新)",2026:"無此門市，將進行退貨處理",2027:"門市指定時間不配送，後續配送中",2028:"門市關轉店，3日內未更新SUP(新店號)便至退貨流程",2029:"門市尚未開店",2030:"物流中心驗收成功",2031:"等待賣家出貨",2032:"包裝異常，請洽客服",2033:"包裹超材，退回賣家",2034:"違禁品(退貨及罰款處理)",2035:"訂單資料重複上傳",2036:"訂單超過驗收期限（賣家未出貨）",2037:"取件門市關轉，請重選門市",2038:"標籤錯誤，廠退處理",2039:"標籤錯誤，廠退處理",2040:"標籤錯誤，廠退處理",2041:"物流中心理貨中",2042:"包裹遺失，進入賠償程序",2043:"門市指定時間不配送，後續配送中",2044:"賣家已取退回包裹",2045:"不正常到貨(商品提早到物流中心)，廠退處理",2046:"貨件未取退回大智通物流中心",2047:"正常二退(退貨時間延長，在判賠期限內退回)",2048:"包裝異常，請洽客服",2049:"門市關店，將進行退貨處理",2050:"門市轉店，將進行退貨處理",2051:"賣家要求提早退貨",2052:"違禁品(退貨及罰款處理)",2053:"門市刷A給B，請洽客服",2054:"賣家要求提早退貨",2055:"包裹退至物流中心",2057:"車輛故障，後續配送中",2058:"天候不佳，後續配送中",2059:"道路中斷，後續配送中",2060:"門市停業，廠退處理",2061:"包裹異常，請洽客服",2062:"包裹異常，請洽客服",2063:"包裹配達取件門市",2065:"買家未取包裹，將退回物流中心",2066:"包裹異常，請洽客服",2067:"買家已到店取貨",2070:"賣家已取退回包裹",2071:"門市代碼格式錯誤",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2076:"買家未取包裹，已退回物流中心",2094:"包裹異常，請洽客服",2095:"天候路況不佳",2098:"包裹重新配達取件門市",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",4003:"退件包裹異常，協尋中",4004:"包裹遺失，進入賠償程序",7017:"取件包裹異常，協尋中",7018:"包裹遺失，進入賠償程序",7021:"包裹異常，請洽客服",7022:"包裹異常，請洽客服",7023:"包裹異常，請洽客服",7038:"門市驗收異常，請洽客服"},UNIMARTC2C:{300:"訂單處理中(綠界已收到訂單資料)",2030:"物流中心驗收成功",2041:"物流中心理貨中",2042:"包裹遺失，進入賠償程序",2043:"門市指定時間不配送，後續配送中",2048:"包裝異常，請洽客服",2051:"賣家要求提早退貨",2053:"門市刷A給B，請洽客服",2058:"天候不佳，後續配送中",2061:"包裹異常，請洽客服",2062:"包裹異常，請洽客服",2066:"包裹異常，請洽客服",2067:"買家已到店取貨",2068:"賣家已到門市寄件",2069:"退貨便收件(商品退回指定C門市)",2070:"賣家已取退回包裹",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2076:"買家未取包裹，已退回物流中心",2077:"賣家未取包裹，待申請退回",2078:"買家未取包裹，已退回物流中心",2079:"買家未取貨退回物流中心-商品瑕疵(進物流中心)",2080:"買家未取貨退回物流中心-超材",2081:"買家未取貨退回物流中心-違禁品(退貨及罰款處理)",2082:"買家未取貨退回物流中心-訂單資料重複上傳",2083:"買家未取貨退回物流中心-已過門市進貨日（未於指定時間內寄至物流中心)",2084:"買家未取貨退回物流中心-第一段標籤規格錯誤",2085:"買家未取貨退回物流中心-第一段標籤無法判讀",2086:"買家未取貨退回物流中心-第一段標籤資料錯誤",2087:"買家未取貨退回物流中心-物流中心理貨中",2088:"買家未取貨退回物流中心-商品遺失",2089:"買家未取退回物流中心-門市指定不配送(六、日)",2092:"買家未取退回物流中心-門市關轉",2093:"買家未取退回物流中心-爆量",2094:"包裹異常，請洽客服",2096:"賣家未取包裹，待申請退回",2097:"賣家未取包裹，宅配退回中",2098:"包裹重新配達取件門市",2099:"包裹重新配達寄件門市",2101:"門市關轉店",2102:"門市舊店號更新",2103:"無取件門市資料",2104:"門市關轉，請重選門市",2105:"已申請門市變更",7013:"訂單超過驗收期限（賣家未出貨）",7017:"取件包裹異常，協尋中",7018:"包裹遺失，進入賠償程序",7019:"寄件包裹異常，協尋中",7020:"包裹遺失，進入賠償程序",7038:"門市驗收異常，請洽客服",9999:"訂單取消"},FAMI:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",2105:"已申請門市變更",3018:"包裹配達取件門市",3019:"包裹已退至原寄件門市",3020:"買家未取包裹，將退回物流中心",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3024:"物流中心驗收成功",3025:"買家未取包裹，已退回物流中心",3029:"包裹已配達指定取件門市",3031:"包裹已退至指定寄件門市",3032:"賣家已到門市寄件",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",5009:"包裹異常，請洽客服",7006:"包裹遺失，進入賠償程序",7007:"包裹遺失，進入賠償程序",7008:"包裹破損，請洽客服",7009:"包裝異常，請洽客服",7010:"包裝異常，請洽客服",7011:"取件門市關轉，請重選門市",7012:"條碼錯誤，廠退處理",7013:"訂單超過驗收期限（賣家未出貨）",7014:"等待賣家出貨",7015:"條碼重複，請洽客服",7016:"包裹超材，退回賣家",7032:"寄件門市關轉，請重選門市",7033:"資料異常",7034:"貨物進店發生異常，請洽客服",7035:"逾期未領，貨件銷毀",7036:"貨件破損，請洽客服",7037:"訂單上傳失敗"},FAMIC2C:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",2105:"已申請門市變更",3018:"包裹配達取件門市",3019:"包裹已退至原寄件門市",3020:"買家未取包裹，將退回物流中心",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3024:"物流中心驗收成功",3025:"買家未取包裹，已退回物流中心",3029:"包裹已配達指定取件門市",3031:"包裹已退至指定寄件門市",3032:"賣家已到門市寄件",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",5009:"包裹異常，請洽客服",7006:"包裹遺失，進入賠償程序",7007:"包裹遺失，進入賠償程序",7008:"包裹破損，請洽客服",7009:"包裝異常，請洽客服",7010:"包裝異常，請洽客服",7011:"取件門市關轉，請重選門市",7012:"條碼錯誤，廠退處理",7013:"訂單超過驗收期限（賣家未出貨）",7014:"等待賣家出貨",7015:"條碼重複，請洽客服",7016:"包裹超材，退回賣家",7032:"寄件門市關轉，請重選門市",7034:"貨物進店發生異常，請洽客服",7035:"逾期未領，貨件銷毀",7036:"貨件破損，請洽客服"},HILIFE:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",311:"訂單傳送物流成功",325:"退貨訂單處理中(綠界已收到訂單資料)",2e3:"已申請門市變更",2001:"訂單傳送超商成功",2002:"出貨單號不合規則",2003:"XML檔內出貨單號重複",2004:"出貨單號重複上傳使用(驗收時發現)",2005:"日期格式不符",2006:"訂單金額或代收金額錯誤",2007:"商品類型為空",2009:"門市店號為空",2010:"出貨日期為空",2011:"出貨金額為空",2012:"出貨編號不存在",2013:"母廠商不存在",2014:"子廠商不存在",2015:"出貨編號已存在(單筆)",2016:"門市已關轉店，將進行退貨處理",2017:"出貨日期不符合規定",2018:"服務類型不符規定(如只開取貨付款服務，卻使用純取貨服務)",2019:"商品類型不符規定",2020:"廠商尚未申請店配服務",2021:"同一批次出貨編號重覆(批次)",2022:"出貨金額不符規定",2023:"取貨人姓名為空",2024:"訂單傳送超商成功",2025:"門市轉店號(舊門市店號已更新)",2026:"無此門市，將進行退貨處理",2027:"門市指定時間不配送，後續配送中",2028:"門市關轉店，3日內未更新SUP(新店號)便至退貨流程",2029:"門市尚未開店",2030:"物流中心驗收成功",2031:"等待賣家出貨",2032:"包裝異常，請洽客服",2033:"包裹超材，退回賣家",2034:"違禁品(退貨及罰款處理)",2035:"訂單資料重覆上傳",2036:"訂單超過驗收期限（賣家未出貨）",2037:"取件門市關轉，請重選門市",2038:"標籤錯誤，廠退處理",2039:"標籤錯誤，廠退處理",2040:"標籤錯誤，廠退處理",2041:"物流中心理貨中",2042:"包裹遺失，進入賠償程序",2043:"門市指定時間不配送，後續配送中",2045:"不正常到貨(商品提早到物流中心)，廠退處理",2046:"貨件未取退回大智通物流中心",2047:"正常二退(退貨時間延長，在判賠期限內退回)",2048:"包裝異常，請洽客服",2049:"門市關店，將進行退貨處理",2050:"門市轉店，將進行退貨處理",2051:"賣家要求提早退貨",2052:"違禁品(退貨及罰款處理)",2053:"門市刷A給B，請洽客服",2054:"賣家要求提早退貨",2055:"包裹退至物流中心",2057:"車輛故障，後續配送中",2058:"天候不佳，後續配送中",2059:"道路中斷，後續配送中",2060:"門市停業，廠退處理",2061:"包裹異常，請洽客服",2062:"包裹異常，請洽客服",2063:"包裹配達取件門市",2065:"買家未取包裹，將退回物流中心",2066:"包裹異常，請洽客服",2067:"買家已到店取貨",2068:"賣家已到門市寄件",2069:"退貨便收件(商品退回指定C門市)",2070:"賣家已取退回包裹",2071:"門市代碼格式錯誤",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2101:"門市關轉店",2102:"門市舊店號更新",2103:"無取件門市資料",2104:"門市關轉，請重選門市",2105:"已申請門市變更",3001:"經確認為宅配類型貨態，故移除",3002:"經確認為宅配類型貨態，故移除",3003:"經確認為宅配類型貨態，故移除",3004:"經確認為宅配類型貨態，故移除",3005:"經確認為宅配類型貨態，故移除",3006:"經確認為宅配類型貨態，故移除",3007:"經確認為宅配類型貨態，故移除",3008:"經確認為宅配類型貨態，故移除",3009:"經確認為宅配類型貨態，故移除",3010:"經確認為宅配類型貨態，故移除",3011:"經確認為宅配類型貨態，故移除",3012:"經確認為宅配類型貨態，故移除",3013:"經確認為宅配類型貨態，故移除",3014:"經確認為宅配類型貨態，故移除",3015:"經確認為宅配類型貨態，故移除",3016:"經確認為宅配類型貨態，故移除",3017:"經確認為宅配類型貨態，故移除",3018:"包裹配達取件門市",3019:"包裹已退至原寄件門市",3020:"買家未取包裹，將退回物流中心",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3024:"物流中心驗收成功",3025:"買家未取包裹，已退回物流中心",3029:"包裹已配達指定取件門市",3031:"包裹已退至指定寄件門市",3032:"賣家已到門市寄件",3033:"EC客戶要求提早退貨",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",5001:"損壞，站所將協助退貨",5002:"遺失",5003:"BASE列管(寄件人和收件人聯絡不到)",5004:"賣家未取包裹，待申請退回",5005:"代收退貨",5006:"代收毀損",5007:"代收遺失",5008:"退貨配完",5009:"包裹異常，請洽客服",7001:"超大(通常發生於司機取件，不取件)",7002:"超重(通常發生於司機取件，不取件)",7003:"地址錯誤，聯繫收件人",7004:"航班延誤",7005:"託運單刪除",7006:"包裹遺失，進入賠償程序",7007:"包裹遺失，進入賠償程序",7008:"包裹破損，請洽客服",7009:"包裝異常，請洽客服",7010:"包裝異常，請洽客服",7011:"取件門市關轉，請重選門市",7012:"條碼錯誤，廠退處理",7013:"訂單超過驗收期限（賣家未出貨）",7014:"等待賣家出貨",7016:"包裹超材，退回賣家",7032:"寄件門市關轉，請重選門市",9001:"退貨已取",9002:"退貨已取",9999:"訂單取消"},HILIFEC2C:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",311:"訂單傳送物流成功",325:"退貨訂單處理中(綠界已收到訂單資料)",2e3:"已申請門市變更",2001:"訂單傳送超商成功",2002:"出貨單號不合規則",2003:"XML檔內出貨單號重複",2004:"出貨單號重複上傳使用(驗收時發現)",2005:"日期格式不符",2006:"訂單金額或代收金額錯誤",2007:"商品類型為空",2009:"門市店號為空",2010:"出貨日期為空",2011:"出貨金額為空",2012:"出貨編號不存在",2013:"母廠商不存在",2014:"子廠商不存在",2015:"出貨編號已存在(單筆)",2016:"門市已關轉店，將進行退貨處理",2017:"出貨日期不符合規定",2018:"服務類型不符規定(如只開取貨付款服務，卻使用純取貨服務)",2019:"商品類型不符規定",2020:"廠商尚未申請店配服務",2021:"同一批次出貨編號重複(批次)",2022:"出貨金額不符規定",2023:"取貨人姓名為空",2024:"訂單傳送超商成功",2025:"門市轉店號(舊門市店號已更新)",2026:"無此門市，將進行退貨處理",2027:"門市指定時間不配送，後續配送中",2028:"門市關轉店，3日內未更新SUP(新店號)便至退貨流程",2029:"門市尚未開店",2030:"物流中心驗收成功",2031:"等待賣家出貨",2032:"包裝異常，請洽客服",2033:"包裹超材，退回賣家",2034:"違禁品(退貨及罰款處理)",2035:"訂單資料重複上傳",2036:"訂單超過驗收期限（賣家未出貨）",2037:"取件門市關轉，請重選門市",2038:"標籤錯誤，廠退處理",2039:"標籤錯誤，廠退處理",2040:"標籤錯誤，廠退處理",2041:"物流中心理貨中",2042:"包裹遺失，進入賠償程序",2043:"門市指定時間不配送，後續配送中",2045:"不正常到貨(商品提早到物流中心)，廠退處理",2046:"貨件未取退回大智通物流中心",2047:"正常二退(退貨時間延長，在判賠期限內退回)",2048:"包裝異常，請洽客服",2049:"門市關店，將進行退貨處理",2050:"門市轉店，將進行退貨處理",2051:"賣家要求提早退貨",2052:"違禁品(退貨及罰款處理)",2053:"門市刷A給B，請洽客服",2054:"賣家要求提早退貨",2055:"包裹退至物流中心",2057:"車輛故障，後續配送中",2058:"天候不佳，後續配送中",2059:"道路中斷，後續配送中",2060:"門市停業，廠退處理",2061:"包裹異常，請洽客服",2062:"包裹異常，請洽客服",2063:"包裹配達取件門市",2065:"買家未取包裹，將退回物流中心",2066:"包裹異常，請洽客服",2067:"買家已到店取貨",2068:"賣家已到門市寄件",2069:"退貨便收件(商品退回指定C門市)",2070:"賣家已取退回包裹",2071:"門市代碼格式錯誤",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2101:"門市關轉店",2102:"門市舊店號更新",2103:"無取件門市資料",2104:"門市關轉，請重選門市",2105:"已申請門市變更",3001:"經確認為宅配類型貨態，故移除",3002:"經確認為宅配類型貨態，故移除",3003:"經確認為宅配類型貨態，故移除",3004:"經確認為宅配類型貨態，故移除",3005:"經確認為宅配類型貨態，故移除",3006:"經確認為宅配類型貨態，故移除",3007:"經確認為宅配類型貨態，故移除",3008:"經確認為宅配類型貨態，故移除",3009:"經確認為宅配類型貨態，故移除",3010:"經確認為宅配類型貨態，故移除",3011:"經確認為宅配類型貨態，故移除",3012:"經確認為宅配類型貨態，故移除",3013:"經確認為宅配類型貨態，故移除",3014:"經確認為宅配類型貨態，故移除",3015:"經確認為宅配類型貨態，故移除",3016:"經確認為宅配類型貨態，故移除",3017:"經確認為宅配類型貨態，故移除",3018:"包裹配達取件門市",3019:"包裹已退至原寄件門市",3020:"買家未取包裹，將退回物流中心",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3024:"物流中心驗收成功",3025:"買家未取包裹，已退回物流中心",3029:"包裹已配達指定取件門市",3031:"包裹已退至指定寄件門市",3032:"賣家已到門市寄件",3033:"EC客戶要求提早退貨",4001:"買家已到門市寄件",4002:"退貨商品已至物流中心",5001:"損壞，站所將協助退貨",5002:"遺失",5003:"BASE列管(寄件人和收件人聯絡不到)",5004:"賣家未取包裹，待申請退回",5005:"代收退貨",5006:"代收毀損",5007:"代收遺失",5008:"退貨配完",5009:"包裹異常，請洽客服",7001:"超大(通常發生於司機取件，不取件)",7002:"超重(通常發生於司機取件，不取件)",7003:"地址錯誤，聯繫收件人",7004:"航班延誤",7005:"託運單刪除",7006:"包裹遺失，進入賠償程序",7007:"包裹遺失，進入賠償程序",7008:"包裹破損，請洽客服",7009:"包裝異常，請洽客服",7010:"包裝異常，請洽客服",7011:"取件門市關轉，請重選門市",7012:"條碼錯誤，廠退處理",7013:"訂單超過驗收期限（賣家未出貨）",7014:"等待賣家出貨",7016:"包裹超材，退回賣家",7032:"寄件門市關轉，請重選門市",9001:"退貨已取",9002:"退貨已取",9999:"訂單取消"},OKMARTC2C:{300:"訂單處理中(綠界已收到訂單資料)",2030:"物流中心驗收成功",2055:"包裹退至物流中心",2072:"包裹已退至原寄件門市",2073:"包裹配達取件門市",2074:"買家未取包裹，將退回物流中心",2075:"賣家未取包裹，將退回物流中心",2078:"買家未取包裹，已退回物流中心",2105:"已申請門市變更",3021:"賣家未取包裹，待申請退回",3022:"買家已到店取貨",3023:"賣家已取退回包裹",3032:"賣家已到門市寄件",7101:"取件門市關轉，請重選門市",7102:"包裹配送驗收異常-無進貨資料",7103:"包裹配送驗收異常-條碼錯誤",7104:"包裹配送驗收異常-超材",7105:"包裹配送驗收異常-大物流包裝不良(滲漏)",7106:"包裹配送驗收異常-小物流破損",7107:"包裹配送驗收異常-門市反應商品包裝不良(滲漏)",7201:"寄件門市關轉，請重選門市",7202:"退貨包裹配送驗收異常-無進貨資料",7203:"退貨包裹配送驗收異常-條碼錯誤",7204:"退貨包裹配送驗收異常-超材",7205:"退貨包裹配送驗收異常-大物流包裝不良(滲漏)",7206:"退貨包裹配送驗收異常-小物流破損",7207:"退貨包裹配送驗收異常-門市反應商品包裝不良(滲漏)",7255:"包裹退至物流中心"}},HOME:{TCAT:{300:"訂單處理中(綠界已收到訂單資料)",310:"訂單上傳物流中",311:"訂單傳送物流成功",325:"退貨訂單處理中(綠界已收到訂單資料)",3001:"轉運中(即集貨)",3002:"不在家",3003:"配完",3004:"送錯BASE (送錯營業所)",3005:"送錯CENTER(送錯轉運中心)",3006:"配送中",3007:"公司行號休息",3008:"地址錯誤，聯繫收件人",3009:"搬家",3010:"轉寄(如原本寄到A，改寄B)",3011:"暫置營業所(收件人要求至營業所取貨)",3012:"到所(收件人要求到站所取件)",3013:"當配下車(當日配送A至B營業所，已抵達B營業所)",3014:"當配上車(當日配送從A至B營業所，已抵達A營業所)",3015:"空運配送中",3016:"配完狀態刪除",3017:"退回狀態刪除(代收退貨刪除)",3117:"拒收(調查處理中)",3118:"暫置營業所",3119:"暫置營業所(假日暫置)",3120:"預備配送中",3121:"轉交門市配達",3122:"另約時間",3123:"逾期未取，門市刷退",3124:"退貨包裹待司機取回",3125:"司機已到門市取回",5001:"損壞，站所將協助退貨",5002:"遺失",5003:"BASE列管(寄件人和收件人聯絡不到)",5004:"一般單退回",5005:"代收退貨",5006:"代收毀損",5007:"代收遺失",5008:"退貨配完",7001:"超大(通常發生於司機取件，不取件)",7002:"超重(通常發生於司機取件，不取件)",7003:"地址錯誤，聯繫收件人",7004:"航班延誤",7005:"託運單刪除",7024:"另約時間",7025:"電聯不上",7026:"資料有誤",7027:"無件可退",7028:"超大超重",7029:"已回收",7030:"別家收走",7031:"商品未到"},POST:{320:"郵局已確認資料，可列印",3301:"交寄郵件",3302:"各區郵局招領中",3303:"投遞不成功",3304:"依寄件人指示銷毀",3305:"拒收",3306:"退回投遞不成功",3307:"i郵箱取件成功",3308:"投遞成功",3309:"投遞成功(收受人領取)",3310:"已退回寄件人",3311:"退回郵件投遞中",3312:"貨件投遞中",3313:"郵局貨件運轉中",3314:"到達i郵箱",3315:"i郵箱逾期退招領",7300:"郵局接收資料異常",7301:"郵件破損 - 無法投遞",7302:"郵件遺失"}}},Ad={generatedAt:FM,flat:VM,detailed:$M},Oi=[{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"1234567",LogisticsID:"1234567",LogisticsType:"Home",LogisticsSubType:"TCAT",GoodsAmount:1280,GoodsName:"示例商品A",Status:"300",LogisticsStatus:"300",TradeNo:"220000000001",MerchantTradeNo:"M202509240001",UpdateStatusDate:"2025/09/24 10:23:45",TradeDate:"2025/09/23 09:12:34",HandlingCharge:120,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"王小明",ReceiverPhone:"0912345678",ReceiverCellPhone:"0912345678",ReceiverEmail:"user@example.com",ReceiverAddress:"台北市信義區市府路45號",SenderName:"商店出貨部",SenderPhone:"0223456789",SenderCellPhone:"0911222333",CVSStoreID:"",CVSStoreName:"",CVSAddress:"",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"HOME托運單-ABC123456",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"2025/09/24",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654321",LogisticsID:"7654321",LogisticsType:"CVS",LogisticsSubType:"UNIMART",GoodsAmount:560,GoodsName:"示例商品B",Status:"2063",LogisticsStatus:"2063",TradeNo:"220000000002",MerchantTradeNo:"M202509240002",UpdateStatusDate:"2025/09/23 16:05:12",TradeDate:"2025/09/22 14:22:01",HandlingCharge:60,CollectionAmount:560,CollectionChargeFee:10,ReceiverName:"陳小華",ReceiverPhone:"0223456789",ReceiverCellPhone:"0987654321",ReceiverEmail:"test@example.com",ReceiverAddress:"",SenderName:"商店門市",SenderPhone:"022221111",SenderCellPhone:"0912000111",CVSStoreID:"1234",CVSStoreName:"台北市政府門市",CVSAddress:"台北市信義區信義路五段7號B1",CVSOutSide:"OPENPOINT店外代碼",CVSPaymentNo:"A123456789",CVSValidationNo:"B987654321",BookingNote:"貨到付款",ShipmentNo:"C2C-UNIMART-00001",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"2025/09/25",CollectionAllocateAmount:550},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654322",LogisticsID:"7654322",LogisticsType:"CVS",LogisticsSubType:"UNIMART",GoodsAmount:899,GoodsName:"7-11 B2C 商品",Status:"2067",LogisticsStatus:"2067",TradeNo:"220000000003",MerchantTradeNo:"M202509240003",UpdateStatusDate:"2025/09/24 18:12:00",TradeDate:"2025/09/22 08:01:22",HandlingCharge:65,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"林小姐",ReceiverPhone:"",ReceiverCellPhone:"0918111222",ReceiverEmail:"",ReceiverAddress:"",SenderName:"電商出貨",SenderPhone:"022200000",SenderCellPhone:"",CVSStoreID:"8888",CVSStoreName:"市府二門市",CVSAddress:"台北市信義區市府路1號",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"",ShipmentNo:"B2C-UNIMART-99001",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654323",LogisticsID:"7654323",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",GoodsAmount:399,GoodsName:"7-11 C2C 商品",Status:"2074",LogisticsStatus:"2074",TradeNo:"220000000004",MerchantTradeNo:"M202509240004",UpdateStatusDate:"2025/09/24 20:15:00",TradeDate:"2025/09/20 12:00:00",HandlingCharge:60,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"郭小明",ReceiverPhone:"",ReceiverCellPhone:"0915000111",ReceiverEmail:"c2c@example.com",ReceiverAddress:"",SenderName:"賣家甲",SenderPhone:"",SenderCellPhone:"0912123123",CVSStoreID:"7001",CVSStoreName:"松仁門市",CVSAddress:"台北市信義區松仁路3號",CVSOutSide:"",CVSPaymentNo:"711-ABC123456",CVSValidationNo:"55",BookingNote:"C2C",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654324",LogisticsID:"7654324",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",GoodsAmount:499,GoodsName:"7-11 C2C 二次進店",Status:"2098",LogisticsStatus:"2098",TradeNo:"220000000005",MerchantTradeNo:"M202509240005",UpdateStatusDate:"2025/09/24 21:05:00",TradeDate:"2025/09/21 09:00:00",HandlingCharge:60,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"江小姐",ReceiverPhone:"",ReceiverCellPhone:"0916000222",ReceiverEmail:"",ReceiverAddress:"",SenderName:"賣家乙",SenderPhone:"",SenderCellPhone:"0966123123",CVSStoreID:"7002",CVSStoreName:"松壽門市",CVSAddress:"台北市信義區松壽路9號",CVSOutSide:"店外代碼示意",CVSPaymentNo:"711-DEF222333",CVSValidationNo:"99",BookingNote:"C2C",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654325",LogisticsID:"7654325",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",GoodsAmount:299,GoodsName:"7-11 C2C 二次進店(寄件門市)",Status:"2099",LogisticsStatus:"2099",TradeNo:"220000000006",MerchantTradeNo:"M202509240006",UpdateStatusDate:"2025/09/24 21:10:00",TradeDate:"2025/09/21 10:00:00",HandlingCharge:60,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"趙先生",ReceiverPhone:"",ReceiverCellPhone:"0916111333",ReceiverEmail:"",ReceiverAddress:"",SenderName:"賣家丙",SenderPhone:"",SenderCellPhone:"0922123555",CVSStoreID:"7003",CVSStoreName:"松德門市",CVSAddress:"台北市信義區松德路88號",CVSOutSide:"",CVSPaymentNo:"711-GHI333444",CVSValidationNo:"01",BookingNote:"C2C",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654326",LogisticsID:"7654326",LogisticsType:"CVS",LogisticsSubType:"FAMI",GoodsAmount:1200,GoodsName:"全家 B2C",Status:"3018",LogisticsStatus:"3018",TradeNo:"220000000007",MerchantTradeNo:"M202509240007",UpdateStatusDate:"2025/09/24 11:00:00",TradeDate:"2025/09/22 10:10:10",HandlingCharge:65,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"全家收件人",ReceiverPhone:"",ReceiverCellPhone:"0977000123",ReceiverEmail:"",ReceiverAddress:"",SenderName:"電商出貨",SenderPhone:"022222222",SenderCellPhone:"",CVSStoreID:"F001",CVSStoreName:"全家信義店",CVSAddress:"台北市信義區忠孝東路五段8號",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"",ShipmentNo:"B2C-FAMI-10001",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654327",LogisticsID:"7654327",LogisticsType:"CVS",LogisticsSubType:"FAMIC2C",GoodsAmount:780,GoodsName:"全家 C2C",Status:"3022",LogisticsStatus:"3022",TradeNo:"220000000008",MerchantTradeNo:"M202509240008",UpdateStatusDate:"2025/09/24 15:45:00",TradeDate:"2025/09/22 11:22:33",HandlingCharge:60,CollectionAmount:780,CollectionChargeFee:15,ReceiverName:"全家收件人2",ReceiverPhone:"",ReceiverCellPhone:"0966333555",ReceiverEmail:"fami@example.com",ReceiverAddress:"",SenderName:"賣家丁",SenderPhone:"",SenderCellPhone:"0912000444",CVSStoreID:"F002",CVSStoreName:"全家松仁店",CVSAddress:"台北市信義區松仁路9號",CVSOutSide:"",CVSPaymentNo:"FAMI-444555666",CVSValidationNo:"",BookingNote:"COD",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"2025/09/26",CollectionAllocateAmount:765},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654328",LogisticsID:"7654328",LogisticsType:"CVS",LogisticsSubType:"HILIFE",GoodsAmount:999,GoodsName:"萊爾富 B2C",Status:"3018",LogisticsStatus:"3018",TradeNo:"220000000009",MerchantTradeNo:"M202509240009",UpdateStatusDate:"2025/09/24 09:30:00",TradeDate:"2025/09/21 18:30:00",HandlingCharge:65,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"萊爾富收件人",ReceiverPhone:"",ReceiverCellPhone:"0955111222",ReceiverEmail:"",ReceiverAddress:"",SenderName:"電商出貨",SenderPhone:"",SenderCellPhone:"",CVSStoreID:"HL01",CVSStoreName:"萊爾富信義店",CVSAddress:"台北市信義區松仁路100號",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"",ShipmentNo:"B2C-HILIFE-10001",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654329",LogisticsID:"7654329",LogisticsType:"CVS",LogisticsSubType:"HILIFEC2C",GoodsAmount:420,GoodsName:"萊爾富 C2C",Status:"3020",LogisticsStatus:"3020",TradeNo:"220000000010",MerchantTradeNo:"M202509240010",UpdateStatusDate:"2025/09/24 13:15:00",TradeDate:"2025/09/21 12:05:00",HandlingCharge:60,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"HL C2C 收件",ReceiverPhone:"",ReceiverCellPhone:"0955000555",ReceiverEmail:"",ReceiverAddress:"",SenderName:"賣家戊",SenderPhone:"",SenderCellPhone:"0912555666",CVSStoreID:"HL02",CVSStoreName:"萊爾富松德店",CVSAddress:"台北市信義區松德路10號",CVSOutSide:"",CVSPaymentNo:"HL-1122334455",CVSValidationNo:"",BookingNote:"",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654330",LogisticsID:"7654330",LogisticsType:"CVS",LogisticsSubType:"OKMART",GoodsAmount:288,GoodsName:"OK B2C",Status:"3018",LogisticsStatus:"3018",TradeNo:"220000000011",MerchantTradeNo:"M202509240011",UpdateStatusDate:"2025/09/24 07:20:00",TradeDate:"2025/09/21 07:20:00",HandlingCharge:65,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"OK收件",ReceiverPhone:"",ReceiverCellPhone:"0933777888",ReceiverEmail:"",ReceiverAddress:"",SenderName:"電商出貨",SenderPhone:"",SenderCellPhone:"",CVSStoreID:"OK01",CVSStoreName:"OK信義店",CVSAddress:"台北市信義區松仁路88號",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"",ShipmentNo:"B2C-OKMART-88888",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"7654331",LogisticsID:"7654331",LogisticsType:"CVS",LogisticsSubType:"OKMARTC2C",GoodsAmount:350,GoodsName:"OK C2C",Status:"3022",LogisticsStatus:"3022",TradeNo:"220000000012",MerchantTradeNo:"M202509240012",UpdateStatusDate:"2025/09/24 08:00:00",TradeDate:"2025/09/21 08:00:00",HandlingCharge:60,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"OKC2C 收件",ReceiverPhone:"",ReceiverCellPhone:"0933555666",ReceiverEmail:"",ReceiverAddress:"",SenderName:"賣家己",SenderPhone:"",SenderCellPhone:"0912333444",CVSStoreID:"OK02",CVSStoreName:"OK松德店",CVSAddress:"台北市信義區松德路99號",CVSOutSide:"",CVSPaymentNo:"OK-5566778899",CVSValidationNo:"",BookingNote:"",ShipmentNo:"",GoodsWeight:"",ActualWeight:"",ShipChargeDate:"",CollectionAllocateDate:"",CollectionAllocateAmount:0},{MerchantID:"2000132",RtnCode:1,RtnMsg:"成功",AllPayLogisticsID:"1234568",LogisticsID:"1234568",LogisticsType:"Home",LogisticsSubType:"POST",GoodsAmount:1500,GoodsName:"宅配-郵局",Status:"3024",LogisticsStatus:"3024",TradeNo:"220000000013",MerchantTradeNo:"M202509240013",UpdateStatusDate:"2025/09/24 12:34:56",TradeDate:"2025/09/22 12:00:00",HandlingCharge:150,CollectionAmount:0,CollectionChargeFee:0,ReceiverName:"張先生",ReceiverPhone:"0222111999",ReceiverCellPhone:"",ReceiverEmail:"post@example.com",ReceiverAddress:"新北市板橋區文化路一段1號",SenderName:"商店出貨部",SenderPhone:"0223456789",SenderCellPhone:"",CVSStoreID:"",CVSStoreName:"",CVSAddress:"",CVSOutSide:"",CVSPaymentNo:"",CVSValidationNo:"",BookingNote:"郵局托運單-POST0001",ShipmentNo:"",GoodsWeight:9.876,ActualWeight:10.123,ShipChargeDate:"2025/09/25",CollectionAllocateDate:"",CollectionAllocateAmount:0}],e0=[{id:"LN-0001",AllPayLogisticsID:"1234567",RtnCode:300,RtnMsg:"已收件",LogisticsType:"Home",LogisticsSubType:"TCAT",UpdateStatusDate:"2025/09/24 10:23:45",ReceiverName:"王小明",BookingNote:"",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240001",CheckMacValue:"MOCKED"}},{id:"LN-0002",AllPayLogisticsID:"7654321",RtnCode:2063,RtnMsg:"門市已到店",LogisticsType:"CVS",LogisticsSubType:"UNIMART",UpdateStatusDate:"2025/09/23 16:05:12",ReceiverName:"陳小華",BookingNote:"貨到付款",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240002",CheckMacValue:"MOCKED"}},{id:"LN-0003",AllPayLogisticsID:"7654322",RtnCode:2067,RtnMsg:"消費者成功取件",LogisticsType:"CVS",LogisticsSubType:"UNIMART",UpdateStatusDate:"2025/09/24 18:12:10",ReceiverName:"林小姐",BookingNote:"",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240003",CheckMacValue:"MOCKED"}},{id:"LN-0004",AllPayLogisticsID:"7654323",RtnCode:2074,RtnMsg:"七天未取件",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",UpdateStatusDate:"2025/09/24 20:15:10",ReceiverName:"郭小明",BookingNote:"C2C",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240004",CheckMacValue:"MOCKED"}},{id:"LN-0005",AllPayLogisticsID:"7654324",RtnCode:2098,RtnMsg:"包裹重新配達取件門市",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",UpdateStatusDate:"2025/09/24 21:05:10",ReceiverName:"江小姐",BookingNote:"C2C",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240005",CheckMacValue:"MOCKED"}},{id:"LN-0006",AllPayLogisticsID:"7654325",RtnCode:2099,RtnMsg:"包裹重新配達寄件門市",LogisticsType:"CVS",LogisticsSubType:"UNIMARTC2C",UpdateStatusDate:"2025/09/24 21:10:10",ReceiverName:"趙先生",BookingNote:"C2C",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240006",CheckMacValue:"MOCKED"}},{id:"LN-0007",AllPayLogisticsID:"7654327",RtnCode:3022,RtnMsg:"消費者成功取件",LogisticsType:"CVS",LogisticsSubType:"FAMIC2C",UpdateStatusDate:"2025/09/24 15:45:10",ReceiverName:"全家收件人2",BookingNote:"COD",raw:{MerchantID:"2000132",MerchantTradeNo:"M202509240008",CheckMacValue:"MOCKED"}}],Ln=t=>new Promise(e=>setTimeout(e,t)),t0={async queryLogisticsOrders(t={}){await Ln(300);const{MerchantTradeNo:e,AllPayLogisticsID:s}=t;let n=Oi;return e&&(n=n.filter(a=>a.MerchantTradeNo.includes(e))),s&&(n=n.filter(a=>a.AllPayLogisticsID.includes(s))),{success:!0,data:n}},async getLogisticsOrder(t){await Ln(200);const e=Oi.find(s=>s.AllPayLogisticsID===t||s.MerchantTradeNo===t);return{success:!!e,data:e}},async getNotifications(){return await Ln(200),{success:!0,data:e0}},async getNotification(t){await Ln(150);const e=e0.find(s=>s.id===t);return{success:!!e,data:e}},async acknowledgeNotification(t){return await Ln(120),{success:!0}},async refreshFromIndex(t=0){await Ln(300);const e=Oi.length;if(e===0)return{success:!0,nextIndex:0,updated:[]};const s=[];for(let n=t;n<e;n++){const a=Oi[n];a.LogisticsType==="Home"&&a.LogisticsSubType==="TCAT"&&String(a.Status)==="300"&&(a.Status="3123",a.LogisticsStatus=a.Status,a.UpdateStatusDate=new Date().toISOString().slice(0,19).replace("T"," ")),s.push({...a})}return{success:!0,nextIndex:0,updated:s}},async updateOneAndNext(t=0){await Ln(200);const e=Oi.length;if(e===0)return{success:!0,nextIndex:0,updated:null};const s=Math.max(0,Math.min(t,e-1)),n=Oi[s];return n.Status=String(n.Status)==="300"?"3123":"300",n.LogisticsStatus=n.Status,n.UpdateStatusDate=new Date().toISOString().slice(0,19).replace("T"," "),{success:!0,nextIndex:s+1<e?s+1:0,updated:{...n}}},async getReverseNotifications(){return await Ln(200),{success:!0,data:e0.map((e,s)=>({...e,id:`RLN-${String(s+1).padStart(4,"0")}`,RtnMsg:`逆物流-${e.RtnMsg}`}))}}},o5=Ad&&(Ad.flat||Ad.detailed)?Ad:{flat:{},detailed:{}},c5=()=>o5.flat||{},d5=()=>o5.detailed||{};function Dd(t,e,s){const n=String(t??"").trim();if(!n)return"";const a=String(e||"").toUpperCase(),i=String(s||"").toUpperCase(),o=d5()[a],c=o?o[i]:null;return c&&c[n]||c5()[n]||""}function Pd(t,e){const s={Home:{TCAT:"黑貓宅配",POST:"郵局宅配"},CVS:{UNIMART:"7-11 B2C",UNIMARTC2C:"7-11 C2C",FAMI:"全家 B2C",FAMIC2C:"全家 C2C",HILIFE:"萊爾富 B2C",HILIFEC2C:"萊爾富 C2C",OKMART:"OK 超商 B2C",OKMARTC2C:"OK 超商 C2C"}};return s[t]&&s[t][e]?s[t][e]:t&&e?`${t}/${e}`:t||e||"-"}function UM(){const[t,e]=f.useState(!1),[s,n]=f.useState([]),[a,i]=f.useState(null),[l,o]=f.useState("overview"),[c,d]=f.useState(""),[m,u]=f.useState("all"),[h,g]=f.useState("all"),p=f.useRef(0),x=f.useRef(null),j=async(E={})=>{e(!0);try{const C=await t0.queryLogisticsOrders(E);C.success&&n(C.data)}finally{e(!1)}};f.useEffect(()=>{j();const E=async()=>{const C=await t0.refreshFromIndex(p.current);p.current=C.nextIndex||0,n(A=>A.map(I=>({...I}))),x.current=setTimeout(E,2e3)};return E(),()=>{x.current&&clearTimeout(x.current)}},[]);const v=async E=>{p.current=E;const C=await t0.updateOneAndNext(E);p.current=C.nextIndex||0,n(A=>A.map(I=>({...I})))},y=f.useMemo(()=>{const E=new Map;return s.forEach(C=>{const A=`${C.LogisticsType}:${C.LogisticsSubType}`;E.has(A)||E.set(A,Pd(C.LogisticsType,C.LogisticsSubType))}),[{value:"all",label:"全部物流方式"},...Array.from(E.entries()).map(([C,A])=>({value:C,label:A}))]},[s]),b=f.useMemo(()=>{var _;const E={value:"all",label:"全部狀態"},C=d5(),A=c5(),I=new Set;if(m&&m!=="all"){const[L,R]=String(m).split(":"),F=String(L||"").toUpperCase(),M=String(R||"").toUpperCase(),$=((_=C==null?void 0:C[F])==null?void 0:_[M])||{};Object.values($).forEach(D=>D&&I.add(D))}else Object.values(A).forEach(L=>L&&I.add(L));const S=Array.from(I);return[E,...S.map(L=>({value:L,label:L}))]},[m]),N=f.useMemo(()=>{const E=(c||"").toLowerCase().trim();return s.filter(C=>{const A=E?JSON.stringify(C).toLowerCase().includes(E):!0,I=`${C.LogisticsType}:${C.LogisticsSubType}`,S=m==="all"?!0:I===m,_=Dd(C.LogisticsStatus||C.Status,C.LogisticsType,C.LogisticsSubType)||"";return A&&S&&(h==="all"?!0:_===h)})},[s,c,m,h]),w=E=>{if(!E)return O.statusInfo;const C=String(E),A=["成功","完成","已配達","已取件","領取","撥款"],I=["待","處理","配送","運送","轉運","重新"];return["失敗","取消","逾期","異常","未取","退回"].some(_=>C.includes(_))?O.statusError:A.some(_=>C.includes(_))?O.statusSuccess:I.some(_=>C.includes(_))?O.statusWarning:O.statusInfo},k=E=>r.jsx("span",{className:w(E),children:E||"未知狀態"}),T=(E,C)=>E==="Home"?O.statusInfo:E==="CVS"&&{UNIMART:O.statusSuccess,UNIMARTC2C:O.statusSuccess,FAMI:O.statusInfo,FAMIC2C:O.statusInfo,HILIFE:O.statusWarning,HILIFEC2C:O.statusWarning,OKMART:O.statusInactive,OKMARTC2C:O.statusInactive}[C]||O.statusInfo,P=f.useMemo(()=>[{key:"TradeDate",label:"訂單成立時間",sortable:!0,render:E=>E||"-"},{key:"UpdateStatusDate",label:"更新時間",sortable:!0},{key:"LogisticsType",label:"物流方式",sortable:!0,render:(E,C)=>r.jsx("span",{className:T(C.LogisticsType,C.LogisticsSubType),children:Pd(C.LogisticsType,C.LogisticsSubType)})},{key:"LogisticsStatus",label:"物流狀態",sortable:!1,render:(E,C)=>k(Dd(E||C.Status,C.LogisticsType,C.LogisticsSubType))},{key:"GoodsAmount",label:"商品金額",sortable:!0},{key:"ReceiverName",label:"收件人",sortable:!0},{key:"ReceiverCellPhone",label:"手機",sortable:!1},{key:"RtnCode",label:"回應代碼",sortable:!0,render:E=>{if(E==null||E==="")return"-";const C=Number(E);if(!Number.isNaN(C)){const A=C===1?"text-green-600 font-mono":"text-red-600 font-mono";return r.jsx("span",{className:A,children:C})}return String(E)}},{key:"actions",label:"操作",sortable:!1,render:(E,C,A)=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{i(C),o("overview")},className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"檢視詳情","aria-label":"檢視詳情",children:r.jsx(Os,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>v(A),className:"p-2 text-gray-400 hover:text-amber-600 transition-colors",title:"更新此筆後繼續","aria-label":"更新此筆後繼續",children:r.jsx(vr,{className:"w-4 h-4"})})]})}],[]);return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:O.contentContainerStandard,children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ja,{className:"w-8 h-8 text-amber-500 mr-3"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"物流追蹤"})]})}),r.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[r.jsx("input",{value:c,onChange:E=>d(E.target.value),className:`${O.input} flex-1`,placeholder:"輸入關鍵字，搜尋所有欄位"}),r.jsxs("div",{className:"flex items-center gap-3 md:ml-auto",children:[r.jsx("div",{className:"min-w-[14rem]",children:r.jsx(_e,{value:m,onChange:E=>u(E),options:y,placeholder:"選擇物流方式",searchPlaceholder:"搜尋物流方式...",className:"font-chinese",maxDisplayOptions:9999})}),r.jsx("div",{className:"w-full md:w-[30rem]",children:r.jsx(_e,{value:h,onChange:E=>g(E),options:b,placeholder:"選擇狀態",searchPlaceholder:"搜尋狀態...",className:"font-chinese",maxDisplayOptions:9999})})]})]})}),r.jsx(_i,{data:N,columns:P,title:t?"載入中…":"物流清單",emptyMessage:"沒有找到符合條件的物流資料",exportFileName:"物流清單"}),a&&r.jsx(Zs,{isOpen:!!a,onClose:()=>i(null),title:"物流詳情",size:"max-w-5xl",children:r.jsxs("div",{className:"p-6",children:[r.jsx(xi,{mode:"controlled",activeKey:l,onTabChange:E=>o(E.key||E.label),tabs:[{key:"overview",label:"概要"},{key:"order",label:"訂單/交易"},{key:"logistics",label:"物流"},{key:"receiver",label:"收件/寄件"},{key:"address",label:"門市/地址"},{key:"fees",label:"費用/重量"},{key:"raw",label:"原始資料"}],className:"mb-4",layout:"left"}),l==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm font-chinese",children:[r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"訂單成立時間"}),r.jsx("div",{className:"font-medium",children:a.TradeDate||"-"})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"更新時間"}),r.jsx("div",{className:"font-medium",children:a.UpdateStatusDate||"-"})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"物流方式"}),r.jsx("div",{className:T(a.LogisticsType,a.LogisticsSubType),children:Pd(a.LogisticsType,a.LogisticsSubType)})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"物流狀態"}),r.jsx("div",{className:"font-medium",children:k(Dd(a.LogisticsStatus||a.Status,a.LogisticsType,a.LogisticsSubType))})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"商品金額"}),r.jsx("div",{className:"font-medium",children:a.GoodsAmount})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"收件人"}),r.jsx("div",{className:"font-medium",children:a.ReceiverName})]})]}),l==="order"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-chinese",children:[r.jsx(Pe,{label:"特店編號",value:a.MerchantID}),r.jsx(Pe,{label:"商店訂單",value:a.MerchantTradeNo}),r.jsx(Pe,{label:"綠界交易",value:a.TradeNo}),r.jsx(Pe,{label:"訂單成立時間",value:a.TradeDate}),r.jsx(Pe,{label:"回應代碼",value:a.RtnCode}),r.jsx(Pe,{label:"回應訊息",value:a.RtnMsg})]}),l==="logistics"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-chinese",children:[r.jsx(Pe,{label:"綠界物流編號",value:a.LogisticsID||a.AllPayLogisticsID}),r.jsx(Pe,{label:"更新時間",value:a.UpdateStatusDate}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"物流方式"}),r.jsx("div",{className:T(a.LogisticsType,a.LogisticsSubType),children:Pd(a.LogisticsType,a.LogisticsSubType)})]}),r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:"狀態"}),k(Dd(a.LogisticsStatus||a.Status,a.LogisticsType,a.LogisticsSubType))]}),r.jsx(Pe,{label:"寄貨/配送編號",value:a.CVSPaymentNo||a.ShipmentNo}),r.jsx(Pe,{label:"托運單號",value:a.BookingNote})]}),l==="receiver"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-chinese",children:[r.jsx(Pe,{label:"收件人",value:a.ReceiverName}),r.jsx(Pe,{label:"Email",value:a.ReceiverEmail}),r.jsx(Pe,{label:"手機",value:a.ReceiverCellPhone}),r.jsx(Pe,{label:"電話",value:a.ReceiverPhone}),r.jsx(Pe,{label:"寄件人",value:a.SenderName}),r.jsx(Pe,{label:"寄件人手機",value:a.SenderCellPhone}),r.jsx(Pe,{label:"寄件人電話",value:a.SenderPhone})]}),l==="address"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-chinese",children:[r.jsx(Pe,{label:"收件地址",value:a.ReceiverAddress}),r.jsx(Pe,{label:"門市代碼",value:a.CVSStoreID}),r.jsx(Pe,{label:"門市名稱",value:a.CVSStoreName}),r.jsx(Pe,{label:"門市地址",value:a.CVSAddress})]}),l==="fees"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-chinese",children:[r.jsx(Pe,{label:"物流費",value:a.HandlingCharge}),r.jsx(Pe,{label:"代收金額",value:a.CollectionAmount}),r.jsx(Pe,{label:"代收手續費",value:a.CollectionChargeFee}),r.jsx(Pe,{label:"撥款日",value:a.CollectionAllocateDate}),r.jsx(Pe,{label:"撥款金額",value:a.CollectionAllocateAmount}),r.jsx(Pe,{label:"商品重量(kg)",value:a.GoodsWeight}),r.jsx(Pe,{label:"實際重量(kg)",value:a.ActualWeight}),r.jsx(Pe,{label:"運費扣款日",value:a.ShipChargeDate})]}),l==="raw"&&r.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded overflow-auto max-h-[60vh]",children:JSON.stringify(a,null,2)})]})})]})})}const Pe=({label:t,value:e})=>r.jsxs("div",{className:"glass p-4 rounded-xl",children:[r.jsx("div",{className:"text-gray-500 mb-1",children:t}),r.jsx("div",{className:"font-medium break-words",children:e??"-"})]}),BM=[{id:"notif-1",type:"order",status:"delivered",priority:"normal",recipientType:"customer",recipientId:"user-123",recipientName:"王小明",recipientEmail:"wang@example.com",recipientPhone:"0912345678",createdAt:"2024-01-15T10:30:00Z",scheduledAt:"2024-01-15T10:30:00Z",sentAt:"2024-01-15T10:31:23Z",deliveredAt:"2024-01-15T10:31:45Z",openedAt:"2024-01-15T11:15:22Z",subject:"訂單確認通知",content:"您的訂單 #ORD-2024-001 已確認並開始處理",orderNumber:"ORD-2024-001",channel:"email",errorMessage:null},{id:"notif-2",type:"promotion",status:"delivered",priority:"high",recipientType:"customer",recipientId:"user-456",recipientName:"李美華",recipientEmail:"li@example.com",recipientPhone:"0987654321",createdAt:"2024-01-15T09:00:00Z",scheduledAt:"2024-01-15T09:00:00Z",sentAt:"2024-01-15T09:01:15Z",deliveredAt:"2024-01-15T09:01:28Z",openedAt:null,subject:"生日快樂！專屬優惠等您領取",content:"慶祝您的生日，我們為您準備了專屬優惠券",channel:"sms",errorMessage:null},{id:"notif-3",type:"system",status:"failed",priority:"urgent",recipientType:"admin",recipientId:"admin-001",recipientName:"系統管理員",recipientEmail:"admin@marelle.com",recipientPhone:null,createdAt:"2024-01-15T08:45:00Z",scheduledAt:"2024-01-15T08:45:00Z",sentAt:"2024-01-15T08:46:00Z",deliveredAt:null,openedAt:null,subject:"庫存警告：商品庫存不足",content:"商品「經典手提包」庫存已降至警戒線以下",channel:"email",errorMessage:"SMTP服務器連接失敗"},{id:"notif-4",type:"shipping",status:"delivered",priority:"normal",recipientType:"customer",recipientId:"user-789",recipientName:"陳志強",recipientEmail:"chen@example.com",recipientPhone:"0911111111",createdAt:"2024-01-14T16:20:00Z",scheduledAt:"2024-01-14T16:20:00Z",sentAt:"2024-01-14T16:21:10Z",deliveredAt:"2024-01-14T16:21:25Z",openedAt:"2024-01-14T18:45:30Z",subject:"商品已出貨",content:"您的訂單 #ORD-2024-002 已出貨，預計明日送達",orderNumber:"ORD-2024-002",trackingNumber:"TW1234567890",channel:"app",errorMessage:null},{id:"notif-5",type:"payment",status:"pending",priority:"high",recipientType:"customer",recipientId:"user-101",recipientName:"張雅婷",recipientEmail:"zhang@example.com",recipientPhone:"0922222222",createdAt:"2024-01-15T14:30:00Z",scheduledAt:"2024-01-15T14:35:00Z",sentAt:null,deliveredAt:null,openedAt:null,subject:"付款提醒",content:"您的訂單 #ORD-2024-003 尚未完成付款",orderNumber:"ORD-2024-003",channel:"email",errorMessage:null}],zM={getNotifications:()=>[...BM]},WM=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0),[a,i]=f.useState({status:"all",type:"all",dateRange:"all",searchQuery:""}),[l,o]=f.useState([]),c=zM.getNotifications();f.useEffect(()=>{d(),Rs.fromTo(".notification-item",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[a]);const d=async()=>{n(!0);try{await new Promise(k=>setTimeout(k,800));let b=[...c];if(a.status!=="all"&&(b=b.filter(k=>k.status===a.status)),a.type!=="all"&&(b=b.filter(k=>k.type===a.type)),a.searchQuery){const k=a.searchQuery.toLowerCase();b=b.filter(T=>T.subject.toLowerCase().includes(k)||T.recipientName.toLowerCase().includes(k)||T.recipientEmail.toLowerCase().includes(k))}const N=new Date,w={"1day":1,"7days":7,"30days":30,"90days":90};if(a.dateRange!=="all"&&w[a.dateRange]){const k=new Date(N.getTime()-w[a.dateRange]*24*60*60*1e3);b=b.filter(T=>new Date(T.createdAt)>=k)}e(b)}catch(b){console.error("Error loading notifications:",b)}finally{n(!1)}},m=b=>{switch(b){case"delivered":return"已送達";case"failed":return"發送失敗";case"pending":return"待發送";case"sent":return"已發送";default:return"未知"}},u=b=>{switch(b){case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"sent":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},h=b=>{switch(b){case"order":return"訂單通知";case"payment":return"付款通知";case"shipping":return"物流通知";case"promotion":return"促銷通知";case"system":return"系統通知";default:return"一般通知"}},g=b=>b?new Date(b).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-",p=b=>{!b||b.length===0||confirm(`確定要刪除選中的 ${b.length} 個通知嗎？`)&&(e(N=>N.filter(w=>!b.includes(w.id))),o([]))},x=b=>{confirm("確定要刪除此通知嗎？")&&(e(N=>N.filter(w=>w.id!==b)),o(N=>N.filter(w=>w!==b)))},j=b=>{e(N=>N.map(w=>w.id===b?{...w,status:"pending",errorMessage:null}:w))};if(s)return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"flex justify-center items-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"載入通知歷史中..."})]})});const v=[{key:"subject",label:"主旨",render:(b,N)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-900 font-medium",children:b}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${u(N.status)}`,children:m(N.status)}),r.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded-full",children:h(N.type)})]})},{key:"recipientName",label:"收件人",render:(b,N)=>r.jsxs("div",{className:"text-gray-900",children:[r.jsx("div",{className:"font-medium",children:N.recipientName}),r.jsx("div",{className:"text-xs text-gray-500",children:N.recipientEmail||"-"})]})},{key:"channel",label:"渠道"},{key:"createdAt",label:"建立時間",render:b=>r.jsx("span",{children:g(b)})},{key:"sentAt",label:"發送時間",render:b=>r.jsx("span",{children:g(b)})},{key:"deliveredAt",label:"送達時間",render:b=>r.jsx("span",{children:g(b)})},{key:"openedAt",label:"開啟時間",render:b=>r.jsx("span",{children:g(b)})},{key:"actions",label:"操作",sortable:!1,render:(b,N)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"檢視",children:r.jsx(Os,{className:"w-4 h-4"})}),N.status==="failed"&&r.jsx("button",{onClick:()=>j(N.id),className:"p-1 text-blue-400 hover:text-blue-600 transition-colors",title:"重新發送",children:r.jsx(vt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>x(N.id),className:"p-1 text-red-400 hover:text-red-600 transition-colors",title:"刪除",children:r.jsx(wr,{className:"w-4 h-4"})})]})}],y=[{label:"刪除選取",variant:"danger",onClick:p,icon:wr}];return r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"通知歷史"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"查看所有已發送的通知記錄"})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 mb-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Am,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"搜尋收件人、主題...",value:a.searchQuery,onChange:b=>i(N=>({...N,searchQuery:b.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})}),r.jsx("div",{children:r.jsxs("select",{value:a.status,onChange:b=>i(N=>({...N,status:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"all",children:"所有狀態"}),r.jsx("option",{value:"delivered",children:"已送達"}),r.jsx("option",{value:"failed",children:"發送失敗"}),r.jsx("option",{value:"pending",children:"待發送"}),r.jsx("option",{value:"sent",children:"已發送"})]})}),r.jsx("div",{children:r.jsxs("select",{value:a.type,onChange:b=>i(N=>({...N,type:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"all",children:"所有類型"}),r.jsx("option",{value:"order",children:"訂單通知"}),r.jsx("option",{value:"payment",children:"付款通知"}),r.jsx("option",{value:"shipping",children:"物流通知"}),r.jsx("option",{value:"promotion",children:"促銷通知"}),r.jsx("option",{value:"system",children:"系統通知"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[r.jsx("div",{children:r.jsxs("select",{value:a.dateRange,onChange:b=>i(N=>({...N,dateRange:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"all",children:"所有時間"}),r.jsx("option",{value:"1day",children:"最近1天"}),r.jsx("option",{value:"7days",children:"最近7天"}),r.jsx("option",{value:"30days",children:"最近30天"}),r.jsx("option",{value:"90days",children:"最近90天"})]})}),r.jsx("div",{className:"md:col-span-2"})]})]}),r.jsx(_i,{data:t,columns:v,title:"通知列表",exportFileName:"通知歷史",enableBatchSelection:!0,selectedItems:l,onSelectedItemsChange:b=>o(b),batchActions:y,getRowId:b=>b.id,emptyIcon:Wu})]})},xv=[{key:"user",label:"會員"},{key:"userAttributes",label:"會員屬性"},{key:"address",label:"地址"},{key:"invoice",label:"發票"},{key:"promotion",label:"促銷"},{key:"order",label:"訂單"},{key:"shipment",label:"物流"},{key:"system",label:"系統"}];function GM(){return{user:[{label:"會員名稱",token:"{{user.name}}",desc:"用戶顯示名稱"},{label:"會員 Email",token:"{{user.email}}",desc:"用戶電子郵件"},{label:"會員手機",token:"{{user.phone}}",desc:"手機號碼"},{label:"會員等級",token:"{{user.tier}}",desc:"會員分級/等級"},{label:"會員 ID",token:"{{user.id}}",desc:"內部識別 ID"}],userAttributes:[{label:"性別",token:"{{userAttributes.gender}}",desc:"男/女/其他"},{label:"生日",token:"{{userAttributes.birthday}}",desc:"YYYY-MM-DD"},{label:"年齡",token:"{{userAttributes.age}}",desc:"數字"},{label:"會員點數",token:"{{userAttributes.points}}",desc:"累積點數"}],address:[{label:"城市",token:"{{address.city}}",desc:"如 台北市"},{label:"行政區",token:"{{address.district}}",desc:"如 大安區"},{label:"街道",token:"{{address.street}}",desc:"如 忠孝東路四段 123 號"},{label:"郵遞區號",token:"{{address.postalCode}}",desc:"如 106"}],invoice:[{label:"發票號碼",token:"{{invoice.number}}",desc:"如 AB-12345678"},{label:"發票類型",token:"{{invoice.type}}",desc:"二聯式/三聯式"},{label:"載具",token:"{{invoice.carrier}}",desc:"手機載具/自然人憑證"},{label:"捐贈碼",token:"{{invoice.donationCode}}",desc:"捐贈發票碼"},{label:"公司統編",token:"{{invoice.companyTaxId}}",desc:"若為三聯式"}],promotion:[{label:"優惠碼",token:"{{promotion.code}}",desc:"如 SAVE10"},{label:"折扣",token:"{{promotion.discount}}",desc:"如 10% 或 NT$ 100"},{label:"到期日",token:"{{promotion.expireDate}}",desc:"YYYY-MM-DD"}],order:[{label:"訂單編號",token:"{{order.number}}",desc:"如 ORD-0001"},{label:"訂單金額",token:"{{order.total}}",desc:"如 NT$ 1,280"},{label:"下單日期",token:"{{order.date}}",desc:"YYYY-MM-DD"}],shipment:[{label:"物流單號",token:"{{shipment.tracking}}",desc:"運單追蹤碼"},{label:"物流商",token:"{{shipment.carrier}}",desc:"如 黑貓/郵局"},{label:"物流狀態",token:"{{shipment.status}}",desc:"如 已出貨/配送中"}],system:[{label:"現在時間",token:"{{system.now}}",desc:"依環境格式化"}]}}function Vf(t={}){const e={user:{id:"U0001",name:"王小明",email:"user@example.com",phone:"0912-345-678",tier:"GOLD"},userAttributes:{gender:"男",birthday:"1995-07-15",age:30,points:1200},address:{city:"台北市",district:"大安區",street:"忠孝東路四段 123 號",postalCode:"106"},invoice:{number:"AB-12345678",type:"二聯式",carrier:"/ABC1234",donationCode:"16888",companyTaxId:"12345678"},promotion:{code:"SAVE10",discount:"10%",expireDate:"2025-12-31"},order:{number:"ORD-0001",total:"NT$ 1,280",date:"2025-09-20"},shipment:{tracking:"TW1234567890",carrier:"黑貓宅急便",status:"配送中"},system:{now:new Date().toLocaleString()}};return m5(e,t)}function u5(t,e="",s={}){return Object.keys(t||{}).forEach(n=>{const a=t[n],i=e?`${e}.${n}`:n;a&&typeof a=="object"&&!Array.isArray(a)?u5(a,i,s):s[i]=a}),s}function m5(t,e){const s={...t||{}};return Object.keys(e||{}).forEach(n=>{const a=e[n],i=s[n];a&&typeof a=="object"&&!Array.isArray(a)?s[n]=m5(i||{},a):s[n]=a}),s}function yv(t,e){var a;let s=String(t||"");const n=u5(e||{});return!("now"in n)&&((a=e==null?void 0:e.system)!=null&&a.now)&&(n.now=e.system.now),Object.entries(n).forEach(([i,l])=>{const o=new RegExp("\\{\\{\\s*"+i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\s*\\}}","g");s=s.replace(o,l??"")}),s}const h5=[{value:"default",label:"預設",apply:t=>t},{value:"vip",label:"VIP 會員",apply:t=>({...t,user:{...t.user,tier:"VIP"},userAttributes:{...t.userAttributes,points:5e3}})},{value:"new",label:"新客",apply:t=>({...t,user:{...t.user,tier:"NEW"},userAttributes:{...t.userAttributes,points:0}})},{value:"delivered",label:"物流到貨",apply:t=>({...t,shipment:{...t.shipment,status:"已到貨"}})}];function HM(t="default"){const e=Vf(),s=h5.find(n=>n.value===t);return s?s.apply(e):e}function KM(){return h5.map(t=>({value:t.value,label:t.label}))}const f5="marelle_line_text_templates_v1";function fn(){return new Date().toISOString()}function YM(){try{const t=localStorage.getItem(f5);if(!t)return null;const e=JSON.parse(t);return Array.isArray(e)?e:null}catch(t){return console.warn("Failed to load line text templates from localStorage",t),null}}function Um(t){try{localStorage.setItem(f5,JSON.stringify(t))}catch(e){console.warn("Failed to save line text templates to localStorage",e)}}function ru(){return"lt_"+Math.random().toString(36).slice(2,10)}const vv=[{id:ru(),name:"歡迎加入",description:"新會員加入歡迎訊息",category:"會員",tags:["welcome","member"],content:"嗨 {{user.name}}，歡迎加入我們！有任何問題都可以回覆此訊息唷～",status:"published",createdAt:fn(),updatedAt:fn()},{id:ru(),name:"訂單已出貨",description:"通知客戶訂單出貨狀態",category:"訂單",tags:["order","logistics"],content:"您的訂單 {{order.number}} 已出貨，物流單號：{{shipment.tracking}}。",status:"published",createdAt:fn(),updatedAt:fn()},{id:ru(),name:"購物車遺失提醒",description:"提醒用戶完成結帳",category:"行銷",tags:["cart","remarketing"],content:"嗨 {{user.name}}，看到你遺留在購物車的商品～現在回來完成結帳享 95 折優惠！",status:"draft",createdAt:fn(),updatedAt:fn()}];function qM(){const t=YM();return t||(Um(vv),vv)}function mr(){return qM()}function ZM(t){return mr().find(e=>e.id===t)||null}function QM(t){const e=(t||"").trim().toLowerCase();return e?mr().filter(s=>[s.name,s.description,s.category,(s.tags||[]).join(",")].filter(Boolean).some(n=>n.toLowerCase().includes(e))):mr()}function p5(t){const e=mr(),s={id:ru(),name:(t==null?void 0:t.name)||"未命名範本",description:(t==null?void 0:t.description)||"",category:(t==null?void 0:t.category)||"通用",tags:(t==null?void 0:t.tags)||[],content:(t==null?void 0:t.content)||"",status:(t==null?void 0:t.status)||"draft",createdAt:fn(),updatedAt:fn()},n=[s,...e];return Um(n),s}function g5(t,e){const s=mr(),n=s.findIndex(l=>l.id===t);if(n===-1)return null;const a={...s[n],...e,updatedAt:fn()},i=[...s];return i[n]=a,Um(i),a}function XM(t){const e=mr().filter(s=>s.id!==t);return Um(e),!0}function JM(t,e={}){const s=ZM(t);return s?p5({...s,id:void 0,name:(e.name||s.name)+" (複本)",status:"draft",...e}):null}function e9(t){return g5(t,{status:"published"})}const t9=()=>{const t=({text:U="",title:te="Marelle"})=>{const le=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),bt=U!=null&&U.trim()?U:"（尚未輸入內容）";return r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"w-full max-w-md xl:max-w-lg rounded-2xl border border-gray-200 overflow-hidden bg-white shadow",children:[r.jsx("div",{className:"bg-[#06c755] text-white px-4 py-2 text-sm font-medium",children:te}),r.jsx("div",{className:"bg-gray-100 p-3 space-y-2 min-h-[320px] lg:min-h-[360px] max-h-[480px] overflow-y-auto",children:r.jsx("div",{className:"flex items-end gap-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"inline-block bg-white text-gray-900 px-3 py-2 rounded-2xl rounded-tl-sm shadow whitespace-pre-wrap max-w-[85%]",children:bt}),r.jsx("div",{className:"text-[10px] text-gray-400 mt-1",children:le})]})})}),r.jsx("div",{className:"bg-white border-t border-gray-200 px-3 py-2 text-gray-400 text-sm",children:"訊息輸入列（預覽）"})]})})},[e,s]=f.useState(""),[n,a]=f.useState(null),[i,l]=f.useState([]),[o,c]=f.useState({name:"",category:"",description:"",tags:[],content:""}),[d,m]=f.useState(!1),u=f.useRef(null),[h,g]=f.useState(!1),[p,x]=f.useState(!1),[j,v]=f.useState(!1),[y,b]=f.useState(()=>Vf()),[N,w]=f.useState("default"),[k,T]=f.useState("preview"),[P,E]=f.useState(!1),[C,A]=f.useState(null),[I,S]=f.useState(xv[0].key),[_,L]=f.useState(""),R=f.useMemo(()=>GM(),[]);f.useMemo(()=>Vf(),[]);const F=f.useMemo(()=>{const U=[];Object.entries(R).forEach(([le,bt])=>{(bt||[]).forEach(ht=>{const Yt=(ht.token||"").replace(/\{\{|\}\}/g,"").trim();U.push({...ht,category:le,path:Yt})})});const te=Object.fromEntries(U.map(le=>[le.path,le])),Se=Object.fromEntries(U.map(le=>[le.token,le]));return{items:U,byPath:te,byToken:Se}},[R]),M=f.useMemo(()=>{const U=(o==null?void 0:o.content)||"",te=/\{\{\s*([\w.]+)\s*\}\}/g,Se=new Set;let le;for(;le=te.exec(U);)le[1]&&Se.add(le[1]);return Array.from(Se)},[o==null?void 0:o.content]),$=f.useMemo(()=>M.length?M.map(U=>{const te=F.byPath[U];if(te)return te;const Se=U.split(".")[0];return{label:U,token:`{{${U}}}`,desc:"",category:Se,path:U}}):[],[M,F.byPath]),D=(U,te)=>te.split(".").reduce((Se,le)=>Se&&Se[le]!==void 0?Se[le]:"",U),z=(U,te,Se)=>{const le=te.split("."),bt=Array.isArray(U)?[...U]:{...U};let ht=bt;for(let Yt=0;Yt<le.length;Yt++){const ke=le[Yt];if(Yt===le.length-1)ht[ke]=Se;else{const Ls=ht[ke],Je=Ls&&typeof Ls=="object"&&!Array.isArray(Ls);ht[ke]=Je?{...Ls}:{},ht=ht[ke]}}return bt},Z=f.useMemo(()=>{const U=$.length;return k==="preview"?U<=2?"max-w-4xl":U<=8?"max-w-5xl":"max-w-6xl":U===0?"max-w-xl":U<=2?"max-w-2xl":U<=6?"max-w-3xl":U<=10?"max-w-4xl":"max-w-5xl"},[k,$.length]);f.useEffect(()=>{const U=mr();l(U),U.length&&a(U[0].id)},[]);const B=f.useMemo(()=>i.find(U=>U.id===n)||null,[i,n]);f.useEffect(()=>{c(B?{name:B.name||"",category:B.category||"",description:B.description||"",tags:Array.isArray(B.tags)?B.tags:[],content:B.content||""}:{name:"",category:"",description:"",tags:[],content:""})},[B==null?void 0:B.id]);const G=f.useMemo(()=>e?QM(e):i,[e,i]),K=()=>{const U=p5({name:"新範本",description:"",content:""}),te=mr();l(te),a(U.id)},H=U=>{const te=JM(U),Se=mr();l(Se),te&&a(te.id)},q=U=>{e9(U),l(mr())},ne=()=>{var te;if(!B)return;XM(B.id);const U=mr();l(U),a(((te=U[0])==null?void 0:te.id)||null),g(!1)},ie=()=>{B&&(m(!0),g5(B.id,{...o}),l(mr()),m(!1))},ue=[{label:"通用",value:"通用"},{label:"會員",value:"會員"},{label:"訂單",value:"訂單"},{label:"行銷",value:"行銷"},{label:"物流",value:"物流"}],J=[{label:"welcome",value:"welcome"},{label:"member",value:"member"},{label:"order",value:"order"},{label:"logistics",value:"logistics"},{label:"promo",value:"promo"},{label:"cart",value:"cart"},{label:"remarketing",value:"remarketing"}],oe=U=>{const te=u.current;if(!te){c(ke=>({...ke,content:(ke.content||"")+U}));return}const Se=te.selectionStart??te.value.length,le=te.selectionEnd??te.value.length,bt=o.content.slice(0,Se),ht=o.content.slice(le),Yt=`${bt}${U}${ht}`;c(ke=>({...ke,content:Yt})),requestAnimationFrame(()=>{te.focus();const ke=Se+U.length;te.setSelectionRange(ke,ke)})},[re,ee]=f.useState({recipient:""}),Re=()=>{E(!0),A(null);const U=yv(o.content,y);setTimeout(()=>{E(!1),A({success:!0,message:"測試訊息已模擬送出",rendered:U})},700)},De=KM(),V=U=>{b(HM(U))};return f.useEffect(()=>{j&&V(N||"default")},[j]),r.jsxs("div",{className:`${O.pageContainer}`,children:[r.jsxs("div",{className:`${O.contentContainer}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:O.pageTitle,children:"Line 一般訊息"}),r.jsx("p",{className:O.pageSubtitle,children:"集中管理 Line 純文字訊息範本"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>B&&H(B.id),children:"複製範本"}),r.jsx("button",{className:O.primaryButton,onClick:K,children:"新增範本"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:`${O.glassCard} space-y-4`,children:[r.jsx("div",{className:"flex gap-3",children:r.jsx("input",{placeholder:"搜尋名稱、描述、分類、標籤",value:e,onChange:U=>s(U.target.value),className:`${O.input}`})}),r.jsxs("div",{className:"divide-y divide-gray-200/60 border border-gray-200/60 rounded-xl overflow-hidden bg-white/70 backdrop-blur-sm",children:[G.length===0&&r.jsx("div",{className:"p-4 text-gray-500",children:"沒有符合的範本"}),G.map(U=>r.jsx("button",{onClick:()=>a(U.id),className:`w-full text-left p-4 transition-colors ${n===U.id?"bg-[#cc824d]/10":"hover:bg-gray-50/60"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 font-chinese",children:U.name}),r.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:U.description||"—"})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.status==="published"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:U.status==="published"?"已發佈":"草稿"})]})},U.id))]})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:`${O.glassCard} space-y-6`,children:B?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese mb-1",children:"範本名稱"}),r.jsx("input",{className:O.input,value:o.name,onChange:U=>c(te=>({...te,name:U.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese mb-1",children:"分類"}),r.jsx(_e,{options:ue,value:o.category,onChange:U=>c(te=>({...te,category:U})),placeholder:"選擇分類"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese mb-1",children:"描述"}),r.jsx("input",{className:O.input,value:o.description,onChange:U=>c(te=>({...te,description:U.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese mb-1",children:"標籤"}),r.jsx(_e,{options:J,value:o.tags,onChange:U=>c(te=>({...te,tags:U})),multiple:!0,placeholder:"新增或選擇標籤"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 gap-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 font-chinese",children:"內容"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"text-xs text-gray-500 hidden sm:block",children:["可用變數：","{{user.name}}",", ","{{order.number}}",", ","{{shipment.tracking}}"]}),r.jsx("button",{className:O.btnGhost,onClick:()=>x(!0),children:"插入變數"})]})]}),r.jsx("textarea",{ref:u,className:`${O.input} min-h-[160px]`,value:o.content,onChange:U=>c(te=>({...te,content:U.target.value})),placeholder:"輸入要發送的純文字內容"})]}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["上次修改：",B.updatedAt?new Date(B.updatedAt).toLocaleString():"—"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:O.btnSecondary,onClick:()=>g(!0),children:"刪除"}),B.status!=="published"&&r.jsx("button",{className:O.btnGhost,onClick:()=>q(B.id),children:"發佈"}),r.jsx("button",{className:O.btnGhost,onClick:()=>v(!0),children:"預覽"}),r.jsx("button",{className:`${O.btnPrimary} ${d?"opacity-70 pointer-events-none":""}`,onClick:ie,children:d?"儲存中…":"儲存變更"})]})]})]}):r.jsx("div",{className:"text-gray-500",children:"請先在左側選擇或新增一個範本"})})})]})]}),r.jsx(Zs,{isOpen:h,onClose:()=>g(!1),title:"刪除範本",children:r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsxs("p",{className:"text-gray-600",children:["確定要刪除「",B==null?void 0:B.name,"」嗎？此動作無法復原。"]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:O.secondaryButton,onClick:()=>g(!1),children:"取消"}),r.jsx("button",{className:O.primaryButton,onClick:ne,children:"確定刪除"})]})]})}),r.jsx(Zs,{isOpen:j,onClose:()=>v(!1),title:"預覽",size:Z,children:r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx(xi,{mode:"controlled",activeKey:k,onTabChange:U=>T(U.key||U.label),layout:"left",className:"px-2",tabs:[{key:"preview",label:"預覽與發送"},{key:"context",label:"情境與欄位"}]}),k==="preview"&&r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-start",children:[r.jsx("div",{className:"xl:col-span-6",children:r.jsx(t,{text:yv(o.content,y),title:"Marelle"})}),r.jsxs("div",{className:"xl:col-span-6",children:[r.jsx("div",{className:"text-sm text-gray-700 font-medium mb-3",children:"發送測試"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"測試接收者（名稱或 UserId）"}),r.jsx("input",{className:O.input,value:re.recipient,onChange:U=>ee(te=>({...te,recipient:U.target.value})),placeholder:"例如：王小明 或 Uxxxxxxxx"})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"不會真正送到 LINE，只做本地模擬"}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:`${O.primaryButton} ${P?"opacity-70 pointer-events-none":""}`,onClick:Re,children:P?"傳送中…":"送出測試"})}),C&&r.jsx("div",{className:`${C.success?"text-green-700 bg-green-50":"text-red-700 bg-red-50"} p-3 rounded-lg text-sm`,children:C.message})]})]})]}),k==="context"&&r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-start",children:r.jsxs("div",{className:"xl:col-span-12",children:[r.jsx("div",{className:"text-sm text-gray-700 font-medium mb-3",children:"情境與欄位"}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"快速切換情境"}),r.jsx(_e,{options:De,value:N,onChange:U=>{w(U),V(U)},placeholder:"選擇情境"})]}),$.length===0?r.jsx("div",{className:"text-xs text-gray-500",children:"此範本未插入任何變數，無需調整欄位。"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(U=>{const te=U.category==="system"||U.path.startsWith("system."),Se=D(y,U.path),le=`${U.label||U.path} ${U.path}`;return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:le}),r.jsx("input",{className:O.input,value:Se||"",disabled:te,onChange:bt=>{const ht=z(y,U.path,bt.target.value);b(ht)}})]},U.path)})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"更改會即時反映於預覽分頁"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{className:O.secondaryButton,onClick:()=>{w("default"),V("default")},children:"重置"})})]})]})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:O.primaryButton,onClick:()=>v(!1),children:"關閉"})})]})}),r.jsx(Zs,{isOpen:p,onClose:()=>x(!1),title:"插入變數",children:r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsx(xi,{mode:"controlled",activeKey:I,onTabChange:U=>S(U.key),layout:"left",tabs:xv.map(U=>({key:U.key,label:U.label})),className:"px-2"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{value:_,onChange:U=>L(U.target.value),placeholder:"搜尋變數關鍵字…",className:`${O.input}`})}),r.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto px-1",children:(R[I]||[]).filter(U=>{const te=_.trim().toLowerCase();return te?[U.label,U.token,U.desc].filter(Boolean).some(Se=>Se.toLowerCase().includes(te)):!0}).map(U=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-200/80 bg-white/80 hover:bg-gray-50/60 transition",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 font-chinese",children:U.label}),r.jsx("div",{className:"text-xs text-gray-600 truncate font-mono",children:U.token}),U.desc&&r.jsx("div",{className:"text-xs text-gray-400",children:U.desc})]}),r.jsx("button",{className:O.primaryButton,onClick:()=>oe(U.token),children:"插入"})]},U.token))}),r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{className:O.secondaryButton,onClick:()=>x(!1),children:"完成"})})]})})]})},s9=()=>r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"Line Flex Message"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"建立並預覽 Line Flex 訊息"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsx("p",{className:"text-gray-500",children:"此頁面重構中，稍後將提供 Flex 編輯器與預覽。"})})]}),r9=()=>r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"Mail 一般訊息"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"建立並發送一般文字郵件"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsx("p",{className:"text-gray-500",children:"此頁面重構中，稍後將提供郵件建立與發送表單。"})})]}),n9=()=>r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"Mail HTML"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"建立並預覽 HTML 郵件"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsx("p",{className:"text-gray-500",children:"此頁面重構中，稍後將提供 HTML 編輯器與預覽。"})})]}),a9=()=>r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"SMS"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"建立並發送簡訊"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsx("p",{className:"text-gray-500",children:"此頁面重構中，稍後將提供簡訊建立與發送表單。"})})]}),i9=()=>r.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"網站通知"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"建立並推送網站內通知"})]}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsx("p",{className:"text-gray-500",children:"此頁面重構中，稍後將提供通知建立與推送表單。"})})]}),l9=()=>{const[t,e]=f.useState(null),[s,n]=f.useState(!0),a={totalAssets:58e5,totalLiabilities:21e5,totalEquity:37e5,netIncome:45e4,totalRevenue:28e5,totalExpenses:235e4,grossProfit:98e4,recentEntries:[{id:1,date:"2024-01-15",description:"銷售收入",amount:15e4,status:"posted"},{id:2,date:"2024-01-14",description:"辦公用品採購",amount:-5e3,status:"posted"},{id:3,date:"2024-01-13",description:"租金費用",amount:-25e3,status:"pending"},{id:4,date:"2024-01-12",description:"廣告費用",amount:-8e3,status:"draft"}]};f.useEffect(()=>{(async()=>{try{n(!0),await new Promise(o=>setTimeout(o,1e3)),e(a)}catch(o){console.error("載入會計概覽失敗:",o)}finally{n(!1)}})()},[]),f.useEffect(()=>{s||Rs.fromTo(".dashboard-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[s]);const i=l=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(l);return s?r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d] mx-auto mb-4"}),r.jsx("span",{className:"text-gray-600",children:"載入會計概覽中.."})]})})})}):r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"會計管理概覽"}),r.jsx("p",{className:"text-gray-600",children:"財務狀況一覽及關鍵指標"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Vl,{className:"h-8 w-8 text-blue-600"})}),r.jsx(xs,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總資產"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(t.totalAssets)}),r.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+5.2% 較上月"})]})]}),r.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(xs,{className:"h-8 w-8 text-green-600"})}),r.jsx(xs,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"淨收入"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(t.netIncome)}),r.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+12.8% 較上月"})]})]}),r.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(Ms,{className:"h-8 w-8 text-purple-600"})}),r.jsx(xs,{className:"h-5 w-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總收入"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(t.totalRevenue)}),r.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+8.4% 較上月"})]})]}),r.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(Fl,{className:"h-8 w-8 text-orange-600"})}),r.jsx(Fl,{className:"h-5 w-5 text-orange-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總支出"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(t.totalExpenses)}),r.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"需要監控"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[r.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ps,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"新增分錄"}),r.jsx("p",{className:"text-sm text-gray-600",children:"記錄新的會計交易"})]})]})}),r.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Vl,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"銀行對帳"}),r.jsx("p",{className:"text-sm text-gray-600",children:"核對銀行帳戶餘額"})]})]})}),r.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(Ms,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"財務報表"}),r.jsx("p",{className:"text-sm text-gray-600",children:"生成財務分析報告"})]})]})})]})]})})},o9=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0);f.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const l=accountingDataManager.getAllAccounts();e(l)}catch(l){console.error("載入剛才科目失�?:",l)}finally{n(!1)}},i=[{key:"code",label:"科目�✅",sortable:!0,render:l=>r.jsx("span",{className:"font-medium text-gray-900",children:l})},{key:"name",label:"科目?�稱",sortable:!0,render:l=>r.jsx("span",{className:"text-gray-900",children:l})},{key:"type",label:"科目類�?",sortable:!0,render:l=>r.jsx("span",{className:"text-gray-500",children:l})},{key:"balance",label:"餘�?",sortable:!0,render:l=>r.jsxs("span",{className:"text-gray-900",children:["NT$ ",(l==null?void 0:l.toLocaleString())||"0"]})},{key:"isActive",label:"狀態",sortable:!0,render:l=>r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l?"啟用":"停用"})},{key:"actions",label:"剛才",sortable:!1,render:(l,o)=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:r.jsx(Os,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",children:r.jsx(wr,{className:"h-4 w-4"})})]})}];return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#fdf8f2]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(hg,{className:"h-12 w-12 animate-pulse text-[#cc824d] mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"載入剛才科目代碼.."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"會計科目管理"}),r.jsx("p",{className:"text-gray-600",children:"管理和維護公司會計科目"})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b3723f] transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4"}),"剛才科目"]})})})}),r.jsx(StandardTable,{data:t,columns:i,title:"會計科目表",emptyMessage:"尚無會計科目",exportFileName:"會計科目表"})]})},c9=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0);f.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const c=accountingDataManager.getAllJournalEntries();e(c)}catch(c){console.error("載入分析分析失�?:",c)}finally{n(!1)}},i=c=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(c),l=c=>{const d={[EntryStatus.DRAFT]:{color:"bg-gray-100 text-gray-800",text:"草稿"},[EntryStatus.PENDING]:{color:"bg-yellow-100 text-yellow-800",text:"待審"},[EntryStatus.APPROVED]:{color:"bg-green-100 text-green-800",text:"已審核"},[EntryStatus.REJECTED]:{color:"bg-red-100 text-red-800",text:"已拒絕"},[EntryStatus.POSTED]:{color:"bg-blue-100 text-blue-800",text:"已過帳"}},m=d[c]||d[EntryStatus.DRAFT];return r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.color}`,children:m.text})},o=[{key:"entryNumber",label:"分析編�?",sortable:!0,render:c=>r.jsx("span",{className:"font-medium text-gray-900",children:c})},{key:"date",label:"分析",sortable:!0,render:c=>r.jsx("span",{className:"text-gray-500",children:new Date(c).toLocaleDateString("zh-TW")})},{key:"description",label:"?�述",sortable:!0,render:c=>r.jsx("div",{className:"max-w-xs truncate text-gray-900",children:c})},{key:"totalAmount",label:"總金額",sortable:!0,render:c=>r.jsx("span",{className:"text-gray-900",children:i(c)})},{key:"status",label:"狀態",sortable:!0,render:c=>l(c)},{key:"actions",label:"操作",sortable:!1,render:(c,d)=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"分析詳�?",children:r.jsx(Os,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",title:"編輯",children:r.jsx($r,{className:"h-4 w-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",title:"?�除",children:r.jsx(wr,{className:"h-4 w-4"})})]})}];return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#fdf8f2]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(hg,{className:"h-12 w-12 animate-pulse text-[#cc824d] mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"載入分析分析�?.."})]})}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"分錄管理"}),r.jsx("p",{className:"text-gray-600",children:"管理和審核會計分錄"})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg mb-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b3723f] transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4"}),"分析分析"]})})})}),r.jsx(StandardTable,{data:t,columns:o,title:"分析分析清單",emptyMessage:"尚無分析分析",exportFileName:"分析分析清單"})]})},d9=()=>{f.useState([]);const[t,e]=f.useState(""),[s,n]=f.useState({startDate:"",endDate:""}),[a,i]=f.useState(!1),[l,o]=f.useState(null),c=[{id:"trial-balance",name:"試算表",description:"驗證總帳帳簿平衡",icon:Zy,color:"blue"},{id:"income-statement",name:"損益表",description:"公司收支狀況",icon:Ps,color:"green"},{id:"balance-sheet",name:"資產負債表",description:"財務狀況總覽",icon:Vl,color:"purple"},{id:"cash-flow",name:"現金流量表",description:"現金流入流出分析",icon:Ms,color:"orange"}],d={"trial-balance":{title:"試算表",period:"2024年1月1日 至 2024年1月31日",data:[{account:"現金",debit:5e5,credit:0,balance:5e5},{account:"應收帳款",debit:8e5,credit:1e5,balance:7e5},{account:"存貨",debit:12e5,credit:0,balance:12e5},{account:"應付帳款",debit:5e4,credit:4e5,balance:-35e4},{account:"營業收入",debit:0,credit:25e5,balance:-25e5},{account:"營業成本",debit:15e5,credit:0,balance:15e5}],totals:{debit:405e4,credit:3e6}},"income-statement":{title:"損益表",period:"2024年1月1日 至 2024年1月31日",data:{revenue:{name:"營業收入",items:[{name:"商品銷售收入",amount:22e5},{name:"服務收入",amount:3e5}],total:25e5},cost:{name:"營業成本",items:[{name:"商品成本",amount:12e5},{name:"人工成本",amount:3e5}],total:15e5},grossProfit:1e6,expenses:{name:"營業費用",items:[{name:"薪資費用",amount:4e5},{name:"租金費用",amount:1e5},{name:"廣告費用",amount:5e4}],total:55e4},netIncome:45e4}}};f.useEffect(()=>{Rs.fromTo(".report-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const m=async()=>{if(!t){alert("請選擇報表類型");return}if(!s.startDate||!s.endDate){alert("請選擇日期範圍");return}i(!0);try{await new Promise(x=>setTimeout(x,2e3));const p=d[t];p&&o({...p,period:`${s.startDate} 至 ${s.endDate}`})}catch(p){console.error("Error generating report:",p),alert("生成報表失敗")}finally{i(!1)}},u=p=>{if(!l){alert("請先生成報表");return}alert(`正在匯出${p.toUpperCase()}格式報表...`)},h=()=>{if(!l){alert("請先生成報表");return}window.print()},g=p=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(p);return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"財務報表"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"生成和查看各種財務報表"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map(p=>r.jsx("div",{onClick:()=>e(p.id),className:`report-card p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 ${t===p.id?`border-${p.color}-500 bg-${p.color}-50`:"border-gray-200 bg-white/60 backdrop-blur-sm hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-lg bg-${p.color}-100`,children:r.jsx(p.icon,{className:`w-6 h-6 text-${p.color}-600`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 font-chinese",children:p.name}),r.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]})},p.id))}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 font-chinese",children:"報表設定"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"報表類型"}),r.jsxs("select",{value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"",children:"請選擇報表類型"}),c.map(p=>r.jsx("option",{value:p.id,children:p.name},p.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日期"}),r.jsx("input",{type:"date",value:s.startDate,onChange:p=>n(x=>({...x,startDate:p.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"結束日期"}),r.jsx("input",{type:"date",value:s.endDate,onChange:p=>n(x=>({...x,endDate:p.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:m,disabled:a||!t||!s.startDate||!s.endDate,className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"生成中..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zy,{className:"w-4 h-4"}),r.jsx("span",{children:"生成報表"})]})})})]}),l&&r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#cc824d] to-[#b8743d]",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white font-chinese",children:l.title}),r.jsx("p",{className:"text-white/80 mt-1",children:l.period})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:h,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:r.jsx(xg,{className:"w-5 h-5 text-white"})}),r.jsx("button",{onClick:()=>u("pdf"),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:r.jsx(ug,{className:"w-5 h-5 text-white"})})]})]})}),r.jsxs("div",{className:"p-6",children:[t==="trial-balance"&&l.data&&r.jsx("div",{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"科目"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"借方"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"貸方"}),r.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"餘額"})]})}),r.jsx("tbody",{children:l.data.map((p,x)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900",children:p.account}),r.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:p.debit>0?g(p.debit):"-"}),r.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:p.credit>0?g(p.credit):"-"}),r.jsx("td",{className:`py-3 px-4 text-right font-medium ${p.balance>=0?"text-green-600":"text-red-600"}`,children:g(Math.abs(p.balance))})]},x))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"border-t-2 border-gray-300 bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-bold text-gray-900",children:"合計"}),r.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:g(l.totals.debit)}),r.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:g(l.totals.credit)}),r.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:"-"})]})})]})})}),t==="income-statement"&&l.data&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.revenue.name}),r.jsxs("div",{className:"space-y-2",children:[l.data.revenue.items.map((p,x)=>r.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:p.name}),r.jsx("span",{className:"font-medium text-gray-900",children:g(p.amount)})]},x)),r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-blue-50 rounded font-semibold",children:[r.jsx("span",{className:"text-blue-900",children:"營業收入總計"}),r.jsx("span",{className:"text-blue-900",children:g(l.data.revenue.total)})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.cost.name}),r.jsxs("div",{className:"space-y-2",children:[l.data.cost.items.map((p,x)=>r.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:p.name}),r.jsx("span",{className:"font-medium text-gray-900",children:g(p.amount)})]},x)),r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-red-50 rounded font-semibold",children:[r.jsx("span",{className:"text-red-900",children:"營業成本總計"}),r.jsx("span",{className:"text-red-900",children:g(l.data.cost.total)})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center py-4 px-6 bg-green-100 rounded-lg font-bold text-lg",children:[r.jsx("span",{className:"text-green-900",children:"毛利"}),r.jsx("span",{className:"text-green-900",children:g(l.data.grossProfit)})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.expenses.name}),r.jsxs("div",{className:"space-y-2",children:[l.data.expenses.items.map((p,x)=>r.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:p.name}),r.jsx("span",{className:"font-medium text-gray-900",children:g(p.amount)})]},x)),r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-orange-50 rounded font-semibold",children:[r.jsx("span",{className:"text-orange-900",children:"營業費用總計"}),r.jsx("span",{className:"text-orange-900",children:g(l.data.expenses.total)})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center py-4 px-6 bg-purple-100 rounded-lg font-bold text-xl",children:[r.jsx("span",{className:"text-purple-900",children:"本期淨利"}),r.jsx("span",{className:"text-purple-900",children:g(l.data.netIncome)})]})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 font-chinese",children:"快速報表"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ps,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"本月損益"}),r.jsx("p",{className:"text-sm text-gray-600",children:"當月收支狀況"})]})]})}),r.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Ms,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"現金流量"}),r.jsx("p",{className:"text-sm text-gray-600",children:"資金流動分析"})]})]})}),r.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(Vl,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"資產負債"}),r.jsx("p",{className:"text-sm text-gray-600",children:"財務狀況總覽"})]})]})})]})]})]})})},u9=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(""),[a,i]=f.useState(""),[l,o]=f.useState(""),[c,d]=f.useState(!1),[m,u]=f.useState([]),[h,g]=f.useState("pending"),p=[{id:"acc-001",name:"中國信託主要帳戶",accountNumber:"****-****-1234",balance:258e4,currency:"TWD"},{id:"acc-002",name:"台灣銀行外幣帳戶",accountNumber:"****-****-5678",balance:156e3,currency:"USD"}],x=[{id:"txn-001",date:"2024-01-15",description:"客戶付款 - 訂單 #ORD-2024-001",amount:125e3,type:"credit",status:"pending",reference:"PAY-001"},{id:"txn-002",date:"2024-01-16",description:"供應商付款 - 採購訂單 #PO-2024-001",amount:-85e3,type:"debit",status:"pending",reference:"PAY-002"},{id:"txn-003",date:"2024-01-17",description:"銀行手續費",amount:-150,type:"debit",status:"completed",reference:"FEE-001"}];f.useEffect(()=>{e(p),u(x)},[]);const j=w=>{const k={completed:{color:"bg-green-100 text-green-800",text:"已完成"},pending:{color:"bg-yellow-100 text-yellow-800",text:"待處理"},review:{color:"bg-blue-100 text-blue-800",text:"待審核"}},T=k[w]||k.pending;return r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T.color}`,children:T.text})},v=()=>{const w=t.find(P=>P.id===s);if(!w)return 0;const T=m.filter(P=>P.status==="pending").reduce((P,E)=>P+E.amount,0);return w.balance+T},y=()=>{const w=v();return(parseFloat(l)||0)-w},b=()=>{if(!s){alert("請選擇銀行帳戶");return}if(!a){alert("請選擇對帳日期");return}if(!l){alert("請輸入銀行對帳單結餘");return}d(!0),setTimeout(()=>{const w=y();Math.abs(w)<.01?(g("completed"),alert("對帳成功！帳目平衡。")):(g("review"),alert(`對帳完成，但存在差異：${w.toFixed(2)} 元，需要審核。`)),d(!1)},2e3)},N=w=>{u(k=>k.map(T=>T.id===w?{...T,status:T.status==="pending"?"completed":"pending"}:T))};return r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"銀行對帳"}),r.jsx("p",{className:"text-gray-600",children:"進行銀行帳戶對帳，確保帳目準確性"})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"開始新的對帳"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"選擇銀行帳戶"}),r.jsxs("select",{value:s,onChange:w=>n(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"",children:"請選擇銀行帳戶"}),t.map(w=>r.jsxs("option",{value:w.id,children:[w.name," (",w.accountNumber,")"]},w.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"對帳日期"}),r.jsx("input",{type:"date",value:a,onChange:w=>i(w.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行對帳單結餘"}),r.jsx("input",{type:"number",value:l,onChange:w=>o(w.target.value),placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:b,disabled:c||!s||!a||!l,className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"處理中..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Sd,{className:"w-4 h-4"}),r.jsx("span",{children:"開始對帳"})]})})})]}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Vl,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"銀行餘額"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",(parseFloat(l)||0).toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Sd,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"帳面餘額"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",v().toLocaleString()]})]})]})}),r.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vt,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"差異金額"}),r.jsxs("p",{className:`text-2xl font-bold ${Math.abs(y())<.01?"text-green-600":"text-red-600"}`,children:["$",y().toLocaleString()]})]})]})})]}),h!=="pending"&&r.jsx("div",{className:`p-4 rounded-lg mb-8 ${h==="completed"?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[h==="completed"?r.jsx(Sd,{className:"w-6 h-6 text-green-600"}):r.jsx(vt,{className:"w-6 h-6 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:`font-medium ${h==="completed"?"text-green-800":"text-yellow-800"}`,children:h==="completed"?"對帳完成":"需要審核"}),r.jsx("p",{className:`text-sm ${h==="completed"?"text-green-600":"text-yellow-600"}`,children:h==="completed"?"銀行餘額與帳面餘額一致，對帳成功。":"發現差異，請檢查未處理的交易或聯繫會計部門。"})]})]})}),s&&r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"調整後銀行餘額"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-bold text-gray-800",children:"調整後銀行餘額"}),r.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",v().toLocaleString()]})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"銀行對帳單餘額："}),r.jsxs("span",{children:["$",(parseFloat(l)||0).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"減：未提示存款"}),r.jsx("span",{children:"$0"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"加：未兌現支票"}),r.jsx("span",{children:"$0"})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"調整後銀行餘額："}),r.jsxs("span",{children:["$",v().toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"未對帳交易"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Am,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"搜尋交易...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),r.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:r.jsx(Vc,{className:"w-4 h-4 text-gray-600"})})]})]})}),m.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"描述"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"參考號碼"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(w=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.date}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.reference}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("span",{className:w.amount>=0?"text-green-600":"text-red-600",children:[w.amount>=0?"+":"","$",w.amount.toLocaleString()]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(w.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("button",{onClick:()=>N(w.id),className:`px-3 py-1 rounded text-xs font-medium ${w.status==="pending"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:w.status==="pending"?"標記為已核對":"標記為未核對"})})]},w.id))})]})}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Sd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"尚無銀行對帳記錄"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"請先進行第一次銀行對帳"})]})]})]})})};class m9{constructor(){this.initializeAnalyticsData(),this.initializeRealTimeData()}initializeAnalyticsData(){if(!localStorage.getItem("marelle_analytics_data")){const e=this.generateInitialAnalyticsData();localStorage.setItem("marelle_analytics_data",JSON.stringify(e))}}initializeRealTimeData(){if(!localStorage.getItem("marelle_realtime_analytics")){const e=this.generateRealTimeData();localStorage.setItem("marelle_realtime_analytics",JSON.stringify(e))}}getSalesTrends(e="30d"){const s=this.getAnalyticsData(),n=this.filterDataByPeriod(s.sales_analytics,e);return{revenue_trend:this.calculateRevenueTrend(n),order_trend:this.calculateOrderTrend(n),conversion_trend:this.calculateConversionTrend(n),average_order_value:this.calculateAOVTrend(n),growth_metrics:this.calculateGrowthMetrics(n),seasonal_patterns:this.analyzeSeasonalPatterns(n)}}getProductPerformance(e=null,s=50){let a=this.getAnalyticsData().product_analytics;return e&&(a=a.filter(i=>i.category_id===e)),a.sort((i,l)=>l.total_revenue-i.total_revenue).slice(0,s).map(i=>({...i,performance_score:this.calculateProductPerformanceScore(i),growth_rate:this.calculateProductGrowthRate(i),inventory_turnover:this.calculateInventoryTurnover(i),profit_margin:this.calculateProfitMargin(i)}))}getCrossSellAnalysis(){const s=this.getAnalyticsData().order_analytics,n=this.analyzeProductCombinations(s),a=this.analyzeCategoryAffinities(s),i=this.analyzeSequentialPurchases(s);return{product_combinations:n,category_affinities:a,sequential_purchases:i,cross_sell_opportunities:this.identifyCrossSellOpportunities(n)}}getRFMAnalysis(){const n=this.getAnalyticsData().customer_analytics.map(a=>{const i=this.calculateRFMScores(a);return{customer_id:a.customer_id,customer_name:a.customer_name,rfm_scores:i,segment:this.determineRFMSegment(i),customer_lifetime_value:this.calculateCLV(a),churn_probability:this.calculateChurnProbability(a)}});return this.groupByRFMSegments(n)}getCustomerLifecycleAnalysis(){return this.getAnalyticsData().customer_analytics.map(n=>({customer_id:n.customer_id,current_stage:this.determineLifecycleStage(n),stage_duration:this.calculateStageDuration(n),progression_score:this.calculateProgressionScore(n),next_stage_probability:this.calculateNextStageProbability(n),churn_risk:this.calculateChurnRisk(n),recommended_actions:this.getRecommendedActions(n)}))}getCustomerBehaviorInsights(e){const n=this.getAnalyticsData().customer_analytics.find(a=>a.customer_id===e);return n?{purchase_patterns:this.analyzePurchasePatterns(n),category_preferences:this.analyzeCategoryPreferences(n),brand_affinity:this.analyzeBrandAffinity(n),price_sensitivity:this.analyzePriceSensitivity(n),seasonal_behavior:this.analyzeSeasonalBehavior(n),device_preferences:this.analyzeDevicePreferences(n),communication_preferences:this.analyzeCommunicationPreferences(n)}:null}getSupplyChainAnalytics(){const e=this.getAnalyticsData();return{supplier_performance:this.analyzeSupplierPerformance(e.supplier_analytics),inventory_efficiency:this.analyzeInventoryEfficiency(e.inventory_analytics),logistics_performance:this.analyzeLogisticsPerformance(e.logistics_analytics),procurement_insights:this.analyzeProcurementEfficiency(e.procurement_analytics),cost_analysis:this.analyzeCostStructure(e.operational_costs)}}getInventoryAnalysis(){const s=this.getAnalyticsData().inventory_analytics;return{stock_levels:this.analyzeStockLevels(s),turnover_rates:this.calculateTurnoverRates(s),slow_moving_items:this.identifySlowMovingItems(s),stockout_analysis:this.analyzeStockouts(s),demand_forecasting:this.generateDemandForecast(s),optimization_recommendations:this.getInventoryOptimizationRecommendations(s)}}getAIInsights(){const e=this.getAnalyticsData();return{business_opportunities:this.identifyBusinessOpportunities(e),risk_alerts:this.detectRiskFactors(e),optimization_suggestions:this.generateOptimizationSuggestions(e),trend_predictions:this.predictTrends(e),anomaly_detections:this.detectAnomalies(e),competitive_insights:this.analyzeCompetitivePosition(e)}}detectAnomalies(e="7d"){const s=this.getAnalyticsData();return this.getRealTimeData(),{sales_anomalies:this.detectSalesAnomalies(s.sales_analytics,e),traffic_anomalies:this.detectTrafficAnomalies(s.user_tracking,e),inventory_anomalies:this.detectInventoryAnomalies(s.inventory_analytics,e),customer_behavior_anomalies:this.detectCustomerBehaviorAnomalies(s.customer_analytics,e),operational_anomalies:this.detectOperationalAnomalies(s.operational_metrics,e)}}generatePredictions(e="30d"){const s=this.getAnalyticsData();return{sales_forecast:this.predictSales(s,e),demand_forecast:this.predictDemand(s,e),customer_churn_prediction:this.predictCustomerChurn(s),inventory_requirements:this.predictInventoryRequirements(s,e),market_opportunities:this.predictMarketOpportunities(s)}}getRealTimeMetrics(){const e=this.getRealTimeData();return{current_visitors:e.current_visitors,active_sessions:e.active_sessions,real_time_sales:e.real_time_sales,conversion_rate:e.conversion_rate,top_pages:e.top_pages,top_products:e.top_products,geographic_distribution:e.geographic_distribution,device_breakdown:e.device_breakdown}}getKPIDashboard(e="30d"){const s=this.getAnalyticsData(),n=this.filterDataByPeriod(s,e);return{financial_kpis:{total_revenue:this.calculateTotalRevenue(n),gross_profit:this.calculateGrossProfit(n),profit_margin:this.calculateProfitMargin(n),average_order_value:this.calculateAverageOrderValue(n),customer_acquisition_cost:this.calculateCAC(n),customer_lifetime_value:this.calculateAverageCLV(n)},operational_kpis:{conversion_rate:this.calculateConversionRate(n),cart_abandonment_rate:this.calculateCartAbandonmentRate(n),inventory_turnover:this.calculateInventoryTurnover(n),order_fulfillment_rate:this.calculateOrderFulfillmentRate(n),customer_satisfaction:this.calculateCustomerSatisfaction(n),return_rate:this.calculateReturnRate(n)},growth_kpis:{revenue_growth:this.calculateRevenueGrowth(n),customer_growth:this.calculateCustomerGrowth(n),market_share_growth:this.calculateMarketShareGrowth(n),repeat_purchase_rate:this.calculateRepeatPurchaseRate(n)}}}generateInitialAnalyticsData(){const e=new Date,s=new Date(e.getTime()-30*24*60*60*1e3);return{sales_analytics:this.generateSalesData(s,e),customer_analytics:this.generateCustomerData(),product_analytics:this.generateProductData(),order_analytics:this.generateOrderData(),user_tracking:this.generateUserTrackingData(),inventory_analytics:this.generateInventoryData(),supplier_analytics:this.generateSupplierData(),logistics_analytics:this.generateLogisticsData(),procurement_analytics:this.generateProcurementData(),operational_costs:this.generateOperationalCostsData(),operational_metrics:this.generateOperationalMetricsData()}}generateSalesData(e,s){const n=[],a=new Date(e);for(;a<=s;){const i=a.getDay(),o=i===0||i===6?15e3:25e3,c=.7+Math.random()*.6,d=1+(a.getTime()-e.getTime())/(s.getTime()-e.getTime())*.2,m=Math.round(o*c*d),u=Math.round(m/(800+Math.random()*400));n.push({date:new Date(a),revenue:m,orders:u,visitors:Math.round(u*(8+Math.random()*12)),conversion_rate:Math.round(u/(u*(8+Math.random()*12))*1e4)/100,average_order_value:Math.round(m/u)}),a.setDate(a.getDate()+1)}return n}generateCustomerData(){const e=[],s=["VIP","常客","新客","沉睡客戶"];for(let n=1;n<=500;n++){const a=s[Math.floor(Math.random()*s.length)],i=Math.floor(Math.random()*365)+1,l=a==="VIP"?Math.floor(Math.random()*20)+10:a==="常客"?Math.floor(Math.random()*10)+5:a==="新客"?Math.floor(Math.random()*3)+1:Math.floor(Math.random()*2)+1,o=l*(500+Math.random()*2e3);e.push({customer_id:n,customer_name:`客戶 ${n}`,email:`customer${n}@example.com`,segment:a,rfm_metrics:{recency:i,frequency:l,monetary:Math.round(o)},first_purchase_date:new Date(Date.now()-i*24*60*60*1e3-Math.random()*365*24*60*60*1e3),last_purchase_date:new Date(Date.now()-i*24*60*60*1e3),total_orders:l,total_revenue:Math.round(o),average_order_value:Math.round(o/l),preferred_categories:this.generatePreferredCategories(),device_preference:Math.random()>.6?"mobile":"desktop",acquisition_channel:this.generateAcquisitionChannel()})}return e}generateProductData(){const e=["護膚","彩妝","香水","保養","工具"],s=[];for(let n=1;n<=100;n++){const a=e[Math.floor(Math.random()*e.length)],i=Math.floor(Math.random()*2e3)+100,l=Math.floor(Math.random()*500)+10,o=i*l;s.push({product_id:n,product_name:`${a}商品 ${n}`,category:a,category_id:e.indexOf(a)+1,price:i,cost:Math.round(i*(.4+Math.random()*.3)),units_sold:l,total_revenue:o,gross_profit:o-Math.round(i*(.4+Math.random()*.3))*l,views:l*(20+Math.random()*50),conversion_rate:Math.round(l/(l*(20+Math.random()*50))*1e4)/100,inventory_level:Math.floor(Math.random()*200)+50,reorder_point:Math.floor(Math.random()*30)+10,supplier_id:Math.floor(Math.random()*20)+1,launch_date:new Date(Date.now()-Math.random()*365*24*60*60*1e3),rating:3.5+Math.random()*1.5,review_count:Math.floor(Math.random()*100)+5})}return s}calculateRevenueTrend(e){return e.map(s=>({date:s.date,revenue:s.revenue,growth_rate:this.calculateDayOverDayGrowth(e,s.date,"revenue")}))}calculateRFMScores(e){const s=e.rfm_metrics.recency<=30?5:e.rfm_metrics.recency<=60?4:e.rfm_metrics.recency<=90?3:e.rfm_metrics.recency<=180?2:1,n=e.rfm_metrics.frequency>=10?5:e.rfm_metrics.frequency>=5?4:e.rfm_metrics.frequency>=3?3:e.rfm_metrics.frequency>=2?2:1,a=e.rfm_metrics.monetary>=5e3?5:e.rfm_metrics.monetary>=2e3?4:e.rfm_metrics.monetary>=1e3?3:e.rfm_metrics.monetary>=500?2:1;return{recency:s,frequency:n,monetary:a,total_score:s+n+a}}determineRFMSegment(e){const s=e.total_score;return s>=13?"Champions":s>=11?"Loyal Customers":s>=9?"Potential Loyalists":s>=7?"At Risk":s>=5?"Cannot Lose Them":"Lost"}getAnalyticsData(){const e=localStorage.getItem("marelle_analytics_data");return e?JSON.parse(e):this.generateInitialAnalyticsData()}getRealTimeData(){const e=localStorage.getItem("marelle_realtime_analytics");return e?JSON.parse(e):this.generateRealTimeData()}updateAnalyticsData(e){localStorage.setItem("marelle_analytics_data",JSON.stringify(e))}updateRealTimeData(e){localStorage.setItem("marelle_realtime_analytics",JSON.stringify(e))}generateRealTimeData(){return{current_visitors:Math.floor(Math.random()*500)+100,active_sessions:Math.floor(Math.random()*300)+50,real_time_sales:Math.floor(Math.random()*1e4)+5e3,conversion_rate:(2+Math.random()*8).toFixed(2),top_pages:this.generateTopPages(),top_products:this.generateTopProducts(),geographic_distribution:this.generateGeographicData(),device_breakdown:{mobile:65+Math.random()*20,desktop:25+Math.random()*15,tablet:5+Math.random()*10},last_updated:new Date}}generateTopPages(){return["首頁","商品列表","商品詳情","購物車","結帳","會員中心"].map(s=>({page:s,visitors:Math.floor(Math.random()*200)+50,bounce_rate:(20+Math.random()*60).toFixed(1)}))}generateTopProducts(){return Array.from({length:10},(e,s)=>({product_id:s+1,product_name:`熱銷商品 ${s+1}`,views:Math.floor(Math.random()*100)+50,sales:Math.floor(Math.random()*20)+5}))}generateGeographicData(){return["台北市","新北市","桃園市","台中市","台南市","高雄市"].map(s=>({region:s,visitors:Math.floor(Math.random()*100)+20,percentage:(Math.random()*30+5).toFixed(1)}))}generatePreferredCategories(){const e=["護膚","彩妝","香水","保養","工具"],s=Math.floor(Math.random()*3)+1;return e.sort(()=>.5-Math.random()).slice(0,s)}generateAcquisitionChannel(){const e=["自然搜尋","社交媒體","電子郵件","直接訪問","推薦","付費廣告"];return e[Math.floor(Math.random()*e.length)]}filterDataByPeriod(e,s){return e}calculateDayOverDayGrowth(e,s,n){return(Math.random()-.5)*20}calculateOrderTrend(e){return e}calculateConversionTrend(e){return e}calculateAOVTrend(e){return e}calculateGrowthMetrics(e){return{}}analyzeSeasonalPatterns(e){return{}}calculateProductPerformanceScore(e){return Math.random()*100}calculateProductGrowthRate(e){return(Math.random()-.5)*20}calculateInventoryTurnover(e){return Math.random()*12}calculateProfitMargin(e){return Math.random()*50}analyzeProductCombinations(e){return[]}analyzeCategoryAffinities(e){return[]}analyzeSequentialPurchases(e){return[]}identifyCrossSellOpportunities(e){return[]}calculateCLV(e){return e.total_revenue*(1+Math.random())}calculateChurnProbability(e){return Math.random()*100}groupByRFMSegments(e){return{}}determineLifecycleStage(e){return"active"}calculateStageDuration(e){return Math.floor(Math.random()*365)}calculateProgressionScore(e){return Math.random()*100}calculateNextStageProbability(e){return Math.random()*100}calculateChurnRisk(e){return Math.random()*100}getRecommendedActions(e){return[]}analyzePurchasePatterns(e){return{}}analyzeCategoryPreferences(e){return{}}analyzeBrandAffinity(e){return{}}analyzePriceSensitivity(e){return{}}analyzeSeasonalBehavior(e){return{}}analyzeDevicePreferences(e){return{}}analyzeCommunicationPreferences(e){return{}}generateOrderData(){return[]}generateUserTrackingData(){return[]}generateInventoryData(){return[]}generateSupplierData(){return[]}generateLogisticsData(){return[]}generateProcurementData(){return[]}generateOperationalCostsData(){return[]}generateOperationalMetricsData(){return[]}}const al=new m9,h9=()=>{var w,k,T,P,E,C,A,I,S;const[t,e]=f.useState({}),[s,n]=f.useState({}),[a,i]=f.useState({}),[l,o]=f.useState({}),[c,d]=f.useState(!0),[m,u]=f.useState("30d"),[h,g]=f.useState(new Date);f.useEffect(()=>{p();const _=setInterval(x,3e4);return()=>clearInterval(_)},[m]);const p=async()=>{try{d(!0);const _=al.getKPIDashboard(m);e(_);const L=al.getSalesTrends(m);i(L);const R=al.getAIInsights();o(R),x()}catch(_){console.error("載入分析數據失敗:",_)}finally{d(!1)}},x=()=>{const _=al.getRealTimeMetrics();n(_),g(new Date)},j=_=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(_),v=_=>new Intl.NumberFormat("zh-TW").format(_),y=_=>`${(_||0).toFixed(1)}%`,b=_=>_>0?r.jsx(xs,{className:"h-4 w-4 text-green-500"}):_<0?r.jsx(Fl,{className:"h-4 w-4 text-red-500"}):r.jsx("div",{className:"h-4 w-4"}),N=_=>_>0?"text-green-600":_<0?"text-red-600":"text-gray-600";return c?r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:r.jsx("div",{className:"flex items-center justify-center py-20",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vr,{className:"h-6 w-6 animate-spin text-[#cc824d]"}),r.jsx("span",{className:"text-lg text-gray-600",children:"載入數據分析中..."})]})})}):r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:r.jsxs("div",{className:"w-full px-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"數據分析總覽"}),r.jsx("p",{className:"text-gray-600",children:"360度全方位業務數據洞察與智能分析"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("select",{value:m,onChange:_=>u(_.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[r.jsx("option",{value:"7d",children:"近 7 天"}),r.jsx("option",{value:"30d",children:"近 30 天"}),r.jsx("option",{value:"90d",children:"近 90 天"}),r.jsx("option",{value:"1y",children:"近 1 年"})]}),r.jsxs("button",{onClick:x,className:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(Nr,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"實時監控"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["最後更新: ",h.toLocaleTimeString("zh-TW")]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"當前訪客"}),r.jsx(Os,{className:"h-5 w-5 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:v(s.current_visitors||0)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["活躍會話: ",v(s.active_sessions||0)]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"即時銷售"}),r.jsx(Ms,{className:"h-5 w-5 text-green-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j(s.real_time_sales||0)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["轉換率: ",s.conversion_rate||0,"%"]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"設備分布"}),r.jsx(z6,{className:"h-5 w-5 text-purple-500"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"手機"}),r.jsx("span",{className:"font-semibold",children:y((w=s.device_breakdown)==null?void 0:w.mobile)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"桌機"}),r.jsx("span",{className:"font-semibold",children:y((k=s.device_breakdown)==null?void 0:k.desktop)})]})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"熱門頁面"}),r.jsx(Gu,{className:"h-5 w-5 text-orange-500"})]}),r.jsx("div",{className:"space-y-1",children:(s.top_pages||[]).slice(0,2).map((_,L)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"truncate",children:_.page}),r.jsx("span",{className:"font-semibold",children:v(_.visitors)})]},L))})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ps,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"關鍵績效指標 (KPIs)"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"財務績效"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"總營收"}),r.jsx(Ms,{className:"h-5 w-5 text-green-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:j(((T=t.financial_kpis)==null?void 0:T.total_revenue)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(5.2),r.jsx("span",{className:N(5.2),children:"+5.2% vs 上期"})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"毛利潤"}),r.jsx(xs,{className:"h-5 w-5 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:j(((P=t.financial_kpis)==null?void 0:P.gross_profit)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(3.1),r.jsx("span",{className:N(3.1),children:"+3.1% vs 上期"})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"平均訂單價值"}),r.jsx(Ku,{className:"h-5 w-5 text-purple-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:j(((E=t.financial_kpis)==null?void 0:E.average_order_value)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(-1.5),r.jsx("span",{className:N(-1.5),children:"-1.5% vs 上期"})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"營運績效"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"轉換率"}),r.jsx(xs,{className:"h-5 w-5 text-green-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:y(((C=t.operational_kpis)==null?void 0:C.conversion_rate)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(2.3),r.jsx("span",{className:N(2.3),children:"+2.3% vs 上期"})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"購物車放棄率"}),r.jsx(vt,{className:"h-5 w-5 text-orange-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:y(((A=t.operational_kpis)==null?void 0:A.cart_abandonment_rate)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(-3.8),r.jsx("span",{className:N(-3.8),children:"-3.8% vs 上期"})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"客戶滿意度"}),r.jsx(Dm,{className:"h-5 w-5 text-blue-500"})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:y(((I=t.operational_kpis)==null?void 0:I.customer_satisfaction)||0)}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(1.2),r.jsx("span",{className:N(1.2),children:"+1.2% vs 上期"})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"庫存周轉率"}),r.jsx(vr,{className:"h-5 w-5 text-purple-500"})]}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[(((S=t.operational_kpis)==null?void 0:S.inventory_turnover)||0).toFixed(1),"x"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[b(.8),r.jsx("span",{className:N(.8),children:"+0.8% vs 上期"})]})]})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Sf,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"AI 智能洞察"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[r.jsx(Sc,{className:"h-5 w-5 mr-2 text-yellow-500"}),"商業機會"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"護膚類商品需求上升"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"檢測到護膚類商品搜尋量增加 23%，建議增加相關產品推廣"}),r.jsx("div",{className:"text-xs text-yellow-600 mt-2",children:"置信度: 87%"})]})]})}),r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-green-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800",children:"交叉銷售機會"}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"購買保養品的客戶有 68% 機率同時購買工具類商品"}),r.jsx("div",{className:"text-xs text-green-600 mt-2",children:"置信度: 92%"})]})]})})]})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 mr-2 text-red-500"}),"風險警示"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-red-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-800",children:"庫存不足警告"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"5 件熱銷商品庫存將在 7 天內售完，需要及時補貨"}),r.jsx("div",{className:"text-xs text-red-600 mt-2",children:"風險等級: 高"})]})]})}),r.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-orange-800",children:"客戶流失風險"}),r.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"23 位 VIP 客戶 30 天內未購物，存在流失風險"}),r.jsx("div",{className:"text-xs text-orange-600 mt-2",children:"風險等級: 中"})]})]})})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[r.jsx(yl,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"訂單地理分布"]}),r.jsx("div",{className:"space-y-3",children:(s.geographic_distribution||[]).map((_,L)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-4 h-4 bg-[#cc824d] rounded-full",style:{opacity:.3+_.percentage/100*.7}}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:_.region})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:v(_.visitors)}),r.jsxs("div",{className:"text-xs text-gray-500",children:[_.percentage,"%"]})]})]},L))})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[r.jsx(Gu,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"今日熱銷商品"]}),r.jsx("div",{className:"space-y-3",children:(s.top_products||[]).slice(0,5).map((_,L)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-[#cc824d] text-white text-xs font-bold rounded-full",children:L+1}),r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:_.product_name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[v(_.sales)," 件"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[v(_.views)," 瀏覽"]})]})]},L))})]})]})]})})},f9=()=>r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"銷售分析"}),r.jsx("p",{className:O.pageSubtitle,children:"銷售數據和趨勢分析"})]}),r.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:r.jsx("p",{className:"text-gray-600 font-chinese",children:"銷售分析功能開發中..."})})]})}),p9=()=>r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"客戶分析"}),r.jsx("p",{className:O.pageSubtitle,children:"客戶行為和趨勢分析"})]}),r.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:r.jsx("p",{className:"text-gray-600 font-chinese",children:"客戶分析功能開發中..."})})]})}),g9=()=>r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"產品分析"}),r.jsx("p",{className:O.pageSubtitle,children:"產品銷售和績效分析"})]}),r.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:r.jsx("p",{className:"text-gray-600 font-chinese",children:"產品分析功能開發中..."})})]})}),x9=()=>{const[t,e]=f.useState({}),[s,n]=f.useState("30days"),[a,i]=f.useState("overview"),[l,o]=f.useState("efficiency"),[c,d]=f.useState(!0),m=[{value:"overview",label:"營運總覽",icon:Ps},{value:"supply-chain",label:"供應鏈",icon:ja},{value:"logistics",label:"物流分析",icon:yl},{value:"inventory",label:"庫存管理",icon:ma},{value:"cost",label:"成本分析",icon:Ms},{value:"performance",label:"績效監控",icon:qy}],u=[{value:"7days",label:"最近7天"},{value:"30days",label:"最近30天"},{value:"90days",label:"最近90天"},{value:"1year",label:"最近1年"}];f.useEffect(()=>{h()},[s,a,l]);const h=async()=>{d(!0);try{const R=al.getOperationalAnalytics(s,a);e(R)}catch(R){console.error("載入營運數據失敗:",R)}finally{d(!1)}},g=R=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(R||0),p=R=>new Intl.NumberFormat("zh-TW").format(R||0),x=R=>`${(R||0).toFixed(1)}%`,j={orderFulfillment:{value:96.8,trend:2.1,label:"訂單履行率",unit:"%"},avgProcessingTime:{value:1.2,trend:-8.5,label:"平均處理時間",unit:"天"},inventoryTurnover:{value:8.5,trend:12.3,label:"庫存周轉率",unit:"次/年"},supplierReliability:{value:94.2,trend:1.8,label:"供應商可靠性",unit:"%"},shippingAccuracy:{value:98.5,trend:.7,label:"配送準確率",unit:"%"},returnRate:{value:2.3,trend:-15.2,label:"退貨率",unit:"%"},costEfficiency:{value:87.6,trend:5.4,label:"成本效率",unit:"%"},customerSatisfaction:{value:4.4,trend:3.2,label:"客戶滿意度",unit:"/5.0"}},v=[{supplier:"珠寶供應商A",category:"珠寶首飾",reliability:96.5,quality:4.8,leadTime:7,cost:"A",status:"excellent"},{supplier:"配件供應商B",category:"配件飾品",reliability:92.3,quality:4.5,leadTime:5,cost:"B",status:"good"},{supplier:"精品供應商C",category:"精品收藏",reliability:89.7,quality:4.9,leadTime:14,cost:"A",status:"good"},{supplier:"包裝供應商D",category:"包裝材料",reliability:95.1,quality:4.2,leadTime:3,cost:"C",status:"excellent"}],y=[{region:"台北市",orders:1250,avgDeliveryTime:1.2,onTimeRate:98.5,cost:85e3},{region:"新北市",orders:980,avgDeliveryTime:1.5,onTimeRate:96.8,cost:72e3},{region:"台中市",orders:650,avgDeliveryTime:2.1,onTimeRate:94.2,cost:58e3},{region:"高雄市",orders:520,avgDeliveryTime:2.3,onTimeRate:92.6,cost:48e3},{region:"其他地區",orders:800,avgDeliveryTime:3.2,onTimeRate:89.4,cost:85e3}],b=[{product:"經典珍珠項鍊",category:"珠寶首飾",stock:15,minStock:20,status:"low",action:"建議補貨"},{product:"翡翠玉鐲",category:"精品收藏",stock:5,minStock:15,status:"critical",action:"緊急補貨"},{product:"銀飾戒指",category:"配件飾品",stock:89,minStock:30,status:"normal",action:"庫存正常"},{product:"鑽石耳環套組",category:"珠寶首飾",stock:78,minStock:25,status:"normal",action:"庫存正常"}],N=[{category:"商品採購",amount:185e4,percentage:45.2,trend:2.3},{category:"物流配送",amount:348e3,percentage:8.5,trend:-1.8},{category:"包裝材料",amount:164e3,percentage:4,trend:5.2},{category:"倉儲費用",amount:246e3,percentage:6,trend:-3.1},{category:"人事成本",amount:82e4,percentage:20,trend:4.7},{category:"營運費用",amount:656e3,percentage:16,trend:-2.5}],w=[{kpi:"訂單處理效率",current:95.8,target:95,status:"exceed"},{kpi:"庫存準確性",current:98.2,target:98,status:"exceed"},{kpi:"配送及時率",current:96.5,target:97,status:"below"},{kpi:"成本控制率",current:87.6,target:85,status:"exceed"},{kpi:"客戶滿意度",current:88,target:90,status:"below"},{kpi:"供應商績效",current:94.2,target:93,status:"exceed"}],k=R=>R>0?r.jsx(xs,{className:"h-4 w-4 text-green-600"}):R<0?r.jsx(Fl,{className:"h-4 w-4 text-red-600"}):r.jsx("div",{className:"h-4 w-4"}),T=R=>R>0?"text-green-600":R<0?"text-red-600":"text-gray-500",P=R=>{switch(R){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"normal":return"text-gray-600 bg-gray-50 border-gray-200";case"low":return"text-orange-600 bg-orange-50 border-orange-200";case"critical":return"text-red-600 bg-red-50 border-red-200";case"exceed":return"text-green-600 bg-green-50 border-green-200";case"below":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=R=>{switch(R){case"excellent":return"優秀";case"good":return"良好";case"normal":return"正常";case"low":return"偏低";case"critical":return"緊急";case"exceed":return"達標";case"below":return"未達標";default:return"未知"}},C=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Object.entries(j).map(([R,F])=>r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:F.label}),k(F.trend)]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[F.value,F.unit]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs("span",{className:`text-sm font-medium ${T(F.trend)}`,children:[Math.abs(F.trend).toFixed(1),"%"]}),r.jsx("span",{className:"text-xs text-gray-500",children:"vs 上期"})]})]})]},R))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"庫存預警"]}),r.jsx("div",{className:"space-y-4",children:b.map((R,F)=>r.jsxs("div",{className:`p-4 rounded-lg border ${P(R.status)}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:R.product}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(R.status)}`,children:E(R.status)})]}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{children:["分類：",R.category]}),r.jsxs("p",{children:["當前庫存：",R.stock," / 最低庫存：",R.minStock]}),r.jsx("p",{className:"font-medium",children:R.action})]})]},F))})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(gN,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"成本結構分析"]}),r.jsx("div",{className:"space-y-4",children:N.map((R,F)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:R.category}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:g(R.amount)}),r.jsxs("span",{className:`text-xs ${T(R.trend)}`,children:[R.trend>0?"+":"",R.trend.toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${R.percentage}%`}})}),r.jsxs("span",{className:"text-xs text-gray-600 min-w-0",children:[R.percentage.toFixed(1),"%"]})]})]},F))})]})]})]}),A=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(ja,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"供應商績效分析"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"供應商"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"類別"}),r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"可靠性"}),r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"品質評分"}),r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"交付時間"}),r.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"成本等級"}),r.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"整體評價"})]})}),r.jsx("tbody",{children:v.map((R,F)=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:R.supplier}),r.jsx("td",{className:"py-4 px-4 text-gray-600",children:R.category}),r.jsx("td",{className:"py-4 px-4 text-right text-gray-900",children:x(R.reliability)}),r.jsxs("td",{className:"py-4 px-4 text-right text-gray-900",children:[R.quality,"/5.0"]}),r.jsxs("td",{className:"py-4 px-4 text-right text-gray-900",children:[R.leadTime,"天"]}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R.cost==="A"?"bg-green-100 text-green-800":R.cost==="B"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[R.cost,"級"]})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${P(R.status)}`,children:E(R.status)})})]},F))})]})})]})}),I=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(yl,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"物流配送分析"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:y.map((R,F)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:R.region}),r.jsxs("span",{className:"text-sm text-gray-600",children:[p(R.orders)," 訂單"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"平均配送"}),r.jsxs("p",{className:"font-bold text-gray-900",children:[R.avgDeliveryTime,"天"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"準時率"}),r.jsx("p",{className:"font-bold text-gray-900",children:x(R.onTimeRate)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"配送成本"}),r.jsx("p",{className:"font-bold text-gray-900",children:g(R.cost)})]})]})]},F))}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(yl,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"物流配送地圖"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"地圖組件整合中..."})]})})]})]})}),S=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(ma,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"庫存管理總覽"]}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ma,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"詳細庫存分析"}),r.jsx("p",{className:"text-gray-600",children:"請參考商品分析模組的庫存功能"})]})]})}),_=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(Ms,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"詳細成本分析"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"成本趨勢分析"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ps,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"成本趨勢圖表"}),r.jsx("p",{className:"text-gray-400 text-xs",children:"圖表組件整合中..."})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"成本優化建議"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"物流成本優化"}),r.jsx("p",{className:"text-xs text-green-700",children:"建議整合配送路線，預估節省8%物流成本"})]}),r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-blue-900",children:"採購成本優化"}),r.jsx("p",{className:"text-xs text-blue-700",children:"建議批量採購熱銷商品，預估節省5%採購成本"})]}),r.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"倉儲成本優化"}),r.jsx("p",{className:"text-xs text-orange-700",children:"建議優化庫存結構，預估節省12%倉儲成本"})]})]})]})]})]})}),L=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(qy,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"關鍵績效指標 (KPI)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((R,F)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:R.kpi}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${P(R.status)}`,children:E(R.status)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"當前值"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[R.current,"%"]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"目標值"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[R.target,"%"]})]}),r.jsx("div",{className:"mt-3",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${R.status==="exceed"?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(R.current/R.target*100,100)}%`}})})})]})]},F))})]})});return r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:r.jsxs("div",{className:"w-full px-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[r.jsxs("div",{className:"mb-4 lg:mb-0",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"營運分析"}),r.jsx("p",{className:"text-gray-600",children:"監控營運效率，優化供應鏈與物流管理"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("select",{value:s,onChange:R=>n(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:u.map(R=>r.jsx("option",{value:R.value,children:R.label},R.value))}),r.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"刷新數據"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"flex space-x-8",children:m.map(R=>{const F=R.icon,M=a===R.value;return r.jsxs("button",{onClick:()=>i(R.value),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${M?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(F,{className:"h-5 w-5"}),r.jsx("span",{children:R.label})]},R.value)})})}),a==="overview"&&C(),a==="supply-chain"&&A(),a==="logistics"&&I(),a==="inventory"&&S(),a==="cost"&&_(),a==="performance"&&L()]})})},y9=()=>{const[t,e]=f.useState({}),[s,n]=f.useState("all"),[a,i]=f.useState("all"),[l,o]=f.useState("insights"),[c,d]=f.useState(!0),[m,u]=f.useState(!1),h=[{value:"all",label:"全部洞察"},{value:"sales",label:"銷售洞察"},{value:"customer",label:"客戶洞察"},{value:"product",label:"商品洞察"},{value:"operational",label:"營運洞察"},{value:"risk",label:"風險洞察"}],g=[{value:"all",label:"全部優先級"},{value:"critical",label:"緊急"},{value:"high",label:"高"},{value:"medium",label:"中"},{value:"low",label:"低"}],p=[{value:"insights",label:"智能洞察",icon:Sc},{value:"anomalies",label:"異常檢測",icon:vt},{value:"predictions",label:"預測分析",icon:xs},{value:"recommendations",label:"優化建議",icon:Sf},{value:"risks",label:"風險評估",icon:yg}];f.useEffect(()=>{x()},[s,a,l]);const x=async()=>{d(!0);try{const _=al.getAIInsights(s,a,l);e(_)}catch(_){console.error("載入AI洞察失敗:",_)}finally{d(!1)}},j=async()=>{u(!0),await new Promise(_=>setTimeout(_,2e3)),await x(),u(!1)},v=[{id:1,type:"opportunity",category:"sales",priority:"high",title:"週末銷售黃金時段發現",description:"週六下午2-5點的轉換率比平日高出32%，建議加強週末促銷活動",impact:"預估提升15%週末營收",confidence:89,actionable:!0,timestamp:"2小時前",insights:["週末客戶瀏覽時間較長，購買決策更謹慎","珠寶首飾類別在週末表現尤其突出","建議推出週末限定優惠提升轉換"]},{id:2,type:"warning",category:"customer",priority:"critical",title:"高價值客戶流失風險警報",description:"檢測到25位VIP客戶購買頻率下降超過60%，有流失風險",impact:"潛在損失營收280萬元",confidence:94,actionable:!0,timestamp:"30分鐘前",insights:["流失客戶主要集中在精品收藏類別","客服滿意度評分低於4.0的客戶流失率高3倍","建議立即啟動客戶挽回計畫"]},{id:3,type:"insight",category:"product",priority:"medium",title:"商品組合優化機會",description:"珍珠項鍊與玫瑰金手鍊的搭配購買率高達67%，建議建立套裝商品",impact:"預估提升12%客單價",confidence:82,actionable:!0,timestamp:"1小時前",insights:["套裝購買客戶的復購率高於單品購買客戶18%","建議價格折扣控制在8-12%之間","套裝商品適合作為節日禮品推廣"]},{id:4,type:"trend",category:"operational",priority:"low",title:"物流效率改善趨勢",description:"北部地區配送時間較上月改善15%，南部地區仍有優化空間",impact:"整體客戶滿意度提升",confidence:76,actionable:!1,timestamp:"4小時前",insights:["新物流夥伴的服務品質穩定提升","南部配送延遲主要因為倉儲位置","建議評估南部增設配送點的可行性"]}],y=[{id:1,type:"spike",metric:"網站流量",value:"+156%",description:"今日下午3點檢測到異常流量激增",severity:"medium",status:"investigating",timestamp:"1小時前"},{id:2,type:"drop",metric:"轉換率",value:"-23%",description:"手機端轉換率異常下降",severity:"high",status:"confirmed",timestamp:"2小時前"},{id:3,type:"unusual",metric:"退貨率",value:"+45%",description:"特定商品類別退貨率異常上升",severity:"critical",status:"action_required",timestamp:"45分鐘前"}],b=[{category:"銷售預測",metric:"下月營收",prediction:"3,250,000",confidence:88,trend:"increasing",variance:"±8%"},{category:"需求預測",metric:"熱門商品",prediction:"珍珠系列",confidence:92,trend:"stable",variance:"±5%"},{category:"客戶預測",metric:"新客增長",prediction:"1,580",confidence:79,trend:"increasing",variance:"±12%"},{category:"庫存預測",metric:"補貨需求",prediction:"15個SKU",confidence:95,trend:"urgent",variance:"±3%"}],N=[{category:"marketing",title:"個人化推薦系統",description:"基於客戶購買歷史建立個人化商品推薦",priority:"high",effort:"medium",impact:"high",expectedROI:"285%"},{category:"pricing",title:"動態定價策略",description:"根據需求和庫存情況調整商品價格",priority:"medium",effort:"high",impact:"medium",expectedROI:"156%"},{category:"inventory",title:"智能補貨系統",description:"使用AI預測最佳補貨時機和數量",priority:"high",effort:"low",impact:"high",expectedROI:"234%"},{category:"customer",title:"客戶流失預警",description:"建立早期客戶流失預警和挽回機制",priority:"critical",effort:"medium",impact:"high",expectedROI:"412%"}],w=[{type:"operational",title:"供應鏈中斷風險",probability:"medium",impact:"high",riskScore:75,description:"主要供應商集中度過高，存在供應中斷風險",mitigation:"建議建立備用供應商網絡"},{type:"financial",title:"庫存積壓風險",probability:"low",impact:"medium",riskScore:35,description:"季節性商品庫存可能面臨積壓",mitigation:"提前規劃清倉促銷活動"},{type:"market",title:"競爭加劇風險",probability:"high",impact:"medium",riskScore:68,description:"新競爭者進入市場，價格競爭激烈",mitigation:"加強品牌差異化和客戶忠誠度"}],k=_=>{switch(_){case"opportunity":return r.jsx(qT,{className:"h-5 w-5 text-green-600"});case"warning":return r.jsx(vt,{className:"h-5 w-5 text-red-600"});case"insight":return r.jsx(Sc,{className:"h-5 w-5 text-blue-600"});case"trend":return r.jsx(xs,{className:"h-5 w-5 text-purple-600"});default:return r.jsx(gg,{className:"h-5 w-5 text-gray-600"})}},T=_=>{switch(_){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},P=_=>{switch(_){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=()=>r.jsx("div",{className:"space-y-6",children:v.map(_=>r.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:k(_.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.title}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(_.priority)}`,children:_.priority==="critical"?"緊急":_.priority==="high"?"高":_.priority==="medium"?"中":"低"}),r.jsx("span",{className:"text-xs text-gray-500",children:_.timestamp})]})]}),r.jsx("p",{className:"text-gray-700 mb-4",children:_.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"預期影響"}),r.jsx("p",{className:"font-medium text-gray-900",children:_.impact})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"信心度"}),r.jsxs("p",{className:"font-medium text-gray-900",children:[_.confidence,"%"]})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"可執行性"}),r.jsx("p",{className:"font-medium text-gray-900",children:_.actionable?"可執行":"觀察中"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"關鍵洞察:"}),r.jsx("ul",{className:"space-y-1",children:_.insights.map((L,R)=>r.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-[#cc824d] mt-2 mr-3 flex-shrink-0"}),L]},R))})]}),_.actionable&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors text-sm",children:"執行建議"})})]})]})},_.id))}),C=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"異常檢測報告"]}),r.jsx("div",{className:"space-y-4",children:y.map(_=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:_.metric}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${P(_.severity)}`,children:_.severity==="critical"?"嚴重":_.severity==="high"?"高":"中"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`text-lg font-bold ${_.type==="spike"?"text-green-600":_.type==="drop"?"text-red-600":"text-orange-600"}`,children:_.value}),r.jsx("p",{className:"text-xs text-gray-500",children:_.timestamp})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.status==="investigating"?"bg-blue-100 text-blue-800":_.status==="confirmed"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:_.status==="investigating"?"調查中":_.status==="confirmed"?"已確認":"需要處理"}),r.jsx("button",{className:"text-sm text-[#cc824d] hover:text-[#b8753f]",children:"查看詳細"})]})]},_.id))})]})}),A=()=>r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map((_,L)=>r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.category}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.trend==="increasing"?"bg-green-100 text-green-800":_.trend==="urgent"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:_.trend==="increasing"?"上升趨勢":_.trend==="urgent"?"緊急":"穩定"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:_.metric}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.prediction})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"預測信心度"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[_.confidence,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${_.confidence}%`}})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"誤差範圍"}),r.jsx("span",{className:"font-medium text-gray-900",children:_.variance})]})]})]},L))})}),I=()=>r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map((_,L)=>r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(_.priority)}`,children:_.priority==="critical"?"緊急":_.priority==="high"?"高":_.priority==="medium"?"中":"低"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500",children:"實施難度"}),r.jsx("p",{className:"font-medium text-gray-900",children:_.effort==="high"?"高":_.effort==="medium"?"中":"低"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500",children:"預期影響"}),r.jsx("p",{className:"font-medium text-gray-900",children:_.impact==="high"?"高":_.impact==="medium"?"中":"低"})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-500",children:"預期ROI"}),r.jsx("p",{className:"font-bold text-green-600",children:_.expectedROI})]}),r.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors text-sm",children:"開始實施"})]})]},L))})}),S=()=>r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:w.map((_,L)=>r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.title}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:_.riskScore}),r.jsx("div",{className:"text-xs text-gray-500",children:"風險分數"})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"發生機率"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.probability==="high"?"bg-red-100 text-red-800":_.probability==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.probability==="high"?"高":_.probability==="medium"?"中":"低"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"影響程度"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.impact==="high"?"bg-red-100 text-red-800":_.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.impact==="high"?"高":_.impact==="medium"?"中":"低"})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:`h-2 rounded-full ${_.riskScore>=70?"bg-red-500":_.riskScore>=40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${_.riskScore}%`}})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.description}),r.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"建議措施"}),r.jsx("p",{className:"text-sm text-gray-700",children:_.mitigation})]})]},L))})});return r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:r.jsxs("div",{className:"w-full px-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[r.jsxs("div",{className:"mb-4 lg:mb-0",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[r.jsx(Sf,{className:"h-8 w-8 mr-3 text-[#cc824d]"}),"AI 智能洞察"]}),r.jsx("p",{className:"text-gray-600",children:"運用人工智能分析商業數據，提供智能洞察與預測建議"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("select",{value:s,onChange:_=>n(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:h.map(_=>r.jsx("option",{value:_.value,children:_.label},_.value))}),r.jsx("select",{value:a,onChange:_=>i(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:g.map(_=>r.jsx("option",{value:_.value,children:_.label},_.value))}),r.jsxs("button",{onClick:j,disabled:m,className:`px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors flex items-center ${m?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx(vr,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),m?"AI分析中...":"重新分析"]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"flex space-x-8",children:p.map(_=>{const L=_.icon,R=l===_.value;return r.jsxs("button",{onClick:()=>o(_.value),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${R?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(L,{className:"h-5 w-5"}),r.jsx("span",{children:_.label})]},_.value)})})}),m&&r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center",children:[r.jsx(zk,{className:"h-5 w-5 text-blue-600 mr-2 animate-pulse"}),r.jsx("span",{className:"text-blue-800",children:"AI 正在分析最新數據，請稍候..."})]}),l==="insights"&&E(),l==="anomalies"&&C(),l==="predictions"&&A(),l==="recommendations"&&I(),l==="risks"&&S()]})})};class $f{constructor(){this.storageKey="marelle-system-settings",this.changeLogKey="marelle-setting-changes",this.initializeDefaultSettings()}initializeDefaultSettings(){const e=this.getAllSettings();if(Object.keys(e).length===0){const s=this.getDefaultSettingsStructure();localStorage.setItem(this.storageKey,JSON.stringify(s))}}getDefaultSettingsStructure(){return{system_core:{"system.name":{settingId:"system.name",category:"system_core",key:"system.name",displayName:"系統名稱",description:"電商平台的顯示名稱",value:"Marelle",defaultValue:"Marelle",dataType:"string",isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.description":{settingId:"system.description",category:"system_core",key:"system.description",displayName:"系統描述",description:"電商平台的簡短描述",value:"優雅的線上購物體驗",defaultValue:"優雅的線上購物體驗",dataType:"textarea",isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.contact_email":{settingId:"system.contact_email",category:"system_core",key:"system.contact_email",displayName:"聯絡信箱",description:"系統管理員聯絡信箱",value:"admin@marelle.com",defaultValue:"admin@marelle.com",dataType:"email",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.phone":{settingId:"system.phone",category:"system_core",key:"system.phone",displayName:"聯絡電話",description:"客服聯絡電話",value:"+886-2-1234-5678",defaultValue:"+886-2-1234-5678",dataType:"string",isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},system_security:{"security.password_min_length":{settingId:"security.password_min_length",category:"system_security",key:"security.password_min_length",displayName:"密碼最小長度",description:"使用者密碼的最小字元數",value:8,defaultValue:8,dataType:"number",constraints:{minValue:6,maxValue:32},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.password_require_uppercase":{settingId:"security.password_require_uppercase",category:"system_security",key:"security.password_require_uppercase",displayName:"密碼需要大寫字母",description:"密碼是否必須包含大寫字母",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.login_max_attempts":{settingId:"security.login_max_attempts",category:"system_security",key:"security.login_max_attempts",displayName:"登入最大嘗試次數",description:"帳號被鎖定前的最大登入失敗次數",value:5,defaultValue:5,dataType:"number",constraints:{minValue:3,maxValue:10},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.session_timeout":{settingId:"security.session_timeout",category:"system_security",key:"security.session_timeout",displayName:"會話超時時間",description:"使用者會話的超時時間（分鐘）",value:30,defaultValue:30,dataType:"number",constraints:{minValue:10,maxValue:720},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},notification_management:{"notification.email_enabled":{settingId:"notification.email_enabled",category:"notification_management",key:"notification.email_enabled",displayName:"啟用郵件通知",description:"是否啟用系統郵件通知功能",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"notification.email_smtp_host":{settingId:"notification.email_smtp_host",category:"notification_management",key:"notification.email_smtp_host",displayName:"SMTP 主機",description:"郵件發送伺服器地址",value:"smtp.gmail.com",defaultValue:"smtp.gmail.com",dataType:"string",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!0,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"notification.sms_enabled":{settingId:"notification.sms_enabled",category:"notification_management",key:"notification.sms_enabled",displayName:"啟用簡訊通知",description:"是否啟用系統簡訊通知功能",value:!1,defaultValue:!1,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},payment_management:{"payment.currency":{settingId:"payment.currency",category:"payment_management",key:"payment.currency",displayName:"預設貨幣",description:"系統預設的貨幣單位",value:"TWD",defaultValue:"TWD",dataType:"select",constraints:{options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"歐元 (EUR)"},{value:"JPY",label:"日圓 (JPY)"}]},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"payment.credit_card_enabled":{settingId:"payment.credit_card_enabled",category:"payment_management",key:"payment.credit_card_enabled",displayName:"啟用信用卡支付",description:"是否啟用信用卡支付功能",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"payment.handling_fee":{settingId:"payment.handling_fee",category:"payment_management",key:"payment.handling_fee",displayName:"手續費百分比",description:"支付處理手續費百分比",value:2.5,defaultValue:2.5,dataType:"number",constraints:{minValue:0,maxValue:10},isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},shipping_management:{"shipping.free_shipping_threshold":{settingId:"shipping.free_shipping_threshold",category:"shipping_management",key:"shipping.free_shipping_threshold",displayName:"免運費門檻",description:"享受免運費的最低消費金額",value:1e3,defaultValue:1e3,dataType:"number",constraints:{minValue:0,maxValue:1e4},isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"shipping.default_rate":{settingId:"shipping.default_rate",category:"shipping_management",key:"shipping.default_rate",displayName:"預設運費",description:"標準配送的預設運費",value:80,defaultValue:80,dataType:"number",constraints:{minValue:0,maxValue:500},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"shipping.processing_days":{settingId:"shipping.processing_days",category:"shipping_management",key:"shipping.processing_days",displayName:"處理天數",description:"訂單處理所需的工作天數",value:2,defaultValue:2,dataType:"number",constraints:{minValue:1,maxValue:10},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}}}getAllSettings(){const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}getSettingsByCategory(e){return this.getAllSettings()[e]||{}}getSetting(e,s){var a;return(a=this.getSettingsByCategory(e)[s])==null?void 0:a.value}getSettingObject(e,s){return this.getSettingsByCategory(e)[s]}updateSetting(e,s,n,a="admin"){var o;const i=this.getAllSettings();i[e]||(i[e]={});const l=(o=i[e][s])==null?void 0:o.value;return i[e][s]&&(i[e][s]={...i[e][s],value:n,updatedAt:new Date().toISOString(),updatedBy:a,version:i[e][s].version+1}),localStorage.setItem(this.storageKey,JSON.stringify(i)),this.logSettingChange(e,s,l,n,a),i[e][s]}resetSetting(e,s,n="admin"){const a=this.getSettingObject(e,s);return a?this.updateSetting(e,s,a.defaultValue,n):null}updateMultipleSettings(e,s="admin"){const n=[];return e.forEach(({category:a,key:i,value:l})=>{const o=this.updateSetting(a,i,l,s);n.push(o)}),n}logSettingChange(e,s,n,a,i,l=""){const o=this.getChangeLogs(),c={logId:this.generateId(),settingId:`${e}.${s}`,category:e,key:s,changeType:n===void 0?"create":"update",oldValue:n,newValue:a,reason:l,changedBy:i,changedAt:new Date().toISOString(),ipAddress:"localhost",userAgent:navigator.userAgent};o.push(c),localStorage.setItem(this.changeLogKey,JSON.stringify(o))}getChangeLogs(e=null,s=100){const n=localStorage.getItem(this.changeLogKey);let a=n?JSON.parse(n):[];return e&&(a=a.filter(i=>i.category===e)),a.sort((i,l)=>new Date(l.changedAt)-new Date(i.changedAt)).slice(0,s)}getSettingsStatistics(){const e=this.getAllSettings(),s=Object.keys(e),n=this.getChangeLogs();let a=0,i=0,l=0,o=0;return s.forEach(c=>{const d=e[c];Object.values(d).forEach(m=>{a++,m.status==="active"&&i++,m.isSystem&&l++,m.isUserConfigurable&&o++})}),{totalSettings:a,activeSettings:i,systemSettings:l,userConfigurableSettings:o,totalCategories:s.length,recentChanges:n.slice(0,10),lastModified:n.length>0?n[0].changedAt:null}}exportSettings(e=null){const s=this.getAllSettings(),n={timestamp:new Date().toISOString(),version:"1.0",settings:e?Object.fromEntries(Object.entries(s).filter(([a])=>e.includes(a))):s};return JSON.stringify(n,null,2)}importSettings(e,s="admin"){try{const n=JSON.parse(e),a=[];return Object.entries(n.settings).forEach(([i,l])=>{Object.entries(l).forEach(([o,c])=>{const d=this.updateSetting(i,o,c.value,s);a.push({category:i,key:o,success:!!d})})}),{success:!0,results:a}}catch(n){return{success:!1,error:n.message}}}validateSetting(e,s,n){const a=this.getSettingObject(e,s);if(!a)return{valid:!1,error:"設定不存在"};const{dataType:i,constraints:l,isRequired:o}=a;if(o&&(n==null||n===""))return{valid:!1,error:"此設定為必填項目"};if(n!=null)switch(i){case"number":if(isNaN(n))return{valid:!1,error:"必須是數字"};const c=Number(n);if((l==null?void 0:l.minValue)!==void 0&&c<l.minValue)return{valid:!1,error:`最小值為 ${l.minValue}`};if((l==null?void 0:l.maxValue)!==void 0&&c>l.maxValue)return{valid:!1,error:`最大值為 ${l.maxValue}`};break;case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return{valid:!1,error:"請輸入有效的電子郵件地址"};break;case"url":try{new URL(n)}catch{return{valid:!1,error:"請輸入有效的URL"}}break;case"string":case"textarea":if(l!=null&&l.minLength&&n.length<l.minLength)return{valid:!1,error:`最小長度為 ${l.minLength}`};if(l!=null&&l.maxLength&&n.length>l.maxLength)return{valid:!1,error:`最大長度為 ${l.maxLength}`};break;case"select":if(l!=null&&l.options&&!l.options.map(u=>u.value).includes(n))return{valid:!1,error:"請選擇有效的選項"};break}return{valid:!0}}searchSettings(e,s=null){const n=this.getAllSettings(),a=[];return Object.entries(n).forEach(([i,l])=>{s&&i!==s||Object.entries(l).forEach(([o,c])=>{`${c.displayName} ${c.description} ${o}`.toLowerCase().includes(e.toLowerCase())&&a.push({...c,category:i,key:o})})}),a}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}clearAllData(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.changeLogKey)}}zm($f,"SETTING_CATEGORIES",{SYSTEM_CORE:"system_core",SYSTEM_SECURITY:"system_security",SYSTEM_PERFORMANCE:"system_performance",USER_MANAGEMENT:"user_management",PRODUCT_MANAGEMENT:"product_management",INVENTORY_MANAGEMENT:"inventory_management",ORDER_MANAGEMENT:"order_management",PAYMENT_MANAGEMENT:"payment_management",SHIPPING_MANAGEMENT:"shipping_management",PROMOTION_MANAGEMENT:"promotion_management",CONTENT_MANAGEMENT:"content_management",NOTIFICATION_MANAGEMENT:"notification_management",ANALYTICS_MANAGEMENT:"analytics_management",PAYMENT_GATEWAY:"payment_gateway",LOGISTICS_PROVIDER:"logistics_provider",EMAIL_SERVICE:"email_service",SMS_SERVICE:"sms_service",CLOUD_STORAGE:"cloud_storage",FRONTEND_THEME:"frontend_theme",FRONTEND_LAYOUT:"frontend_layout",FRONTEND_SEO:"frontend_seo",BACKEND_INTERFACE:"backend_interface",BACKEND_WORKFLOW:"backend_workflow",BACKEND_REPORTING:"backend_reporting"}),zm($f,"DATA_TYPES",{STRING:"string",NUMBER:"number",BOOLEAN:"boolean",JSON:"json",ARRAY:"array",FILE:"file",IMAGE:"image",URL:"url",EMAIL:"email",PASSWORD:"password",TEXTAREA:"textarea",SELECT:"select",MULTI_SELECT:"multi_select",DATE:"date",TIME:"time",DATETIME:"datetime",COLOR:"color",RANGE:"range"});const ar=new $f,v9=()=>{const[t,e]=f.useState({}),[s,n]=f.useState([]),[a,i]=f.useState({}),[l,o]=f.useState({}),[c,d]=f.useState(""),[m,u]=f.useState([]);f.useEffect(()=>{h()},[]),f.useEffect(()=>{if(c.trim()){const w=ar.searchSettings(c);u(w)}else u([])},[c]);const h=()=>{const w=ar.getSettingsStatistics();e(w),n(w.recentChanges);const k=g();i(k);const T=p();o(T)},g=()=>{var T,P,E,C,A,I,S;const w=ar.getSettingsByCategory("system_security"),k=ar.getSettingsByCategory("notification_management");return{security:{status:"healthy",message:"安全設定正常",lastCheck:new Date().toISOString(),details:{passwordPolicy:((T=w["security.password_min_length"])==null?void 0:T.value)>=8,loginProtection:((P=w["security.login_max_attempts"])==null?void 0:P.value)<=5,sessionTimeout:((E=w["security.session_timeout"])==null?void 0:E.value)<=60}},notifications:{status:(C=k["notification.email_enabled"])!=null&&C.value?"active":"warning",message:(A=k["notification.email_enabled"])!=null&&A.value?"通知系統正常運作":"部分通知功能未啟用",lastCheck:new Date().toISOString(),details:{email:(I=k["notification.email_enabled"])==null?void 0:I.value,sms:(S=k["notification.sms_enabled"])==null?void 0:S.value}},performance:{status:"healthy",message:"系統效能良好",lastCheck:new Date().toISOString(),details:{responseTime:"< 200ms",uptime:"99.9%",memoryUsage:"65%"}}}},p=()=>({"system.name":ar.getSetting("system_core","system.name"),"security.password_min_length":ar.getSetting("system_security","security.password_min_length"),"notification.email_enabled":ar.getSetting("notification_management","notification.email_enabled"),"payment.currency":ar.getSetting("payment_management","payment.currency"),"shipping.free_shipping_threshold":ar.getSetting("shipping_management","shipping.free_shipping_threshold")}),x=(w,k,T)=>{ar.updateSetting(w,k,T),h()},j=()=>{const w=ar.exportSettings(),k=new Blob([w],{type:"application/json"}),T=URL.createObjectURL(k),P=document.createElement("a");P.href=T,P.download=`marelle-settings-${new Date().toISOString().split("T")[0]}.json`,P.click(),URL.revokeObjectURL(T)},v=w=>{const k=w.target.files[0];if(k){const T=new FileReader;T.onload=P=>{const E=ar.importSettings(P.target.result);E.success?(alert("設定匯入成功！"),h()):alert(`匯入失敗：${E.error}`)},T.readAsText(k)}},y=w=>new Date(w).toLocaleString("zh-TW"),b=w=>{switch(w){case"healthy":case"active":return r.jsx(Vt,{className:"h-5 w-5 text-green-500"});case"warning":return r.jsx(vt,{className:"h-5 w-5 text-yellow-500"});case"error":return r.jsx(vt,{className:"h-5 w-5 text-red-500"});default:return r.jsx(Nr,{className:"h-5 w-5 text-gray-500"})}},N=w=>{switch(w){case"healthy":case"active":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return r.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"系統設定總覽"}),r.jsx("p",{className:"text-gray-600",children:"集中管理所有系統配置與設定項目"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:j,className:"bg-white text-gray-700 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center font-medium",children:[r.jsx(H6,{className:"h-5 w-5 mr-2"}),"匯出設定"]}),r.jsxs("label",{className:"bg-white text-gray-700 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center font-medium cursor-pointer",children:[r.jsx(q6,{className:"h-5 w-5 mr-2"}),"匯入設定",r.jsx("input",{type:"file",accept:".json",onChange:v,className:"hidden"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ps,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"系統狀態監控"]}),r.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([w,k])=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[b(k.status),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:w}),r.jsx("p",{className:"text-sm text-gray-600",children:k.message})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${N(k.status)}`,children:k.status==="healthy"?"正常":k.status==="active"?"運作中":k.status==="warning"?"警告":"錯誤"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y(k.lastCheck)})]})]},w))})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(fk,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"快速設定"]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"系統名稱"}),r.jsx("input",{type:"text",value:l["system.name"]||"",onChange:w=>x("system_core","system.name",w.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密碼最小長度"}),r.jsx("input",{type:"number",value:l["security.password_min_length"]||"",onChange:w=>x("system_security","security.password_min_length",Number(w.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"預設貨幣"}),r.jsx(_e,{options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"歐元 (EUR)"},{value:"JPY",label:"日圓 (JPY)"}],value:l["payment.currency"]||"TWD",onChange:w=>x("payment_management","payment.currency",w),placeholder:"選擇貨幣",className:"w-full"})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"免運費門檻"}),r.jsx("input",{type:"number",value:l["shipping.free_shipping_threshold"]||"",onChange:w=>x("shipping_management","shipping.free_shipping_threshold",Number(w.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]})})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Nr,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"最近變更"]}),r.jsxs("div",{className:"space-y-3",children:[s.slice(0,5).map((w,k)=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.settingId}),r.jsx("span",{className:"text-xs text-gray-500",children:y(w.changedAt)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vg,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-600",children:w.changedBy})]}),r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"變更："}),r.jsx("span",{className:"text-red-600 line-through mr-2",children:String(w.oldValue)}),r.jsx("span",{className:"text-green-600",children:String(w.newValue)})]})]},k)),s.length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"暫無變更記錄"})]})]})})]})]})})},b9=()=>{const[t,e]=f.useState({siteName:"Marelle 電商平台",siteDescription:"優雅珠寶與精品配件的專業電商平台",language:"zh-TW",timezone:"Asia/Taipei",currency:"TWD",dateFormat:"YYYY-MM-DD",timeFormat:"24h"}),s=(a,i)=>{e(l=>({...l,[a]:i}))},n=()=>{alert("設定已儲存")};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"一般設定"}),r.jsx("p",{className:O.pageSubtitle,children:"管理系統的基本配置和偏好設定"})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"網站基本資訊"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"網站名稱"}),r.jsx("input",{type:"text",value:t.siteName,onChange:a=>s("siteName",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"網站描述"}),r.jsx("textarea",{value:t.siteDescription,onChange:a=>s("siteDescription",a.target.value),rows:3,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"地區設定"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{children:r.jsx(_e,{placeholder:"語言",value:t.language,onChange:a=>s("language",a),options:[{value:"zh-TW",label:"繁體中文"},{value:"zh-CN",label:"簡體中文"},{value:"en-US",label:"English"},{value:"ja-JP",label:"日本語"}],size:"sm"})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"時區",value:t.timezone,onChange:a=>s("timezone",a),options:[{value:"Asia/Taipei",label:"台北 (GMT+8)"},{value:"Asia/Shanghai",label:"上海 (GMT+8)"},{value:"Asia/Tokyo",label:"東京 (GMT+9)"},{value:"Asia/Hong_Kong",label:"香港 (GMT+8)"}],size:"sm"})}),r.jsx("div",{children:r.jsx(_e,{placeholder:"貨幣",value:t.currency,onChange:a=>s("currency",a),options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"CNY",label:"人民幣 (CNY)"},{value:"USD",label:"美元 (USD)"},{value:"JPY",label:"日圓 (JPY)"},{value:"HKD",label:"港幣 (HKD)"}],size:"sm"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"格式設定"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"日期格式"}),r.jsxs("select",{value:t.dateFormat,onChange:a=>s("dateFormat",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm",children:[r.jsx("option",{value:"YYYY-MM-DD",children:"2024-01-15"}),r.jsx("option",{value:"DD/MM/YYYY",children:"15/01/2024"}),r.jsx("option",{value:"MM/DD/YYYY",children:"01/15/2024"}),r.jsx("option",{value:"DD-MM-YYYY",children:"15-01-2024"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"時間格式"}),r.jsxs("select",{value:t.timeFormat,onChange:a=>s("timeFormat",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm",children:[r.jsx("option",{value:"24h",children:"24小時制 (14:30)"}),r.jsx("option",{value:"12h",children:"12小時制 (2:30 PM)"})]})]})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-chinese",children:"儲存設定"})})]})]})})},j9=()=>{const[t,e]=f.useState({twoFactorAuth:!1,sessionTimeout:30,passwordPolicy:{minLength:8,requireSpecialChars:!0,requireNumbers:!0,requireUppercase:!0},loginAttempts:5,lockoutDuration:15}),s=(a,i)=>{e(l=>({...l,[a]:i}))},n=(a,i)=>{e(l=>({...l,passwordPolicy:{...l.passwordPolicy,[a]:i}}))};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"安全設定"}),r.jsx("p",{className:O.pageSubtitle,children:"管理系統安全性和權限設定"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"認證設定"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"雙因素驗證"}),r.jsx("input",{type:"checkbox",checked:t.twoFactorAuth,onChange:a=>s("twoFactorAuth",a.target.checked),className:"rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"會話超時時間 (分鐘)"}),r.jsx("input",{type:"number",value:t.sessionTimeout,onChange:a=>s("sessionTimeout",a.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"5",max:"1440"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"密碼政策"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最小長度"}),r.jsx("input",{type:"number",value:t.passwordPolicy.minLength,onChange:a=>n("minLength",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"6",max:"32"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.passwordPolicy.requireSpecialChars,onChange:a=>n("requireSpecialChars",a.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-chinese",children:"需要特殊字符"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.passwordPolicy.requireNumbers,onChange:a=>n("requireNumbers",a.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-chinese",children:"需要數字"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.passwordPolicy.requireUppercase,onChange:a=>n("requireUppercase",a.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-chinese",children:"需要大寫字母"})]})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"登入安全"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最大登入嘗試次數"}),r.jsx("input",{type:"number",value:t.loginAttempts,onChange:a=>s("loginAttempts",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"3",max:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"鎖定時間 (分鐘)"}),r.jsx("input",{type:"number",value:t.lockoutDuration,onChange:a=>s("lockoutDuration",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"5",max:"60"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},N9=()=>{const[t,e]=f.useState({emailNotifications:{newOrders:!0,lowStock:!0,customerMessages:!0,systemUpdates:!1},smsNotifications:{orderStatusChanges:!0,urgentAlerts:!0,promotions:!1},pushNotifications:{realTimeAlerts:!0,dailySummary:!0,weeklyReports:!1},notificationSchedule:{quietHours:{enabled:!1,startTime:"22:00",endTime:"08:00"},timezone:"Asia/Taipei"}}),s=(o,c)=>{e(d=>({...d,emailNotifications:{...d.emailNotifications,[o]:c}}))},n=(o,c)=>{e(d=>({...d,smsNotifications:{...d.smsNotifications,[o]:c}}))},a=(o,c)=>{e(d=>({...d,pushNotifications:{...d.pushNotifications,[o]:c}}))},i=(o,c)=>{e(d=>({...d,notificationSchedule:{...d.notificationSchedule,[o]:c}}))},l=(o,c)=>{e(d=>({...d,notificationSchedule:{...d.notificationSchedule,quietHours:{...d.notificationSchedule.quietHours,[o]:c}}}))};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"通知設定"}),r.jsx("p",{className:O.pageSubtitle,children:"管理系統通知和提醒設定"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"電子郵件通知"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"新訂單通知"}),r.jsx("input",{type:"checkbox",checked:t.emailNotifications.newOrders,onChange:o=>s("newOrders",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"庫存不足警告"}),r.jsx("input",{type:"checkbox",checked:t.emailNotifications.lowStock,onChange:o=>s("lowStock",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"客戶訊息"}),r.jsx("input",{type:"checkbox",checked:t.emailNotifications.customerMessages,onChange:o=>s("customerMessages",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"系統更新"}),r.jsx("input",{type:"checkbox",checked:t.emailNotifications.systemUpdates,onChange:o=>s("systemUpdates",o.target.checked),className:"rounded"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"簡訊通知"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"訂單狀態變更"}),r.jsx("input",{type:"checkbox",checked:t.smsNotifications.orderStatusChanges,onChange:o=>n("orderStatusChanges",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"緊急警告"}),r.jsx("input",{type:"checkbox",checked:t.smsNotifications.urgentAlerts,onChange:o=>n("urgentAlerts",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"促銷活動"}),r.jsx("input",{type:"checkbox",checked:t.smsNotifications.promotions,onChange:o=>n("promotions",o.target.checked),className:"rounded"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"推播通知"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"即時警告"}),r.jsx("input",{type:"checkbox",checked:t.pushNotifications.realTimeAlerts,onChange:o=>a("realTimeAlerts",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"每日摘要"}),r.jsx("input",{type:"checkbox",checked:t.pushNotifications.dailySummary,onChange:o=>a("dailySummary",o.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"週報"}),r.jsx("input",{type:"checkbox",checked:t.pushNotifications.weeklyReports,onChange:o=>a("weeklyReports",o.target.checked),className:"rounded"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"通知時程"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsx(_e,{placeholder:"時區",value:t.notificationSchedule.timezone,onChange:o=>i("timezone",o),options:[{value:"Asia/Taipei",label:"台北 (UTC+8)"},{value:"Asia/Shanghai",label:"上海 (UTC+8)"},{value:"Asia/Hong_Kong",label:"香港 (UTC+8)"},{value:"UTC",label:"UTC (UTC+0)"}],size:"sm"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("input",{type:"checkbox",checked:t.notificationSchedule.quietHours.enabled,onChange:o=>l("enabled",o.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-medium font-chinese",children:"啟用免打擾時間"})]}),t.notificationSchedule.quietHours.enabled&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"開始時間"}),r.jsx("input",{type:"time",value:t.notificationSchedule.quietHours.startTime,onChange:o=>l("startTime",o.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"結束時間"}),r.jsx("input",{type:"time",value:t.notificationSchedule.quietHours.endTime,onChange:o=>l("endTime",o.target.value),className:"w-full px-3 py-2 border rounded-md"})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},w9=()=>{const[t,e]=f.useState({paymentMethods:{creditCard:!0,bankTransfer:!0,paypal:!1,applePay:!1,googlePay:!1,cashOnDelivery:!0},currency:{primary:"TWD",supported:["TWD","USD","CNY","HKD"]},fees:{creditCardFee:2.8,bankTransferFee:0,processingFee:0},limits:{minOrderAmount:100,maxOrderAmount:5e4,dailyLimit:1e5}}),s=(i,l)=>{e(o=>({...o,paymentMethods:{...o.paymentMethods,[i]:l}}))},n=(i,l)=>{e(o=>({...o,fees:{...o.fees,[i]:parseFloat(l)||0}}))},a=(i,l)=>{e(o=>({...o,limits:{...o.limits,[i]:parseInt(l)||0}}))};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"付款設定"}),r.jsx("p",{className:O.pageSubtitle,children:"管理付款方式和相關設定"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"付款方式"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"信用卡"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.creditCard,onChange:i=>s("creditCard",i.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"銀行轉帳"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.bankTransfer,onChange:i=>s("bankTransfer",i.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"PayPal"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.paypal,onChange:i=>s("paypal",i.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"Apple Pay"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.applePay,onChange:i=>s("applePay",i.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"Google Pay"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.googlePay,onChange:i=>s("googlePay",i.target.checked),className:"rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium font-chinese",children:"貨到付款"}),r.jsx("input",{type:"checkbox",checked:t.paymentMethods.cashOnDelivery,onChange:i=>s("cashOnDelivery",i.target.checked),className:"rounded"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"貨幣設定"}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{children:r.jsx(_e,{placeholder:"主要貨幣",value:t.currency.primary,onChange:i=>e(l=>({...l,currency:{...l.currency,primary:i}})),options:[{value:"TWD",label:"TWD (台幣)"},{value:"USD",label:"USD (美元)"},{value:"CNY",label:"CNY (人民幣)",icon:"💴"},{value:"HKD",label:"HKD (港幣)",icon:"💶"}],size:"sm"})})})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"手續費設定"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"信用卡手續費 (%)"}),r.jsx("input",{type:"number",step:"0.1",value:t.fees.creditCardFee,onChange:i=>n("creditCardFee",i.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"0",max:"10"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"銀行轉帳手續費 (固定金額)"}),r.jsx("input",{type:"number",value:t.fees.bankTransferFee,onChange:i=>n("bankTransferFee",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"處理費 (固定金額)"}),r.jsx("input",{type:"number",value:t.fees.processingFee,onChange:i=>n("processingFee",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]})]})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"限制設定"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最小訂單金額"}),r.jsx("input",{type:"number",value:t.limits.minOrderAmount,onChange:i=>a("minOrderAmount",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最大訂單金額"}),r.jsx("input",{type:"number",value:t.limits.maxOrderAmount,onChange:i=>a("maxOrderAmount",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"每日交易限額"}),r.jsx("input",{type:"number",value:t.limits.dailyLimit,onChange:i=>a("dailyLimit",i.target.value),className:"w-40 px-3 py-2 border rounded-md",min:"0"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},_9=()=>{const[t,e]=f.useState({shippingMethods:[{id:1,name:"標準配送",cost:60,estimatedDays:"3-5",enabled:!0,freeThreshold:1e3},{id:2,name:"快速配送",cost:120,estimatedDays:"1-2",enabled:!0,freeThreshold:null},{id:3,name:"超商取貨",cost:50,estimatedDays:"2-3",enabled:!0,freeThreshold:800}],zones:[{id:1,name:"台灣本島",regions:["台北","桃園","台中","台南","高雄"],multiplier:1},{id:2,name:"離島地區",regions:["澎湖","金門","馬祖"],multiplier:1.5}],packaging:{standardBox:{length:30,width:20,height:15,weight:.2},largeBox:{length:40,width:30,height:25,weight:.3},customPackaging:!1}}),s=(i,l,o)=>{e(c=>({...c,shippingMethods:c.shippingMethods.map(d=>d.id===i?{...d,[l]:o}:d)}))},n=(i,l,o)=>{e(c=>({...c,zones:c.zones.map(d=>d.id===i?{...d,[l]:o}:d)}))},a=(i,l,o)=>{e(c=>({...c,packaging:{...c.packaging,[i]:typeof c.packaging[i]=="object"?{...c.packaging[i],[l]:o}:o}}))};return r.jsx("div",{className:O.pageContainer,children:r.jsxs("div",{className:O.contentContainer,children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:O.pageTitle,children:"配送設定"}),r.jsx("p",{className:O.pageSubtitle,children:"管理配送方式和運費設定"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"配送方式"}),r.jsx("div",{className:"space-y-4",children:t.shippingMethods.map(i=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"方式名稱"}),r.jsx("input",{type:"text",value:i.name,onChange:l=>s(i.id,"name",l.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"運費 (元)"}),r.jsx("input",{type:"number",value:i.cost,onChange:l=>s(i.id,"cost",parseInt(l.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"預計天數"}),r.jsx("input",{type:"text",value:i.estimatedDays,onChange:l=>s(i.id,"estimatedDays",l.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"1-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"免運門檻"}),r.jsx("input",{type:"number",value:i.freeThreshold||"",onChange:l=>s(i.id,"freeThreshold",l.target.value?parseInt(l.target.value):null),className:"w-full px-3 py-2 border rounded-md",placeholder:"無限制"})]})]}),r.jsxs("div",{className:"mt-3 flex items-center",children:[r.jsx("input",{type:"checkbox",checked:i.enabled,onChange:l=>s(i.id,"enabled",l.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-chinese",children:"啟用此配送方式"})]})]},i.id))})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"配送區域"}),r.jsx("div",{className:"space-y-4",children:t.zones.map(i=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"區域名稱"}),r.jsx("input",{type:"text",value:i.name,onChange:l=>n(i.id,"name",l.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"運費倍數"}),r.jsx("input",{type:"number",step:"0.1",value:i.multiplier,onChange:l=>n(i.id,"multiplier",parseFloat(l.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"包含地區"}),r.jsx("input",{type:"text",value:i.regions.join(", "),onChange:l=>n(i.id,"regions",l.target.value.split(", ")),className:"w-full px-3 py-2 border rounded-md",placeholder:"台北, 桃園, 台中"})]})]})},i.id))})]}),r.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"包裝設定"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 font-chinese",children:"標準包裝箱"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"長 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.standardBox.length,onChange:i=>a("standardBox","length",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"寬 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.standardBox.width,onChange:i=>a("standardBox","width",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"高 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.standardBox.height,onChange:i=>a("standardBox","height",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"重量 (kg)"}),r.jsx("input",{type:"number",step:"0.1",value:t.packaging.standardBox.weight,onChange:i=>a("standardBox","weight",parseFloat(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3 font-chinese",children:"大型包裝箱"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"長 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.largeBox.length,onChange:i=>a("largeBox","length",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"寬 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.largeBox.width,onChange:i=>a("largeBox","width",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"高 (cm)"}),r.jsx("input",{type:"number",value:t.packaging.largeBox.height,onChange:i=>a("largeBox","height",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"重量 (kg)"}),r.jsx("input",{type:"number",step:"0.1",value:t.packaging.largeBox.weight,onChange:i=>a("largeBox","weight",parseFloat(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:t.packaging.customPackaging,onChange:i=>a("customPackaging","",i.target.checked),className:"mr-2 rounded"}),r.jsx("label",{className:"text-sm font-chinese",children:"允許自訂包裝"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},S9=()=>r.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:r.jsxs("div",{className:ADMIN_STYLES.contentContainerStandard,children:[r.jsx("div",{className:"flex items-center justify-between mb-8",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dm,{className:"w-8 h-8 text-amber-500 mr-3"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"管理員系統"})]})}),r.jsxs("div",{className:"glass rounded-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold font-chinese mb-4",children:"系統管理"}),r.jsx("p",{className:"text-gray-600 font-chinese",children:"管理員功能開發中..."})]})]})}),C9=f.lazy(()=>Tm(()=>import("./MarketingMange-344a5405.js"),[])),k9=f.lazy(()=>Tm(()=>import("./CouponManagementContainer-2bd814b6.js"),[])),T9=f.lazy(()=>Tm(()=>import("./FestivalManagement-258925db.js"),[])),E9=f.lazy(()=>Tm(()=>import("./GiftManagement-84084c5a.js"),[])),A9=()=>r.jsx(HS,{children:r.jsx(UC,{children:r.jsx(KC,{children:r.jsxs(FS,{children:[r.jsx(se,{path:"/login",element:r.jsx(M8,{})}),r.jsxs(se,{path:"/*",element:r.jsx(BC,{children:r.jsx(P8,{})}),children:[r.jsx(se,{path:"",element:r.jsx(Fn,{to:"dashboard/overview",replace:!0})}),r.jsx(se,{path:"dashboard/overview",element:r.jsx(I8,{})}),r.jsx(se,{path:"dashboard/sales-analytics",element:r.jsx(R8,{})}),r.jsx(se,{path:"dashboard/operations",element:r.jsx(O8,{})}),r.jsx(se,{path:"dashboard/finance",element:r.jsx(L8,{})}),r.jsx(se,{path:"dashboard/logistics",element:r.jsx(F8,{})}),r.jsx(se,{path:"dashboard/tasks",element:r.jsx(sP,{})}),r.jsx(se,{path:"dashboard/approvals",element:r.jsx(cP,{})}),r.jsx(se,{path:"dashboard/realtime",element:r.jsx(pP,{})}),r.jsx(se,{path:"products",element:r.jsx(UP,{})}),r.jsx(se,{path:"products/add",element:r.jsx(KP,{})}),r.jsx(se,{path:"products/edit/:sku",element:r.jsx(YP,{})}),r.jsx(se,{path:"orders",element:r.jsx(JP,{})}),r.jsx(se,{path:"orders/details/:id",element:r.jsx(eM,{})}),r.jsx(se,{path:"orders/new",element:r.jsx(tM,{})}),r.jsx(se,{path:"members",element:r.jsx(SM,{})}),r.jsx(se,{path:"gifts",element:r.jsx(Fn,{to:"/marketing",replace:!0})}),r.jsx(se,{path:"suppliers",element:r.jsx(mv,{})}),r.jsx(se,{path:"procurement",element:r.jsx(LM,{})}),r.jsx(se,{path:"procurement/suppliers",element:r.jsx(mv,{})}),r.jsx(se,{path:"logistics",element:r.jsx(UM,{})}),r.jsx(se,{path:"coupons",element:r.jsx(Fn,{to:"/marketing",replace:!0})}),r.jsx(se,{path:"coupons/sharing",element:r.jsx(Fn,{to:"/marketing",replace:!0})}),r.jsx(se,{path:"coupons/stacking-rules",element:r.jsx(Fn,{to:"/marketing",replace:!0})}),r.jsx(se,{path:"notifications",element:r.jsx(WM,{})}),r.jsx(se,{path:"notifications/line-text",element:r.jsx(t9,{})}),r.jsx(se,{path:"notifications/line-flex",element:r.jsx(s9,{})}),r.jsx(se,{path:"notifications/mail-text",element:r.jsx(r9,{})}),r.jsx(se,{path:"notifications/mail-html",element:r.jsx(n9,{})}),r.jsx(se,{path:"notifications/sms",element:r.jsx(a9,{})}),r.jsx(se,{path:"notifications/web",element:r.jsx(i9,{})}),r.jsxs(se,{path:"marketing",element:r.jsx(f.Suspense,{fallback:r.jsx("div",{className:"p-6 text-gray-600",children:"載入行銷管理中..."}),children:r.jsx(C9,{})}),children:[r.jsx(se,{index:!0,element:r.jsx(Fn,{to:"coupons",replace:!0})}),r.jsx(se,{path:"coupons",element:r.jsx(f.Suspense,{fallback:r.jsx("div",{className:"p-6 text-gray-600",children:"載入優惠券..."}),children:r.jsx(k9,{})})}),r.jsx(se,{path:"festivals",element:r.jsx(f.Suspense,{fallback:r.jsx("div",{className:"p-6 text-gray-600",children:"載入節慶管理..."}),children:r.jsx(T9,{})})}),r.jsx(se,{path:"gifts",element:r.jsx(f.Suspense,{fallback:r.jsx("div",{className:"p-6 text-gray-600",children:"載入贈品管理..."}),children:r.jsx(E9,{})})})]}),r.jsx(se,{path:"festivals/manage",element:r.jsx(Fn,{to:"/marketing",replace:!0})}),r.jsx(se,{path:"accounting",element:r.jsx(l9,{})}),r.jsx(se,{path:"accounting/chart-of-accounts",element:r.jsx(o9,{})}),r.jsx(se,{path:"accounting/journal-entries",element:r.jsx(c9,{})}),r.jsx(se,{path:"accounting/financial-reports",element:r.jsx(d9,{})}),r.jsx(se,{path:"accounting/bank-reconciliation",element:r.jsx(u9,{})}),r.jsx(se,{path:"analytics",element:r.jsx(h9,{})}),r.jsx(se,{path:"analytics/sales",element:r.jsx(f9,{})}),r.jsx(se,{path:"analytics/customers",element:r.jsx(p9,{})}),r.jsx(se,{path:"analytics/products",element:r.jsx(g9,{})}),r.jsx(se,{path:"analytics/operations",element:r.jsx(x9,{})}),r.jsx(se,{path:"analytics/ai-insights",element:r.jsx(y9,{})}),r.jsx(se,{path:"settings",element:r.jsx(v9,{})}),r.jsx(se,{path:"settings/general",element:r.jsx(b9,{})}),r.jsx(se,{path:"settings/security",element:r.jsx(j9,{})}),r.jsx(se,{path:"settings/notifications",element:r.jsx(N9,{})}),r.jsx(se,{path:"settings/payment",element:r.jsx(w9,{})}),r.jsx(se,{path:"settings/shipping",element:r.jsx(_9,{})}),r.jsx(se,{path:"admin",element:r.jsx(S9,{})}),r.jsx(se,{path:"inventory",element:r.jsx(QP,{})}),r.jsx(se,{path:"inventory/warehouses",element:r.jsx(XP,{})})]})]})})})});Rs.registerPlugin(be);function D9(){return f.useEffect(()=>{Rs.fromTo(".animate-on-load",{opacity:0,y:30},{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"})},[]),r.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-cream-50 to-apricot-50",children:r.jsx(A9,{})})}s0.createRoot(document.getElementById("root")).render(r.jsx(Dc.StrictMode,{children:r.jsx(D9,{})}));export{O as A,pN as C,Os as E,Zs as G,Am as M,OS as O,$r as P,_i as S,wr as T,Sr as a,_e as b,yT as c,Rs as g,r as j,f as r};
