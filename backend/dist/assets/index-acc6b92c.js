var Fw=Object.defineProperty;var $w=(s,t,r)=>t in s?Fw(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var Wm=(s,t,r)=>($w(s,typeof t!="symbol"?t+"":t,r),r);function Vw(s,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(s,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Bw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var tb={exports:{}},nm={},sb={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),zw=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),Kw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),Of=Symbol.iterator;function Qw(s){return s===null||typeof s!="object"?null:(s=Of&&s[Of]||s["@@iterator"],typeof s=="function"?s:null)}var rb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nb=Object.assign,ab={};function Gl(s,t,r){this.props=s,this.context=t,this.refs=ab,this.updater=r||rb}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};Gl.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function ib(){}ib.prototype=Gl.prototype;function Ox(s,t,r){this.props=s,this.context=t,this.refs=ab,this.updater=r||rb}var Fx=Ox.prototype=new ib;Fx.constructor=Ox;nb(Fx,Gl.prototype);Fx.isPureReactComponent=!0;var Ff=Array.isArray,lb=Object.prototype.hasOwnProperty,$x={current:null},ob={key:!0,ref:!0,__self:!0,__source:!0};function cb(s,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)lb.call(t,n)&&!ob.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(s&&s.defaultProps)for(n in o=s.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Lc,type:s,key:i,ref:l,props:a,_owner:$x.current}}function Jw(s,t){return{$$typeof:Lc,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function Vx(s){return typeof s=="object"&&s!==null&&s.$$typeof===Lc}function e5(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(r){return t[r]})}var $f=/\/+/g;function Hm(s,t){return typeof s=="object"&&s!==null&&s.key!=null?e5(""+s.key):t.toString(36)}function Od(s,t,r,n,a){var i=typeof s;(i==="undefined"||i==="boolean")&&(s=null);var l=!1;if(s===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(s.$$typeof){case Lc:case zw:l=!0}}if(l)return l=s,a=a(l),s=n===""?"."+Hm(l,0):n,Ff(a)?(r="",s!=null&&(r=s.replace($f,"$&/")+"/"),Od(a,t,r,"",function(d){return d})):a!=null&&(Vx(a)&&(a=Jw(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace($f,"$&/")+"/")+s)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Ff(s))for(var o=0;o<s.length;o++){i=s[o];var c=n+Hm(i,o);l+=Od(i,t,r,c,a)}else if(c=Qw(s),typeof c=="function")for(s=c.call(s),o=0;!(i=s.next()).done;)i=i.value,c=n+Hm(i,o++),l+=Od(i,t,r,c,a);else if(i==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ed(s,t,r){if(s==null)return s;var n=[],a=0;return Od(s,n,"","",function(i){return t.call(r,i,a++)}),n}function t5(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(r){(s._status===0||s._status===-1)&&(s._status=1,s._result=r)},function(r){(s._status===0||s._status===-1)&&(s._status=2,s._result=r)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var ks={current:null},Fd={transition:null},s5={ReactCurrentDispatcher:ks,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:$x};function db(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:ed,forEach:function(s,t,r){ed(s,function(){t.apply(this,arguments)},r)},count:function(s){var t=0;return ed(s,function(){t++}),t},toArray:function(s){return ed(s,function(t){return t})||[]},only:function(s){if(!Vx(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};ye.Component=Gl;ye.Fragment=Uw;ye.Profiler=Hw;ye.PureComponent=Ox;ye.StrictMode=Ww;ye.Suspense=Zw;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5;ye.act=db;ye.cloneElement=function(s,t,r){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var n=nb({},s.props),a=s.key,i=s.ref,l=s._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$x.current),t.key!==void 0&&(a=""+t.key),s.type&&s.type.defaultProps)var o=s.type.defaultProps;for(c in t)lb.call(t,c)&&!ob.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Lc,type:s.type,key:a,ref:i,props:n,_owner:l}};ye.createContext=function(s){return s={$$typeof:qw,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:Gw,_context:s},s.Consumer=s};ye.createElement=cb;ye.createFactory=function(s){var t=cb.bind(null,s);return t.type=s,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(s){return{$$typeof:Yw,render:s}};ye.isValidElement=Vx;ye.lazy=function(s){return{$$typeof:Xw,_payload:{_status:-1,_result:s},_init:t5}};ye.memo=function(s,t){return{$$typeof:Kw,type:s,compare:t===void 0?null:t}};ye.startTransition=function(s){var t=Fd.transition;Fd.transition={};try{s()}finally{Fd.transition=t}};ye.unstable_act=db;ye.useCallback=function(s,t){return ks.current.useCallback(s,t)};ye.useContext=function(s){return ks.current.useContext(s)};ye.useDebugValue=function(){};ye.useDeferredValue=function(s){return ks.current.useDeferredValue(s)};ye.useEffect=function(s,t){return ks.current.useEffect(s,t)};ye.useId=function(){return ks.current.useId()};ye.useImperativeHandle=function(s,t,r){return ks.current.useImperativeHandle(s,t,r)};ye.useInsertionEffect=function(s,t){return ks.current.useInsertionEffect(s,t)};ye.useLayoutEffect=function(s,t){return ks.current.useLayoutEffect(s,t)};ye.useMemo=function(s,t){return ks.current.useMemo(s,t)};ye.useReducer=function(s,t,r){return ks.current.useReducer(s,t,r)};ye.useRef=function(s){return ks.current.useRef(s)};ye.useState=function(s){return ks.current.useState(s)};ye.useSyncExternalStore=function(s,t,r){return ks.current.useSyncExternalStore(s,t,r)};ye.useTransition=function(){return ks.current.useTransition()};ye.version="18.3.1";sb.exports=ye;var u=sb.exports;const Oc=Bw(u),r5=Vw({__proto__:null,default:Oc},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5=u,a5=Symbol.for("react.element"),i5=Symbol.for("react.fragment"),l5=Object.prototype.hasOwnProperty,o5=n5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c5={key:!0,ref:!0,__self:!0,__source:!0};function ub(s,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)l5.call(t,n)&&!c5.hasOwnProperty(n)&&(a[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:a5,type:s,key:i,ref:l,props:a,_owner:o5.current}}nm.Fragment=i5;nm.jsx=ub;nm.jsxs=ub;tb.exports=nm;var e=tb.exports,Qh={},mb={exports:{}},rr={},hb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(I,F){var S=I.length;I.push(F);e:for(;0<S;){var V=S-1>>>1,G=I[V];if(0<a(G,F))I[V]=F,I[S]=G,S=V;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],S=I.pop();if(S!==F){I[0]=S;e:for(var V=0,G=I.length,q=G>>>1;V<q;){var P=2*(V+1)-1,U=I[P],Y=P+1,se=I[Y];if(0>a(U,S))Y<G&&0>a(se,U)?(I[V]=se,I[Y]=S,V=Y):(I[V]=U,I[P]=S,V=P);else if(Y<G&&0>a(se,S))I[V]=se,I[Y]=S,V=Y;else break e}}return F}function a(I,F){var S=I.sortIndex-F.sortIndex;return S!==0?S:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;s.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();s.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,h=null,p=3,y=!1,x=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=I)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function N(I){if(f=!1,w(I),!x)if(r(c)!==null)x=!0,D(j);else{var F=r(d);F!==null&&O(N,F.startTime-I)}}function j(I,F){x=!1,f&&(f=!1,v(T),T=-1),y=!0;var S=p;try{for(w(F),h=r(c);h!==null&&(!(h.expirationTime>F)||I&&!R());){var V=h.callback;if(typeof V=="function"){h.callback=null,p=h.priorityLevel;var G=V(h.expirationTime<=F);F=s.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),w(F)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var P=r(d);P!==null&&O(N,P.startTime-F),q=!1}return q}finally{h=null,p=S,y=!1}}var _=!1,k=null,T=-1,C=5,E=-1;function R(){return!(s.unstable_now()-E<C)}function M(){if(k!==null){var I=s.unstable_now();E=I;var F=!0;try{F=k(!0,I)}finally{F?$():(_=!1,k=null)}}else _=!1}var $;if(typeof g=="function")$=function(){g(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,z=A.port2;A.port1.onmessage=M,$=function(){z.postMessage(null)}}else $=function(){b(M,0)};function D(I){k=I,_||(_=!0,$())}function O(I,F){T=b(function(){I(s.unstable_now())},F)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_continueExecution=function(){x||y||(x=!0,D(j))},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_getFirstCallbackNode=function(){return r(c)},s.unstable_next=function(I){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var S=p;p=F;try{return I()}finally{p=S}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var S=p;p=I;try{return F()}finally{p=S}},s.unstable_scheduleCallback=function(I,F,S){var V=s.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?V+S:V):S=V,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=S+G,I={id:m++,callback:F,priorityLevel:I,startTime:S,expirationTime:G,sortIndex:-1},S>V?(I.sortIndex=S,t(d,I),r(c)===null&&I===r(d)&&(f?(v(T),T=-1):f=!0,O(N,S-V))):(I.sortIndex=G,t(c,I),x||y||(x=!0,D(j))),I},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(I){var F=p;return function(){var S=p;p=F;try{return I.apply(this,arguments)}finally{p=S}}}})(xb);hb.exports=xb;var d5=hb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5=u,Js=d5;function H(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pb=new Set,ec={};function Ei(s,t){Tl(s,t),Tl(s+"Capture",t)}function Tl(s,t){for(ec[s]=t,s=0;s<t.length;s++)pb.add(t[s])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,m5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vf={},Bf={};function h5(s){return Jh.call(Bf,s)?!0:Jh.call(Vf,s)?!1:m5.test(s)?Bf[s]=!0:(Vf[s]=!0,!1)}function x5(s,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function p5(s,t,r,n){if(t===null||typeof t>"u"||x5(s,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ss(s,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=s,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Xt[s]=new Ss(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];Xt[t]=new Ss(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){Xt[s]=new Ss(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Xt[s]=new Ss(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Xt[s]=new Ss(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){Xt[s]=new Ss(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){Xt[s]=new Ss(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){Xt[s]=new Ss(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){Xt[s]=new Ss(s,5,!1,s.toLowerCase(),null,!1,!1)});var Bx=/[\-:]([a-z])/g;function zx(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(Bx,zx);Xt[t]=new Ss(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(Bx,zx);Xt[t]=new Ss(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(Bx,zx);Xt[t]=new Ss(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){Xt[s]=new Ss(s,1,!1,s.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){Xt[s]=new Ss(s,1,!1,s.toLowerCase(),null,!0,!0)});function Ux(s,t,r,n){var a=Xt.hasOwnProperty(t)?Xt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p5(t,r,a,n)&&(r=null),n||a===null?h5(t)&&(r===null?s.removeAttribute(t):s.setAttribute(t,""+r)):a.mustUseProperty?s[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?s.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?s.setAttributeNS(n,t,r):s.setAttribute(t,r))))}var In=u5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Wx=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),fb=Symbol.for("react.provider"),gb=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),s0=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),yb=Symbol.for("react.offscreen"),zf=Symbol.iterator;function so(s){return s===null||typeof s!="object"?null:(s=zf&&s[zf]||s["@@iterator"],typeof s=="function"?s:null)}var st=Object.assign,Gm;function fo(s){if(Gm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gm=t&&t[1]||""}return`
`+Gm+s}var qm=!1;function Ym(s,t){if(!s||qm)return"";qm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(s,[],t)}else{try{t.call()}catch(d){n=d}s.call(t.prototype)}else{try{throw Error()}catch(d){n=d}s()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return s.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",s.displayName)),c}while(1<=l&&0<=o);break}}}finally{qm=!1,Error.prepareStackTrace=r}return(s=s?s.displayName||s.name:"")?fo(s):""}function f5(s){switch(s.tag){case 5:return fo(s.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return s=Ym(s.type,!1),s;case 11:return s=Ym(s.type.render,!1),s;case 1:return s=Ym(s.type,!0),s;default:return""}}function r0(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case qi:return"Fragment";case Gi:return"Portal";case e0:return"Profiler";case Wx:return"StrictMode";case t0:return"Suspense";case s0:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case gb:return(s.displayName||"Context")+".Consumer";case fb:return(s._context.displayName||"Context")+".Provider";case Hx:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Gx:return t=s.displayName||null,t!==null?t:r0(s.type)||"Memo";case Yn:t=s._payload,s=s._init;try{return r0(s(t))}catch{}}return null}function g5(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r0(t);case 8:return t===Wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ta(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vb(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function y5(s){var t=vb(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),n=""+s[t];if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function sd(s){s._valueTracker||(s._valueTracker=y5(s))}function bb(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return s&&(n=vb(s)?s.checked?"true":"false":s.value),s=n,s!==r?(t.setValue(s),!0):!1}function lu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function n0(s,t){var r=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??s._wrapperState.initialChecked})}function Uf(s,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ta(t.value!=null?t.value:r),s._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jb(s,t){t=t.checked,t!=null&&Ux(s,"checked",t,!1)}function a0(s,t){jb(s,t);var r=Ta(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+r):s.value!==""+r&&(s.value=""+r);else if(n==="submit"||n==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?i0(s,t.type,r):t.hasOwnProperty("defaultValue")&&i0(s,t.type,Ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function Wf(s,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,r||t===s.value||(s.value=t),s.defaultValue=t}r=s.name,r!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,r!==""&&(s.name=r)}function i0(s,t,r){(t!=="number"||lu(s.ownerDocument)!==s)&&(r==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+r&&(s.defaultValue=""+r))}var go=Array.isArray;function hl(s,t,r,n){if(s=s.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<s.length;r++)a=t.hasOwnProperty("$"+s[r].value),s[r].selected!==a&&(s[r].selected=a),a&&n&&(s[r].defaultSelected=!0)}else{for(r=""+Ta(r),t=null,a=0;a<s.length;a++){if(s[a].value===r){s[a].selected=!0,n&&(s[a].defaultSelected=!0);return}t!==null||s[a].disabled||(t=s[a])}t!==null&&(t.selected=!0)}}function l0(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Hf(s,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(go(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}s._wrapperState={initialValue:Ta(r)}}function Nb(s,t){var r=Ta(t.value),n=Ta(t.defaultValue);r!=null&&(r=""+r,r!==s.value&&(s.value=r),t.defaultValue==null&&s.defaultValue!==r&&(s.defaultValue=r)),n!=null&&(s.defaultValue=""+n)}function Gf(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function wb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o0(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?wb(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var rd,_b=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return s(t,r,n,a)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rd.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function tc(s,t){if(t){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=t;return}}s.textContent=t}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v5=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(s){v5.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),To[t]=To[s]})});function kb(s,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||To.hasOwnProperty(s)&&To[s]?(""+t).trim():t+"px"}function Sb(s,t){s=s.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=kb(r,t[r],n);r==="float"&&(r="cssFloat"),n?s.setProperty(r,a):s[r]=a}}var b5=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c0(s,t){if(t){if(b5[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function d0(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u0=null;function qx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var m0=null,xl=null,pl=null;function qf(s){if(s=Vc(s)){if(typeof m0!="function")throw Error(H(280));var t=s.stateNode;t&&(t=cm(t),m0(s.stateNode,s.type,t))}}function Cb(s){xl?pl?pl.push(s):pl=[s]:xl=s}function Tb(){if(xl){var s=xl,t=pl;if(pl=xl=null,qf(s),t)for(s=0;s<t.length;s++)qf(t[s])}}function Mb(s,t){return s(t)}function Db(){}var Zm=!1;function Eb(s,t,r){if(Zm)return s(t,r);Zm=!0;try{return Mb(s,t,r)}finally{Zm=!1,(xl!==null||pl!==null)&&(Db(),Tb())}}function sc(s,t){var r=s.stateNode;if(r===null)return null;var n=cm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(s=s.type,n=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!n;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var h0=!1;if(Cn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){h0=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{h0=!1}function j5(s,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var Mo=!1,ou=null,cu=!1,x0=null,N5={onError:function(s){Mo=!0,ou=s}};function w5(s,t,r,n,a,i,l,o,c){Mo=!1,ou=null,j5.apply(N5,arguments)}function _5(s,t,r,n,a,i,l,o,c){if(w5.apply(this,arguments),Mo){if(Mo){var d=ou;Mo=!1,ou=null}else throw Error(H(198));cu||(cu=!0,x0=d)}}function Ai(s){var t=s,r=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(r=t.return),s=t.return;while(s)}return t.tag===3?r:null}function Ab(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function Yf(s){if(Ai(s)!==s)throw Error(H(188))}function k5(s){var t=s.alternate;if(!t){if(t=Ai(s),t===null)throw Error(H(188));return t!==s?null:s}for(var r=s,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Yf(a),s;if(i===n)return Yf(a),t;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?s:t}function Pb(s){return s=k5(s),s!==null?Rb(s):null}function Rb(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=Rb(s);if(t!==null)return t;s=s.sibling}return null}var Ib=Js.unstable_scheduleCallback,Zf=Js.unstable_cancelCallback,S5=Js.unstable_shouldYield,C5=Js.unstable_requestPaint,pt=Js.unstable_now,T5=Js.unstable_getCurrentPriorityLevel,Yx=Js.unstable_ImmediatePriority,Lb=Js.unstable_UserBlockingPriority,du=Js.unstable_NormalPriority,M5=Js.unstable_LowPriority,Ob=Js.unstable_IdlePriority,am=null,Jr=null;function D5(s){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(am,s,void 0,(s.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:P5,E5=Math.log,A5=Math.LN2;function P5(s){return s>>>=0,s===0?32:31-(E5(s)/A5|0)|0}var nd=64,ad=4194304;function yo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uu(s,t){var r=s.pendingLanes;if(r===0)return 0;var n=0,a=s.suspendedLanes,i=s.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=yo(o):(i&=l,i!==0&&(n=yo(i)))}else l=r&~a,l!==0?n=yo(l):i!==0&&(n=yo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=n;0<t;)r=31-Rr(t),a=1<<r,n|=s[r],t&=~a;return n}function R5(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I5(s,t){for(var r=s.suspendedLanes,n=s.pingedLanes,a=s.expirationTimes,i=s.pendingLanes;0<i;){var l=31-Rr(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=R5(o,t)):c<=t&&(s.expiredLanes|=o),i&=~o}}function p0(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fb(){var s=nd;return nd<<=1,!(nd&4194240)&&(nd=64),s}function Km(s){for(var t=[],r=0;31>r;r++)t.push(s);return t}function Fc(s,t,r){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-Rr(t),s[t]=r}function L5(s,t){var r=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var n=s.eventTimes;for(s=s.expirationTimes;0<r;){var a=31-Rr(r),i=1<<a;t[a]=0,n[a]=-1,s[a]=-1,r&=~i}}function Zx(s,t){var r=s.entangledLanes|=t;for(s=s.entanglements;r;){var n=31-Rr(r),a=1<<n;a&t|s[n]&t&&(s[n]|=t),r&=~a}}var Ce=0;function $b(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Vb,Kx,Bb,zb,Ub,f0=!1,id=[],da=null,ua=null,ma=null,rc=new Map,nc=new Map,Qn=[],O5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(s,t){switch(s){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":rc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(t.pointerId)}}function no(s,t,r,n,a,i){return s===null||s.nativeEvent!==i?(s={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Vc(t),t!==null&&Kx(t)),s):(s.eventSystemFlags|=n,t=s.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),s)}function F5(s,t,r,n,a){switch(t){case"focusin":return da=no(da,s,t,r,n,a),!0;case"dragenter":return ua=no(ua,s,t,r,n,a),!0;case"mouseover":return ma=no(ma,s,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return rc.set(i,no(rc.get(i)||null,s,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,nc.set(i,no(nc.get(i)||null,s,t,r,n,a)),!0}return!1}function Wb(s){var t=ai(s.target);if(t!==null){var r=Ai(t);if(r!==null){if(t=r.tag,t===13){if(t=Ab(r),t!==null){s.blockedOn=t,Ub(s.priority,function(){Bb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $d(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var r=g0(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(r===null){r=s.nativeEvent;var n=new r.constructor(r.type,r);u0=n,r.target.dispatchEvent(n),u0=null}else return t=Vc(r),t!==null&&Kx(t),s.blockedOn=r,!1;t.shift()}return!0}function Xf(s,t,r){$d(s)&&r.delete(t)}function $5(){f0=!1,da!==null&&$d(da)&&(da=null),ua!==null&&$d(ua)&&(ua=null),ma!==null&&$d(ma)&&(ma=null),rc.forEach(Xf),nc.forEach(Xf)}function ao(s,t){s.blockedOn===t&&(s.blockedOn=null,f0||(f0=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,$5)))}function ac(s){function t(a){return ao(a,s)}if(0<id.length){ao(id[0],s);for(var r=1;r<id.length;r++){var n=id[r];n.blockedOn===s&&(n.blockedOn=null)}}for(da!==null&&ao(da,s),ua!==null&&ao(ua,s),ma!==null&&ao(ma,s),rc.forEach(t),nc.forEach(t),r=0;r<Qn.length;r++)n=Qn[r],n.blockedOn===s&&(n.blockedOn=null);for(;0<Qn.length&&(r=Qn[0],r.blockedOn===null);)Wb(r),r.blockedOn===null&&Qn.shift()}var fl=In.ReactCurrentBatchConfig,mu=!0;function V5(s,t,r,n){var a=Ce,i=fl.transition;fl.transition=null;try{Ce=1,Xx(s,t,r,n)}finally{Ce=a,fl.transition=i}}function B5(s,t,r,n){var a=Ce,i=fl.transition;fl.transition=null;try{Ce=4,Xx(s,t,r,n)}finally{Ce=a,fl.transition=i}}function Xx(s,t,r,n){if(mu){var a=g0(s,t,r,n);if(a===null)ih(s,t,n,hu,r),Kf(s,n);else if(F5(a,s,t,r,n))n.stopPropagation();else if(Kf(s,n),t&4&&-1<O5.indexOf(s)){for(;a!==null;){var i=Vc(a);if(i!==null&&Vb(i),i=g0(s,t,r,n),i===null&&ih(s,t,n,hu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ih(s,t,n,null,r)}}var hu=null;function g0(s,t,r,n){if(hu=null,s=qx(n),s=ai(s),s!==null)if(t=Ai(s),t===null)s=null;else if(r=t.tag,r===13){if(s=Ab(t),s!==null)return s;s=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return hu=s,null}function Hb(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T5()){case Yx:return 1;case Lb:return 4;case du:case M5:return 16;case Ob:return 536870912;default:return 16}default:return 16}}var sa=null,Qx=null,Vd=null;function Gb(){if(Vd)return Vd;var s,t=Qx,r=t.length,n,a="value"in sa?sa.value:sa.textContent,i=a.length;for(s=0;s<r&&t[s]===a[s];s++);var l=r-s;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return Vd=a.slice(s,1<n?1-n:void 0)}function Bd(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function ld(){return!0}function Qf(){return!1}function nr(s){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in s)s.hasOwnProperty(o)&&(r=s[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ld:Qf,this.isPropagationStopped=Qf,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ld)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ld)},persist:function(){},isPersistent:ld}),t}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=nr(ql),$c=st({},ql,{view:0,detail:0}),z5=nr($c),Xm,Qm,io,im=st({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==io&&(io&&s.type==="mousemove"?(Xm=s.screenX-io.screenX,Qm=s.screenY-io.screenY):Qm=Xm=0,io=s),Xm)},movementY:function(s){return"movementY"in s?s.movementY:Qm}}),Jf=nr(im),U5=st({},im,{dataTransfer:0}),W5=nr(U5),H5=st({},$c,{relatedTarget:0}),Jm=nr(H5),G5=st({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),q5=nr(G5),Y5=st({},ql,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Z5=nr(Y5),K5=st({},ql,{data:0}),eg=nr(K5),X5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e4(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=J5[s])?!!t[s]:!1}function ep(){return e4}var t4=st({},$c,{key:function(s){if(s.key){var t=X5[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Bd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Q5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(s){return s.type==="keypress"?Bd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),s4=nr(t4),r4=st({},im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=nr(r4),n4=st({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),a4=nr(n4),i4=st({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),l4=nr(i4),o4=st({},im,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),c4=nr(o4),d4=[9,13,27,32],tp=Cn&&"CompositionEvent"in window,Do=null;Cn&&"documentMode"in document&&(Do=document.documentMode);var u4=Cn&&"TextEvent"in window&&!Do,qb=Cn&&(!tp||Do&&8<Do&&11>=Do),sg=String.fromCharCode(32),rg=!1;function Yb(s,t){switch(s){case"keyup":return d4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yi=!1;function m4(s,t){switch(s){case"compositionend":return Zb(t);case"keypress":return t.which!==32?null:(rg=!0,sg);case"textInput":return s=t.data,s===sg&&rg?null:s;default:return null}}function h4(s,t){if(Yi)return s==="compositionend"||!tp&&Yb(s,t)?(s=Gb(),Vd=Qx=sa=null,Yi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qb&&t.locale!=="ko"?null:t.data;default:return null}}var x4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!x4[s.type]:t==="textarea"}function Kb(s,t,r,n){Cb(n),t=xu(t,"onChange"),0<t.length&&(r=new Jx("onChange","change",null,r,n),s.push({event:r,listeners:t}))}var Eo=null,ic=null;function p4(s){l1(s,0)}function lm(s){var t=Xi(s);if(bb(t))return s}function f4(s,t){if(s==="change")return t}var Xb=!1;if(Cn){var eh;if(Cn){var th="oninput"in document;if(!th){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),th=typeof ag.oninput=="function"}eh=th}else eh=!1;Xb=eh&&(!document.documentMode||9<document.documentMode)}function ig(){Eo&&(Eo.detachEvent("onpropertychange",Qb),ic=Eo=null)}function Qb(s){if(s.propertyName==="value"&&lm(ic)){var t=[];Kb(t,ic,s,qx(s)),Eb(p4,t)}}function g4(s,t,r){s==="focusin"?(ig(),Eo=t,ic=r,Eo.attachEvent("onpropertychange",Qb)):s==="focusout"&&ig()}function y4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lm(ic)}function v4(s,t){if(s==="click")return lm(t)}function b4(s,t){if(s==="input"||s==="change")return lm(t)}function j4(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Or=typeof Object.is=="function"?Object.is:j4;function lc(s,t){if(Or(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var r=Object.keys(s),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jh.call(t,a)||!Or(s[a],t[a]))return!1}return!0}function lg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function og(s,t){var r=lg(s);s=0;for(var n;r;){if(r.nodeType===3){if(n=s+r.textContent.length,s<=t&&n>=t)return{node:r,offset:t-s};s=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lg(r)}}function Jb(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?Jb(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function e1(){for(var s=window,t=lu();t instanceof s.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)s=t.contentWindow;else break;t=lu(s.document)}return t}function sp(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function N4(s){var t=e1(),r=s.focusedElem,n=s.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jb(r.ownerDocument.documentElement,r)){if(n!==null&&sp(r)){if(t=n.start,s=n.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!s.extend&&i>n&&(a=n,n=i,i=a),a=og(r,i);var l=og(r,n);a&&l&&(s.rangeCount!==1||s.anchorNode!==a.node||s.anchorOffset!==a.offset||s.focusNode!==l.node||s.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),s.removeAllRanges(),i>n?(s.addRange(t),s.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var w4=Cn&&"documentMode"in document&&11>=document.documentMode,Zi=null,y0=null,Ao=null,v0=!1;function cg(s,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;v0||Zi==null||Zi!==lu(n)||(n=Zi,"selectionStart"in n&&sp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ao&&lc(Ao,n)||(Ao=n,n=xu(y0,"onSelect"),0<n.length&&(t=new Jx("onSelect","select",null,t,r),s.push({event:t,listeners:n}),t.target=Zi)))}function od(s,t){var r={};return r[s.toLowerCase()]=t.toLowerCase(),r["Webkit"+s]="webkit"+t,r["Moz"+s]="moz"+t,r}var Ki={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},sh={},t1={};Cn&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function om(s){if(sh[s])return sh[s];if(!Ki[s])return s;var t=Ki[s],r;for(r in t)if(t.hasOwnProperty(r)&&r in t1)return sh[s]=t[r];return s}var s1=om("animationend"),r1=om("animationiteration"),n1=om("animationstart"),a1=om("transitionend"),i1=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(s,t){i1.set(s,t),Ei(t,[s])}for(var rh=0;rh<dg.length;rh++){var nh=dg[rh],_4=nh.toLowerCase(),k4=nh[0].toUpperCase()+nh.slice(1);Oa(_4,"on"+k4)}Oa(s1,"onAnimationEnd");Oa(r1,"onAnimationIteration");Oa(n1,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(a1,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S4=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function ug(s,t,r){var n=s.type||"unknown-event";s.currentTarget=r,_5(n,t,void 0,s),s.currentTarget=null}function l1(s,t){t=(t&4)!==0;for(var r=0;r<s.length;r++){var n=s[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;ug(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;ug(a,o,d),i=c}}}if(cu)throw s=x0,cu=!1,x0=null,s}function Ve(s,t){var r=t[_0];r===void 0&&(r=t[_0]=new Set);var n=s+"__bubble";r.has(n)||(o1(t,s,2,!1),r.add(n))}function ah(s,t,r){var n=0;t&&(n|=4),o1(r,s,n,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function oc(s){if(!s[cd]){s[cd]=!0,pb.forEach(function(r){r!=="selectionchange"&&(S4.has(r)||ah(r,!1,s),ah(r,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[cd]||(t[cd]=!0,ah("selectionchange",!1,t))}}function o1(s,t,r,n){switch(Hb(t)){case 1:var a=V5;break;case 4:a=B5;break;default:a=Xx}r=a.bind(null,t,r,s),a=void 0,!h0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?s.addEventListener(t,r,{capture:!0,passive:a}):s.addEventListener(t,r,!0):a!==void 0?s.addEventListener(t,r,{passive:a}):s.addEventListener(t,r,!1)}function ih(s,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=ai(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Eb(function(){var d=i,m=qx(r),h=[];e:{var p=i1.get(s);if(p!==void 0){var y=Jx,x=s;switch(s){case"keypress":if(Bd(r)===0)break e;case"keydown":case"keyup":y=s4;break;case"focusin":x="focus",y=Jm;break;case"focusout":x="blur",y=Jm;break;case"beforeblur":case"afterblur":y=Jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=W5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=a4;break;case s1:case r1:case n1:y=q5;break;case a1:y=l4;break;case"scroll":y=z5;break;case"wheel":y=c4;break;case"copy":case"cut":case"paste":y=Z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=tg}var f=(t&4)!==0,b=!f&&s==="scroll",v=f?p!==null?p+"Capture":null:p;f=[];for(var g=d,w;g!==null;){w=g;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=sc(g,v),N!=null&&f.push(cc(g,N,w)))),b)break;g=g.return}0<f.length&&(p=new y(p,x,null,r,m),h.push({event:p,listeners:f}))}}if(!(t&7)){e:{if(p=s==="mouseover"||s==="pointerover",y=s==="mouseout"||s==="pointerout",p&&r!==u0&&(x=r.relatedTarget||r.fromElement)&&(ai(x)||x[Tn]))break e;if((y||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=d,x=x?ai(x):null,x!==null&&(b=Ai(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(f=Jf,N="onMouseLeave",v="onMouseEnter",g="mouse",(s==="pointerout"||s==="pointerover")&&(f=tg,N="onPointerLeave",v="onPointerEnter",g="pointer"),b=y==null?p:Xi(y),w=x==null?p:Xi(x),p=new f(N,g+"leave",y,r,m),p.target=b,p.relatedTarget=w,N=null,ai(m)===d&&(f=new f(v,g+"enter",x,r,m),f.target=w,f.relatedTarget=b,N=f),b=N,y&&x)t:{for(f=y,v=x,g=0,w=f;w;w=$i(w))g++;for(w=0,N=v;N;N=$i(N))w++;for(;0<g-w;)f=$i(f),g--;for(;0<w-g;)v=$i(v),w--;for(;g--;){if(f===v||v!==null&&f===v.alternate)break t;f=$i(f),v=$i(v)}f=null}else f=null;y!==null&&mg(h,p,y,f,!1),x!==null&&b!==null&&mg(h,b,x,f,!0)}}e:{if(p=d?Xi(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=f4;else if(ng(p))if(Xb)j=b4;else{j=y4;var _=g4}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=v4);if(j&&(j=j(s,d))){Kb(h,j,r,m);break e}_&&_(s,p,d),s==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&i0(p,"number",p.value)}switch(_=d?Xi(d):window,s){case"focusin":(ng(_)||_.contentEditable==="true")&&(Zi=_,y0=d,Ao=null);break;case"focusout":Ao=y0=Zi=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,cg(h,r,m);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":cg(h,r,m)}var k;if(tp)e:{switch(s){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yi?Yb(s,r)&&(T="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(qb&&r.locale!=="ko"&&(Yi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yi&&(k=Gb()):(sa=m,Qx="value"in sa?sa.value:sa.textContent,Yi=!0)),_=xu(d,T),0<_.length&&(T=new eg(T,s,null,r,m),h.push({event:T,listeners:_}),k?T.data=k:(k=Zb(r),k!==null&&(T.data=k)))),(k=u4?m4(s,r):h4(s,r))&&(d=xu(d,"onBeforeInput"),0<d.length&&(m=new eg("onBeforeInput","beforeinput",null,r,m),h.push({event:m,listeners:d}),m.data=k))}l1(h,t)})}function cc(s,t,r){return{instance:s,listener:t,currentTarget:r}}function xu(s,t){for(var r=t+"Capture",n=[];s!==null;){var a=s,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=sc(s,r),i!=null&&n.unshift(cc(s,i,a)),i=sc(s,t),i!=null&&n.push(cc(s,i,a))),s=s.return}return n}function $i(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function mg(s,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=sc(r,i),c!=null&&l.unshift(cc(r,c,o))):a||(c=sc(r,i),c!=null&&l.push(cc(r,c,o)))),r=r.return}l.length!==0&&s.push({event:t,listeners:l})}var C4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function hg(s){return(typeof s=="string"?s:""+s).replace(C4,`
`).replace(T4,"")}function dd(s,t,r){if(t=hg(t),hg(s)!==t&&r)throw Error(H(425))}function pu(){}var b0=null,j0=null;function N0(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w0=typeof setTimeout=="function"?setTimeout:void 0,M4=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,D4=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(s){return xg.resolve(null).then(s).catch(E4)}:w0;function E4(s){setTimeout(function(){throw s})}function lh(s,t){var r=t,n=0;do{var a=r.nextSibling;if(s.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){s.removeChild(a),ac(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ac(t)}function ha(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function pg(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return s;t--}else r==="/$"&&t++}s=s.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Yl,dc="__reactProps$"+Yl,Tn="__reactContainer$"+Yl,_0="__reactEvents$"+Yl,A4="__reactListeners$"+Yl,P4="__reactHandles$"+Yl;function ai(s){var t=s[Yr];if(t)return t;for(var r=s.parentNode;r;){if(t=r[Tn]||r[Yr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(s=pg(s);s!==null;){if(r=s[Yr])return r;s=pg(s)}return t}s=r,r=s.parentNode}return null}function Vc(s){return s=s[Yr]||s[Tn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Xi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(H(33))}function cm(s){return s[dc]||null}var k0=[],Qi=-1;function Fa(s){return{current:s}}function ze(s){0>Qi||(s.current=k0[Qi],k0[Qi]=null,Qi--)}function Oe(s,t){Qi++,k0[Qi]=s.current,s.current=t}var Ma={},xs=Fa(Ma),Es=Fa(!1),bi=Ma;function Ml(s,t){var r=s.type.contextTypes;if(!r)return Ma;var n=s.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=a),a}function As(s){return s=s.childContextTypes,s!=null}function fu(){ze(Es),ze(xs)}function fg(s,t,r){if(xs.current!==Ma)throw Error(H(168));Oe(xs,t),Oe(Es,r)}function c1(s,t,r){var n=s.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(H(108,g5(s)||"Unknown",a));return st({},r,n)}function gu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ma,bi=xs.current,Oe(xs,s),Oe(Es,Es.current),!0}function gg(s,t,r){var n=s.stateNode;if(!n)throw Error(H(169));r?(s=c1(s,t,bi),n.__reactInternalMemoizedMergedChildContext=s,ze(Es),ze(xs),Oe(xs,s)):ze(Es),Oe(Es,r)}var fn=null,dm=!1,oh=!1;function d1(s){fn===null?fn=[s]:fn.push(s)}function R4(s){dm=!0,d1(s)}function $a(){if(!oh&&fn!==null){oh=!0;var s=0,t=Ce;try{var r=fn;for(Ce=1;s<r.length;s++){var n=r[s];do n=n(!0);while(n!==null)}fn=null,dm=!1}catch(a){throw fn!==null&&(fn=fn.slice(s+1)),Ib(Yx,$a),a}finally{Ce=t,oh=!1}}return null}var Ji=[],el=0,yu=null,vu=0,dr=[],ur=0,ji=null,vn=1,bn="";function Xa(s,t){Ji[el++]=vu,Ji[el++]=yu,yu=s,vu=t}function u1(s,t,r){dr[ur++]=vn,dr[ur++]=bn,dr[ur++]=ji,ji=s;var n=vn;s=bn;var a=32-Rr(n)-1;n&=~(1<<a),r+=1;var i=32-Rr(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,vn=1<<32-Rr(t)+a|r<<a|n,bn=i+s}else vn=1<<i|r<<a|n,bn=s}function rp(s){s.return!==null&&(Xa(s,1),u1(s,1,0))}function np(s){for(;s===yu;)yu=Ji[--el],Ji[el]=null,vu=Ji[--el],Ji[el]=null;for(;s===ji;)ji=dr[--ur],dr[ur]=null,bn=dr[--ur],dr[ur]=null,vn=dr[--ur],dr[ur]=null}var Xs=null,Zs=null,We=!1,Pr=null;function m1(s,t){var r=xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=s,t=s.deletions,t===null?(s.deletions=[r],s.flags|=16):t.push(r)}function yg(s,t){switch(s.tag){case 5:var r=s.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,Xs=s,Zs=ha(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,Xs=s,Zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ji!==null?{id:vn,overflow:bn}:null,s.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xr(18,null,null,0),r.stateNode=t,r.return=s,s.child=r,Xs=s,Zs=null,!0):!1;default:return!1}}function S0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function C0(s){if(We){var t=Zs;if(t){var r=t;if(!yg(s,t)){if(S0(s))throw Error(H(418));t=ha(r.nextSibling);var n=Xs;t&&yg(s,t)?m1(n,r):(s.flags=s.flags&-4097|2,We=!1,Xs=s)}}else{if(S0(s))throw Error(H(418));s.flags=s.flags&-4097|2,We=!1,Xs=s}}}function vg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xs=s}function ud(s){if(s!==Xs)return!1;if(!We)return vg(s),We=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!N0(s.type,s.memoizedProps)),t&&(t=Zs)){if(S0(s))throw h1(),Error(H(418));for(;t;)m1(s,t),t=ha(t.nextSibling)}if(vg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"){if(t===0){Zs=ha(s.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}s=s.nextSibling}Zs=null}}else Zs=Xs?ha(s.stateNode.nextSibling):null;return!0}function h1(){for(var s=Zs;s;)s=ha(s.nextSibling)}function Dl(){Zs=Xs=null,We=!1}function ap(s){Pr===null?Pr=[s]:Pr.push(s)}var I4=In.ReactCurrentBatchConfig;function lo(s,t,r){if(s=r.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,s));var a=n,i=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof s!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,s))}return s}function md(s,t){throw s=Object.prototype.toString.call(t),Error(H(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function bg(s){var t=s._init;return t(s._payload)}function x1(s){function t(v,g){if(s){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function r(v,g){if(!s)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=ga(v,g),v.index=0,v.sibling=null,v}function i(v,g,w){return v.index=w,s?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return s&&v.alternate===null&&(v.flags|=2),v}function o(v,g,w,N){return g===null||g.tag!==6?(g=ph(w,v.mode,N),g.return=v,g):(g=a(g,w),g.return=v,g)}function c(v,g,w,N){var j=w.type;return j===qi?m(v,g,w.props.children,N,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yn&&bg(j)===g.type)?(N=a(g,w.props),N.ref=lo(v,g,w),N.return=v,N):(N=Yd(w.type,w.key,w.props,null,v.mode,N),N.ref=lo(v,g,w),N.return=v,N)}function d(v,g,w,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=fh(w,v.mode,N),g.return=v,g):(g=a(g,w.children||[]),g.return=v,g)}function m(v,g,w,N,j){return g===null||g.tag!==7?(g=mi(w,v.mode,N,j),g.return=v,g):(g=a(g,w),g.return=v,g)}function h(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ph(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case td:return w=Yd(g.type,g.key,g.props,null,v.mode,w),w.ref=lo(v,null,g),w.return=v,w;case Gi:return g=fh(g,v.mode,w),g.return=v,g;case Yn:var N=g._init;return h(v,N(g._payload),w)}if(go(g)||so(g))return g=mi(g,v.mode,w,null),g.return=v,g;md(v,g)}return null}function p(v,g,w,N){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(v,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case td:return w.key===j?c(v,g,w,N):null;case Gi:return w.key===j?d(v,g,w,N):null;case Yn:return j=w._init,p(v,g,j(w._payload),N)}if(go(w)||so(w))return j!==null?null:m(v,g,w,N,null);md(v,w)}return null}function y(v,g,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,o(g,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case td:return v=v.get(N.key===null?w:N.key)||null,c(g,v,N,j);case Gi:return v=v.get(N.key===null?w:N.key)||null,d(g,v,N,j);case Yn:var _=N._init;return y(v,g,w,_(N._payload),j)}if(go(N)||so(N))return v=v.get(w)||null,m(g,v,N,j,null);md(g,N)}return null}function x(v,g,w,N){for(var j=null,_=null,k=g,T=g=0,C=null;k!==null&&T<w.length;T++){k.index>T?(C=k,k=null):C=k.sibling;var E=p(v,k,w[T],N);if(E===null){k===null&&(k=C);break}s&&k&&E.alternate===null&&t(v,k),g=i(E,g,T),_===null?j=E:_.sibling=E,_=E,k=C}if(T===w.length)return r(v,k),We&&Xa(v,T),j;if(k===null){for(;T<w.length;T++)k=h(v,w[T],N),k!==null&&(g=i(k,g,T),_===null?j=k:_.sibling=k,_=k);return We&&Xa(v,T),j}for(k=n(v,k);T<w.length;T++)C=y(k,v,T,w[T],N),C!==null&&(s&&C.alternate!==null&&k.delete(C.key===null?T:C.key),g=i(C,g,T),_===null?j=C:_.sibling=C,_=C);return s&&k.forEach(function(R){return t(v,R)}),We&&Xa(v,T),j}function f(v,g,w,N){var j=so(w);if(typeof j!="function")throw Error(H(150));if(w=j.call(w),w==null)throw Error(H(151));for(var _=j=null,k=g,T=g=0,C=null,E=w.next();k!==null&&!E.done;T++,E=w.next()){k.index>T?(C=k,k=null):C=k.sibling;var R=p(v,k,E.value,N);if(R===null){k===null&&(k=C);break}s&&k&&R.alternate===null&&t(v,k),g=i(R,g,T),_===null?j=R:_.sibling=R,_=R,k=C}if(E.done)return r(v,k),We&&Xa(v,T),j;if(k===null){for(;!E.done;T++,E=w.next())E=h(v,E.value,N),E!==null&&(g=i(E,g,T),_===null?j=E:_.sibling=E,_=E);return We&&Xa(v,T),j}for(k=n(v,k);!E.done;T++,E=w.next())E=y(k,v,T,E.value,N),E!==null&&(s&&E.alternate!==null&&k.delete(E.key===null?T:E.key),g=i(E,g,T),_===null?j=E:_.sibling=E,_=E);return s&&k.forEach(function(M){return t(v,M)}),We&&Xa(v,T),j}function b(v,g,w,N){if(typeof w=="object"&&w!==null&&w.type===qi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case td:e:{for(var j=w.key,_=g;_!==null;){if(_.key===j){if(j=w.type,j===qi){if(_.tag===7){r(v,_.sibling),g=a(_,w.props.children),g.return=v,v=g;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Yn&&bg(j)===_.type){r(v,_.sibling),g=a(_,w.props),g.ref=lo(v,_,w),g.return=v,v=g;break e}r(v,_);break}else t(v,_);_=_.sibling}w.type===qi?(g=mi(w.props.children,v.mode,N,w.key),g.return=v,v=g):(N=Yd(w.type,w.key,w.props,null,v.mode,N),N.ref=lo(v,g,w),N.return=v,v=N)}return l(v);case Gi:e:{for(_=w.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(v,g.sibling),g=a(g,w.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=fh(w,v.mode,N),g.return=v,v=g}return l(v);case Yn:return _=w._init,b(v,g,_(w._payload),N)}if(go(w))return x(v,g,w,N);if(so(w))return f(v,g,w,N);md(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,w),g.return=v,v=g):(r(v,g),g=ph(w,v.mode,N),g.return=v,v=g),l(v)):r(v,g)}return b}var El=x1(!0),p1=x1(!1),bu=Fa(null),ju=null,tl=null,ip=null;function lp(){ip=tl=ju=null}function op(s){var t=bu.current;ze(bu),s._currentValue=t}function T0(s,t,r){for(;s!==null;){var n=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),s===r)break;s=s.return}}function gl(s,t){ju=s,ip=tl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(Ms=!0),s.firstContext=null)}function jr(s){var t=s._currentValue;if(ip!==s)if(s={context:s,memoizedValue:t,next:null},tl===null){if(ju===null)throw Error(H(308));tl=s,ju.dependencies={lanes:0,firstContext:s}}else tl=tl.next=s;return t}var ii=null;function cp(s){ii===null?ii=[s]:ii.push(s)}function f1(s,t,r,n){var a=t.interleaved;return a===null?(r.next=r,cp(t)):(r.next=a.next,a.next=r),t.interleaved=r,Mn(s,n)}function Mn(s,t){s.lanes|=t;var r=s.alternate;for(r!==null&&(r.lanes|=t),r=s,s=s.return;s!==null;)s.childLanes|=t,r=s.alternate,r!==null&&(r.childLanes|=t),r=s,s=s.return;return r.tag===3?r.stateNode:null}var Zn=!1;function dp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g1(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function wn(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function xa(s,t,r){var n=s.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Mn(s,r)}return a=n.interleaved,a===null?(t.next=t,cp(n)):(t.next=a.next,a.next=t),n.interleaved=t,Mn(s,r)}function zd(s,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=s.pendingLanes,r|=n,t.lanes=r,Zx(s,r)}}function jg(s,t){var r=s.updateQueue,n=s.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=t:s.next=t,r.lastBaseUpdate=t}function Nu(s,t,r,n){var a=s.updateQueue;Zn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=s.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;l=0,m=d=c=null,o=i;do{var p=o.lane,y=o.eventTime;if((n&p)===p){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=s,f=o;switch(p=t,y=r,f.tag){case 1:if(x=f.payload,typeof x=="function"){h=x.call(y,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=f.payload,p=typeof x=="function"?x.call(y,h,p):x,p==null)break e;h=st({},h,p);break e;case 2:Zn=!0}}o.callback!==null&&o.lane!==0&&(s.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else y={eventTime:y,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=y,c=h):m=m.next=y,l|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(m===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);wi|=l,s.lanes=l,s.memoizedState=h}}function Ng(s,t,r){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var n=s[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(H(191,a));a.call(n)}}}var Bc={},en=Fa(Bc),uc=Fa(Bc),mc=Fa(Bc);function li(s){if(s===Bc)throw Error(H(174));return s}function up(s,t){switch(Oe(mc,t),Oe(uc,s),Oe(en,Bc),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:o0(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=o0(t,s)}ze(en),Oe(en,t)}function Al(){ze(en),ze(uc),ze(mc)}function y1(s){li(mc.current);var t=li(en.current),r=o0(t,s.type);t!==r&&(Oe(uc,s),Oe(en,r))}function mp(s){uc.current===s&&(ze(en),ze(uc))}var Ze=Fa(0);function wu(s){for(var t=s;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ch=[];function hp(){for(var s=0;s<ch.length;s++)ch[s]._workInProgressVersionPrimary=null;ch.length=0}var Ud=In.ReactCurrentDispatcher,dh=In.ReactCurrentBatchConfig,Ni=0,et=null,Tt=null,Lt=null,_u=!1,Po=!1,hc=0,L4=0;function rs(){throw Error(H(321))}function xp(s,t){if(t===null)return!1;for(var r=0;r<t.length&&r<s.length;r++)if(!Or(s[r],t[r]))return!1;return!0}function pp(s,t,r,n,a,i){if(Ni=i,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=s===null||s.memoizedState===null?V4:B4,s=r(n,a),Po){i=0;do{if(Po=!1,hc=0,25<=i)throw Error(H(301));i+=1,Lt=Tt=null,t.updateQueue=null,Ud.current=z4,s=r(n,a)}while(Po)}if(Ud.current=ku,t=Tt!==null&&Tt.next!==null,Ni=0,Lt=Tt=et=null,_u=!1,t)throw Error(H(300));return s}function fp(){var s=hc!==0;return hc=0,s}function Hr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?et.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Nr(){if(Tt===null){var s=et.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var t=Lt===null?et.memoizedState:Lt.next;if(t!==null)Lt=t,Tt=s;else{if(s===null)throw Error(H(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Lt===null?et.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function xc(s,t){return typeof t=="function"?t(s):t}function uh(s){var t=Nr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=s;var n=Tt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((Ni&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:s(n,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,et.lanes|=m,wi|=m}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Or(n,t.memoizedState)||(Ms=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(s=r.interleaved,s!==null){a=s;do i=a.lane,et.lanes|=i,wi|=i,a=a.next;while(a!==s)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function mh(s){var t=Nr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=s;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=s(i,l.action),l=l.next;while(l!==a);Or(i,t.memoizedState)||(Ms=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function v1(){}function b1(s,t){var r=et,n=Nr(),a=t(),i=!Or(n.memoizedState,a);if(i&&(n.memoizedState=a,Ms=!0),n=n.queue,gp(w1.bind(null,r,n,s),[s]),n.getSnapshot!==t||i||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,pc(9,N1.bind(null,r,n,a,t),void 0,null),Ft===null)throw Error(H(349));Ni&30||j1(r,t,a)}return a}function j1(s,t,r){s.flags|=16384,s={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[s]):(r=t.stores,r===null?t.stores=[s]:r.push(s))}function N1(s,t,r,n){t.value=r,t.getSnapshot=n,_1(t)&&k1(s)}function w1(s,t,r){return r(function(){_1(t)&&k1(s)})}function _1(s){var t=s.getSnapshot;s=s.value;try{var r=t();return!Or(s,r)}catch{return!0}}function k1(s){var t=Mn(s,1);t!==null&&Ir(t,s,1,-1)}function wg(s){var t=Hr();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:s},t.queue=s,s=s.dispatch=$4.bind(null,et,s),[t.memoizedState,s]}function pc(s,t,r,n){return s={tag:s,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=s.next=s):(r=t.lastEffect,r===null?t.lastEffect=s.next=s:(n=r.next,r.next=s,s.next=n,t.lastEffect=s)),s}function S1(){return Nr().memoizedState}function Wd(s,t,r,n){var a=Hr();et.flags|=s,a.memoizedState=pc(1|t,r,void 0,n===void 0?null:n)}function um(s,t,r,n){var a=Nr();n=n===void 0?null:n;var i=void 0;if(Tt!==null){var l=Tt.memoizedState;if(i=l.destroy,n!==null&&xp(n,l.deps)){a.memoizedState=pc(t,r,i,n);return}}et.flags|=s,a.memoizedState=pc(1|t,r,i,n)}function _g(s,t){return Wd(8390656,8,s,t)}function gp(s,t){return um(2048,8,s,t)}function C1(s,t){return um(4,2,s,t)}function T1(s,t){return um(4,4,s,t)}function M1(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function D1(s,t,r){return r=r!=null?r.concat([s]):null,um(4,4,M1.bind(null,t,s),r)}function yp(){}function E1(s,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xp(t,n[1])?n[0]:(r.memoizedState=[s,t],s)}function A1(s,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xp(t,n[1])?n[0]:(s=s(),r.memoizedState=[s,t],s)}function P1(s,t,r){return Ni&21?(Or(r,t)||(r=Fb(),et.lanes|=r,wi|=r,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,Ms=!0),s.memoizedState=r)}function O4(s,t){var r=Ce;Ce=r!==0&&4>r?r:4,s(!0);var n=dh.transition;dh.transition={};try{s(!1),t()}finally{Ce=r,dh.transition=n}}function R1(){return Nr().memoizedState}function F4(s,t,r){var n=fa(s);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},I1(s))L1(t,r);else if(r=f1(s,t,r,n),r!==null){var a=_s();Ir(r,s,n,a),O1(r,t,n)}}function $4(s,t,r){var n=fa(s),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(I1(s))L1(t,a);else{var i=s.alternate;if(s.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Or(o,l)){var c=t.interleaved;c===null?(a.next=a,cp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=f1(s,t,a,n),r!==null&&(a=_s(),Ir(r,s,n,a),O1(r,t,n))}}function I1(s){var t=s.alternate;return s===et||t!==null&&t===et}function L1(s,t){Po=_u=!0;var r=s.pending;r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t}function O1(s,t,r){if(r&4194240){var n=t.lanes;n&=s.pendingLanes,r|=n,t.lanes=r,Zx(s,r)}}var ku={readContext:jr,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useInsertionEffect:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useSyncExternalStore:rs,useId:rs,unstable_isNewReconciler:!1},V4={readContext:jr,useCallback:function(s,t){return Hr().memoizedState=[s,t===void 0?null:t],s},useContext:jr,useEffect:_g,useImperativeHandle:function(s,t,r){return r=r!=null?r.concat([s]):null,Wd(4194308,4,M1.bind(null,t,s),r)},useLayoutEffect:function(s,t){return Wd(4194308,4,s,t)},useInsertionEffect:function(s,t){return Wd(4,2,s,t)},useMemo:function(s,t){var r=Hr();return t=t===void 0?null:t,s=s(),r.memoizedState=[s,t],s},useReducer:function(s,t,r){var n=Hr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},n.queue=s,s=s.dispatch=F4.bind(null,et,s),[n.memoizedState,s]},useRef:function(s){var t=Hr();return s={current:s},t.memoizedState=s},useState:wg,useDebugValue:yp,useDeferredValue:function(s){return Hr().memoizedState=s},useTransition:function(){var s=wg(!1),t=s[0];return s=O4.bind(null,s[1]),Hr().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,r){var n=et,a=Hr();if(We){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),Ft===null)throw Error(H(349));Ni&30||j1(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,_g(w1.bind(null,n,i,s),[s]),n.flags|=2048,pc(9,N1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var s=Hr(),t=Ft.identifierPrefix;if(We){var r=bn,n=vn;r=(n&~(1<<32-Rr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=L4++,t=":"+t+"r"+r.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},B4={readContext:jr,useCallback:E1,useContext:jr,useEffect:gp,useImperativeHandle:D1,useInsertionEffect:C1,useLayoutEffect:T1,useMemo:A1,useReducer:uh,useRef:S1,useState:function(){return uh(xc)},useDebugValue:yp,useDeferredValue:function(s){var t=Nr();return P1(t,Tt.memoizedState,s)},useTransition:function(){var s=uh(xc)[0],t=Nr().memoizedState;return[s,t]},useMutableSource:v1,useSyncExternalStore:b1,useId:R1,unstable_isNewReconciler:!1},z4={readContext:jr,useCallback:E1,useContext:jr,useEffect:gp,useImperativeHandle:D1,useInsertionEffect:C1,useLayoutEffect:T1,useMemo:A1,useReducer:mh,useRef:S1,useState:function(){return mh(xc)},useDebugValue:yp,useDeferredValue:function(s){var t=Nr();return Tt===null?t.memoizedState=s:P1(t,Tt.memoizedState,s)},useTransition:function(){var s=mh(xc)[0],t=Nr().memoizedState;return[s,t]},useMutableSource:v1,useSyncExternalStore:b1,useId:R1,unstable_isNewReconciler:!1};function Er(s,t){if(s&&s.defaultProps){t=st({},t),s=s.defaultProps;for(var r in s)t[r]===void 0&&(t[r]=s[r]);return t}return t}function M0(s,t,r,n){t=s.memoizedState,r=r(n,t),r=r==null?t:st({},t,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var mm={isMounted:function(s){return(s=s._reactInternals)?Ai(s)===s:!1},enqueueSetState:function(s,t,r){s=s._reactInternals;var n=_s(),a=fa(s),i=wn(n,a);i.payload=t,r!=null&&(i.callback=r),t=xa(s,i,a),t!==null&&(Ir(t,s,a,n),zd(t,s,a))},enqueueReplaceState:function(s,t,r){s=s._reactInternals;var n=_s(),a=fa(s),i=wn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xa(s,i,a),t!==null&&(Ir(t,s,a,n),zd(t,s,a))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var r=_s(),n=fa(s),a=wn(r,n);a.tag=2,t!=null&&(a.callback=t),t=xa(s,a,n),t!==null&&(Ir(t,s,n,r),zd(t,s,n))}};function kg(s,t,r,n,a,i,l){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!lc(r,n)||!lc(a,i):!0}function F1(s,t,r){var n=!1,a=Ma,i=t.contextType;return typeof i=="object"&&i!==null?i=jr(i):(a=As(t)?bi:xs.current,n=t.contextTypes,i=(n=n!=null)?Ml(s,a):Ma),t=new t(r,i),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mm,s.stateNode=t,t._reactInternals=s,n&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=i),t}function Sg(s,t,r,n){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==s&&mm.enqueueReplaceState(t,t.state,null)}function D0(s,t,r,n){var a=s.stateNode;a.props=r,a.state=s.memoizedState,a.refs={},dp(s);var i=t.contextType;typeof i=="object"&&i!==null?a.context=jr(i):(i=As(t)?bi:xs.current,a.context=Ml(s,i)),a.state=s.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(M0(s,t,i,r),a.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&mm.enqueueReplaceState(a,a.state,null),Nu(s,r,a,n),a.state=s.memoizedState),typeof a.componentDidMount=="function"&&(s.flags|=4194308)}function Pl(s,t){try{var r="",n=t;do r+=f5(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:s,source:t,stack:a,digest:null}}function hh(s,t,r){return{value:s,source:null,stack:r??null,digest:t??null}}function E0(s,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var U4=typeof WeakMap=="function"?WeakMap:Map;function $1(s,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cu||(Cu=!0,B0=n),E0(s,t)},r}function V1(s,t,r){r=wn(-1,r),r.tag=3;var n=s.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){E0(s,t)}}var i=s.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){E0(s,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Cg(s,t,r){var n=s.pingCache;if(n===null){n=s.pingCache=new U4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),s=r3.bind(null,s,t,r),t.then(s,s))}function Tg(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function Mg(s,t,r,n,a){return s.mode&1?(s.flags|=65536,s.lanes=a,s):(s===t?s.flags|=65536:(s.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,xa(r,t,1))),r.lanes|=1),s)}var W4=In.ReactCurrentOwner,Ms=!1;function vs(s,t,r,n){t.child=s===null?p1(t,null,r,n):El(t,s.child,r,n)}function Dg(s,t,r,n,a){r=r.render;var i=t.ref;return gl(t,a),n=pp(s,t,r,n,i,a),r=fp(),s!==null&&!Ms?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~a,Dn(s,t,a)):(We&&r&&rp(t),t.flags|=1,vs(s,t,n,a),t.child)}function Eg(s,t,r,n,a){if(s===null){var i=r.type;return typeof i=="function"&&!Sp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,B1(s,t,i,n,a)):(s=Yd(r.type,null,n,t,t.mode,a),s.ref=t.ref,s.return=t,t.child=s)}if(i=s.child,!(s.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:lc,r(l,n)&&s.ref===t.ref)return Dn(s,t,a)}return t.flags|=1,s=ga(i,n),s.ref=t.ref,s.return=t,t.child=s}function B1(s,t,r,n,a){if(s!==null){var i=s.memoizedProps;if(lc(i,n)&&s.ref===t.ref)if(Ms=!1,t.pendingProps=n=i,(s.lanes&a)!==0)s.flags&131072&&(Ms=!0);else return t.lanes=s.lanes,Dn(s,t,a)}return A0(s,t,r,n,a)}function z1(s,t,r){var n=t.pendingProps,a=n.children,i=s!==null?s.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(rl,Us),Us|=r;else{if(!(r&1073741824))return s=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,Oe(rl,Us),Us|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Oe(rl,Us),Us|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Oe(rl,Us),Us|=n;return vs(s,t,a,r),t.child}function U1(s,t){var r=t.ref;(s===null&&r!==null||s!==null&&s.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function A0(s,t,r,n,a){var i=As(r)?bi:xs.current;return i=Ml(t,i),gl(t,a),r=pp(s,t,r,n,i,a),n=fp(),s!==null&&!Ms?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~a,Dn(s,t,a)):(We&&n&&rp(t),t.flags|=1,vs(s,t,r,a),t.child)}function Ag(s,t,r,n,a){if(As(r)){var i=!0;gu(t)}else i=!1;if(gl(t,a),t.stateNode===null)Hd(s,t),F1(t,r,n),D0(t,r,n,a),n=!0;else if(s===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=jr(d):(d=As(r)?bi:xs.current,d=Ml(t,d));var m=r.getDerivedStateFromProps,h=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Sg(t,l,n,d),Zn=!1;var p=t.memoizedState;l.state=p,Nu(t,n,l,a),c=t.memoizedState,o!==n||p!==c||Es.current||Zn?(typeof m=="function"&&(M0(t,r,m,n),c=t.memoizedState),(o=Zn||kg(t,r,o,n,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,g1(s,t),o=t.memoizedProps,d=t.type===t.elementType?o:Er(t.type,o),l.props=d,h=t.pendingProps,p=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=jr(c):(c=As(r)?bi:xs.current,c=Ml(t,c));var y=r.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||p!==c)&&Sg(t,l,n,c),Zn=!1,p=t.memoizedState,l.state=p,Nu(t,n,l,a);var x=t.memoizedState;o!==h||p!==x||Es.current||Zn?(typeof y=="function"&&(M0(t,r,y,n),x=t.memoizedState),(d=Zn||kg(t,r,d,n,p,x,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===s.memoizedProps&&p===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===s.memoizedProps&&p===s.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===s.memoizedProps&&p===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===s.memoizedProps&&p===s.memoizedState||(t.flags|=1024),n=!1)}return P0(s,t,r,n,i,a)}function P0(s,t,r,n,a,i){U1(s,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&gg(t,r,!1),Dn(s,t,i);n=t.stateNode,W4.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,s!==null&&l?(t.child=El(t,s.child,null,i),t.child=El(t,null,o,i)):vs(s,t,o,i),t.memoizedState=n.state,a&&gg(t,r,!0),t.child}function W1(s){var t=s.stateNode;t.pendingContext?fg(s,t.pendingContext,t.pendingContext!==t.context):t.context&&fg(s,t.context,!1),up(s,t.containerInfo)}function Pg(s,t,r,n,a){return Dl(),ap(a),t.flags|=256,vs(s,t,r,n),t.child}var R0={dehydrated:null,treeContext:null,retryLane:0};function I0(s){return{baseLanes:s,cachePool:null,transitions:null}}function H1(s,t,r){var n=t.pendingProps,a=Ze.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=s!==null&&s.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(a|=1),Oe(Ze,a&1),s===null)return C0(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,s=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=pm(l,n,0,null),s=mi(s,n,r,null),i.return=t,s.return=t,i.sibling=s,t.child=i,t.child.memoizedState=I0(r),t.memoizedState=R0,s):vp(t,l));if(a=s.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return H4(s,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=s.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ga(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ga(o,i):(i=mi(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=s.child.memoizedState,l=l===null?I0(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=s.childLanes&~r,t.memoizedState=R0,n}return i=s.child,s=i.sibling,n=ga(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,s!==null&&(r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)),t.child=n,t.memoizedState=null,n}function vp(s,t){return t=pm({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function hd(s,t,r,n){return n!==null&&ap(n),El(t,s.child,null,r),s=vp(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function H4(s,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=hh(Error(H(422))),hd(s,t,l,n)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=pm({mode:"visible",children:n.children},a,0,null),i=mi(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&El(t,s.child,null,l),t.child.memoizedState=I0(l),t.memoizedState=R0,i);if(!(t.mode&1))return hd(s,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(H(419)),n=hh(i,n,void 0),hd(s,t,l,n)}if(o=(l&s.childLanes)!==0,Ms||o){if(n=Ft,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Mn(s,a),Ir(n,s,a,-1))}return kp(),n=hh(Error(H(421))),hd(s,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=s.child,t=n3.bind(null,s),a._reactRetry=t,null):(s=i.treeContext,Zs=ha(a.nextSibling),Xs=t,We=!0,Pr=null,s!==null&&(dr[ur++]=vn,dr[ur++]=bn,dr[ur++]=ji,vn=s.id,bn=s.overflow,ji=t),t=vp(t,n.children),t.flags|=4096,t)}function Rg(s,t,r){s.lanes|=t;var n=s.alternate;n!==null&&(n.lanes|=t),T0(s.return,t,r)}function xh(s,t,r,n,a){var i=s.memoizedState;i===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function G1(s,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(vs(s,t,n.children,r),n=Ze.current,n&2)n=n&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rg(s,r,t);else if(s.tag===19)Rg(s,r,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}n&=1}if(Oe(Ze,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)s=r.alternate,s!==null&&wu(s)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),xh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(s=a.alternate,s!==null&&wu(s)===null){t.child=a;break}s=a.sibling,a.sibling=r,r=a,a=s}xh(t,!0,r,null,i);break;case"together":xh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hd(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function Dn(s,t,r){if(s!==null&&(t.dependencies=s.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(H(153));if(t.child!==null){for(s=t.child,r=ga(s,s.pendingProps),t.child=r,r.return=t;s.sibling!==null;)s=s.sibling,r=r.sibling=ga(s,s.pendingProps),r.return=t;r.sibling=null}return t.child}function G4(s,t,r){switch(t.tag){case 3:W1(t),Dl();break;case 5:y1(t);break;case 1:As(t.type)&&gu(t);break;case 4:up(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oe(bu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Ze,Ze.current&1),t.flags|=128,null):r&t.child.childLanes?H1(s,t,r):(Oe(Ze,Ze.current&1),s=Dn(s,t,r),s!==null?s.sibling:null);Oe(Ze,Ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,s.flags&128){if(n)return G1(s,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oe(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,z1(s,t,r)}return Dn(s,t,r)}var q1,L0,Y1,Z1;q1=function(s,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};L0=function(){};Y1=function(s,t,r,n){var a=s.memoizedProps;if(a!==n){s=t.stateNode,li(en.current);var i=null;switch(r){case"input":a=n0(s,a),n=n0(s,n),i=[];break;case"select":a=st({},a,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":a=l0(s,a),n=l0(s,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(s.onclick=pu)}c0(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ec.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ec.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ve("scroll",s),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Z1=function(s,t,r,n){r!==n&&(t.flags|=4)};function oo(s,t){if(!We)switch(s.tailMode){case"hidden":t=s.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:n.sibling=null}}function ns(s){var t=s.alternate!==null&&s.alternate.child===s.child,r=0,n=0;if(t)for(var a=s.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=s,a=a.sibling;else for(a=s.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=s,a=a.sibling;return s.subtreeFlags|=n,s.childLanes=r,t}function q4(s,t,r){var n=t.pendingProps;switch(np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(t),null;case 1:return As(t.type)&&fu(),ns(t),null;case 3:return n=t.stateNode,Al(),ze(Es),ze(xs),hp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(s===null||s.child===null)&&(ud(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(W0(Pr),Pr=null))),L0(s,t),ns(t),null;case 5:mp(t);var a=li(mc.current);if(r=t.type,s!==null&&t.stateNode!=null)Y1(s,t,r,n,a),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return ns(t),null}if(s=li(en.current),ud(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Yr]=t,n[dc]=i,s=(t.mode&1)!==0,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<vo.length;a++)Ve(vo[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Uf(n,i),Ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",n);break;case"textarea":Hf(n,i),Ve("invalid",n)}c0(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&dd(n.textContent,o,s),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&dd(n.textContent,o,s),a=["children",""+o]):ec.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ve("scroll",n)}switch(r){case"input":sd(n),Wf(n,i,!0);break;case"textarea":sd(n),Gf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=wb(r)),s==="http://www.w3.org/1999/xhtml"?r==="script"?(s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof n.is=="string"?s=l.createElement(r,{is:n.is}):(s=l.createElement(r),r==="select"&&(l=s,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):s=l.createElementNS(s,r),s[Yr]=t,s[dc]=n,q1(s,t,!1,!1),t.stateNode=s;e:{switch(l=d0(r,n),r){case"dialog":Ve("cancel",s),Ve("close",s),a=n;break;case"iframe":case"object":case"embed":Ve("load",s),a=n;break;case"video":case"audio":for(a=0;a<vo.length;a++)Ve(vo[a],s);a=n;break;case"source":Ve("error",s),a=n;break;case"img":case"image":case"link":Ve("error",s),Ve("load",s),a=n;break;case"details":Ve("toggle",s),a=n;break;case"input":Uf(s,n),a=n0(s,n),Ve("invalid",s);break;case"option":a=n;break;case"select":s._wrapperState={wasMultiple:!!n.multiple},a=st({},n,{value:void 0}),Ve("invalid",s);break;case"textarea":Hf(s,n),a=l0(s,n),Ve("invalid",s);break;default:a=n}c0(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Sb(s,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_b(s,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&tc(s,c):typeof c=="number"&&tc(s,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ec.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",s):c!=null&&Ux(s,i,c,l))}switch(r){case"input":sd(s),Wf(s,n,!1);break;case"textarea":sd(s),Gf(s);break;case"option":n.value!=null&&s.setAttribute("value",""+Ta(n.value));break;case"select":s.multiple=!!n.multiple,i=n.value,i!=null?hl(s,!!n.multiple,i,!1):n.defaultValue!=null&&hl(s,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(s.onclick=pu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ns(t),null;case 6:if(s&&t.stateNode!=null)Z1(s,t,s.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=li(mc.current),li(en.current),ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yr]=t,(i=n.nodeValue!==r)&&(s=Xs,s!==null))switch(s.tag){case 3:dd(n.nodeValue,r,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&dd(n.nodeValue,r,(s.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yr]=t,t.stateNode=n}return ns(t),null;case 13:if(ze(Ze),n=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(We&&Zs!==null&&t.mode&1&&!(t.flags&128))h1(),Dl(),t.flags|=98560,i=!1;else if(i=ud(t),n!==null&&n.dehydrated!==null){if(s===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Yr]=t}else Dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ns(t),i=!1}else Pr!==null&&(W0(Pr),Pr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(s!==null&&s.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(s===null||Ze.current&1?Et===0&&(Et=3):kp())),t.updateQueue!==null&&(t.flags|=4),ns(t),null);case 4:return Al(),L0(s,t),s===null&&oc(t.stateNode.containerInfo),ns(t),null;case 10:return op(t.type._context),ns(t),null;case 17:return As(t.type)&&fu(),ns(t),null;case 19:if(ze(Ze),i=t.memoizedState,i===null)return ns(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)oo(i,!1);else{if(Et!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(l=wu(s),l!==null){for(t.flags|=128,oo(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,s=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Oe(Ze,Ze.current&1|2),t.child}s=s.sibling}i.tail!==null&&pt()>Rl&&(t.flags|=128,n=!0,oo(i,!1),t.lanes=4194304)}else{if(!n)if(s=wu(l),s!==null){if(t.flags|=128,n=!0,r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!We)return ns(t),null}else 2*pt()-i.renderingStartTime>Rl&&r!==1073741824&&(t.flags|=128,n=!0,oo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pt(),t.sibling=null,r=Ze.current,Oe(Ze,n?r&1|2:r&1),t):(ns(t),null);case 22:case 23:return _p(),n=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Us&1073741824&&(ns(t),t.subtreeFlags&6&&(t.flags|=8192)):ns(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Y4(s,t){switch(np(t),t.tag){case 1:return As(t.type)&&fu(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return Al(),ze(Es),ze(xs),hp(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return mp(t),null;case 13:if(ze(Ze),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Dl()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return ze(Ze),null;case 4:return Al(),null;case 10:return op(t.type._context),null;case 22:case 23:return _p(),null;case 24:return null;default:return null}}var xd=!1,os=!1,Z4=typeof WeakSet=="function"?WeakSet:Set,K=null;function sl(s,t){var r=s.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(s,t,n)}else r.current=null}function O0(s,t,r){try{r()}catch(n){it(s,t,n)}}var Ig=!1;function K4(s,t){if(b0=mu,s=e1(),sp(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,m=0,h=s,p=null;t:for(;;){for(var y;h!==r||a!==0&&h.nodeType!==3||(o=l+a),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===s)break t;if(p===r&&++d===a&&(o=l),p===i&&++m===n&&(c=l),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(j0={focusedElem:s,selectionRange:r},mu=!1,K=t;K!==null;)if(t=K,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,K=s;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var f=x.memoizedProps,b=x.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:Er(t.type,f),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){it(t,t.return,N)}if(s=t.sibling,s!==null){s.return=t.return,K=s;break}K=t.return}return x=Ig,Ig=!1,x}function Ro(s,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&s)===s){var i=a.destroy;a.destroy=void 0,i!==void 0&&O0(t,r,i)}a=a.next}while(a!==n)}}function hm(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&s)===s){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function F0(s){var t=s.ref;if(t!==null){var r=s.stateNode;switch(s.tag){case 5:s=r;break;default:s=r}typeof t=="function"?t(s):t.current=s}}function K1(s){var t=s.alternate;t!==null&&(s.alternate=null,K1(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[Yr],delete t[dc],delete t[_0],delete t[A4],delete t[P4])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function X1(s){return s.tag===5||s.tag===3||s.tag===4}function Lg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $0(s,t,r){var n=s.tag;if(n===5||n===6)s=s.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(s,t):r.insertBefore(s,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(s,r)):(t=r,t.appendChild(s)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pu));else if(n!==4&&(s=s.child,s!==null))for($0(s,t,r),s=s.sibling;s!==null;)$0(s,t,r),s=s.sibling}function V0(s,t,r){var n=s.tag;if(n===5||n===6)s=s.stateNode,t?r.insertBefore(s,t):r.appendChild(s);else if(n!==4&&(s=s.child,s!==null))for(V0(s,t,r),s=s.sibling;s!==null;)V0(s,t,r),s=s.sibling}var Wt=null,Ar=!1;function Un(s,t,r){for(r=r.child;r!==null;)Q1(s,t,r),r=r.sibling}function Q1(s,t,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(am,r)}catch{}switch(r.tag){case 5:os||sl(r,t);case 6:var n=Wt,a=Ar;Wt=null,Un(s,t,r),Wt=n,Ar=a,Wt!==null&&(Ar?(s=Wt,r=r.stateNode,s.nodeType===8?s.parentNode.removeChild(r):s.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(Ar?(s=Wt,r=r.stateNode,s.nodeType===8?lh(s.parentNode,r):s.nodeType===1&&lh(s,r),ac(s)):lh(Wt,r.stateNode));break;case 4:n=Wt,a=Ar,Wt=r.stateNode.containerInfo,Ar=!0,Un(s,t,r),Wt=n,Ar=a;break;case 0:case 11:case 14:case 15:if(!os&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&O0(r,t,l),a=a.next}while(a!==n)}Un(s,t,r);break;case 1:if(!os&&(sl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){it(r,t,o)}Un(s,t,r);break;case 21:Un(s,t,r);break;case 22:r.mode&1?(os=(n=os)||r.memoizedState!==null,Un(s,t,r),os=n):Un(s,t,r);break;default:Un(s,t,r)}}function Og(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var r=s.stateNode;r===null&&(r=s.stateNode=new Z4),t.forEach(function(n){var a=a3.bind(null,s,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mr(s,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=s,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Wt=o.stateNode,Ar=!1;break e;case 3:Wt=o.stateNode.containerInfo,Ar=!0;break e;case 4:Wt=o.stateNode.containerInfo,Ar=!0;break e}o=o.return}if(Wt===null)throw Error(H(160));Q1(i,l,a),Wt=null,Ar=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){it(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J1(t,s),t=t.sibling}function J1(s,t){var r=s.alternate,n=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mr(t,s),Wr(s),n&4){try{Ro(3,s,s.return),hm(3,s)}catch(f){it(s,s.return,f)}try{Ro(5,s,s.return)}catch(f){it(s,s.return,f)}}break;case 1:Mr(t,s),Wr(s),n&512&&r!==null&&sl(r,r.return);break;case 5:if(Mr(t,s),Wr(s),n&512&&r!==null&&sl(r,r.return),s.flags&32){var a=s.stateNode;try{tc(a,"")}catch(f){it(s,s.return,f)}}if(n&4&&(a=s.stateNode,a!=null)){var i=s.memoizedProps,l=r!==null?r.memoizedProps:i,o=s.type,c=s.updateQueue;if(s.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&jb(a,i),d0(o,l);var d=d0(o,i);for(l=0;l<c.length;l+=2){var m=c[l],h=c[l+1];m==="style"?Sb(a,h):m==="dangerouslySetInnerHTML"?_b(a,h):m==="children"?tc(a,h):Ux(a,m,h,d)}switch(o){case"input":a0(a,i);break;case"textarea":Nb(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?hl(a,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?hl(a,!!i.multiple,i.defaultValue,!0):hl(a,!!i.multiple,i.multiple?[]:"",!1))}a[dc]=i}catch(f){it(s,s.return,f)}}break;case 6:if(Mr(t,s),Wr(s),n&4){if(s.stateNode===null)throw Error(H(162));a=s.stateNode,i=s.memoizedProps;try{a.nodeValue=i}catch(f){it(s,s.return,f)}}break;case 3:if(Mr(t,s),Wr(s),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(f){it(s,s.return,f)}break;case 4:Mr(t,s),Wr(s);break;case 13:Mr(t,s),Wr(s),a=s.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Np=pt())),n&4&&Og(s);break;case 22:if(m=r!==null&&r.memoizedState!==null,s.mode&1?(os=(d=os)||m,Mr(t,s),os=d):Mr(t,s),Wr(s),n&8192){if(d=s.memoizedState!==null,(s.stateNode.isHidden=d)&&!m&&s.mode&1)for(K=s,m=s.child;m!==null;){for(h=K=m;K!==null;){switch(p=K,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ro(4,p,p.return);break;case 1:sl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){it(n,r,f)}}break;case 5:sl(p,p.return);break;case 22:if(p.memoizedState!==null){$g(h);continue}}y!==null?(y.return=p,K=y):$g(h)}m=m.sibling}e:for(m=null,h=s;;){if(h.tag===5){if(m===null){m=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=kb("display",l))}catch(f){it(s,s.return,f)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){it(s,s.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===s)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mr(t,s),Wr(s),n&4&&Og(s);break;case 21:break;default:Mr(t,s),Wr(s)}}function Wr(s){var t=s.flags;if(t&2){try{e:{for(var r=s.return;r!==null;){if(X1(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(tc(a,""),n.flags&=-33);var i=Lg(s);V0(s,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Lg(s);$0(s,o,l);break;default:throw Error(H(161))}}catch(c){it(s,s.return,c)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function X4(s,t,r){K=s,ej(s)}function ej(s,t,r){for(var n=(s.mode&1)!==0;K!==null;){var a=K,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||xd;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||os;o=xd;var d=os;if(xd=l,(os=c)&&!d)for(K=a;K!==null;)l=K,c=l.child,l.tag===22&&l.memoizedState!==null?Vg(a):c!==null?(c.return=l,K=c):Vg(a);for(;i!==null;)K=i,ej(i),i=i.sibling;K=a,xd=o,os=d}Fg(s)}else a.subtreeFlags&8772&&i!==null?(i.return=a,K=i):Fg(s)}}function Fg(s){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:os||hm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!os)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Er(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ng(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ng(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}os||t.flags&512&&F0(t)}catch(p){it(t,t.return,p)}}if(t===s){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function $g(s){for(;K!==null;){var t=K;if(t===s){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Vg(s){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hm(4,t)}catch(c){it(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){it(t,a,c)}}var i=t.return;try{F0(t)}catch(c){it(t,i,c)}break;case 5:var l=t.return;try{F0(t)}catch(c){it(t,l,c)}}}catch(c){it(t,t.return,c)}if(t===s){K=null;break}var o=t.sibling;if(o!==null){o.return=t.return,K=o;break}K=t.return}}var Q4=Math.ceil,Su=In.ReactCurrentDispatcher,bp=In.ReactCurrentOwner,yr=In.ReactCurrentBatchConfig,Ne=0,Ft=null,wt=null,qt=0,Us=0,rl=Fa(0),Et=0,fc=null,wi=0,xm=0,jp=0,Io=null,Ts=null,Np=0,Rl=1/0,xn=null,Cu=!1,B0=null,pa=null,pd=!1,ra=null,Tu=0,Lo=0,z0=null,Gd=-1,qd=0;function _s(){return Ne&6?pt():Gd!==-1?Gd:Gd=pt()}function fa(s){return s.mode&1?Ne&2&&qt!==0?qt&-qt:I4.transition!==null?(qd===0&&(qd=Fb()),qd):(s=Ce,s!==0||(s=window.event,s=s===void 0?16:Hb(s.type)),s):1}function Ir(s,t,r,n){if(50<Lo)throw Lo=0,z0=null,Error(H(185));Fc(s,r,n),(!(Ne&2)||s!==Ft)&&(s===Ft&&(!(Ne&2)&&(xm|=r),Et===4&&Jn(s,qt)),Ps(s,n),r===1&&Ne===0&&!(t.mode&1)&&(Rl=pt()+500,dm&&$a()))}function Ps(s,t){var r=s.callbackNode;I5(s,t);var n=uu(s,s===Ft?qt:0);if(n===0)r!==null&&Zf(r),s.callbackNode=null,s.callbackPriority=0;else if(t=n&-n,s.callbackPriority!==t){if(r!=null&&Zf(r),t===1)s.tag===0?R4(Bg.bind(null,s)):d1(Bg.bind(null,s)),D4(function(){!(Ne&6)&&$a()}),r=null;else{switch($b(n)){case 1:r=Yx;break;case 4:r=Lb;break;case 16:r=du;break;case 536870912:r=Ob;break;default:r=du}r=oj(r,tj.bind(null,s))}s.callbackPriority=t,s.callbackNode=r}}function tj(s,t){if(Gd=-1,qd=0,Ne&6)throw Error(H(327));var r=s.callbackNode;if(yl()&&s.callbackNode!==r)return null;var n=uu(s,s===Ft?qt:0);if(n===0)return null;if(n&30||n&s.expiredLanes||t)t=Mu(s,n);else{t=n;var a=Ne;Ne|=2;var i=rj();(Ft!==s||qt!==t)&&(xn=null,Rl=pt()+500,ui(s,t));do try{t3();break}catch(o){sj(s,o)}while(1);lp(),Su.current=i,Ne=a,wt!==null?t=0:(Ft=null,qt=0,t=Et)}if(t!==0){if(t===2&&(a=p0(s),a!==0&&(n=a,t=U0(s,a))),t===1)throw r=fc,ui(s,0),Jn(s,n),Ps(s,pt()),r;if(t===6)Jn(s,n);else{if(a=s.current.alternate,!(n&30)&&!J4(a)&&(t=Mu(s,n),t===2&&(i=p0(s),i!==0&&(n=i,t=U0(s,i))),t===1))throw r=fc,ui(s,0),Jn(s,n),Ps(s,pt()),r;switch(s.finishedWork=a,s.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Qa(s,Ts,xn);break;case 3:if(Jn(s,n),(n&130023424)===n&&(t=Np+500-pt(),10<t)){if(uu(s,0)!==0)break;if(a=s.suspendedLanes,(a&n)!==n){_s(),s.pingedLanes|=s.suspendedLanes&a;break}s.timeoutHandle=w0(Qa.bind(null,s,Ts,xn),t);break}Qa(s,Ts,xn);break;case 4:if(Jn(s,n),(n&4194240)===n)break;for(t=s.eventTimes,a=-1;0<n;){var l=31-Rr(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Q4(n/1960))-n,10<n){s.timeoutHandle=w0(Qa.bind(null,s,Ts,xn),n);break}Qa(s,Ts,xn);break;case 5:Qa(s,Ts,xn);break;default:throw Error(H(329))}}}return Ps(s,pt()),s.callbackNode===r?tj.bind(null,s):null}function U0(s,t){var r=Io;return s.current.memoizedState.isDehydrated&&(ui(s,t).flags|=256),s=Mu(s,t),s!==2&&(t=Ts,Ts=r,t!==null&&W0(t)),s}function W0(s){Ts===null?Ts=s:Ts.push.apply(Ts,s)}function J4(s){for(var t=s;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Or(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(s,t){for(t&=~jp,t&=~xm,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var r=31-Rr(t),n=1<<r;s[r]=-1,t&=~n}}function Bg(s){if(Ne&6)throw Error(H(327));yl();var t=uu(s,0);if(!(t&1))return Ps(s,pt()),null;var r=Mu(s,t);if(s.tag!==0&&r===2){var n=p0(s);n!==0&&(t=n,r=U0(s,n))}if(r===1)throw r=fc,ui(s,0),Jn(s,t),Ps(s,pt()),r;if(r===6)throw Error(H(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,Qa(s,Ts,xn),Ps(s,pt()),null}function wp(s,t){var r=Ne;Ne|=1;try{return s(t)}finally{Ne=r,Ne===0&&(Rl=pt()+500,dm&&$a())}}function _i(s){ra!==null&&ra.tag===0&&!(Ne&6)&&yl();var t=Ne;Ne|=1;var r=yr.transition,n=Ce;try{if(yr.transition=null,Ce=1,s)return s()}finally{Ce=n,yr.transition=r,Ne=t,!(Ne&6)&&$a()}}function _p(){Us=rl.current,ze(rl)}function ui(s,t){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;if(r!==-1&&(s.timeoutHandle=-1,M4(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(np(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fu();break;case 3:Al(),ze(Es),ze(xs),hp();break;case 5:mp(n);break;case 4:Al();break;case 13:ze(Ze);break;case 19:ze(Ze);break;case 10:op(n.type._context);break;case 22:case 23:_p()}r=r.return}if(Ft=s,wt=s=ga(s.current,null),qt=Us=t,Et=0,fc=null,jp=xm=wi=0,Ts=Io=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}ii=null}return s}function sj(s,t){do{var r=wt;try{if(lp(),Ud.current=ku,_u){for(var n=et.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_u=!1}if(Ni=0,Lt=Tt=et=null,Po=!1,hc=0,bp.current=null,r===null||r.return===null){Et=1,fc=t,wt=null;break}e:{var i=s,l=r.return,o=r,c=t;if(t=qt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Tg(l);if(y!==null){y.flags&=-257,Mg(y,l,o,i,t),y.mode&1&&Cg(i,d,t),t=y,c=d;var x=t.updateQueue;if(x===null){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}else{if(!(t&1)){Cg(i,d,t),kp();break e}c=Error(H(426))}}else if(We&&o.mode&1){var b=Tg(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mg(b,l,o,i,t),ap(Pl(c,o));break e}}i=c=Pl(c,o),Et!==4&&(Et=2),Io===null?Io=[i]:Io.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=$1(i,c,t);jg(i,v);break e;case 1:o=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pa===null||!pa.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=V1(i,o,t);jg(i,N);break e}}i=i.return}while(i!==null)}aj(r)}catch(j){t=j,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(1)}function rj(){var s=Su.current;return Su.current=ku,s===null?ku:s}function kp(){(Et===0||Et===3||Et===2)&&(Et=4),Ft===null||!(wi&268435455)&&!(xm&268435455)||Jn(Ft,qt)}function Mu(s,t){var r=Ne;Ne|=2;var n=rj();(Ft!==s||qt!==t)&&(xn=null,ui(s,t));do try{e3();break}catch(a){sj(s,a)}while(1);if(lp(),Ne=r,Su.current=n,wt!==null)throw Error(H(261));return Ft=null,qt=0,Et}function e3(){for(;wt!==null;)nj(wt)}function t3(){for(;wt!==null&&!S5();)nj(wt)}function nj(s){var t=lj(s.alternate,s,Us);s.memoizedProps=s.pendingProps,t===null?aj(s):wt=t,bp.current=null}function aj(s){var t=s;do{var r=t.alternate;if(s=t.return,t.flags&32768){if(r=Y4(r,t),r!==null){r.flags&=32767,wt=r;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,wt=null;return}}else if(r=q4(r,t,Us),r!==null){wt=r;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=s}while(t!==null);Et===0&&(Et=5)}function Qa(s,t,r){var n=Ce,a=yr.transition;try{yr.transition=null,Ce=1,s3(s,t,r,n)}finally{yr.transition=a,Ce=n}return null}function s3(s,t,r,n){do yl();while(ra!==null);if(Ne&6)throw Error(H(327));r=s.finishedWork;var a=s.finishedLanes;if(r===null)return null;if(s.finishedWork=null,s.finishedLanes=0,r===s.current)throw Error(H(177));s.callbackNode=null,s.callbackPriority=0;var i=r.lanes|r.childLanes;if(L5(s,i),s===Ft&&(wt=Ft=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pd||(pd=!0,oj(du,function(){return yl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yr.transition,yr.transition=null;var l=Ce;Ce=1;var o=Ne;Ne|=4,bp.current=null,K4(s,r),J1(r,s),N4(j0),mu=!!b0,j0=b0=null,s.current=r,X4(r),C5(),Ne=o,Ce=l,yr.transition=i}else s.current=r;if(pd&&(pd=!1,ra=s,Tu=a),i=s.pendingLanes,i===0&&(pa=null),D5(r.stateNode),Ps(s,pt()),t!==null)for(n=s.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Cu)throw Cu=!1,s=B0,B0=null,s;return Tu&1&&s.tag!==0&&yl(),i=s.pendingLanes,i&1?s===z0?Lo++:(Lo=0,z0=s):Lo=0,$a(),null}function yl(){if(ra!==null){var s=$b(Tu),t=yr.transition,r=Ce;try{if(yr.transition=null,Ce=16>s?16:s,ra===null)var n=!1;else{if(s=ra,ra=null,Tu=0,Ne&6)throw Error(H(331));var a=Ne;for(Ne|=4,K=s.current;K!==null;){var i=K,l=i.child;if(K.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(K=d;K!==null;){var m=K;switch(m.tag){case 0:case 11:case 15:Ro(8,m,i)}var h=m.child;if(h!==null)h.return=m,K=h;else for(;K!==null;){m=K;var p=m.sibling,y=m.return;if(K1(m),m===d){K=null;break}if(p!==null){p.return=y,K=p;break}K=y}}}var x=i.alternate;if(x!==null){var f=x.child;if(f!==null){x.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}K=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,K=l;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ro(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var g=s.current;for(K=g;K!==null;){l=K;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,K=w;else e:for(l=g;K!==null;){if(o=K,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hm(9,o)}}catch(j){it(o,o.return,j)}if(o===l){K=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,K=N;break e}K=o.return}}if(Ne=a,$a(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(am,s)}catch{}n=!0}return n}finally{Ce=r,yr.transition=t}}return!1}function zg(s,t,r){t=Pl(r,t),t=$1(s,t,1),s=xa(s,t,1),t=_s(),s!==null&&(Fc(s,1,t),Ps(s,t))}function it(s,t,r){if(s.tag===3)zg(s,s,r);else for(;t!==null;){if(t.tag===3){zg(t,s,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){s=Pl(r,s),s=V1(t,s,1),t=xa(t,s,1),s=_s(),t!==null&&(Fc(t,1,s),Ps(t,s));break}}t=t.return}}function r3(s,t,r){var n=s.pingCache;n!==null&&n.delete(t),t=_s(),s.pingedLanes|=s.suspendedLanes&r,Ft===s&&(qt&r)===r&&(Et===4||Et===3&&(qt&130023424)===qt&&500>pt()-Np?ui(s,0):jp|=r),Ps(s,t)}function ij(s,t){t===0&&(s.mode&1?(t=ad,ad<<=1,!(ad&130023424)&&(ad=4194304)):t=1);var r=_s();s=Mn(s,t),s!==null&&(Fc(s,t,r),Ps(s,r))}function n3(s){var t=s.memoizedState,r=0;t!==null&&(r=t.retryLane),ij(s,r)}function a3(s,t){var r=0;switch(s.tag){case 13:var n=s.stateNode,a=s.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=s.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),ij(s,r)}var lj;lj=function(s,t,r){if(s!==null)if(s.memoizedProps!==t.pendingProps||Es.current)Ms=!0;else{if(!(s.lanes&r)&&!(t.flags&128))return Ms=!1,G4(s,t,r);Ms=!!(s.flags&131072)}else Ms=!1,We&&t.flags&1048576&&u1(t,vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hd(s,t),s=t.pendingProps;var a=Ml(t,xs.current);gl(t,r),a=pp(null,t,n,s,a,r);var i=fp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(n)?(i=!0,gu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dp(t),a.updater=mm,t.stateNode=a,a._reactInternals=t,D0(t,n,s,r),t=P0(null,t,n,!0,i,r)):(t.tag=0,We&&i&&rp(t),vs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hd(s,t),s=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=l3(n),s=Er(n,s),a){case 0:t=A0(null,t,n,s,r);break e;case 1:t=Ag(null,t,n,s,r);break e;case 11:t=Dg(null,t,n,s,r);break e;case 14:t=Eg(null,t,n,Er(n.type,s),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Er(n,a),A0(s,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Er(n,a),Ag(s,t,n,a,r);case 3:e:{if(W1(t),s===null)throw Error(H(387));n=t.pendingProps,i=t.memoizedState,a=i.element,g1(s,t),Nu(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Pl(Error(H(423)),t),t=Pg(s,t,n,r,a);break e}else if(n!==a){a=Pl(Error(H(424)),t),t=Pg(s,t,n,r,a);break e}else for(Zs=ha(t.stateNode.containerInfo.firstChild),Xs=t,We=!0,Pr=null,r=p1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dl(),n===a){t=Dn(s,t,r);break e}vs(s,t,n,r)}t=t.child}return t;case 5:return y1(t),s===null&&C0(t),n=t.type,a=t.pendingProps,i=s!==null?s.memoizedProps:null,l=a.children,N0(n,a)?l=null:i!==null&&N0(n,i)&&(t.flags|=32),U1(s,t),vs(s,t,l,r),t.child;case 6:return s===null&&C0(t),null;case 13:return H1(s,t,r);case 4:return up(t,t.stateNode.containerInfo),n=t.pendingProps,s===null?t.child=El(t,null,n,r):vs(s,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Er(n,a),Dg(s,t,n,a,r);case 7:return vs(s,t,t.pendingProps,r),t.child;case 8:return vs(s,t,t.pendingProps.children,r),t.child;case 12:return vs(s,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Oe(bu,n._currentValue),n._currentValue=l,i!==null)if(Or(i.value,l)){if(i.children===a.children&&!Es.current){t=Dn(s,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=wn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),T0(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(H(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),T0(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}vs(s,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,gl(t,r),a=jr(a),n=n(a),t.flags|=1,vs(s,t,n,r),t.child;case 14:return n=t.type,a=Er(n,t.pendingProps),a=Er(n.type,a),Eg(s,t,n,a,r);case 15:return B1(s,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Er(n,a),Hd(s,t),t.tag=1,As(n)?(s=!0,gu(t)):s=!1,gl(t,r),F1(t,n,a),D0(t,n,a,r),P0(null,t,n,!0,s,r);case 19:return G1(s,t,r);case 22:return z1(s,t,r)}throw Error(H(156,t.tag))};function oj(s,t){return Ib(s,t)}function i3(s,t,r,n){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(s,t,r,n){return new i3(s,t,r,n)}function Sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function l3(s){if(typeof s=="function")return Sp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Hx)return 11;if(s===Gx)return 14}return 2}function ga(s,t){var r=s.alternate;return r===null?(r=xr(s.tag,t,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=t,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&14680064,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r}function Yd(s,t,r,n,a,i){var l=2;if(n=s,typeof s=="function")Sp(s)&&(l=1);else if(typeof s=="string")l=5;else e:switch(s){case qi:return mi(r.children,a,i,t);case Wx:l=8,a|=8;break;case e0:return s=xr(12,r,t,a|2),s.elementType=e0,s.lanes=i,s;case t0:return s=xr(13,r,t,a),s.elementType=t0,s.lanes=i,s;case s0:return s=xr(19,r,t,a),s.elementType=s0,s.lanes=i,s;case yb:return pm(r,a,i,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case fb:l=10;break e;case gb:l=9;break e;case Hx:l=11;break e;case Gx:l=14;break e;case Yn:l=16,n=null;break e}throw Error(H(130,s==null?s:typeof s,""))}return t=xr(l,r,t,a),t.elementType=s,t.type=n,t.lanes=i,t}function mi(s,t,r,n){return s=xr(7,s,n,t),s.lanes=r,s}function pm(s,t,r,n){return s=xr(22,s,n,t),s.elementType=yb,s.lanes=r,s.stateNode={isHidden:!1},s}function ph(s,t,r){return s=xr(6,s,null,t),s.lanes=r,s}function fh(s,t,r){return t=xr(4,s.children!==null?s.children:[],s.key,t),t.lanes=r,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function o3(s,t,r,n,a){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Km(0),this.expirationTimes=Km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Km(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Cp(s,t,r,n,a,i,l,o,c){return s=new o3(s,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xr(3,null,null,t),s.current=i,i.stateNode=s,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(i),s}function c3(s,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:n==null?null:""+n,children:s,containerInfo:t,implementation:r}}function cj(s){if(!s)return Ma;s=s._reactInternals;e:{if(Ai(s)!==s||s.tag!==1)throw Error(H(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(s.tag===1){var r=s.type;if(As(r))return c1(s,r,t)}return t}function dj(s,t,r,n,a,i,l,o,c){return s=Cp(r,n,!0,s,a,i,l,o,c),s.context=cj(null),r=s.current,n=_s(),a=fa(r),i=wn(n,a),i.callback=t??null,xa(r,i,a),s.current.lanes=a,Fc(s,a,n),Ps(s,n),s}function fm(s,t,r,n){var a=t.current,i=_s(),l=fa(a);return r=cj(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(i,l),t.payload={element:s},n=n===void 0?null:n,n!==null&&(t.callback=n),s=xa(a,t,l),s!==null&&(Ir(s,a,l,i),zd(s,a,l)),l}function Du(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ug(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<t?r:t}}function Tp(s,t){Ug(s,t),(s=s.alternate)&&Ug(s,t)}function d3(){return null}var uj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mp(s){this._internalRoot=s}gm.prototype.render=Mp.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(H(409));fm(s,t,null,null)};gm.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;_i(function(){fm(null,s,null,null)}),t[Tn]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var t=zb();s={blockedOn:null,target:s,priority:t};for(var r=0;r<Qn.length&&t!==0&&t<Qn[r].priority;r++);Qn.splice(r,0,s),r===0&&Wb(s)}};function Dp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ym(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function u3(s,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Du(l);i.call(d)}}var l=dj(t,n,s,0,null,!1,!1,"",Wg);return s._reactRootContainer=l,s[Tn]=l.current,oc(s.nodeType===8?s.parentNode:s),_i(),l}for(;a=s.lastChild;)s.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Du(c);o.call(d)}}var c=Cp(s,0,!1,null,null,!1,!1,"",Wg);return s._reactRootContainer=c,s[Tn]=c.current,oc(s.nodeType===8?s.parentNode:s),_i(function(){fm(t,c,r,n)}),c}function vm(s,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Du(l);o.call(c)}}fm(t,l,s,a)}else l=u3(r,t,s,a,n);return Du(l)}Vb=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(Zx(t,r|1),Ps(t,pt()),!(Ne&6)&&(Rl=pt()+500,$a()))}break;case 13:_i(function(){var n=Mn(s,1);if(n!==null){var a=_s();Ir(n,s,1,a)}}),Tp(s,1)}};Kx=function(s){if(s.tag===13){var t=Mn(s,134217728);if(t!==null){var r=_s();Ir(t,s,134217728,r)}Tp(s,134217728)}};Bb=function(s){if(s.tag===13){var t=fa(s),r=Mn(s,t);if(r!==null){var n=_s();Ir(r,s,t,n)}Tp(s,t)}};zb=function(){return Ce};Ub=function(s,t){var r=Ce;try{return Ce=s,t()}finally{Ce=r}};m0=function(s,t,r){switch(t){case"input":if(a0(s,r),t=r.name,r.type==="radio"&&t!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==s&&n.form===s.form){var a=cm(n);if(!a)throw Error(H(90));bb(n),a0(n,a)}}}break;case"textarea":Nb(s,r);break;case"select":t=r.value,t!=null&&hl(s,!!r.multiple,t,!1)}};Mb=wp;Db=_i;var m3={usingClientEntryPoint:!1,Events:[Vc,Xi,cm,Cb,Tb,wp]},co={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h3={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pb(s),s===null?null:s.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||d3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{am=fd.inject(h3),Jr=fd}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m3;rr.createPortal=function(s,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dp(t))throw Error(H(200));return c3(s,t,null,r)};rr.createRoot=function(s,t){if(!Dp(s))throw Error(H(299));var r=!1,n="",a=uj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Cp(s,1,!1,null,null,r,!1,n,a),s[Tn]=t.current,oc(s.nodeType===8?s.parentNode:s),new Mp(t)};rr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(H(188)):(s=Object.keys(s).join(","),Error(H(268,s)));return s=Pb(t),s=s===null?null:s.stateNode,s};rr.flushSync=function(s){return _i(s)};rr.hydrate=function(s,t,r){if(!ym(t))throw Error(H(200));return vm(null,s,t,!0,r)};rr.hydrateRoot=function(s,t,r){if(!Dp(s))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=uj;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=dj(t,null,s,1,r??null,a,!1,i,l),s[Tn]=t.current,oc(s),n)for(s=0;s<n.length;s++)r=n[s],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new gm(t)};rr.render=function(s,t,r){if(!ym(t))throw Error(H(200));return vm(null,s,t,!1,r)};rr.unmountComponentAtNode=function(s){if(!ym(s))throw Error(H(40));return s._reactRootContainer?(_i(function(){vm(null,null,s,!1,function(){s._reactRootContainer=null,s[Tn]=null})}),!0):!1};rr.unstable_batchedUpdates=wp;rr.unstable_renderSubtreeIntoContainer=function(s,t,r,n){if(!ym(r))throw Error(H(200));if(s==null||s._reactInternals===void 0)throw Error(H(38));return vm(s,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function mj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mj)}catch(s){console.error(s)}}mj(),mb.exports=rr;var bm=mb.exports,Hg=bm;Qh.createRoot=Hg.createRoot,Qh.hydrateRoot=Hg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},gc.apply(this,arguments)}var na;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(na||(na={}));const Gg="popstate";function x3(s){s===void 0&&(s={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return H0("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Eu(a)}return f3(t,r,null,s)}function tt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function hj(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p3(){return Math.random().toString(36).substr(2,8)}function qg(s,t){return{usr:s.state,key:s.key,idx:t}}function H0(s,t,r,n){return r===void 0&&(r=null),gc({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?Zl(t):t,{state:r,key:t&&t.key||n||p3()})}function Eu(s){let{pathname:t="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zl(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(t.search=s.substr(n),s=s.substr(0,n)),s&&(t.pathname=s)}return t}function f3(s,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=na.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(gc({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function h(){o=na.Pop;let b=m(),v=b==null?null:b-d;d=b,c&&c({action:o,location:f.location,delta:v})}function p(b,v){o=na.Push;let g=H0(f.location,b,v);r&&r(g,b),d=m()+1;let w=qg(g,d),N=f.createHref(g);try{l.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:o,location:f.location,delta:1})}function y(b,v){o=na.Replace;let g=H0(f.location,b,v);r&&r(g,b),d=m();let w=qg(g,d),N=f.createHref(g);l.replaceState(w,"",N),i&&c&&c({action:o,location:f.location,delta:0})}function x(b){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:Eu(b);return g=g.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let f={get action(){return o},get location(){return s(a,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gg,h),c=b,()=>{a.removeEventListener(Gg,h),c=null}},createHref(b){return t(a,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(b){return l.go(b)}};return f}var Yg;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Yg||(Yg={}));function g3(s,t,r){return r===void 0&&(r="/"),y3(s,t,r,!1)}function y3(s,t,r,n){let a=typeof t=="string"?Zl(t):t,i=Il(a.pathname||"/",r);if(i==null)return null;let l=xj(s);v3(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=D3(i);o=T3(l[c],d,n)}return o}function xj(s,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ya([n,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),xj(i.children,t,m,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:S3(d,i.index),routesMeta:m})};return s.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of pj(i.path))a(i,l,c)}),t}function pj(s){let t=s.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=pj(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>s.startsWith("/")&&c===""?"/":c)}function v3(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:C3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const b3=/^:[\w-]+$/,j3=3,N3=2,w3=1,_3=10,k3=-2,Zg=s=>s==="*";function S3(s,t){let r=s.split("/"),n=r.length;return r.some(Zg)&&(n+=k3),t&&(n+=N3),r.filter(a=>!Zg(a)).reduce((a,i)=>a+(b3.test(i)?j3:i===""?w3:_3),n)}function C3(s,t){return s.length===t.length&&s.slice(0,-1).every((n,a)=>n===t[a])?s[s.length-1]-t[t.length-1]:0}function T3(s,t,r){r===void 0&&(r=!1);let{routesMeta:n}=s,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",h=Au({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=Au({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!h)return null;Object.assign(a,h.params),l.push({params:a,pathname:ya([i,h.pathname]),pathnameBase:R3(ya([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ya([i,h.pathnameBase]))}return l}function Au(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=M3(s.path,s.caseSensitive,s.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,h)=>{let{paramName:p,isOptional:y}=m;if(p==="*"){let f=o[h]||"";l=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const x=o[h];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:s}}function M3(s,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hj(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function D3(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hj(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function Il(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}function E3(s,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?Zl(s):s;return{pathname:r?r.startsWith("/")?r:A3(r,t):t,search:I3(n),hash:L3(a)}}function A3(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gh(s,t,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P3(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ep(s,t){let r=P3(s);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ap(s,t,r,n){n===void 0&&(n=!1);let a;typeof s=="string"?a=Zl(s):(a=gc({},s),tt(!a.pathname||!a.pathname.includes("?"),gh("?","pathname","search",a)),tt(!a.pathname||!a.pathname.includes("#"),gh("#","pathname","hash",a)),tt(!a.search||!a.search.includes("#"),gh("#","search","hash",a)));let i=s===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}o=h>=0?t[h]:"/"}let c=E3(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const ya=s=>s.join("/").replace(/\/\/+/g,"/"),R3=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),I3=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,L3=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function O3(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const fj=["post","put","patch","delete"];new Set(fj);const F3=["get",...fj];new Set(F3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},yc.apply(this,arguments)}const jm=u.createContext(null),gj=u.createContext(null),Ln=u.createContext(null),Nm=u.createContext(null),On=u.createContext({outlet:null,matches:[],isDataRoute:!1}),yj=u.createContext(null);function $3(s,t){let{relative:r}=t===void 0?{}:t;Kl()||tt(!1);let{basename:n,navigator:a}=u.useContext(Ln),{hash:i,pathname:l,search:o}=wm(s,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:ya([n,l])),a.createHref({pathname:c,search:o,hash:i})}function Kl(){return u.useContext(Nm)!=null}function wr(){return Kl()||tt(!1),u.useContext(Nm).location}function vj(s){u.useContext(Ln).static||u.useLayoutEffect(s)}function $r(){let{isDataRoute:s}=u.useContext(On);return s?Q3():V3()}function V3(){Kl()||tt(!1);let s=u.useContext(jm),{basename:t,future:r,navigator:n}=u.useContext(Ln),{matches:a}=u.useContext(On),{pathname:i}=wr(),l=JSON.stringify(Ep(a,r.v7_relativeSplatPath)),o=u.useRef(!1);return vj(()=>{o.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Ap(d,JSON.parse(l),i,m.relative==="path");s==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ya([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,i,s])}function zc(){let{matches:s}=u.useContext(On),t=s[s.length-1];return t?t.params:{}}function wm(s,t){let{relative:r}=t===void 0?{}:t,{future:n}=u.useContext(Ln),{matches:a}=u.useContext(On),{pathname:i}=wr(),l=JSON.stringify(Ep(a,n.v7_relativeSplatPath));return u.useMemo(()=>Ap(s,JSON.parse(l),i,r==="path"),[s,l,i,r])}function B3(s,t){return z3(s,t)}function z3(s,t,r,n){Kl()||tt(!1);let{navigator:a}=u.useContext(Ln),{matches:i}=u.useContext(On),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=wr(),m;if(t){var h;let b=typeof t=="string"?Zl(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||tt(!1),m=b}else m=d;let p=m.pathname||"/",y=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=g3(s,{pathname:y}),f=q3(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ya([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ya([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&f?u.createElement(Nm.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:na.Pop}},f):f}function U3(){let s=X3(),t=O3(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:a},r):null,i)}const W3=u.createElement(U3,null);class H3 extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(On.Provider,{value:this.props.routeContext},u.createElement(yj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G3(s){let{routeContext:t,match:r,children:n}=s,a=u.useContext(jm);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(On.Provider,{value:t},n)}function q3(s,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var i;if(!r)return null;if(r.errors)s=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let l=s,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);m>=0||tt(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let h=l[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:y}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,h,p)=>{let y,x=!1,f=null,b=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,f=h.route.errorElement||W3,c&&(d<0&&p===0?(J3("route-fallback",!1),x=!0,b=null):d===p&&(x=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(l.slice(0,p+1)),g=()=>{let w;return y?w=f:x?w=b:h.route.Component?w=u.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=m,u.createElement(G3,{match:h,routeContext:{outlet:m,matches:v,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?u.createElement(H3,{location:r.location,revalidation:r.revalidation,component:f,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var bj=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(bj||{}),Pu=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Pu||{});function Y3(s){let t=u.useContext(jm);return t||tt(!1),t}function Z3(s){let t=u.useContext(gj);return t||tt(!1),t}function K3(s){let t=u.useContext(On);return t||tt(!1),t}function jj(s){let t=K3(),r=t.matches[t.matches.length-1];return r.route.id||tt(!1),r.route.id}function X3(){var s;let t=u.useContext(yj),r=Z3(Pu.UseRouteError),n=jj(Pu.UseRouteError);return t!==void 0?t:(s=r.errors)==null?void 0:s[n]}function Q3(){let{router:s}=Y3(bj.UseNavigateStable),t=jj(Pu.UseNavigateStable),r=u.useRef(!1);return vj(()=>{r.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,yc({fromRouteId:t},i)))},[s,t])}const Kg={};function J3(s,t,r){!t&&!Kg[s]&&(Kg[s]=!0)}function e6(s,t){s==null||s.v7_startTransition,(s==null?void 0:s.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function t6(s){let{to:t,replace:r,state:n,relative:a}=s;Kl()||tt(!1);let{future:i,static:l}=u.useContext(Ln),{matches:o}=u.useContext(On),{pathname:c}=wr(),d=$r(),m=Ap(t,Ep(o,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(m);return u.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function W(s){tt(!1)}function s6(s){let{basename:t="/",children:r=null,location:n,navigationType:a=na.Pop,navigator:i,static:l=!1,future:o}=s;Kl()&&tt(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:l,future:yc({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Zl(n));let{pathname:m="/",search:h="",hash:p="",state:y=null,key:x="default"}=n,f=u.useMemo(()=>{let b=Il(m,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:y,key:x},navigationType:a}},[c,m,h,p,y,x,a]);return f==null?null:u.createElement(Ln.Provider,{value:d},u.createElement(Nm.Provider,{children:r,value:f}))}function Vr(s){let{children:t,location:r}=s;return B3(G0(t),r)}new Promise(()=>{});function G0(s,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(s,(n,a)=>{if(!u.isValidElement(n))return;let i=[...t,a];if(n.type===u.Fragment){r.push.apply(r,G0(n.props.children,i));return}n.type!==W&&tt(!1),!n.props.index||!n.props.children||tt(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=G0(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},Ru.apply(this,arguments)}function Nj(s,t){if(s==null)return{};var r={},n=Object.keys(s),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=s[a]);return r}function r6(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function n6(s,t){return s.button===0&&(!t||t==="_self")&&!r6(s)}const a6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],i6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],l6="6";try{window.__reactRouterVersion=l6}catch{}const o6=u.createContext({isTransitioning:!1}),c6="startTransition",Xg=r5[c6];function d6(s){let{basename:t,children:r,future:n,window:a}=s,i=u.useRef();i.current==null&&(i.current=x3({window:a,v5Compat:!0}));let l=i.current,[o,c]=u.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},m=u.useCallback(h=>{d&&Xg?Xg(()=>c(h)):c(h)},[c,d]);return u.useLayoutEffect(()=>l.listen(m),[l,m]),u.useEffect(()=>e6(n),[n]),u.createElement(s6,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const u6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=u.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:h}=t,p=Nj(t,a6),{basename:y}=u.useContext(Ln),x,f=!1;if(typeof d=="string"&&m6.test(d)&&(x=d,u6))try{let w=new URL(window.location.href),N=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=Il(N.pathname,y);N.origin===w.origin&&j!=null?d=j+N.search+N.hash:f=!0}catch{}let b=$3(d,{relative:a}),v=p6(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:h});function g(w){n&&n(w),w.defaultPrevented||v(w)}return u.createElement("a",Ru({},p,{href:x||b,onClick:f||i?n:g,ref:r,target:c}))}),h6=u.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:m}=t,h=Nj(t,i6),p=wm(c,{relative:h.relative}),y=wr(),x=u.useContext(gj),{navigator:f,basename:b}=u.useContext(Ln),v=x!=null&&f6(p)&&d===!0,g=f.encodeLocation?f.encodeLocation(p).pathname:p.pathname,w=y.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(w=w.toLowerCase(),N=N?N.toLowerCase():null,g=g.toLowerCase()),N&&b&&(N=Il(N,b)||N);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let _=w===g||!l&&w.startsWith(g)&&w.charAt(j)==="/",k=N!=null&&(N===g||!l&&N.startsWith(g)&&N.charAt(g.length)==="/"),T={isActive:_,isPending:k,isTransitioning:v},C=_?n:void 0,E;typeof i=="function"?E=i(T):E=[i,_?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o(T):o;return u.createElement(Kr,Ru({},h,{"aria-current":C,className:E,ref:r,style:R,to:c,viewTransition:d}),typeof m=="function"?m(T):m)});var q0;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(q0||(q0={}));var Qg;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Qg||(Qg={}));function x6(s){let t=u.useContext(jm);return t||tt(!1),t}function p6(s,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=$r(),d=wr(),m=wm(s,{relative:l});return u.useCallback(h=>{if(n6(h,r)){h.preventDefault();let p=n!==void 0?n:Eu(d)===Eu(m);c(s,{replace:p,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,n,a,r,s,i,l,o])}function f6(s,t){t===void 0&&(t={});let r=u.useContext(o6);r==null&&tt(!1);let{basename:n}=x6(q0.useViewTransitionState),a=wm(s,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Il(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Il(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Au(a.pathname,l)!=null||Au(a.pathname,i)!=null}function pn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function wj(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ll={duration:.5,overwrite:!1,delay:0},Pp,Yt,He,pr=1e8,Ie=1/pr,Y0=Math.PI*2,g6=Y0/4,y6=0,_j=Math.sqrt,v6=Math.cos,b6=Math.sin,Vt=function(t){return typeof t=="string"},ct=function(t){return typeof t=="function"},En=function(t){return typeof t=="number"},Rp=function(t){return typeof t>"u"},an=function(t){return typeof t=="object"},Rs=function(t){return t!==!1},Ip=function(){return typeof window<"u"},gd=function(t){return ct(t)||Vt(t)},kj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ms=Array.isArray,Z0=/(?:-?\.?\d|\.)+/gi,Sj=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,nl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Cj=/[+-]=-?[.\d]+/,Tj=/[^,'"\[\]\s]+/gi,j6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ke,Gr,K0,Lp,er={},Iu={},Mj,Dj=function(t){return(Iu=Ol(t,er))&&Fs},Op=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},vc=function(t,r){return!r&&console.warn(t)},Ej=function(t,r){return t&&(er[t]=r)&&Iu&&(Iu[t]=r)||er},bc=function(){return 0},N6={suppressEvents:!0,isStart:!0,kill:!1},Zd={suppressEvents:!0,kill:!1},w6={suppressEvents:!0},Fp={},va=[],X0={},Aj,Hs={},vh={},Jg=30,Kd=[],$p="",Vp=function(t){var r=t[0],n,a;if(an(r)||ct(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(a=Kd.length;a--&&!Kd[a].targetTest(r););n=Kd[a]}for(a=t.length;a--;)t[a]&&(t[a]._gsap||(t[a]._gsap=new s2(t[a],n)))||t.splice(a,1);return t},hi=function(t){return t._gsap||Vp(fr(t))[0]._gsap},Pj=function(t,r,n){return(n=t[r])&&ct(n)?t[r]():Rp(n)&&t.getAttribute&&t.getAttribute(r)||n},Is=function(t,r){return(t=t.split(",")).forEach(r)||t},xt=function(t){return Math.round(t*1e5)/1e5||0},Nt=function(t){return Math.round(t*1e7)/1e7||0},vl=function(t,r){var n=r.charAt(0),a=parseFloat(r.substr(2));return t=parseFloat(t),n==="+"?t+a:n==="-"?t-a:n==="*"?t*a:t/a},_6=function(t,r){for(var n=r.length,a=0;t.indexOf(r[a])<0&&++a<n;);return a<n},Lu=function(){var t=va.length,r=va.slice(0),n,a;for(X0={},va.length=0,n=0;n<t;n++)a=r[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Bp=function(t){return!!(t._initted||t._startAt||t.add)},Rj=function(t,r,n,a){va.length&&!Yt&&Lu(),t.render(r,n,a||!!(Yt&&r<0&&Bp(t))),va.length&&!Yt&&Lu()},Ij=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(Tj).length<2?r:Vt(t)?t.trim():t},Lj=function(t){return t},tr=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},k6=function(t){return function(r,n){for(var a in n)a in r||a==="duration"&&t||a==="ease"||(r[a]=n[a])}},Ol=function(t,r){for(var n in r)t[n]=r[n];return t},ey=function s(t,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=an(r[n])?s(t[n]||(t[n]={}),r[n]):r[n]);return t},Ou=function(t,r){var n={},a;for(a in t)a in r||(n[a]=t[a]);return n},Oo=function(t){var r=t.parent||Ke,n=t.keyframes?k6(ms(t.keyframes)):tr;if(Rs(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},S6=function(t,r){for(var n=t.length,a=n===r.length;a&&n--&&t[n]===r[n];);return n<0},Oj=function(t,r,n,a,i){n===void 0&&(n="_first"),a===void 0&&(a="_last");var l=t[a],o;if(i)for(o=r[i];l&&l[i]>o;)l=l._prev;return l?(r._next=l._next,l._next=r):(r._next=t[n],t[n]=r),r._next?r._next._prev=r:t[a]=r,r._prev=l,r.parent=r._dp=t,r},_m=function(t,r,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var i=r._prev,l=r._next;i?i._next=l:t[n]===r&&(t[n]=l),l?l._prev=i:t[a]===r&&(t[a]=i),r._next=r._prev=r.parent=null},Da=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},xi=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},C6=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},Q0=function(t,r,n,a){return t._startAt&&(Yt?t._startAt.revert(Zd):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,a))},T6=function s(t){return!t||t._ts&&s(t.parent)},ty=function(t){return t._repeat?Fl(t._tTime,t=t.duration()+t._rDelay)*t:0},Fl=function(t,r){var n=Math.floor(t=Nt(t/r));return t&&n===t?n-1:n},Fu=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},km=function(t){return t._end=Nt(t._start+(t._tDur/Math.abs(t._ts||t._rts||Ie)||0))},Sm=function(t,r){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Nt(n._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),km(t),n._dirty||xi(n,t)),t},Fj=function(t,r){var n;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(n=Fu(t.rawTime(),r),(!r._dur||Uc(0,r.totalDuration(),n)-r._tTime>Ie)&&r.render(n,!0)),xi(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Ie}},Zr=function(t,r,n,a){return r.parent&&Da(r),r._start=Nt((En(n)?n:n||t!==Ke?or(t,n,r):t._time)+r._delay),r._end=Nt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),Oj(t,r,"_first","_last",t._sort?"_start":0),J0(r)||(t._recent=r),a||Fj(t,r),t._ts<0&&Sm(t,t._tTime),t},$j=function(t,r){return(er.ScrollTrigger||Op("scrollTrigger",r))&&er.ScrollTrigger.create(r,t)},Vj=function(t,r,n,a,i){if(Up(t,r,i),!t._initted)return 1;if(!n&&t._pt&&!Yt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Aj!==qs.frame)return va.push(t),t._lazy=[i,a],1},M6=function s(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||s(r))},J0=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},D6=function(t,r,n,a){var i=t.ratio,l=r<0||!r&&(!t._start&&M6(t)&&!(!t._initted&&J0(t))||(t._ts<0||t._dp._ts<0)&&!J0(t))?0:1,o=t._rDelay,c=0,d,m,h;if(o&&t._repeat&&(c=Uc(0,t._tDur,r),m=Fl(c,o),t._yoyo&&m&1&&(l=1-l),m!==Fl(t._tTime,o)&&(i=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==i||Yt||a||t._zTime===Ie||!r&&t._zTime){if(!t._initted&&Vj(t,r,a,n,c))return;for(h=t._zTime,t._zTime=r||(n?Ie:0),n||(n=r&&!h),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=c,d=t._pt;d;)d.r(l,d.d),d=d._next;r<0&&Q0(t,r,n,!0),t._onUpdate&&!n&&Ks(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Ks(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===l&&(l&&Da(t,1),!n&&!Yt&&(Ks(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},E6=function(t,r,n){var a;if(n>r)for(a=t._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>r)return a;a=a._next}else for(a=t._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<r)return a;a=a._prev}},$l=function(t,r,n,a){var i=t._repeat,l=Nt(r)||0,o=t._tTime/t._tDur;return o&&!a&&(t._time*=l/t._dur),t._dur=l,t._tDur=i?i<0?1e10:Nt(l*(i+1)+t._rDelay*i):l,o>0&&!a&&Sm(t,t._tTime=t._tDur*o),t.parent&&km(t),n||xi(t.parent,t),t},sy=function(t){return t instanceof Ns?xi(t):$l(t,t._dur)},A6={_start:0,endTime:bc,totalDuration:bc},or=function s(t,r,n){var a=t.labels,i=t._recent||A6,l=t.duration()>=pr?i.endTime(!1):t._dur,o,c,d;return Vt(r)&&(isNaN(r)||r in a)?(c=r.charAt(0),d=r.substr(-1)==="%",o=r.indexOf("="),c==="<"||c===">"?(o>=0&&(r=r.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(r.substr(1))||0)*(d?(o<0?i:n).totalDuration()/100:1)):o<0?(r in a||(a[r]=l),a[r]):(c=parseFloat(r.charAt(o-1)+r.substr(o+1)),d&&n&&(c=c/100*(ms(n)?n[0]:n).totalDuration()),o>1?s(t,r.substr(0,o-1),n)+c:l+c)):r==null?l:+r},Fo=function(t,r,n){var a=En(r[1]),i=(a?2:1)+(t<2?0:1),l=r[i],o,c;if(a&&(l.duration=r[1]),l.parent=n,t){for(o=l,c=n;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=Rs(c.vars.inherit)&&c.parent;l.immediateRender=Rs(o.immediateRender),t<2?l.runBackwards=1:l.startAt=r[i-1]}return new jt(r[0],l,r[i+1])},Va=function(t,r){return t||t===0?r(t):r},Uc=function(t,r,n){return n<t?t:n>r?r:n},cs=function(t,r){return!Vt(t)||!(r=j6.exec(t))?"":r[1]},P6=function(t,r,n){return Va(n,function(a){return Uc(t,r,a)})},ex=[].slice,Bj=function(t,r){return t&&an(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&an(t[0]))&&!t.nodeType&&t!==Gr},R6=function(t,r,n){return n===void 0&&(n=[]),t.forEach(function(a){var i;return Vt(a)&&!r||Bj(a,1)?(i=n).push.apply(i,fr(a)):n.push(a)})||n},fr=function(t,r,n){return He&&!r&&He.selector?He.selector(t):Vt(t)&&!n&&(K0||!Vl())?ex.call((r||Lp).querySelectorAll(t),0):ms(t)?R6(t,n):Bj(t)?ex.call(t,0):t?[t]:[]},tx=function(t){return t=fr(t)[0]||vc("Invalid scope")||{},function(r){var n=t.current||t.nativeElement||t;return fr(r,n.querySelectorAll?n:n===t?vc("Invalid scope")||Lp.createElement("div"):t)}},zj=function(t){return t.sort(function(){return .5-Math.random()})},Uj=function(t){if(ct(t))return t;var r=an(t)?t:{each:t},n=pi(r.ease),a=r.from||0,i=parseFloat(r.base)||0,l={},o=a>0&&a<1,c=isNaN(a)||o,d=r.axis,m=a,h=a;return Vt(a)?m=h={center:.5,edges:.5,end:1}[a]||0:!o&&c&&(m=a[0],h=a[1]),function(p,y,x){var f=(x||r).length,b=l[f],v,g,w,N,j,_,k,T,C;if(!b){if(C=r.grid==="auto"?0:(r.grid||[1,pr])[1],!C){for(k=-pr;k<(k=x[C++].getBoundingClientRect().left)&&C<f;);C<f&&C--}for(b=l[f]=[],v=c?Math.min(C,f)*m-.5:a%C,g=C===pr?0:c?f*h/C-.5:a/C|0,k=0,T=pr,_=0;_<f;_++)w=_%C-v,N=g-(_/C|0),b[_]=j=d?Math.abs(d==="y"?N:w):_j(w*w+N*N),j>k&&(k=j),j<T&&(T=j);a==="random"&&zj(b),b.max=k-T,b.min=T,b.v=f=(parseFloat(r.amount)||parseFloat(r.each)*(C>f?f-1:d?d==="y"?f/C:C:Math.max(C,f/C))||0)*(a==="edges"?-1:1),b.b=f<0?i-f:i,b.u=cs(r.amount||r.each)||0,n=n&&f<0?Jj(n):n}return f=(b[p]-b.min)/b.max||0,Nt(b.b+(n?n(f):f)*b.v)+b.u}},sx=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var a=Nt(Math.round(parseFloat(n)/t)*t*r);return(a-a%1)/r+(En(n)?0:cs(n))}},Wj=function(t,r){var n=ms(t),a,i;return!n&&an(t)&&(a=n=t.radius||pr,t.values?(t=fr(t.values),(i=!En(t[0]))&&(a*=a)):t=sx(t.increment)),Va(r,n?ct(t)?function(l){return i=t(l),Math.abs(i-l)<=a?i:l}:function(l){for(var o=parseFloat(i?l.x:l),c=parseFloat(i?l.y:0),d=pr,m=0,h=t.length,p,y;h--;)i?(p=t[h].x-o,y=t[h].y-c,p=p*p+y*y):p=Math.abs(t[h]-o),p<d&&(d=p,m=h);return m=!a||d<=a?t[m]:l,i||m===l||En(l)?m:m+cs(l)}:sx(t))},Hj=function(t,r,n,a){return Va(ms(t)?!r:n===!0?!!(n=0):!a,function(){return ms(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(r-t+n*.99))/n)*n*a)/a})},I6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(a){return r.reduce(function(i,l){return l(i)},a)}},L6=function(t,r){return function(n){return t(parseFloat(n))+(r||cs(n))}},O6=function(t,r,n){return qj(t,r,0,1,n)},Gj=function(t,r,n){return Va(n,function(a){return t[~~r(a)]})},F6=function s(t,r,n){var a=r-t;return ms(t)?Gj(t,s(0,t.length),r):Va(n,function(i){return(a+(i-t)%a)%a+t})},$6=function s(t,r,n){var a=r-t,i=a*2;return ms(t)?Gj(t,s(0,t.length-1),r):Va(n,function(l){return l=(i+(l-t)%i)%i||0,t+(l>a?i-l:l)})},jc=function(t){for(var r=0,n="",a,i,l,o;~(a=t.indexOf("random(",r));)l=t.indexOf(")",a),o=t.charAt(a+7)==="[",i=t.substr(a+7,l-a-7).match(o?Tj:Z0),n+=t.substr(r,a-r)+Hj(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),r=l+1;return n+t.substr(r,t.length-r)},qj=function(t,r,n,a,i){var l=r-t,o=a-n;return Va(i,function(c){return n+((c-t)/l*o||0)})},V6=function s(t,r,n,a){var i=isNaN(t+r)?0:function(y){return(1-y)*t+y*r};if(!i){var l=Vt(t),o={},c,d,m,h,p;if(n===!0&&(a=1)&&(n=null),l)t={p:t},r={p:r};else if(ms(t)&&!ms(r)){for(m=[],h=t.length,p=h-2,d=1;d<h;d++)m.push(s(t[d-1],t[d]));h--,i=function(x){x*=h;var f=Math.min(p,~~x);return m[f](x-f)},n=r}else a||(t=Ol(ms(t)?[]:{},t));if(!m){for(c in r)zp.call(o,t,c,"get",r[c]);i=function(x){return Gp(x,o)||(l?t.p:t)}}}return Va(n,i)},ry=function(t,r,n){var a=t.labels,i=pr,l,o,c;for(l in a)o=a[l]-r,o<0==!!n&&o&&i>(o=Math.abs(o))&&(c=l,i=o);return c},Ks=function(t,r,n){var a=t.vars,i=a[r],l=He,o=t._ctx,c,d,m;if(i)return c=a[r+"Params"],d=a.callbackScope||t,n&&va.length&&Lu(),o&&(He=o),m=c?i.apply(d,c):i.call(d),He=l,m},bo=function(t){return Da(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Yt),t.progress()<1&&Ks(t,"onInterrupt"),t},al,Yj=[],Zj=function(t){if(t)if(t=!t.name&&t.default||t,Ip()||t.headless){var r=t.name,n=ct(t),a=r&&!n&&t.init?function(){this._props=[]}:t,i={init:bc,render:Gp,add:zp,kill:s_,modifier:t_,rawVars:0},l={targetTest:0,get:0,getSetter:Hp,aliases:{},register:0};if(Vl(),t!==a){if(Hs[r])return;tr(a,tr(Ou(t,i),l)),Ol(a.prototype,Ol(i,Ou(t,l))),Hs[a.prop=r]=a,t.targetTest&&(Kd.push(a),Fp[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Ej(r,a),t.register&&t.register(Fs,a,Ls)}else Yj.push(t)},Re=255,jo={aqua:[0,Re,Re],lime:[0,Re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Re],navy:[0,0,128],white:[Re,Re,Re],olive:[128,128,0],yellow:[Re,Re,0],orange:[Re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Re,0,0],pink:[Re,192,203],cyan:[0,Re,Re],transparent:[Re,Re,Re,0]},bh=function(t,r,n){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(n-r)*t*6:t<.5?n:t*3<2?r+(n-r)*(2/3-t)*6:r)*Re+.5|0},Kj=function(t,r,n){var a=t?En(t)?[t>>16,t>>8&Re,t&Re]:0:jo.black,i,l,o,c,d,m,h,p,y,x;if(!a){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),jo[t])a=jo[t];else if(t.charAt(0)==="#"){if(t.length<6&&(i=t.charAt(1),l=t.charAt(2),o=t.charAt(3),t="#"+i+i+l+l+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return a=parseInt(t.substr(1,6),16),[a>>16,a>>8&Re,a&Re,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),a=[t>>16,t>>8&Re,t&Re]}else if(t.substr(0,3)==="hsl"){if(a=x=t.match(Z0),!r)c=+a[0]%360/360,d=+a[1]/100,m=+a[2]/100,l=m<=.5?m*(d+1):m+d-m*d,i=m*2-l,a.length>3&&(a[3]*=1),a[0]=bh(c+1/3,i,l),a[1]=bh(c,i,l),a[2]=bh(c-1/3,i,l);else if(~t.indexOf("="))return a=t.match(Sj),n&&a.length<4&&(a[3]=1),a}else a=t.match(Z0)||jo.transparent;a=a.map(Number)}return r&&!x&&(i=a[0]/Re,l=a[1]/Re,o=a[2]/Re,h=Math.max(i,l,o),p=Math.min(i,l,o),m=(h+p)/2,h===p?c=d=0:(y=h-p,d=m>.5?y/(2-h-p):y/(h+p),c=h===i?(l-o)/y+(l<o?6:0):h===l?(o-i)/y+2:(i-l)/y+4,c*=60),a[0]=~~(c+.5),a[1]=~~(d*100+.5),a[2]=~~(m*100+.5)),n&&a.length<4&&(a[3]=1),a},Xj=function(t){var r=[],n=[],a=-1;return t.split(ba).forEach(function(i){var l=i.match(nl)||[];r.push.apply(r,l),n.push(a+=l.length+1)}),r.c=n,r},ny=function(t,r,n){var a="",i=(t+a).match(ba),l=r?"hsla(":"rgba(",o=0,c,d,m,h;if(!i)return t;if(i=i.map(function(p){return(p=Kj(p,r,1))&&l+(r?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),n&&(m=Xj(t),c=n.c,c.join(a)!==m.c.join(a)))for(d=t.replace(ba,"1").split(nl),h=d.length-1;o<h;o++)a+=d[o]+(~c.indexOf(o)?i.shift()||l+"0,0,0,0)":(m.length?m:i.length?i:n).shift());if(!d)for(d=t.split(ba),h=d.length-1;o<h;o++)a+=d[o]+i[o];return a+d[h]},ba=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in jo)s+="|"+t+"\\b";return new RegExp(s+")","gi")}(),B6=/hsl[a]?\(/,Qj=function(t){var r=t.join(" "),n;if(ba.lastIndex=0,ba.test(r))return n=B6.test(r),t[1]=ny(t[1],n),t[0]=ny(t[0],n,Xj(t[1])),!0},Nc,qs=function(){var s=Date.now,t=500,r=33,n=s(),a=n,i=1e3/240,l=i,o=[],c,d,m,h,p,y,x=function f(b){var v=s()-a,g=b===!0,w,N,j,_;if((v>t||v<0)&&(n+=v-r),a+=v,j=a-n,w=j-l,(w>0||g)&&(_=++h.frame,p=j-h.time*1e3,h.time=j=j/1e3,l+=w+(w>=i?4:i-w),N=1),g||(c=d(f)),N)for(y=0;y<o.length;y++)o[y](j,p,_,b)};return h={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(b){return p/(1e3/(b||60))},wake:function(){Mj&&(!K0&&Ip()&&(Gr=K0=window,Lp=Gr.document||{},er.gsap=Fs,(Gr.gsapVersions||(Gr.gsapVersions=[])).push(Fs.version),Dj(Iu||Gr.GreenSockGlobals||!Gr.gsap&&Gr||{}),Yj.forEach(Zj)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&h.sleep(),d=m||function(b){return setTimeout(b,l-h.time*1e3+1|0)},Nc=1,x(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(c),Nc=0,d=bc},lagSmoothing:function(b,v){t=b||1/0,r=Math.min(v||33,t)},fps:function(b){i=1e3/(b||240),l=h.time*1e3+i},add:function(b,v,g){var w=v?function(N,j,_,k){b(N,j,_,k),h.remove(w)}:b;return h.remove(b),o[g?"unshift":"push"](w),Vl(),w},remove:function(b,v){~(v=o.indexOf(b))&&o.splice(v,1)&&y>=v&&y--},_listeners:o},h}(),Vl=function(){return!Nc&&qs.wake()},be={},z6=/^[\d.\-M][\d.\-,\s]/,U6=/["']/g,W6=function(t){for(var r={},n=t.substr(1,t.length-3).split(":"),a=n[0],i=1,l=n.length,o,c,d;i<l;i++)c=n[i],o=i!==l-1?c.lastIndexOf(","):c.length,d=c.substr(0,o),r[a]=isNaN(d)?d.replace(U6,"").trim():+d,a=c.substr(o+1).trim();return r},H6=function(t){var r=t.indexOf("(")+1,n=t.indexOf(")"),a=t.indexOf("(",r);return t.substring(r,~a&&a<n?t.indexOf(")",n+1):n)},G6=function(t){var r=(t+"").split("("),n=be[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[W6(r[1])]:H6(t).split(",").map(Ij)):be._CE&&z6.test(t)?be._CE("",t):n},Jj=function(t){return function(r){return 1-t(1-r)}},e2=function s(t,r){for(var n=t._first,a;n;)n instanceof Ns?s(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?s(n.timeline,r):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=r)),n=n._next},pi=function(t,r){return t&&(ct(t)?t:be[t]||G6(t))||r},Pi=function(t,r,n,a){n===void 0&&(n=function(c){return 1-r(1-c)}),a===void 0&&(a=function(c){return c<.5?r(c*2)/2:1-r((1-c)*2)/2});var i={easeIn:r,easeOut:n,easeInOut:a},l;return Is(t,function(o){be[o]=er[o]=i,be[l=o.toLowerCase()]=n;for(var c in i)be[l+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=be[o+"."+c]=i[c]}),i},t2=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},jh=function s(t,r,n){var a=r>=1?r:1,i=(n||(t?.3:.45))/(r<1?r:1),l=i/Y0*(Math.asin(1/a)||0),o=function(m){return m===1?1:a*Math.pow(2,-10*m)*b6((m-l)*i)+1},c=t==="out"?o:t==="in"?function(d){return 1-o(1-d)}:t2(o);return i=Y0/i,c.config=function(d,m){return s(t,d,m)},c},Nh=function s(t,r){r===void 0&&(r=1.70158);var n=function(l){return l?--l*l*((r+1)*l+r)+1:0},a=t==="out"?n:t==="in"?function(i){return 1-n(1-i)}:t2(n);return a.config=function(i){return s(t,i)},a};Is("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,t){var r=t<5?t+1:t;Pi(s+",Power"+(r-1),t?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});be.Linear.easeNone=be.none=be.Linear.easeIn;Pi("Elastic",jh("in"),jh("out"),jh());(function(s,t){var r=1/t,n=2*r,a=2.5*r,i=function(o){return o<r?s*o*o:o<n?s*Math.pow(o-1.5/t,2)+.75:o<a?s*(o-=2.25/t)*o+.9375:s*Math.pow(o-2.625/t,2)+.984375};Pi("Bounce",function(l){return 1-i(1-l)},i)})(7.5625,2.75);Pi("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});Pi("Circ",function(s){return-(_j(1-s*s)-1)});Pi("Sine",function(s){return s===1?1:-v6(s*g6)+1});Pi("Back",Nh("in"),Nh("out"),Nh());be.SteppedEase=be.steps=er.SteppedEase={config:function(t,r){t===void 0&&(t=1);var n=1/t,a=t+(r?0:1),i=r?1:0,l=1-Ie;return function(o){return((a*Uc(0,l,o)|0)+i)*n}}};Ll.ease=be["quad.out"];Is("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return $p+=s+","+s+"Params,"});var s2=function(t,r){this.id=y6++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:Pj,this.set=r?r.getSetter:Hp},wc=function(){function s(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,$l(this,+r.duration,1,1),this.data=r.data,He&&(this._ctx=He,He.data.push(this)),Nc||qs.wake()}var t=s.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,$l(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,a){if(Vl(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Sm(this,n),!i._dp||i.parent||Fj(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Zr(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Ie||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Rj(this,n,a)),this},t.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+ty(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},t.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+ty(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,a){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,a):this._repeat?Fl(this._tTime,i)+1:1},t.timeScale=function(n,a){if(!arguments.length)return this._rts===-Ie?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Fu(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Ie?0:this._rts,this.totalTime(Uc(-Math.abs(this._delay),this.totalDuration(),i),a!==!1),km(this),C6(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ie&&(this._tTime-=Ie)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=n;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Zr(a,this,n-this._delay),this}return this._start},t.endTime=function(n){return this._start+(Rs(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fu(a.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=w6);var a=Yt;return Yt=n,Bp(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Yt=a,this},t.globalTime=function(n){for(var a=this,i=arguments.length?n:a.rawTime();a;)i=a._start+i/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,sy(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,sy(this),a?this.time(a):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,a){return this.totalTime(or(this,n),Rs(a))},t.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,Rs(a)),this._dur||(this._zTime=-Ie),this},t.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},t.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},t.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Ie:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ie,this},t.isActive=function(){var n=this.parent||this._dp,a=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=a&&i<this.endTime(!0)-Ie)},t.eventCallback=function(n,a,i){var l=this.vars;return arguments.length>1?(a?(l[n]=a,i&&(l[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=a)):delete l[n],this):l[n]},t.then=function(n){var a=this;return new Promise(function(i){var l=ct(n)?n:Lj,o=function(){var d=a.then;a.then=null,ct(l)&&(l=l(a))&&(l.then||l===a)&&(a.then=d),i(l),a.then=d};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?o():a._prom=o})},t.kill=function(){bo(this)},s}();tr(wc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ie,_prom:0,_ps:!1,_rts:1});var Ns=function(s){wj(t,s);function t(n,a){var i;return n===void 0&&(n={}),i=s.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=Rs(n.sortChildren),Ke&&Zr(n.parent||Ke,pn(i),a),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&$j(pn(i),n.scrollTrigger),i}var r=t.prototype;return r.to=function(a,i,l){return Fo(0,arguments,this),this},r.from=function(a,i,l){return Fo(1,arguments,this),this},r.fromTo=function(a,i,l,o){return Fo(2,arguments,this),this},r.set=function(a,i,l){return i.duration=0,i.parent=this,Oo(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new jt(a,i,or(this,l),1),this},r.call=function(a,i,l){return Zr(this,jt.delayedCall(0,a,i),l)},r.staggerTo=function(a,i,l,o,c,d,m){return l.duration=i,l.stagger=l.stagger||o,l.onComplete=d,l.onCompleteParams=m,l.parent=this,new jt(a,l,or(this,c)),this},r.staggerFrom=function(a,i,l,o,c,d,m){return l.runBackwards=1,Oo(l).immediateRender=Rs(l.immediateRender),this.staggerTo(a,i,l,o,c,d,m)},r.staggerFromTo=function(a,i,l,o,c,d,m,h){return o.startAt=l,Oo(o).immediateRender=Rs(o.immediateRender),this.staggerTo(a,i,o,c,d,m,h)},r.render=function(a,i,l){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,m=a<=0?0:Nt(a),h=this._zTime<0!=a<0&&(this._initted||!d),p,y,x,f,b,v,g,w,N,j,_,k;if(this!==Ke&&m>c&&a>=0&&(m=c),m!==this._tTime||l||h){if(o!==this._time&&d&&(m+=this._time-o,a+=this._time-o),p=m,N=this._start,w=this._ts,v=!w,h&&(d||(o=this._zTime),(a||!i)&&(this._zTime=a)),this._repeat){if(_=this._yoyo,b=d+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(b*100+a,i,l);if(p=Nt(m%b),m===c?(f=this._repeat,p=d):(j=Nt(m/b),f=~~j,f&&f===j&&(p=d,f--),p>d&&(p=d)),j=Fl(this._tTime,b),!o&&this._tTime&&j!==f&&this._tTime-j*b-this._dur<=0&&(j=f),_&&f&1&&(p=d-p,k=1),f!==j&&!this._lock){var T=_&&j&1,C=T===(_&&f&1);if(f<j&&(T=!T),o=T?0:m%d?d:m,this._lock=1,this.render(o||(k?0:Nt(f*b)),i,!d)._lock=0,this._tTime=m,!i&&this.parent&&Ks(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),o&&o!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,C&&(this._lock=2,o=T?d:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;e2(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(g=E6(this,Nt(o),Nt(p)),g&&(m-=p-(p=g._start))),this._tTime=m,this._time=p,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,o=0),!o&&m&&!i&&!j&&(Ks(this,"onStart"),this._tTime!==m))return this;if(p>=o&&a>=0)for(y=this._first;y;){if(x=y._next,(y._act||p>=y._start)&&y._ts&&g!==y){if(y.parent!==this)return this.render(a,i,l);if(y.render(y._ts>0?(p-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(p-y._start)*y._ts,i,l),p!==this._time||!this._ts&&!v){g=0,x&&(m+=this._zTime=-Ie);break}}y=x}else{y=this._last;for(var E=a<0?a:p;y;){if(x=y._prev,(y._act||E<=y._end)&&y._ts&&g!==y){if(y.parent!==this)return this.render(a,i,l);if(y.render(y._ts>0?(E-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(E-y._start)*y._ts,i,l||Yt&&Bp(y)),p!==this._time||!this._ts&&!v){g=0,x&&(m+=this._zTime=E?-Ie:Ie);break}}y=x}}if(g&&!i&&(this.pause(),g.render(p>=o?0:-Ie)._zTime=p>=o?1:-1,this._ts))return this._start=N,km(this),this.render(a,i,l);this._onUpdate&&!i&&Ks(this,"onUpdate",!0),(m===c&&this._tTime>=this.totalDuration()||!m&&o)&&(N===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((a||!d)&&(m===c&&this._ts>0||!m&&this._ts<0)&&Da(this,1),!i&&!(a<0&&!o)&&(m||o||!c)&&(Ks(this,m===c&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(a,i){var l=this;if(En(i)||(i=or(this,i,a)),!(a instanceof wc)){if(ms(a))return a.forEach(function(o){return l.add(o,i)}),this;if(Vt(a))return this.addLabel(a,i);if(ct(a))a=jt.delayedCall(0,a);else return this}return this!==a?Zr(this,a,i):this},r.getChildren=function(a,i,l,o){a===void 0&&(a=!0),i===void 0&&(i=!0),l===void 0&&(l=!0),o===void 0&&(o=-pr);for(var c=[],d=this._first;d;)d._start>=o&&(d instanceof jt?i&&c.push(d):(l&&c.push(d),a&&c.push.apply(c,d.getChildren(!0,i,l)))),d=d._next;return c},r.getById=function(a){for(var i=this.getChildren(1,1,1),l=i.length;l--;)if(i[l].vars.id===a)return i[l]},r.remove=function(a){return Vt(a)?this.removeLabel(a):ct(a)?this.killTweensOf(a):(a.parent===this&&_m(this,a),a===this._recent&&(this._recent=this._last),xi(this))},r.totalTime=function(a,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Nt(qs.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),s.prototype.totalTime.call(this,a,i),this._forcing=0,this):this._tTime},r.addLabel=function(a,i){return this.labels[a]=or(this,i),this},r.removeLabel=function(a){return delete this.labels[a],this},r.addPause=function(a,i,l){var o=jt.delayedCall(0,i||bc,l);return o.data="isPause",this._hasPause=1,Zr(this,o,or(this,a))},r.removePause=function(a){var i=this._first;for(a=or(this,a);i;)i._start===a&&i.data==="isPause"&&Da(i),i=i._next},r.killTweensOf=function(a,i,l){for(var o=this.getTweensOf(a,l),c=o.length;c--;)aa!==o[c]&&o[c].kill(a,i);return this},r.getTweensOf=function(a,i){for(var l=[],o=fr(a),c=this._first,d=En(i),m;c;)c instanceof jt?_6(c._targets,o)&&(d?(!aa||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&l.push(c):(m=c.getTweensOf(o,i)).length&&l.push.apply(l,m),c=c._next;return l},r.tweenTo=function(a,i){i=i||{};var l=this,o=or(l,a),c=i,d=c.startAt,m=c.onStart,h=c.onStartParams,p=c.immediateRender,y,x=jt.to(l,tr({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:i.duration||Math.abs((o-(d&&"time"in d?d.time:l._time))/l.timeScale())||Ie,onStart:function(){if(l.pause(),!y){var b=i.duration||Math.abs((o-(d&&"time"in d?d.time:l._time))/l.timeScale());x._dur!==b&&$l(x,b,0,1).render(x._time,!0,!0),y=1}m&&m.apply(x,h||[])}},i));return p?x.render(0):x},r.tweenFromTo=function(a,i,l){return this.tweenTo(i,tr({startAt:{time:or(this,a)}},l))},r.recent=function(){return this._recent},r.nextLabel=function(a){return a===void 0&&(a=this._time),ry(this,or(this,a))},r.previousLabel=function(a){return a===void 0&&(a=this._time),ry(this,or(this,a),1)},r.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Ie)},r.shiftChildren=function(a,i,l){l===void 0&&(l=0);for(var o=this._first,c=this.labels,d;o;)o._start>=l&&(o._start+=a,o._end+=a),o=o._next;if(i)for(d in c)c[d]>=l&&(c[d]+=a);return xi(this)},r.invalidate=function(a){var i=this._first;for(this._lock=0;i;)i.invalidate(a),i=i._next;return s.prototype.invalidate.call(this,a)},r.clear=function(a){a===void 0&&(a=!0);for(var i=this._first,l;i;)l=i._next,this.remove(i),i=l;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),xi(this)},r.totalDuration=function(a){var i=0,l=this,o=l._last,c=pr,d,m,h;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-a:a));if(l._dirty){for(h=l.parent;o;)d=o._prev,o._dirty&&o.totalDuration(),m=o._start,m>c&&l._sort&&o._ts&&!l._lock?(l._lock=1,Zr(l,o,m-o._delay,1)._lock=0):c=m,m<0&&o._ts&&(i-=m,(!h&&!l._dp||h&&h.smoothChildTiming)&&(l._start+=m/l._ts,l._time-=m,l._tTime-=m),l.shiftChildren(-m,!1,-1/0),c=0),o._end>i&&o._ts&&(i=o._end),o=d;$l(l,l===Ke&&l._time>i?l._time:i,1,1),l._dirty=0}return l._tDur},t.updateRoot=function(a){if(Ke._ts&&(Rj(Ke,Fu(a,Ke)),Aj=qs.frame),qs.frame>=Jg){Jg+=Qs.autoSleep||120;var i=Ke._first;if((!i||!i._ts)&&Qs.autoSleep&&qs._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||qs.sleep()}}},t}(wc);tr(Ns.prototype,{_lock:0,_hasPause:0,_forcing:0});var q6=function(t,r,n,a,i,l,o){var c=new Ls(this._pt,t,r,0,1,o2,null,i),d=0,m=0,h,p,y,x,f,b,v,g;for(c.b=n,c.e=a,n+="",a+="",(v=~a.indexOf("random("))&&(a=jc(a)),l&&(g=[n,a],l(g,t,r),n=g[0],a=g[1]),p=n.match(yh)||[];h=yh.exec(a);)x=h[0],f=a.substring(d,h.index),y?y=(y+1)%5:f.substr(-5)==="rgba("&&(y=1),x!==p[m++]&&(b=parseFloat(p[m-1])||0,c._pt={_next:c._pt,p:f||m===1?f:",",s:b,c:x.charAt(1)==="="?vl(b,x)-b:parseFloat(x)-b,m:y&&y<4?Math.round:0},d=yh.lastIndex);return c.c=d<a.length?a.substring(d,a.length):"",c.fp=o,(Cj.test(a)||v)&&(c.e=0),this._pt=c,c},zp=function(t,r,n,a,i,l,o,c,d,m){ct(a)&&(a=a(i||0,t,l));var h=t[r],p=n!=="get"?n:ct(h)?d?t[r.indexOf("set")||!ct(t["get"+r.substr(3)])?r:"get"+r.substr(3)](d):t[r]():h,y=ct(h)?d?Q6:i2:Wp,x;if(Vt(a)&&(~a.indexOf("random(")&&(a=jc(a)),a.charAt(1)==="="&&(x=vl(p,a)+(cs(p)||0),(x||x===0)&&(a=x))),!m||p!==a||rx)return!isNaN(p*a)&&a!==""?(x=new Ls(this._pt,t,r,+p||0,a-(p||0),typeof h=="boolean"?e_:l2,0,y),d&&(x.fp=d),o&&x.modifier(o,this,t),this._pt=x):(!h&&!(r in t)&&Op(r,a),q6.call(this,t,r,p,a,y,c||Qs.stringFilter,d))},Y6=function(t,r,n,a,i){if(ct(t)&&(t=$o(t,i,r,n,a)),!an(t)||t.style&&t.nodeType||ms(t)||kj(t))return Vt(t)?$o(t,i,r,n,a):t;var l={},o;for(o in t)l[o]=$o(t[o],i,r,n,a);return l},r2=function(t,r,n,a,i,l){var o,c,d,m;if(Hs[t]&&(o=new Hs[t]).init(i,o.rawVars?r[t]:Y6(r[t],a,i,l,n),n,a,l)!==!1&&(n._pt=c=new Ls(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==al))for(d=n._ptLookup[n._targets.indexOf(i)],m=o._props.length;m--;)d[o._props[m]]=c;return o},aa,rx,Up=function s(t,r,n){var a=t.vars,i=a.ease,l=a.startAt,o=a.immediateRender,c=a.lazy,d=a.onUpdate,m=a.runBackwards,h=a.yoyoEase,p=a.keyframes,y=a.autoRevert,x=t._dur,f=t._startAt,b=t._targets,v=t.parent,g=v&&v.data==="nested"?v.vars.targets:b,w=t._overwrite==="auto"&&!Pp,N=t.timeline,j,_,k,T,C,E,R,M,$,A,z,D,O;if(N&&(!p||!i)&&(i="none"),t._ease=pi(i,Ll.ease),t._yEase=h?Jj(pi(h===!0?i:h,Ll.ease)):0,h&&t._yoyo&&!t._repeat&&(h=t._yEase,t._yEase=t._ease,t._ease=h),t._from=!N&&!!a.runBackwards,!N||p&&!a.stagger){if(M=b[0]?hi(b[0]).harness:0,D=M&&a[M.prop],j=Ou(a,Fp),f&&(f._zTime<0&&f.progress(1),r<0&&m&&o&&!y?f.render(-1,!0):f.revert(m&&x?Zd:N6),f._lazy=0),l){if(Da(t._startAt=jt.set(b,tr({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!f&&Rs(c),startAt:null,delay:0,onUpdate:d&&function(){return Ks(t,"onUpdate")},stagger:0},l))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Yt||!o&&!y)&&t._startAt.revert(Zd),o&&x&&r<=0&&n<=0){r&&(t._zTime=r);return}}else if(m&&x&&!f){if(r&&(o=!1),k=tr({overwrite:!1,data:"isFromStart",lazy:o&&!f&&Rs(c),immediateRender:o,stagger:0,parent:v},j),D&&(k[M.prop]=D),Da(t._startAt=jt.set(b,k)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Yt?t._startAt.revert(Zd):t._startAt.render(-1,!0)),t._zTime=r,!o)s(t._startAt,Ie,Ie);else if(!r)return}for(t._pt=t._ptCache=0,c=x&&Rs(c)||c&&!x,_=0;_<b.length;_++){if(C=b[_],R=C._gsap||Vp(b)[_]._gsap,t._ptLookup[_]=A={},X0[R.id]&&va.length&&Lu(),z=g===b?_:g.indexOf(C),M&&($=new M).init(C,D||j,t,z,g)!==!1&&(t._pt=T=new Ls(t._pt,C,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(I){A[I]=T}),$.priority&&(E=1)),!M||D)for(k in j)Hs[k]&&($=r2(k,j,t,z,C,g))?$.priority&&(E=1):A[k]=T=zp.call(t,C,k,"get",j[k],z,g,0,a.stringFilter);t._op&&t._op[_]&&t.kill(C,t._op[_]),w&&t._pt&&(aa=t,Ke.killTweensOf(C,A,t.globalTime(r)),O=!t.parent,aa=0),t._pt&&c&&(X0[R.id]=1)}E&&c2(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!O,p&&r<=0&&N.render(pr,!0,!0)},Z6=function(t,r,n,a,i,l,o,c){var d=(t._pt&&t._ptCache||(t._ptCache={}))[r],m,h,p,y;if(!d)for(d=t._ptCache[r]=[],p=t._ptLookup,y=t._targets.length;y--;){if(m=p[y][r],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==r&&m.fp!==r;)m=m._next;if(!m)return rx=1,t.vars[r]="+=0",Up(t,o),rx=0,c?vc(r+" not eligible for reset"):1;d.push(m)}for(y=d.length;y--;)h=d[y],m=h._pt||h,m.s=(a||a===0)&&!i?a:m.s+(a||0)+l*m.c,m.c=n-m.s,h.e&&(h.e=xt(n)+cs(h.e)),h.b&&(h.b=m.s+cs(h.b))},K6=function(t,r){var n=t[0]?hi(t[0]).harness:0,a=n&&n.aliases,i,l,o,c;if(!a)return r;i=Ol({},r);for(l in a)if(l in i)for(c=a[l].split(","),o=c.length;o--;)i[c[o]]=i[l];return i},X6=function(t,r,n,a){var i=r.ease||a||"power1.inOut",l,o;if(ms(r))o=n[t]||(n[t]=[]),r.forEach(function(c,d){return o.push({t:d/(r.length-1)*100,v:c,e:i})});else for(l in r)o=n[l]||(n[l]=[]),l==="ease"||o.push({t:parseFloat(t),v:r[l],e:i})},$o=function(t,r,n,a,i){return ct(t)?t.call(r,n,a,i):Vt(t)&&~t.indexOf("random(")?jc(t):t},n2=$p+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",a2={};Is(n2+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return a2[s]=1});var jt=function(s){wj(t,s);function t(n,a,i,l){var o;typeof a=="number"&&(i.duration=a,a=i,i=null),o=s.call(this,l?a:Oo(a))||this;var c=o.vars,d=c.duration,m=c.delay,h=c.immediateRender,p=c.stagger,y=c.overwrite,x=c.keyframes,f=c.defaults,b=c.scrollTrigger,v=c.yoyoEase,g=a.parent||Ke,w=(ms(n)||kj(n)?En(n[0]):"length"in a)?[n]:fr(n),N,j,_,k,T,C,E,R;if(o._targets=w.length?Vp(w):vc("GSAP target "+n+" not found. https://gsap.com",!Qs.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=y,x||p||gd(d)||gd(m)){if(a=o.vars,N=o.timeline=new Ns({data:"nested",defaults:f||{},targets:g&&g.data==="nested"?g.vars.targets:w}),N.kill(),N.parent=N._dp=pn(o),N._start=0,p||gd(d)||gd(m)){if(k=w.length,E=p&&Uj(p),an(p))for(T in p)~n2.indexOf(T)&&(R||(R={}),R[T]=p[T]);for(j=0;j<k;j++)_=Ou(a,a2),_.stagger=0,v&&(_.yoyoEase=v),R&&Ol(_,R),C=w[j],_.duration=+$o(d,pn(o),j,C,w),_.delay=(+$o(m,pn(o),j,C,w)||0)-o._delay,!p&&k===1&&_.delay&&(o._delay=m=_.delay,o._start+=m,_.delay=0),N.to(C,_,E?E(j,C,w):0),N._ease=be.none;N.duration()?d=m=0:o.timeline=0}else if(x){Oo(tr(N.vars.defaults,{ease:"none"})),N._ease=pi(x.ease||a.ease||"none");var M=0,$,A,z;if(ms(x))x.forEach(function(D){return N.to(w,D,">")}),N.duration();else{_={};for(T in x)T==="ease"||T==="easeEach"||X6(T,x[T],_,x.easeEach);for(T in _)for($=_[T].sort(function(D,O){return D.t-O.t}),M=0,j=0;j<$.length;j++)A=$[j],z={ease:A.e,duration:(A.t-(j?$[j-1].t:0))/100*d},z[T]=A.v,N.to(w,z,M),M+=z.duration;N.duration()<d&&N.to({},{duration:d-N.duration()})}}d||o.duration(d=N.duration())}else o.timeline=0;return y===!0&&!Pp&&(aa=pn(o),Ke.killTweensOf(w),aa=0),Zr(g,pn(o),i),a.reversed&&o.reverse(),a.paused&&o.paused(!0),(h||!d&&!x&&o._start===Nt(g._time)&&Rs(h)&&T6(pn(o))&&g.data!=="nested")&&(o._tTime=-Ie,o.render(Math.max(0,-m)||0)),b&&$j(pn(o),b),o}var r=t.prototype;return r.render=function(a,i,l){var o=this._time,c=this._tDur,d=this._dur,m=a<0,h=a>c-Ie&&!m?c:a<Ie?0:a,p,y,x,f,b,v,g,w,N;if(!d)D6(this,a,i,l);else if(h!==this._tTime||!a||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(p=h,w=this.timeline,this._repeat){if(f=d+this._rDelay,this._repeat<-1&&m)return this.totalTime(f*100+a,i,l);if(p=Nt(h%f),h===c?(x=this._repeat,p=d):(b=Nt(h/f),x=~~b,x&&x===b?(p=d,x--):p>d&&(p=d)),v=this._yoyo&&x&1,v&&(N=this._yEase,p=d-p),b=Fl(this._tTime,f),p===o&&!l&&this._initted&&x===b)return this._tTime=h,this;x!==b&&(w&&this._yEase&&e2(w,v),this.vars.repeatRefresh&&!v&&!this._lock&&p!==f&&this._initted&&(this._lock=l=1,this.render(Nt(f*x),!0).invalidate()._lock=0))}if(!this._initted){if(Vj(this,m?a:p,l,i,h))return this._tTime=0,this;if(o!==this._time&&!(l&&this.vars.repeatRefresh&&x!==b))return this;if(d!==this._dur)return this.render(a,i,l)}if(this._tTime=h,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=g=(N||this._ease)(p/d),this._from&&(this.ratio=g=1-g),!o&&h&&!i&&!b&&(Ks(this,"onStart"),this._tTime!==h))return this;for(y=this._pt;y;)y.r(g,y.d),y=y._next;w&&w.render(a<0?a:w._dur*w._ease(p/this._dur),i,l)||this._startAt&&(this._zTime=a),this._onUpdate&&!i&&(m&&Q0(this,a,i,l),Ks(this,"onUpdate")),this._repeat&&x!==b&&this.vars.onRepeat&&!i&&this.parent&&Ks(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(m&&!this._onUpdate&&Q0(this,a,!0,!0),(a||!d)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Da(this,1),!i&&!(m&&!o)&&(h||o||v)&&(Ks(this,h===c?"onComplete":"onReverseComplete",!0),this._prom&&!(h<c&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),s.prototype.invalidate.call(this,a)},r.resetTo=function(a,i,l,o,c){Nc||qs.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||Up(this,d),m=this._ease(d/this._dur),Z6(this,a,i,l,o,m,d,c)?this.resetTo(a,i,l,o,1):(Sm(this,0),this.parent||Oj(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(a,i){if(i===void 0&&(i="all"),!a&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?bo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Yt),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(a,i,aa&&aa.vars.overwrite!==!0)._first||bo(this),this.parent&&l!==this.timeline.totalDuration()&&$l(this,this._dur*this.timeline._tDur/l,0,1),this}var o=this._targets,c=a?fr(a):o,d=this._ptLookup,m=this._pt,h,p,y,x,f,b,v;if((!i||i==="all")&&S6(o,c))return i==="all"&&(this._pt=0),bo(this);for(h=this._op=this._op||[],i!=="all"&&(Vt(i)&&(f={},Is(i,function(g){return f[g]=1}),i=f),i=K6(o,i)),v=o.length;v--;)if(~c.indexOf(o[v])){p=d[v],i==="all"?(h[v]=i,x=p,y={}):(y=h[v]=h[v]||{},x=i);for(f in x)b=p&&p[f],b&&((!("kill"in b.d)||b.d.kill(f)===!0)&&_m(this,b,"_pt"),delete p[f]),y!=="all"&&(y[f]=1)}return this._initted&&!this._pt&&m&&bo(this),this},t.to=function(a,i){return new t(a,i,arguments[2])},t.from=function(a,i){return Fo(1,arguments)},t.delayedCall=function(a,i,l,o){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:i,onReverseComplete:i,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:o})},t.fromTo=function(a,i,l){return Fo(2,arguments)},t.set=function(a,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(a,i)},t.killTweensOf=function(a,i,l){return Ke.killTweensOf(a,i,l)},t}(wc);tr(jt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Is("staggerTo,staggerFrom,staggerFromTo",function(s){jt[s]=function(){var t=new Ns,r=ex.call(arguments,0);return r.splice(s==="staggerFromTo"?5:4,0,0),t[s].apply(t,r)}});var Wp=function(t,r,n){return t[r]=n},i2=function(t,r,n){return t[r](n)},Q6=function(t,r,n,a){return t[r](a.fp,n)},J6=function(t,r,n){return t.setAttribute(r,n)},Hp=function(t,r){return ct(t[r])?i2:Rp(t[r])&&t.setAttribute?J6:Wp},l2=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},e_=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},o2=function(t,r){var n=r._pt,a="";if(!t&&r.b)a=r.b;else if(t===1&&r.e)a=r.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+a,n=n._next;a+=r.c}r.set(r.t,r.p,a,r)},Gp=function(t,r){for(var n=r._pt;n;)n.r(t,n.d),n=n._next},t_=function(t,r,n,a){for(var i=this._pt,l;i;)l=i._next,i.p===a&&i.modifier(t,r,n),i=l},s_=function(t){for(var r=this._pt,n,a;r;)a=r._next,r.p===t&&!r.op||r.op===t?_m(this,r,"_pt"):r.dep||(n=1),r=a;return!n},r_=function(t,r,n,a){a.mSet(t,r,a.m.call(a.tween,n,a.mt),a)},c2=function(t){for(var r=t._pt,n,a,i,l;r;){for(n=r._next,a=i;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:l)?r._prev._next=r:i=r,(r._next=a)?a._prev=r:l=r,r=n}t._pt=i},Ls=function(){function s(r,n,a,i,l,o,c,d,m){this.t=n,this.s=i,this.c=l,this.p=a,this.r=o||l2,this.d=c||this,this.set=d||Wp,this.pr=m||0,this._next=r,r&&(r._prev=this)}var t=s.prototype;return t.modifier=function(n,a,i){this.mSet=this.mSet||this.set,this.set=r_,this.m=n,this.mt=i,this.tween=a},s}();Is($p+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return Fp[s]=1});er.TweenMax=er.TweenLite=jt;er.TimelineLite=er.TimelineMax=Ns;Ke=new Ns({sortChildren:!1,defaults:Ll,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Qs.stringFilter=Qj;var fi=[],Xd={},n_=[],ay=0,a_=0,wh=function(t){return(Xd[t]||n_).map(function(r){return r()})},nx=function(){var t=Date.now(),r=[];t-ay>2&&(wh("matchMediaInit"),fi.forEach(function(n){var a=n.queries,i=n.conditions,l,o,c,d;for(o in a)l=Gr.matchMedia(a[o]).matches,l&&(c=1),l!==i[o]&&(i[o]=l,d=1);d&&(n.revert(),c&&r.push(n))}),wh("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),ay=t,wh("matchMedia"))},d2=function(){function s(r,n){this.selector=n&&tx(n),this.data=[],this._r=[],this.isReverted=!1,this.id=a_++,r&&this.add(r)}var t=s.prototype;return t.add=function(n,a,i){ct(n)&&(i=a,a=n,n=ct);var l=this,o=function(){var d=He,m=l.selector,h;return d&&d!==l&&d.data.push(l),i&&(l.selector=tx(i)),He=l,h=a.apply(l,arguments),ct(h)&&l._r.push(h),He=d,l.selector=m,l.isReverted=!1,h};return l.last=o,n===ct?o(l,function(c){return l.add(null,c)}):n?l[n]=o:o},t.ignore=function(n){var a=He;He=null,n(this),He=a},t.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof s?n.push.apply(n,a.getTweens()):a instanceof jt&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,a){var i=this;if(n?function(){for(var o=i.getTweens(),c=i.data.length,d;c--;)d=i.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(m){return o.splice(o.indexOf(m),1)}));for(o.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,h){return h.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),c=i.data.length;c--;)d=i.data[c],d instanceof Ns?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof jt)&&d.revert&&d.revert(n);i._r.forEach(function(m){return m(n,i)}),i.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),a)for(var l=fi.length;l--;)fi[l].id===this.id&&fi.splice(l,1)},t.revert=function(n){this.kill(n||{})},s}(),i_=function(){function s(r){this.contexts=[],this.scope=r,He&&He.data.push(this)}var t=s.prototype;return t.add=function(n,a,i){an(n)||(n={matches:n});var l=new d2(0,i||this.scope),o=l.conditions={},c,d,m;He&&!l.selector&&(l.selector=He.selector),this.contexts.push(l),a=l.add("onMatch",a),l.queries=n;for(d in n)d==="all"?m=1:(c=Gr.matchMedia(n[d]),c&&(fi.indexOf(l)<0&&fi.push(l),(o[d]=c.matches)&&(m=1),c.addListener?c.addListener(nx):c.addEventListener("change",nx)));return m&&a(l,function(h){return l.add(null,h)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},s}(),$u={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(a){return Zj(a)})},timeline:function(t){return new Ns(t)},getTweensOf:function(t,r){return Ke.getTweensOf(t,r)},getProperty:function(t,r,n,a){Vt(t)&&(t=fr(t)[0]);var i=hi(t||{}).get,l=n?Lj:Ij;return n==="native"&&(n=""),t&&(r?l((Hs[r]&&Hs[r].get||i)(t,r,n,a)):function(o,c,d){return l((Hs[o]&&Hs[o].get||i)(t,o,c,d))})},quickSetter:function(t,r,n){if(t=fr(t),t.length>1){var a=t.map(function(m){return Fs.quickSetter(m,r,n)}),i=a.length;return function(m){for(var h=i;h--;)a[h](m)}}t=t[0]||{};var l=Hs[r],o=hi(t),c=o.harness&&(o.harness.aliases||{})[r]||r,d=l?function(m){var h=new l;al._pt=0,h.init(t,n?m+n:m,al,0,[t]),h.render(1,h),al._pt&&Gp(1,al)}:o.set(t,c);return l?d:function(m){return d(t,c,n?m+n:m,o,1)}},quickTo:function(t,r,n){var a,i=Fs.to(t,tr((a={},a[r]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),l=function(c,d,m){return i.resetTo(r,c,d,m)};return l.tween=i,l},isTweening:function(t){return Ke.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=pi(t.ease,Ll.ease)),ey(Ll,t||{})},config:function(t){return ey(Qs,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,a=t.plugins,i=t.defaults,l=t.extendTimeline;(a||"").split(",").forEach(function(o){return o&&!Hs[o]&&!er[o]&&vc(r+" effect requires "+o+" plugin.")}),vh[r]=function(o,c,d){return n(fr(o),tr(c||{},i),d)},l&&(Ns.prototype[r]=function(o,c,d){return this.add(vh[r](o,an(c)?c:(d=c)&&{},this),d)})},registerEase:function(t,r){be[t]=pi(r)},parseEase:function(t,r){return arguments.length?pi(t,r):be},getById:function(t){return Ke.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var n=new Ns(t),a,i;for(n.smoothChildTiming=Rs(t.smoothChildTiming),Ke.remove(n),n._dp=0,n._time=n._tTime=Ke._time,a=Ke._first;a;)i=a._next,(r||!(!a._dur&&a instanceof jt&&a.vars.onComplete===a._targets[0]))&&Zr(n,a,a._start-a._delay),a=i;return Zr(Ke,n,0),n},context:function(t,r){return t?new d2(t,r):He},matchMedia:function(t){return new i_(t)},matchMediaRefresh:function(){return fi.forEach(function(t){var r=t.conditions,n,a;for(a in r)r[a]&&(r[a]=!1,n=1);n&&t.revert()})||nx()},addEventListener:function(t,r){var n=Xd[t]||(Xd[t]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(t,r){var n=Xd[t],a=n&&n.indexOf(r);a>=0&&n.splice(a,1)},utils:{wrap:F6,wrapYoyo:$6,distribute:Uj,random:Hj,snap:Wj,normalize:O6,getUnit:cs,clamp:P6,splitColor:Kj,toArray:fr,selector:tx,mapRange:qj,pipe:I6,unitize:L6,interpolate:V6,shuffle:zj},install:Dj,effects:vh,ticker:qs,updateRoot:Ns.updateRoot,plugins:Hs,globalTimeline:Ke,core:{PropTween:Ls,globals:Ej,Tween:jt,Timeline:Ns,Animation:wc,getCache:hi,_removeLinkedListItem:_m,reverting:function(){return Yt},context:function(t){return t&&He&&(He.data.push(t),t._ctx=He),He},suppressOverwrites:function(t){return Pp=t}}};Is("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return $u[s]=jt[s]});qs.add(Ns.updateRoot);al=$u.to({},{duration:0});var l_=function(t,r){for(var n=t._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},o_=function(t,r){var n=t._targets,a,i,l;for(a in r)for(i=n.length;i--;)l=t._ptLookup[i][a],l&&(l=l.d)&&(l._pt&&(l=l_(l,a)),l&&l.modifier&&l.modifier(r[a],t,n[i],a))},_h=function(t,r){return{name:t,headless:1,rawVars:1,init:function(a,i,l){l._onInit=function(o){var c,d;if(Vt(i)&&(c={},Is(i,function(m){return c[m]=1}),i=c),r){c={};for(d in i)c[d]=r(i[d]);i=c}o_(o,i)}}}},Fs=$u.registerPlugin({name:"attr",init:function(t,r,n,a,i){var l,o,c;this.tween=n;for(l in r)c=t.getAttribute(l)||"",o=this.add(t,"setAttribute",(c||0)+"",r[l],a,i,0,0,l),o.op=l,o.b=c,this._props.push(l)},render:function(t,r){for(var n=r._pt;n;)Yt?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,r){for(var n=r.length;n--;)this.add(t,n,t[n]||0,r[n],0,0,0,0,0,1)}},_h("roundProps",sx),_h("modifiers"),_h("snap",Wj))||$u;jt.version=Ns.version=Fs.version="3.13.0";Mj=1;Ip()&&Vl();be.Power0;be.Power1;be.Power2;be.Power3;be.Power4;be.Linear;be.Quad;be.Cubic;be.Quart;be.Quint;be.Strong;be.Elastic;be.Back;be.SteppedEase;be.Bounce;be.Sine;be.Expo;be.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var iy,ia,bl,qp,oi,ly,Yp,c_=function(){return typeof window<"u"},An={},Ja=180/Math.PI,jl=Math.PI/180,Vi=Math.atan2,oy=1e8,Zp=/([A-Z])/g,d_=/(left|right|width|margin|padding|x)/i,u_=/[\s,\(]\S/,Xr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ax=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},m_=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},h_=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},x_=function(t,r){var n=r.s+r.c*t;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},u2=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},m2=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},p_=function(t,r,n){return t.style[r]=n},f_=function(t,r,n){return t.style.setProperty(r,n)},g_=function(t,r,n){return t._gsap[r]=n},y_=function(t,r,n){return t._gsap.scaleX=t._gsap.scaleY=n},v_=function(t,r,n,a,i){var l=t._gsap;l.scaleX=l.scaleY=n,l.renderTransform(i,l)},b_=function(t,r,n,a,i){var l=t._gsap;l[r]=n,l.renderTransform(i,l)},Xe="transform",Os=Xe+"Origin",j_=function s(t,r){var n=this,a=this.target,i=a.style,l=a._gsap;if(t in An&&i){if(this.tfm=this.tfm||{},t!=="transform")t=Xr[t]||t,~t.indexOf(",")?t.split(",").forEach(function(o){return n.tfm[o]=gn(a,o)}):this.tfm[t]=l.x?l[t]:gn(a,t),t===Os&&(this.tfm.zOrigin=l.zOrigin);else return Xr.transform.split(",").forEach(function(o){return s.call(n,o,r)});if(this.props.indexOf(Xe)>=0)return;l.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Os,r,"")),t=Xe}(i||r)&&this.props.push(t,r,i[t])},h2=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},N_=function(){var t=this.props,r=this.target,n=r.style,a=r._gsap,i,l;for(i=0;i<t.length;i+=3)t[i+1]?t[i+1]===2?r[t[i]](t[i+2]):r[t[i]]=t[i+2]:t[i+2]?n[t[i]]=t[i+2]:n.removeProperty(t[i].substr(0,2)==="--"?t[i]:t[i].replace(Zp,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)a[l]=this.tfm[l];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),i=Yp(),(!i||!i.isStart)&&!n[Xe]&&(h2(n),a.zOrigin&&n[Os]&&(n[Os]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},x2=function(t,r){var n={target:t,props:[],revert:N_,save:j_};return t._gsap||Fs.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(a){return n.save(a)}),n},p2,ix=function(t,r){var n=ia.createElementNS?ia.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ia.createElement(t);return n&&n.style?n:ia.createElement(t)},gr=function s(t,r,n){var a=getComputedStyle(t);return a[r]||a.getPropertyValue(r.replace(Zp,"-$1").toLowerCase())||a.getPropertyValue(r)||!n&&s(t,Bl(r)||r,1)||""},cy="O,Moz,ms,Ms,Webkit".split(","),Bl=function(t,r,n){var a=r||oi,i=a.style,l=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);l--&&!(cy[l]+t in i););return l<0?null:(l===3?"ms":l>=0?cy[l]:"")+t},lx=function(){c_()&&window.document&&(iy=window,ia=iy.document,bl=ia.documentElement,oi=ix("div")||{style:{}},ix("div"),Xe=Bl(Xe),Os=Xe+"Origin",oi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",p2=!!Bl("perspective"),Yp=Fs.core.reverting,qp=1)},dy=function(t){var r=t.ownerSVGElement,n=ix("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=t.cloneNode(!0),i;a.style.display="block",n.appendChild(a),bl.appendChild(n);try{i=a.getBBox()}catch{}return n.removeChild(a),bl.removeChild(n),i},uy=function(t,r){for(var n=r.length;n--;)if(t.hasAttribute(r[n]))return t.getAttribute(r[n])},f2=function(t){var r,n;try{r=t.getBBox()}catch{r=dy(t),n=1}return r&&(r.width||r.height)||n||(r=dy(t)),r&&!r.width&&!r.x&&!r.y?{x:+uy(t,["x","cx","x1"])||0,y:+uy(t,["y","cy","y1"])||0,width:0,height:0}:r},g2=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&f2(t))},ki=function(t,r){if(r){var n=t.style,a;r in An&&r!==Os&&(r=Xe),n.removeProperty?(a=r.substr(0,2),(a==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(a==="--"?r:r.replace(Zp,"-$1").toLowerCase())):n.removeAttribute(r)}},la=function(t,r,n,a,i,l){var o=new Ls(t._pt,r,n,0,1,l?m2:u2);return t._pt=o,o.b=a,o.e=i,t._props.push(n),o},my={deg:1,rad:1,turn:1},w_={grid:1,flex:1},Ea=function s(t,r,n,a){var i=parseFloat(n)||0,l=(n+"").trim().substr((i+"").length)||"px",o=oi.style,c=d_.test(r),d=t.tagName.toLowerCase()==="svg",m=(d?"client":"offset")+(c?"Width":"Height"),h=100,p=a==="px",y=a==="%",x,f,b,v;if(a===l||!i||my[a]||my[l])return i;if(l!=="px"&&!p&&(i=s(t,r,n,"px")),v=t.getCTM&&g2(t),(y||l==="%")&&(An[r]||~r.indexOf("adius")))return x=v?t.getBBox()[c?"width":"height"]:t[m],xt(y?i/x*h:i/100*x);if(o[c?"width":"height"]=h+(p?l:a),f=a!=="rem"&&~r.indexOf("adius")||a==="em"&&t.appendChild&&!d?t:t.parentNode,v&&(f=(t.ownerSVGElement||{}).parentNode),(!f||f===ia||!f.appendChild)&&(f=ia.body),b=f._gsap,b&&y&&b.width&&c&&b.time===qs.time&&!b.uncache)return xt(i/b.width*h);if(y&&(r==="height"||r==="width")){var g=t.style[r];t.style[r]=h+a,x=t[m],g?t.style[r]=g:ki(t,r)}else(y||l==="%")&&!w_[gr(f,"display")]&&(o.position=gr(t,"position")),f===t&&(o.position="static"),f.appendChild(oi),x=oi[m],f.removeChild(oi),o.position="absolute";return c&&y&&(b=hi(f),b.time=qs.time,b.width=f[m]),xt(p?x*i/h:x&&i?h/x*i:0)},gn=function(t,r,n,a){var i;return qp||lx(),r in Xr&&r!=="transform"&&(r=Xr[r],~r.indexOf(",")&&(r=r.split(",")[0])),An[r]&&r!=="transform"?(i=kc(t,a),i=r!=="transformOrigin"?i[r]:i.svg?i.origin:Bu(gr(t,Os))+" "+i.zOrigin+"px"):(i=t.style[r],(!i||i==="auto"||a||~(i+"").indexOf("calc("))&&(i=Vu[r]&&Vu[r](t,r,n)||gr(t,r)||Pj(t,r)||(r==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?Ea(t,r,i,n)+n:i},__=function(t,r,n,a){if(!n||n==="none"){var i=Bl(r,t,1),l=i&&gr(t,i,1);l&&l!==n?(r=i,n=l):r==="borderColor"&&(n=gr(t,"borderTopColor"))}var o=new Ls(this._pt,t.style,r,0,1,o2),c=0,d=0,m,h,p,y,x,f,b,v,g,w,N,j;if(o.b=n,o.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=gr(t,a.substring(4,a.indexOf(")")))),a==="auto"&&(f=t.style[r],t.style[r]=a,a=gr(t,r)||a,f?t.style[r]=f:ki(t,r)),m=[n,a],Qj(m),n=m[0],a=m[1],p=n.match(nl)||[],j=a.match(nl)||[],j.length){for(;h=nl.exec(a);)b=h[0],g=a.substring(c,h.index),x?x=(x+1)%5:(g.substr(-5)==="rgba("||g.substr(-5)==="hsla(")&&(x=1),b!==(f=p[d++]||"")&&(y=parseFloat(f)||0,N=f.substr((y+"").length),b.charAt(1)==="="&&(b=vl(y,b)+N),v=parseFloat(b),w=b.substr((v+"").length),c=nl.lastIndex-w.length,w||(w=w||Qs.units[r]||N,c===a.length&&(a+=w,o.e+=w)),N!==w&&(y=Ea(t,r,f,w)||0),o._pt={_next:o._pt,p:g||d===1?g:",",s:y,c:v-y,m:x&&x<4||r==="zIndex"?Math.round:0});o.c=c<a.length?a.substring(c,a.length):""}else o.r=r==="display"&&a==="none"?m2:u2;return Cj.test(a)&&(o.e=0),this._pt=o,o},hy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},k_=function(t){var r=t.split(" "),n=r[0],a=r[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(t=n,n=a,a=t),r[0]=hy[n]||n,r[1]=hy[a]||a,r.join(" ")},S_=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,a=n.style,i=r.u,l=n._gsap,o,c,d;if(i==="all"||i===!0)a.cssText="",c=1;else for(i=i.split(","),d=i.length;--d>-1;)o=i[d],An[o]&&(c=1,o=o==="transformOrigin"?Os:Xe),ki(n,o);c&&(ki(n,Xe),l&&(l.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",kc(n,1),l.uncache=1,h2(a)))}},Vu={clearProps:function(t,r,n,a,i){if(i.data!=="isFromStart"){var l=t._pt=new Ls(t._pt,r,n,0,0,S_);return l.u=a,l.pr=-10,l.tween=i,t._props.push(n),1}}},_c=[1,0,0,1,0,0],y2={},v2=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},xy=function(t){var r=gr(t,Xe);return v2(r)?_c:r.substr(7).match(Sj).map(xt)},Kp=function(t,r){var n=t._gsap||hi(t),a=t.style,i=xy(t),l,o,c,d;return n.svg&&t.getAttribute("transform")?(c=t.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?_c:i):(i===_c&&!t.offsetParent&&t!==bl&&!n.svg&&(c=a.display,a.display="block",l=t.parentNode,(!l||!t.offsetParent&&!t.getBoundingClientRect().width)&&(d=1,o=t.nextElementSibling,bl.appendChild(t)),i=xy(t),c?a.display=c:ki(t,"display"),d&&(o?l.insertBefore(t,o):l?l.appendChild(t):bl.removeChild(t))),r&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},ox=function(t,r,n,a,i,l){var o=t._gsap,c=i||Kp(t,!0),d=o.xOrigin||0,m=o.yOrigin||0,h=o.xOffset||0,p=o.yOffset||0,y=c[0],x=c[1],f=c[2],b=c[3],v=c[4],g=c[5],w=r.split(" "),N=parseFloat(w[0])||0,j=parseFloat(w[1])||0,_,k,T,C;n?c!==_c&&(k=y*b-x*f)&&(T=N*(b/k)+j*(-f/k)+(f*g-b*v)/k,C=N*(-x/k)+j*(y/k)-(y*g-x*v)/k,N=T,j=C):(_=f2(t),N=_.x+(~w[0].indexOf("%")?N/100*_.width:N),j=_.y+(~(w[1]||w[0]).indexOf("%")?j/100*_.height:j)),a||a!==!1&&o.smooth?(v=N-d,g=j-m,o.xOffset=h+(v*y+g*f)-v,o.yOffset=p+(v*x+g*b)-g):o.xOffset=o.yOffset=0,o.xOrigin=N,o.yOrigin=j,o.smooth=!!a,o.origin=r,o.originIsAbsolute=!!n,t.style[Os]="0px 0px",l&&(la(l,o,"xOrigin",d,N),la(l,o,"yOrigin",m,j),la(l,o,"xOffset",h,o.xOffset),la(l,o,"yOffset",p,o.yOffset)),t.setAttribute("data-svg-origin",N+" "+j)},kc=function(t,r){var n=t._gsap||new s2(t);if("x"in n&&!r&&!n.uncache)return n;var a=t.style,i=n.scaleX<0,l="px",o="deg",c=getComputedStyle(t),d=gr(t,Os)||"0",m,h,p,y,x,f,b,v,g,w,N,j,_,k,T,C,E,R,M,$,A,z,D,O,I,F,S,V,G,q,P,U;return m=h=p=f=b=v=g=w=N=0,y=x=1,n.svg=!!(t.getCTM&&g2(t)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(a[Xe]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Xe]!=="none"?c[Xe]:"")),a.scale=a.rotate=a.translate="none"),k=Kp(t,n.svg),n.svg&&(n.uncache?(I=t.getBBox(),d=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",O=""):O=!r&&t.getAttribute("data-svg-origin"),ox(t,O||d,!!O||n.originIsAbsolute,n.smooth!==!1,k)),j=n.xOrigin||0,_=n.yOrigin||0,k!==_c&&(R=k[0],M=k[1],$=k[2],A=k[3],m=z=k[4],h=D=k[5],k.length===6?(y=Math.sqrt(R*R+M*M),x=Math.sqrt(A*A+$*$),f=R||M?Vi(M,R)*Ja:0,g=$||A?Vi($,A)*Ja+f:0,g&&(x*=Math.abs(Math.cos(g*jl))),n.svg&&(m-=j-(j*R+_*$),h-=_-(j*M+_*A))):(U=k[6],q=k[7],S=k[8],V=k[9],G=k[10],P=k[11],m=k[12],h=k[13],p=k[14],T=Vi(U,G),b=T*Ja,T&&(C=Math.cos(-T),E=Math.sin(-T),O=z*C+S*E,I=D*C+V*E,F=U*C+G*E,S=z*-E+S*C,V=D*-E+V*C,G=U*-E+G*C,P=q*-E+P*C,z=O,D=I,U=F),T=Vi(-$,G),v=T*Ja,T&&(C=Math.cos(-T),E=Math.sin(-T),O=R*C-S*E,I=M*C-V*E,F=$*C-G*E,P=A*E+P*C,R=O,M=I,$=F),T=Vi(M,R),f=T*Ja,T&&(C=Math.cos(T),E=Math.sin(T),O=R*C+M*E,I=z*C+D*E,M=M*C-R*E,D=D*C-z*E,R=O,z=I),b&&Math.abs(b)+Math.abs(f)>359.9&&(b=f=0,v=180-v),y=xt(Math.sqrt(R*R+M*M+$*$)),x=xt(Math.sqrt(D*D+U*U)),T=Vi(z,D),g=Math.abs(T)>2e-4?T*Ja:0,N=P?1/(P<0?-P:P):0),n.svg&&(O=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!v2(gr(t,Xe)),O&&t.setAttribute("transform",O))),Math.abs(g)>90&&Math.abs(g)<270&&(i?(y*=-1,g+=f<=0?180:-180,f+=f<=0?180:-180):(x*=-1,g+=g<=0?180:-180)),r=r||n.uncache,n.x=m-((n.xPercent=m&&(!r&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-m)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+l,n.y=h-((n.yPercent=h&&(!r&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-h)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+l,n.z=p+l,n.scaleX=xt(y),n.scaleY=xt(x),n.rotation=xt(f)+o,n.rotationX=xt(b)+o,n.rotationY=xt(v)+o,n.skewX=g+o,n.skewY=w+o,n.transformPerspective=N+l,(n.zOrigin=parseFloat(d.split(" ")[2])||!r&&n.zOrigin||0)&&(a[Os]=Bu(d)),n.xOffset=n.yOffset=0,n.force3D=Qs.force3D,n.renderTransform=n.svg?T_:p2?b2:C_,n.uncache=0,n},Bu=function(t){return(t=t.split(" "))[0]+" "+t[1]},kh=function(t,r,n){var a=cs(r);return xt(parseFloat(r)+parseFloat(Ea(t,"x",n+"px",a)))+a},C_=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,b2(t,r)},Ya="0deg",uo="0px",Za=") ",b2=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,l=n.x,o=n.y,c=n.z,d=n.rotation,m=n.rotationY,h=n.rotationX,p=n.skewX,y=n.skewY,x=n.scaleX,f=n.scaleY,b=n.transformPerspective,v=n.force3D,g=n.target,w=n.zOrigin,N="",j=v==="auto"&&t&&t!==1||v===!0;if(w&&(h!==Ya||m!==Ya)){var _=parseFloat(m)*jl,k=Math.sin(_),T=Math.cos(_),C;_=parseFloat(h)*jl,C=Math.cos(_),l=kh(g,l,k*C*-w),o=kh(g,o,-Math.sin(_)*-w),c=kh(g,c,T*C*-w+w)}b!==uo&&(N+="perspective("+b+Za),(a||i)&&(N+="translate("+a+"%, "+i+"%) "),(j||l!==uo||o!==uo||c!==uo)&&(N+=c!==uo||j?"translate3d("+l+", "+o+", "+c+") ":"translate("+l+", "+o+Za),d!==Ya&&(N+="rotate("+d+Za),m!==Ya&&(N+="rotateY("+m+Za),h!==Ya&&(N+="rotateX("+h+Za),(p!==Ya||y!==Ya)&&(N+="skew("+p+", "+y+Za),(x!==1||f!==1)&&(N+="scale("+x+", "+f+Za),g.style[Xe]=N||"translate(0, 0)"},T_=function(t,r){var n=r||this,a=n.xPercent,i=n.yPercent,l=n.x,o=n.y,c=n.rotation,d=n.skewX,m=n.skewY,h=n.scaleX,p=n.scaleY,y=n.target,x=n.xOrigin,f=n.yOrigin,b=n.xOffset,v=n.yOffset,g=n.forceCSS,w=parseFloat(l),N=parseFloat(o),j,_,k,T,C;c=parseFloat(c),d=parseFloat(d),m=parseFloat(m),m&&(m=parseFloat(m),d+=m,c+=m),c||d?(c*=jl,d*=jl,j=Math.cos(c)*h,_=Math.sin(c)*h,k=Math.sin(c-d)*-p,T=Math.cos(c-d)*p,d&&(m*=jl,C=Math.tan(d-m),C=Math.sqrt(1+C*C),k*=C,T*=C,m&&(C=Math.tan(m),C=Math.sqrt(1+C*C),j*=C,_*=C)),j=xt(j),_=xt(_),k=xt(k),T=xt(T)):(j=h,T=p,_=k=0),(w&&!~(l+"").indexOf("px")||N&&!~(o+"").indexOf("px"))&&(w=Ea(y,"x",l,"px"),N=Ea(y,"y",o,"px")),(x||f||b||v)&&(w=xt(w+x-(x*j+f*k)+b),N=xt(N+f-(x*_+f*T)+v)),(a||i)&&(C=y.getBBox(),w=xt(w+a/100*C.width),N=xt(N+i/100*C.height)),C="matrix("+j+","+_+","+k+","+T+","+w+","+N+")",y.setAttribute("transform",C),g&&(y.style[Xe]=C)},M_=function(t,r,n,a,i){var l=360,o=Vt(i),c=parseFloat(i)*(o&&~i.indexOf("rad")?Ja:1),d=c-a,m=a+d+"deg",h,p;return o&&(h=i.split("_")[1],h==="short"&&(d%=l,d!==d%(l/2)&&(d+=d<0?l:-l)),h==="cw"&&d<0?d=(d+l*oy)%l-~~(d/l)*l:h==="ccw"&&d>0&&(d=(d-l*oy)%l-~~(d/l)*l)),t._pt=p=new Ls(t._pt,r,n,a,d,m_),p.e=m,p.u="deg",t._props.push(n),p},py=function(t,r){for(var n in r)t[n]=r[n];return t},D_=function(t,r,n){var a=py({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",l=n.style,o,c,d,m,h,p,y,x;a.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),l[Xe]=r,o=kc(n,1),ki(n,Xe),n.setAttribute("transform",d)):(d=getComputedStyle(n)[Xe],l[Xe]=r,o=kc(n,1),l[Xe]=d);for(c in An)d=a[c],m=o[c],d!==m&&i.indexOf(c)<0&&(y=cs(d),x=cs(m),h=y!==x?Ea(n,c,d,x):parseFloat(d),p=parseFloat(m),t._pt=new Ls(t._pt,o,c,h,p-h,ax),t._pt.u=x||0,t._props.push(c));py(o,a)};Is("padding,margin,Width,Radius",function(s,t){var r="Top",n="Right",a="Bottom",i="Left",l=(t<3?[r,n,a,i]:[r+i,r+n,a+n,a+i]).map(function(o){return t<2?s+o:"border"+o+s});Vu[t>1?"border"+s:s]=function(o,c,d,m,h){var p,y;if(arguments.length<4)return p=l.map(function(x){return gn(o,x,d)}),y=p.join(" "),y.split(p[0]).length===5?p[0]:y;p=(m+"").split(" "),y={},l.forEach(function(x,f){return y[x]=p[f]=p[f]||p[(f-1)/2|0]}),o.init(c,y,h)}});var j2={name:"css",register:lx,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,n,a,i){var l=this._props,o=t.style,c=n.vars.startAt,d,m,h,p,y,x,f,b,v,g,w,N,j,_,k,T;qp||lx(),this.styles=this.styles||x2(t),T=this.styles.props,this.tween=n;for(f in r)if(f!=="autoRound"&&(m=r[f],!(Hs[f]&&r2(f,r,n,a,t,i)))){if(y=typeof m,x=Vu[f],y==="function"&&(m=m.call(n,a,t,i),y=typeof m),y==="string"&&~m.indexOf("random(")&&(m=jc(m)),x)x(this,t,f,m,n)&&(k=1);else if(f.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(f)+"").trim(),m+="",ba.lastIndex=0,ba.test(d)||(b=cs(d),v=cs(m)),v?b!==v&&(d=Ea(t,f,d,v)+v):b&&(m+=b),this.add(o,"setProperty",d,m,a,i,0,0,f),l.push(f),T.push(f,0,o[f]);else if(y!=="undefined"){if(c&&f in c?(d=typeof c[f]=="function"?c[f].call(n,a,t,i):c[f],Vt(d)&&~d.indexOf("random(")&&(d=jc(d)),cs(d+"")||d==="auto"||(d+=Qs.units[f]||cs(gn(t,f))||""),(d+"").charAt(1)==="="&&(d=gn(t,f))):d=gn(t,f),p=parseFloat(d),g=y==="string"&&m.charAt(1)==="="&&m.substr(0,2),g&&(m=m.substr(2)),h=parseFloat(m),f in Xr&&(f==="autoAlpha"&&(p===1&&gn(t,"visibility")==="hidden"&&h&&(p=0),T.push("visibility",0,o.visibility),la(this,o,"visibility",p?"inherit":"hidden",h?"inherit":"hidden",!h)),f!=="scale"&&f!=="transform"&&(f=Xr[f],~f.indexOf(",")&&(f=f.split(",")[0]))),w=f in An,w){if(this.styles.save(f),y==="string"&&m.substring(0,6)==="var(--"&&(m=gr(t,m.substring(4,m.indexOf(")"))),h=parseFloat(m)),N||(j=t._gsap,j.renderTransform&&!r.parseTransform||kc(t,r.parseTransform),_=r.smoothOrigin!==!1&&j.smooth,N=this._pt=new Ls(this._pt,o,Xe,0,1,j.renderTransform,j,0,-1),N.dep=1),f==="scale")this._pt=new Ls(this._pt,j,"scaleY",j.scaleY,(g?vl(j.scaleY,g+h):h)-j.scaleY||0,ax),this._pt.u=0,l.push("scaleY",f),f+="X";else if(f==="transformOrigin"){T.push(Os,0,o[Os]),m=k_(m),j.svg?ox(t,m,0,_,0,this):(v=parseFloat(m.split(" ")[2])||0,v!==j.zOrigin&&la(this,j,"zOrigin",j.zOrigin,v),la(this,o,f,Bu(d),Bu(m)));continue}else if(f==="svgOrigin"){ox(t,m,1,_,0,this);continue}else if(f in y2){M_(this,j,f,p,g?vl(p,g+m):m);continue}else if(f==="smoothOrigin"){la(this,j,"smooth",j.smooth,m);continue}else if(f==="force3D"){j[f]=m;continue}else if(f==="transform"){D_(this,m,t);continue}}else f in o||(f=Bl(f)||f);if(w||(h||h===0)&&(p||p===0)&&!u_.test(m)&&f in o)b=(d+"").substr((p+"").length),h||(h=0),v=cs(m)||(f in Qs.units?Qs.units[f]:b),b!==v&&(p=Ea(t,f,d,v)),this._pt=new Ls(this._pt,w?j:o,f,p,(g?vl(p,g+h):h)-p,!w&&(v==="px"||f==="zIndex")&&r.autoRound!==!1?x_:ax),this._pt.u=v||0,b!==v&&v!=="%"&&(this._pt.b=d,this._pt.r=h_);else if(f in o)__.call(this,t,f,d,g?g+m:m);else if(f in t)this.add(t,f,d||t[f],g?g+m:m,a,i);else if(f!=="parseTransform"){Op(f,m);continue}w||(f in o?T.push(f,0,o[f]):typeof t[f]=="function"?T.push(f,2,t[f]()):T.push(f,1,d||t[f])),l.push(f)}}k&&c2(this)},render:function(t,r){if(r.tween._time||!Yp())for(var n=r._pt;n;)n.r(t,n.d),n=n._next;else r.styles.revert()},get:gn,aliases:Xr,getSetter:function(t,r,n){var a=Xr[r];return a&&a.indexOf(",")<0&&(r=a),r in An&&r!==Os&&(t._gsap.x||gn(t,"x"))?n&&ly===n?r==="scale"?y_:g_:(ly=n||{})&&(r==="scale"?v_:b_):t.style&&!Rp(t.style[r])?p_:~r.indexOf("-")?f_:Hp(t,r)},core:{_removeProperty:ki,_getMatrix:Kp}};Fs.utils.checkPrefix=Bl;Fs.core.getStyleSaver=x2;(function(s,t,r,n){var a=Is(s+","+t+","+r,function(i){An[i]=1});Is(t,function(i){Qs.units[i]="deg",y2[i]=1}),Xr[a[13]]=s+","+t,Is(n,function(i){var l=i.split(":");Xr[l[1]]=a[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Is("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Qs.units[s]="px"});Fs.registerPlugin(j2);var De=Fs.registerPlugin(j2)||Fs;De.core.Tween;function fy(s,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function E_(s,t,r){return t&&fy(s.prototype,t),r&&fy(s,r),s}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Gt,Qd,Ys,oa,ca,Nl,N2,ei,Vo,w2,jn,Dr,_2,k2=function(){return Gt||typeof window<"u"&&(Gt=window.gsap)&&Gt.registerPlugin&&Gt},S2=1,il=[],pe=[],tn=[],Bo=Date.now,cx=function(t,r){return r},A_=function(){var t=Vo.core,r=t.bridge||{},n=t._scrollers,a=t._proxies;n.push.apply(n,pe),a.push.apply(a,tn),pe=n,tn=a,cx=function(l,o){return r[l](o)}},ja=function(t,r){return~tn.indexOf(t)&&tn[tn.indexOf(t)+1][r]},zo=function(t){return!!~w2.indexOf(t)},fs=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:a!==!1,capture:!!i})},ps=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},yd="scrollLeft",vd="scrollTop",dx=function(){return jn&&jn.isPressed||pe.cache++},zu=function(t,r){var n=function a(i){if(i||i===0){S2&&(Ys.history.scrollRestoration="manual");var l=jn&&jn.isPressed;i=a.v=Math.round(i)||(jn&&jn.iOS?1:0),t(i),a.cacheID=pe.cache,l&&cx("ss",i)}else(r||pe.cache!==a.cacheID||cx("ref"))&&(a.cacheID=pe.cache,a.v=t());return a.v+a.offset};return n.offset=0,t&&n},ws={s:yd,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zu(function(s){return arguments.length?Ys.scrollTo(s,Mt.sc()):Ys.pageXOffset||oa[yd]||ca[yd]||Nl[yd]||0})},Mt={s:vd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ws,sc:zu(function(s){return arguments.length?Ys.scrollTo(ws.sc(),s):Ys.pageYOffset||oa[vd]||ca[vd]||Nl[vd]||0})},Cs=function(t,r){return(r&&r._ctx&&r._ctx.selector||Gt.utils.toArray)(t)[0]||(typeof t=="string"&&Gt.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},P_=function(t,r){for(var n=r.length;n--;)if(r[n]===t||r[n].contains(t))return!0;return!1},Aa=function(t,r){var n=r.s,a=r.sc;zo(t)&&(t=oa.scrollingElement||ca);var i=pe.indexOf(t),l=a===Mt.sc?1:2;!~i&&(i=pe.push(t)-1),pe[i+l]||fs(t,"scroll",dx);var o=pe[i+l],c=o||(pe[i+l]=zu(ja(t,n),!0)||(zo(t)?a:zu(function(d){return arguments.length?t[n]=d:t[n]})));return c.target=t,o||(c.smooth=Gt.getProperty(t,"scrollBehavior")==="smooth"),c},ux=function(t,r,n){var a=t,i=t,l=Bo(),o=l,c=r||50,d=Math.max(500,c*3),m=function(x,f){var b=Bo();f||b-l>c?(i=a,a=x,o=l,l=b):n?a+=x:a=i+(x-i)/(b-o)*(l-o)},h=function(){i=a=n?0:a,o=l=0},p=function(x){var f=o,b=i,v=Bo();return(x||x===0)&&x!==a&&m(x),l===o||v-o>d?0:(a+(n?b:-b))/((n?v:l)-f)*1e3};return{update:m,reset:h,getVelocity:p}},mo=function(t,r){return r&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},gy=function(t){var r=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(r)>=Math.abs(n)?r:n},C2=function(){Vo=Gt.core.globals().ScrollTrigger,Vo&&Vo.core&&A_()},T2=function(t){return Gt=t||k2(),!Qd&&Gt&&typeof document<"u"&&document.body&&(Ys=window,oa=document,ca=oa.documentElement,Nl=oa.body,w2=[Ys,oa,ca,Nl],Gt.utils.clamp,_2=Gt.core.context||function(){},ei="onpointerenter"in Nl?"pointer":"mouse",N2=gt.isTouch=Ys.matchMedia&&Ys.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ys||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Dr=gt.eventTypes=("ontouchstart"in ca?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in ca?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return S2=0},500),C2(),Qd=1),Qd};ws.op=Mt;pe.cache=0;var gt=function(){function s(r){this.init(r)}var t=s.prototype;return t.init=function(n){Qd||T2(Gt)||console.warn("Please gsap.registerPlugin(Observer)"),Vo||C2();var a=n.tolerance,i=n.dragMinimum,l=n.type,o=n.target,c=n.lineHeight,d=n.debounce,m=n.preventDefault,h=n.onStop,p=n.onStopDelay,y=n.ignore,x=n.wheelSpeed,f=n.event,b=n.onDragStart,v=n.onDragEnd,g=n.onDrag,w=n.onPress,N=n.onRelease,j=n.onRight,_=n.onLeft,k=n.onUp,T=n.onDown,C=n.onChangeX,E=n.onChangeY,R=n.onChange,M=n.onToggleX,$=n.onToggleY,A=n.onHover,z=n.onHoverEnd,D=n.onMove,O=n.ignoreCheck,I=n.isNormalizer,F=n.onGestureStart,S=n.onGestureEnd,V=n.onWheel,G=n.onEnable,q=n.onDisable,P=n.onClick,U=n.scrollSpeed,Y=n.capture,se=n.allowClicks,ue=n.lockAxis,L=n.onLockAxis;this.target=o=Cs(o)||ca,this.vars=n,y&&(y=Gt.utils.toArray(y)),a=a||1e-9,i=i||0,x=x||1,U=U||1,l=l||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(Ys.getComputedStyle(Nl).lineHeight)||22);var ee,re,Ee,de,Ae,Bt,Jt,B=this,Vs=0,on=0,Fn=n.passive||!m&&n.passive!==!1,nt=Aa(o,ws),cn=Aa(o,Mt),$n=nt(),Ua=cn(),At=~l.indexOf("touch")&&!~l.indexOf("pointer")&&Dr[0]==="pointerdown",Vn=zo(o),mt=o.ownerDocument||oa,_r=[0,0,0],ar=[0,0,0],dn=0,Ql=function(){return dn=Bo()},yt=function(ne,we){return(B.event=ne)&&y&&P_(ne.target,y)||we&&At&&ne.pointerType!=="touch"||O&&O(ne,we)},Xc=function(){B._vx.reset(),B._vy.reset(),re.pause(),h&&h(B)},un=function(){var ne=B.deltaX=gy(_r),we=B.deltaY=gy(ar),Z=Math.abs(ne)>=a,le=Math.abs(we)>=a;R&&(Z||le)&&R(B,ne,we,_r,ar),Z&&(j&&B.deltaX>0&&j(B),_&&B.deltaX<0&&_(B),C&&C(B),M&&B.deltaX<0!=Vs<0&&M(B),Vs=B.deltaX,_r[0]=_r[1]=_r[2]=0),le&&(T&&B.deltaY>0&&T(B),k&&B.deltaY<0&&k(B),E&&E(B),$&&B.deltaY<0!=on<0&&$(B),on=B.deltaY,ar[0]=ar[1]=ar[2]=0),(de||Ee)&&(D&&D(B),Ee&&(b&&Ee===1&&b(B),g&&g(B),Ee=0),de=!1),Bt&&!(Bt=!1)&&L&&L(B),Ae&&(V(B),Ae=!1),ee=0},Li=function(ne,we,Z){_r[Z]+=ne,ar[Z]+=we,B._vx.update(ne),B._vy.update(we),d?ee||(ee=requestAnimationFrame(un)):un()},Oi=function(ne,we){ue&&!Jt&&(B.axis=Jt=Math.abs(ne)>Math.abs(we)?"x":"y",Bt=!0),Jt!=="y"&&(_r[2]+=ne,B._vx.update(ne,!0)),Jt!=="x"&&(ar[2]+=we,B._vy.update(we,!0)),d?ee||(ee=requestAnimationFrame(un)):un()},Bn=function(ne){if(!yt(ne,1)){ne=mo(ne,m);var we=ne.clientX,Z=ne.clientY,le=we-B.x,te=Z-B.y,oe=B.isDragging;B.x=we,B.y=Z,(oe||(le||te)&&(Math.abs(B.startX-we)>=i||Math.abs(B.startY-Z)>=i))&&(Ee=oe?2:1,oe||(B.isDragging=!0),Oi(le,te))}},Wa=B.onPress=function(ce){yt(ce,1)||ce&&ce.button||(B.axis=Jt=null,re.pause(),B.isPressed=!0,ce=mo(ce),Vs=on=0,B.startX=B.x=ce.clientX,B.startY=B.y=ce.clientY,B._vx.reset(),B._vy.reset(),fs(I?o:mt,Dr[1],Bn,Fn,!0),B.deltaX=B.deltaY=0,w&&w(B))},fe=B.onRelease=function(ce){if(!yt(ce,1)){ps(I?o:mt,Dr[1],Bn,!0);var ne=!isNaN(B.y-B.startY),we=B.isDragging,Z=we&&(Math.abs(B.x-B.startX)>3||Math.abs(B.y-B.startY)>3),le=mo(ce);!Z&&ne&&(B._vx.reset(),B._vy.reset(),m&&se&&Gt.delayedCall(.08,function(){if(Bo()-dn>300&&!ce.defaultPrevented){if(ce.target.click)ce.target.click();else if(mt.createEvent){var te=mt.createEvent("MouseEvents");te.initMouseEvent("click",!0,!0,Ys,1,le.screenX,le.screenY,le.clientX,le.clientY,!1,!1,!1,!1,0,null),ce.target.dispatchEvent(te)}}})),B.isDragging=B.isGesturing=B.isPressed=!1,h&&we&&!I&&re.restart(!0),Ee&&un(),v&&we&&v(B),N&&N(B,Z)}},Ha=function(ne){return ne.touches&&ne.touches.length>1&&(B.isGesturing=!0)&&F(ne,B.isDragging)},kr=function(){return(B.isGesturing=!1)||S(B)},Sr=function(ne){if(!yt(ne)){var we=nt(),Z=cn();Li((we-$n)*U,(Z-Ua)*U,1),$n=we,Ua=Z,h&&re.restart(!0)}},Cr=function(ne){if(!yt(ne)){ne=mo(ne,m),V&&(Ae=!0);var we=(ne.deltaMode===1?c:ne.deltaMode===2?Ys.innerHeight:1)*x;Li(ne.deltaX*we,ne.deltaY*we,0),h&&!I&&re.restart(!0)}},Ga=function(ne){if(!yt(ne)){var we=ne.clientX,Z=ne.clientY,le=we-B.x,te=Z-B.y;B.x=we,B.y=Z,de=!0,h&&re.restart(!0),(le||te)&&Oi(le,te)}},Fi=function(ne){B.event=ne,A(B)},mn=function(ne){B.event=ne,z(B)},Jl=function(ne){return yt(ne)||mo(ne,m)&&P(B)};re=B._dc=Gt.delayedCall(p||.25,Xc).pause(),B.deltaX=B.deltaY=0,B._vx=ux(0,50,!0),B._vy=ux(0,50,!0),B.scrollX=nt,B.scrollY=cn,B.isDragging=B.isGesturing=B.isPressed=!1,_2(this),B.enable=function(ce){return B.isEnabled||(fs(Vn?mt:o,"scroll",dx),l.indexOf("scroll")>=0&&fs(Vn?mt:o,"scroll",Sr,Fn,Y),l.indexOf("wheel")>=0&&fs(o,"wheel",Cr,Fn,Y),(l.indexOf("touch")>=0&&N2||l.indexOf("pointer")>=0)&&(fs(o,Dr[0],Wa,Fn,Y),fs(mt,Dr[2],fe),fs(mt,Dr[3],fe),se&&fs(o,"click",Ql,!0,!0),P&&fs(o,"click",Jl),F&&fs(mt,"gesturestart",Ha),S&&fs(mt,"gestureend",kr),A&&fs(o,ei+"enter",Fi),z&&fs(o,ei+"leave",mn),D&&fs(o,ei+"move",Ga)),B.isEnabled=!0,B.isDragging=B.isGesturing=B.isPressed=de=Ee=!1,B._vx.reset(),B._vy.reset(),$n=nt(),Ua=cn(),ce&&ce.type&&Wa(ce),G&&G(B)),B},B.disable=function(){B.isEnabled&&(il.filter(function(ce){return ce!==B&&zo(ce.target)}).length||ps(Vn?mt:o,"scroll",dx),B.isPressed&&(B._vx.reset(),B._vy.reset(),ps(I?o:mt,Dr[1],Bn,!0)),ps(Vn?mt:o,"scroll",Sr,Y),ps(o,"wheel",Cr,Y),ps(o,Dr[0],Wa,Y),ps(mt,Dr[2],fe),ps(mt,Dr[3],fe),ps(o,"click",Ql,!0),ps(o,"click",Jl),ps(mt,"gesturestart",Ha),ps(mt,"gestureend",kr),ps(o,ei+"enter",Fi),ps(o,ei+"leave",mn),ps(o,ei+"move",Ga),B.isEnabled=B.isPressed=B.isDragging=!1,q&&q(B))},B.kill=B.revert=function(){B.disable();var ce=il.indexOf(B);ce>=0&&il.splice(ce,1),jn===B&&(jn=0)},il.push(B),I&&zo(o)&&(jn=B),B.enable(f)},E_(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();gt.version="3.13.0";gt.create=function(s){return new gt(s)};gt.register=T2;gt.getAll=function(){return il.slice()};gt.getById=function(s){return il.filter(function(t){return t.vars.id===s})[0]};k2()&&Gt.registerPlugin(gt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var X,Ui,xe,Le,Gs,_e,Xp,Uu,Sc,Uo,No,bd,as,Cm,mx,bs,yy,vy,Wi,M2,Sh,D2,gs,hx,E2,A2,Hn,xx,Qp,wl,Jp,Wu,px,Ch,jd=1,ls=Date.now,Th=ls(),vr=0,wo=0,by=function(t,r,n){var a=Ws(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return n["_"+r+"Clamp"]=a,a?t.substr(6,t.length-7):t},jy=function(t,r){return r&&(!Ws(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},R_=function s(){return wo&&requestAnimationFrame(s)},Ny=function(){return Cm=1},wy=function(){return Cm=0},qr=function(t){return t},_o=function(t){return Math.round(t*1e5)/1e5||0},P2=function(){return typeof window<"u"},R2=function(){return X||P2()&&(X=window.gsap)&&X.registerPlugin&&X},Si=function(t){return!!~Xp.indexOf(t)},I2=function(t){return(t==="Height"?Jp:xe["inner"+t])||Gs["client"+t]||_e["client"+t]},L2=function(t){return ja(t,"getBoundingClientRect")||(Si(t)?function(){return ru.width=xe.innerWidth,ru.height=Jp,ru}:function(){return yn(t)})},I_=function(t,r,n){var a=n.d,i=n.d2,l=n.a;return(l=ja(t,"getBoundingClientRect"))?function(){return l()[a]}:function(){return(r?I2(i):t["client"+i])||0}},L_=function(t,r){return!r||~tn.indexOf(t)?L2(t):function(){return ru}},Qr=function(t,r){var n=r.s,a=r.d2,i=r.d,l=r.a;return Math.max(0,(n="scroll"+a)&&(l=ja(t,n))?l()-L2(t)()[i]:Si(t)?(Gs[n]||_e[n])-I2(a):t[n]-t["offset"+a])},Nd=function(t,r){for(var n=0;n<Wi.length;n+=3)(!r||~r.indexOf(Wi[n+1]))&&t(Wi[n],Wi[n+1],Wi[n+2])},Ws=function(t){return typeof t=="string"},ds=function(t){return typeof t=="function"},ko=function(t){return typeof t=="number"},ti=function(t){return typeof t=="object"},ho=function(t,r,n){return t&&t.progress(r?0:1)&&n&&t.pause()},Mh=function(t,r){if(t.enabled){var n=t._ctx?t._ctx.add(function(){return r(t)}):r(t);n&&n.totalTime&&(t.callbackAnimation=n)}},Bi=Math.abs,O2="left",F2="top",ef="right",tf="bottom",gi="width",yi="height",Wo="Right",Ho="Left",Go="Top",qo="Bottom",bt="padding",mr="margin",zl="Width",sf="Height",St="px",hr=function(t){return xe.getComputedStyle(t)},O_=function(t){var r=hr(t).position;t.style.position=r==="absolute"||r==="fixed"?r:"relative"},_y=function(t,r){for(var n in r)n in t||(t[n]=r[n]);return t},yn=function(t,r){var n=r&&hr(t)[mx]!=="matrix(1, 0, 0, 1, 0, 0)"&&X.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=t.getBoundingClientRect();return n&&n.progress(0).kill(),a},Hu=function(t,r){var n=r.d2;return t["offset"+n]||t["client"+n]||0},$2=function(t){var r=[],n=t.labels,a=t.duration(),i;for(i in n)r.push(n[i]/a);return r},F_=function(t){return function(r){return X.utils.snap($2(t),r)}},rf=function(t){var r=X.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort(function(a,i){return a-i});return n?function(a,i,l){l===void 0&&(l=.001);var o;if(!i)return r(a);if(i>0){for(a-=l,o=0;o<n.length;o++)if(n[o]>=a)return n[o];return n[o-1]}else for(o=n.length,a+=l;o--;)if(n[o]<=a)return n[o];return n[0]}:function(a,i,l){l===void 0&&(l=.001);var o=r(a);return!i||Math.abs(o-a)<l||o-a<0==i<0?o:r(i<0?a-t:a+t)}},$_=function(t){return function(r,n){return rf($2(t))(r,n.direction)}},wd=function(t,r,n,a){return n.split(",").forEach(function(i){return t(r,i,a)})},It=function(t,r,n,a,i){return t.addEventListener(r,n,{passive:!a,capture:!!i})},Rt=function(t,r,n,a){return t.removeEventListener(r,n,!!a)},_d=function(t,r,n){n=n&&n.wheelHandler,n&&(t(r,"wheel",n),t(r,"touchmove",n))},ky={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},kd={toggleActions:"play",anticipatePin:0},Gu={top:0,left:0,center:.5,bottom:1,right:1},Jd=function(t,r){if(Ws(t)){var n=t.indexOf("="),a=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(a*=r/100),t=t.substr(0,n-1)),t=a+(t in Gu?Gu[t]*r:~t.indexOf("%")?parseFloat(t)*r/100:parseFloat(t)||0)}return t},Sd=function(t,r,n,a,i,l,o,c){var d=i.startColor,m=i.endColor,h=i.fontSize,p=i.indent,y=i.fontWeight,x=Le.createElement("div"),f=Si(n)||ja(n,"pinType")==="fixed",b=t.indexOf("scroller")!==-1,v=f?_e:n,g=t.indexOf("start")!==-1,w=g?d:m,N="border-color:"+w+";font-size:"+h+";color:"+w+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((b||c)&&f?"fixed;":"absolute;"),(b||c||!f)&&(N+=(a===Mt?ef:tf)+":"+(l+parseFloat(p))+"px;"),o&&(N+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),x._isStart=g,x.setAttribute("class","gsap-marker-"+t+(r?" marker-"+r:"")),x.style.cssText=N,x.innerText=r||r===0?t+"-"+r:t,v.children[0]?v.insertBefore(x,v.children[0]):v.appendChild(x),x._offset=x["offset"+a.op.d2],eu(x,0,a,g),x},eu=function(t,r,n,a){var i={display:"block"},l=n[a?"os2":"p2"],o=n[a?"p2":"os2"];t._isFlipped=a,i[n.a+"Percent"]=a?-100:0,i[n.a]=a?"1px":0,i["border"+l+zl]=1,i["border"+o+zl]=0,i[n.p]=r+"px",X.set(t,i)},me=[],fx={},Cc,Sy=function(){return ls()-vr>34&&(Cc||(Cc=requestAnimationFrame(_n)))},zi=function(){(!gs||!gs.isPressed||gs.startX>_e.clientWidth)&&(pe.cache++,gs?Cc||(Cc=requestAnimationFrame(_n)):_n(),vr||Ti("scrollStart"),vr=ls())},Dh=function(){A2=xe.innerWidth,E2=xe.innerHeight},So=function(t){pe.cache++,(t===!0||!as&&!D2&&!Le.fullscreenElement&&!Le.webkitFullscreenElement&&(!hx||A2!==xe.innerWidth||Math.abs(xe.innerHeight-E2)>xe.innerHeight*.25))&&Uu.restart(!0)},Ci={},V_=[],V2=function s(){return Rt(ge,"scrollEnd",s)||ci(!0)},Ti=function(t){return Ci[t]&&Ci[t].map(function(r){return r()})||V_},zs=[],B2=function(t){for(var r=0;r<zs.length;r+=5)(!t||zs[r+4]&&zs[r+4].query===t)&&(zs[r].style.cssText=zs[r+1],zs[r].getBBox&&zs[r].setAttribute("transform",zs[r+2]||""),zs[r+3].uncache=1)},nf=function(t,r){var n;for(bs=0;bs<me.length;bs++)n=me[bs],n&&(!r||n._ctx===r)&&(t?n.kill(1):n.revert(!0,!0));Wu=!0,r&&B2(r),r||Ti("revert")},z2=function(t,r){pe.cache++,(r||!js)&&pe.forEach(function(n){return ds(n)&&n.cacheID++&&(n.rec=0)}),Ws(t)&&(xe.history.scrollRestoration=Qp=t)},js,vi=0,Cy,B_=function(){if(Cy!==vi){var t=Cy=vi;requestAnimationFrame(function(){return t===vi&&ci(!0)})}},U2=function(){_e.appendChild(wl),Jp=!gs&&wl.offsetHeight||xe.innerHeight,_e.removeChild(wl)},Ty=function(t){return Sc(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(r){return r.style.display=t?"none":"block"})},ci=function(t,r){if(Gs=Le.documentElement,_e=Le.body,Xp=[xe,Le,Gs,_e],vr&&!t&&!Wu){It(ge,"scrollEnd",V2);return}U2(),js=ge.isRefreshing=!0,pe.forEach(function(a){return ds(a)&&++a.cacheID&&(a.rec=a())});var n=Ti("refreshInit");M2&&ge.sort(),r||nf(),pe.forEach(function(a){ds(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),me.slice(0).forEach(function(a){return a.refresh()}),Wu=!1,me.forEach(function(a){if(a._subPinOffset&&a.pin){var i=a.vars.horizontal?"offsetWidth":"offsetHeight",l=a.pin[i];a.revert(!0,1),a.adjustPinSpacing(a.pin[i]-l),a.refresh()}}),px=1,Ty(!0),me.forEach(function(a){var i=Qr(a.scroller,a._dir),l=a.vars.end==="max"||a._endClamp&&a.end>i,o=a._startClamp&&a.start>=i;(l||o)&&a.setPositions(o?i-1:a.start,l?Math.max(o?i:a.start+1,i):a.end,!0)}),Ty(!1),px=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),pe.forEach(function(a){ds(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),z2(Qp,1),Uu.pause(),vi++,js=2,_n(2),me.forEach(function(a){return ds(a.vars.onRefresh)&&a.vars.onRefresh(a)}),js=ge.isRefreshing=!1,Ti("refresh")},gx=0,tu=1,Yo,_n=function(t){if(t===2||!js&&!Wu){ge.isUpdating=!0,Yo&&Yo.update(0);var r=me.length,n=ls(),a=n-Th>=50,i=r&&me[0].scroll();if(tu=gx>i?-1:1,js||(gx=i),a&&(vr&&!Cm&&n-vr>200&&(vr=0,Ti("scrollEnd")),No=Th,Th=n),tu<0){for(bs=r;bs-- >0;)me[bs]&&me[bs].update(0,a);tu=1}else for(bs=0;bs<r;bs++)me[bs]&&me[bs].update(0,a);ge.isUpdating=!1}Cc=0},yx=[O2,F2,tf,ef,mr+qo,mr+Wo,mr+Go,mr+Ho,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],su=yx.concat([gi,yi,"boxSizing","max"+zl,"max"+sf,"position",mr,bt,bt+Go,bt+Wo,bt+qo,bt+Ho]),z_=function(t,r,n){_l(n);var a=t._gsap;if(a.spacerIsNative)_l(a.spacerState);else if(t._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(t,r),i.removeChild(r))}t._gsap.swappedIn=!1},Eh=function(t,r,n,a){if(!t._gsap.swappedIn){for(var i=yx.length,l=r.style,o=t.style,c;i--;)c=yx[i],l[c]=n[c];l.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(l.display="inline-block"),o[tf]=o[ef]="auto",l.flexBasis=n.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[gi]=Hu(t,ws)+St,l[yi]=Hu(t,Mt)+St,l[bt]=o[mr]=o[F2]=o[O2]="0",_l(a),o[gi]=o["max"+zl]=n[gi],o[yi]=o["max"+sf]=n[yi],o[bt]=n[bt],t.parentNode!==r&&(t.parentNode.insertBefore(r,t),r.appendChild(t)),t._gsap.swappedIn=!0}},U_=/([A-Z])/g,_l=function(t){if(t){var r=t.t.style,n=t.length,a=0,i,l;for((t.t._gsap||X.core.getCache(t.t)).uncache=1;a<n;a+=2)l=t[a+1],i=t[a],l?r[i]=l:r[i]&&r.removeProperty(i.replace(U_,"-$1").toLowerCase())}},Cd=function(t){for(var r=su.length,n=t.style,a=[],i=0;i<r;i++)a.push(su[i],n[su[i]]);return a.t=t,a},W_=function(t,r,n){for(var a=[],i=t.length,l=n?8:0,o;l<i;l+=2)o=t[l],a.push(o,o in r?r[o]:t[l+1]);return a.t=t.t,a},ru={left:0,top:0},My=function(t,r,n,a,i,l,o,c,d,m,h,p,y,x){ds(t)&&(t=t(c)),Ws(t)&&t.substr(0,3)==="max"&&(t=p+(t.charAt(4)==="="?Jd("0"+t.substr(3),n):0));var f=y?y.time():0,b,v,g;if(y&&y.seek(0),isNaN(t)||(t=+t),ko(t))y&&(t=X.utils.mapRange(y.scrollTrigger.start,y.scrollTrigger.end,0,p,t)),o&&eu(o,n,a,!0);else{ds(r)&&(r=r(c));var w=(t||"0").split(" "),N,j,_,k;g=Cs(r,c)||_e,N=yn(g)||{},(!N||!N.left&&!N.top)&&hr(g).display==="none"&&(k=g.style.display,g.style.display="block",N=yn(g),k?g.style.display=k:g.style.removeProperty("display")),j=Jd(w[0],N[a.d]),_=Jd(w[1]||"0",n),t=N[a.p]-d[a.p]-m+j+i-_,o&&eu(o,_,a,n-_<20||o._isStart&&_>20),n-=n-_}if(x&&(c[x]=t||-.001,t<0&&(t=0)),l){var T=t+n,C=l._isStart;b="scroll"+a.d2,eu(l,T,a,C&&T>20||!C&&(h?Math.max(_e[b],Gs[b]):l.parentNode[b])<=T+1),h&&(d=yn(o),h&&(l.style[a.op.p]=d[a.op.p]-a.op.m-l._offset+St))}return y&&g&&(b=yn(g),y.seek(p),v=yn(g),y._caScrollDist=b[a.p]-v[a.p],t=t/y._caScrollDist*p),y&&y.seek(f),y?t:Math.round(t)},H_=/(webkit|moz|length|cssText|inset)/i,Dy=function(t,r,n,a){if(t.parentNode!==r){var i=t.style,l,o;if(r===_e){t._stOrig=i.cssText,o=hr(t);for(l in o)!+l&&!H_.test(l)&&o[l]&&typeof i[l]=="string"&&l!=="0"&&(i[l]=o[l]);i.top=n,i.left=a}else i.cssText=t._stOrig;X.core.getCache(t).uncache=1,r.appendChild(t)}},W2=function(t,r,n){var a=r,i=a;return function(l){var o=Math.round(t());return o!==a&&o!==i&&Math.abs(o-a)>3&&Math.abs(o-i)>3&&(l=o,n&&n()),i=a,a=Math.round(l),a}},Td=function(t,r,n){var a={};a[r.p]="+="+n,X.set(t,a)},Ey=function(t,r){var n=Aa(t,r),a="_scroll"+r.p2,i=function l(o,c,d,m,h){var p=l.tween,y=c.onComplete,x={};d=d||n();var f=W2(n,d,function(){p.kill(),l.tween=0});return h=m&&h||0,m=m||o-d,p&&p.kill(),c[a]=o,c.inherit=!1,c.modifiers=x,x[a]=function(){return f(d+m*p.ratio+h*p.ratio*p.ratio)},c.onUpdate=function(){pe.cache++,l.tween&&_n()},c.onComplete=function(){l.tween=0,y&&y.call(p)},p=l.tween=X.to(t,c),p};return t[a]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},It(t,"wheel",n.wheelHandler),ge.isTouch&&It(t,"touchmove",n.wheelHandler),i},ge=function(){function s(r,n){Ui||s.register(X)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),xx(this),this.init(r,n)}var t=s.prototype;return t.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!wo){this.update=this.refresh=this.kill=qr;return}n=_y(Ws(n)||ko(n)||n.nodeType?{trigger:n}:n,kd);var i=n,l=i.onUpdate,o=i.toggleClass,c=i.id,d=i.onToggle,m=i.onRefresh,h=i.scrub,p=i.trigger,y=i.pin,x=i.pinSpacing,f=i.invalidateOnRefresh,b=i.anticipatePin,v=i.onScrubComplete,g=i.onSnapComplete,w=i.once,N=i.snap,j=i.pinReparent,_=i.pinSpacer,k=i.containerAnimation,T=i.fastScrollEnd,C=i.preventOverlaps,E=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ws:Mt,R=!h&&h!==0,M=Cs(n.scroller||xe),$=X.core.getCache(M),A=Si(M),z=("pinType"in n?n.pinType:ja(M,"pinType")||A&&"fixed")==="fixed",D=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],O=R&&n.toggleActions.split(" "),I="markers"in n?n.markers:kd.markers,F=A?0:parseFloat(hr(M)["border"+E.p2+zl])||0,S=this,V=n.onRefreshInit&&function(){return n.onRefreshInit(S)},G=I_(M,A,E),q=L_(M,A),P=0,U=0,Y=0,se=Aa(M,E),ue,L,ee,re,Ee,de,Ae,Bt,Jt,B,Vs,on,Fn,nt,cn,$n,Ua,At,Vn,mt,_r,ar,dn,Ql,yt,Xc,un,Li,Oi,Bn,Wa,fe,Ha,kr,Sr,Cr,Ga,Fi,mn;if(S._startClamp=S._endClamp=!1,S._dir=E,b*=45,S.scroller=M,S.scroll=k?k.time.bind(k):se,re=se(),S.vars=n,a=a||n.animation,"refreshPriority"in n&&(M2=1,n.refreshPriority===-9999&&(Yo=S)),$.tweenScroll=$.tweenScroll||{top:Ey(M,Mt),left:Ey(M,ws)},S.tweenTo=ue=$.tweenScroll[E.p],S.scrubDuration=function(Z){Ha=ko(Z)&&Z,Ha?fe?fe.duration(Z):fe=X.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Ha,paused:!0,onComplete:function(){return v&&v(S)}}):(fe&&fe.progress(1).kill(),fe=0)},a&&(a.vars.lazy=!1,a._initted&&!S.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),S.animation=a.pause(),a.scrollTrigger=S,S.scrubDuration(h),Bn=0,c||(c=a.vars.id)),N&&((!ti(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in _e.style&&X.set(A?[_e,Gs]:M,{scrollBehavior:"auto"}),pe.forEach(function(Z){return ds(Z)&&Z.target===(A?Le.scrollingElement||Gs:M)&&(Z.smooth=!1)}),ee=ds(N.snapTo)?N.snapTo:N.snapTo==="labels"?F_(a):N.snapTo==="labelsDirectional"?$_(a):N.directional!==!1?function(Z,le){return rf(N.snapTo)(Z,ls()-U<500?0:le.direction)}:X.utils.snap(N.snapTo),kr=N.duration||{min:.1,max:2},kr=ti(kr)?Uo(kr.min,kr.max):Uo(kr,kr),Sr=X.delayedCall(N.delay||Ha/2||.1,function(){var Z=se(),le=ls()-U<500,te=ue.tween;if((le||Math.abs(S.getVelocity())<10)&&!te&&!Cm&&P!==Z){var oe=(Z-de)/nt,Pt=a&&!R?a.totalProgress():oe,ve=le?0:(Pt-Wa)/(ls()-No)*1e3||0,ht=X.utils.clamp(-oe,1-oe,Bi(ve/2)*ve/.185),es=oe+(N.inertia===!1?0:ht),at,Ue,Pe=N,Tr=Pe.onStart,qe=Pe.onInterrupt,Bs=Pe.onComplete;if(at=ee(es,S),ko(at)||(at=es),Ue=Math.max(0,Math.round(de+at*nt)),Z<=Ae&&Z>=de&&Ue!==Z){if(te&&!te._initted&&te.data<=Bi(Ue-Z))return;N.inertia===!1&&(ht=at-oe),ue(Ue,{duration:kr(Bi(Math.max(Bi(es-Pt),Bi(at-Pt))*.185/ve/.05||0)),ease:N.ease||"power3",data:Bi(Ue-Z),onInterrupt:function(){return Sr.restart(!0)&&qe&&qe(S)},onComplete:function(){S.update(),P=se(),a&&!R&&(fe?fe.resetTo("totalProgress",at,a._tTime/a._tDur):a.progress(at)),Bn=Wa=a&&!R?a.totalProgress():S.progress,g&&g(S),Bs&&Bs(S)}},Z,ht*nt,Ue-Z-ht*nt),Tr&&Tr(S,ue.tween)}}else S.isActive&&P!==Z&&Sr.restart(!0)}).pause()),c&&(fx[c]=S),p=S.trigger=Cs(p||y!==!0&&y),mn=p&&p._gsap&&p._gsap.stRevert,mn&&(mn=mn(S)),y=y===!0?p:Cs(y),Ws(o)&&(o={targets:p,className:o}),y&&(x===!1||x===mr||(x=!x&&y.parentNode&&y.parentNode.style&&hr(y.parentNode).display==="flex"?!1:bt),S.pin=y,L=X.core.getCache(y),L.spacer?cn=L.pinState:(_&&(_=Cs(_),_&&!_.nodeType&&(_=_.current||_.nativeElement),L.spacerIsNative=!!_,_&&(L.spacerState=Cd(_))),L.spacer=At=_||Le.createElement("div"),At.classList.add("pin-spacer"),c&&At.classList.add("pin-spacer-"+c),L.pinState=cn=Cd(y)),n.force3D!==!1&&X.set(y,{force3D:!0}),S.spacer=At=L.spacer,Oi=hr(y),Ql=Oi[x+E.os2],mt=X.getProperty(y),_r=X.quickSetter(y,E.a,St),Eh(y,At,Oi),Ua=Cd(y)),I){on=ti(I)?_y(I,ky):ky,B=Sd("scroller-start",c,M,E,on,0),Vs=Sd("scroller-end",c,M,E,on,0,B),Vn=B["offset"+E.op.d2];var Jl=Cs(ja(M,"content")||M);Bt=this.markerStart=Sd("start",c,Jl,E,on,Vn,0,k),Jt=this.markerEnd=Sd("end",c,Jl,E,on,Vn,0,k),k&&(Fi=X.quickSetter([Bt,Jt],E.a,St)),!z&&!(tn.length&&ja(M,"fixedMarkers")===!0)&&(O_(A?_e:M),X.set([B,Vs],{force3D:!0}),Xc=X.quickSetter(B,E.a,St),Li=X.quickSetter(Vs,E.a,St))}if(k){var ce=k.vars.onUpdate,ne=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){S.update(0,0,1),ce&&ce.apply(k,ne||[])})}if(S.previous=function(){return me[me.indexOf(S)-1]},S.next=function(){return me[me.indexOf(S)+1]},S.revert=function(Z,le){if(!le)return S.kill(!0);var te=Z!==!1||!S.enabled,oe=as;te!==S.isReverted&&(te&&(Cr=Math.max(se(),S.scroll.rec||0),Y=S.progress,Ga=a&&a.progress()),Bt&&[Bt,Jt,B,Vs].forEach(function(Pt){return Pt.style.display=te?"none":"block"}),te&&(as=S,S.update(te)),y&&(!j||!S.isActive)&&(te?z_(y,At,cn):Eh(y,At,hr(y),yt)),te||S.update(te),as=oe,S.isReverted=te)},S.refresh=function(Z,le,te,oe){if(!((as||!S.enabled)&&!le)){if(y&&Z&&vr){It(s,"scrollEnd",V2);return}!js&&V&&V(S),as=S,ue.tween&&!te&&(ue.tween.kill(),ue.tween=0),fe&&fe.pause(),f&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren&&a.getChildren(!0,!0,!1).forEach(function(zn){return zn.vars.immediateRender&&zn.render(0,!0,!0)})),S.isReverted||S.revert(!0,!0),S._subPinOffset=!1;var Pt=G(),ve=q(),ht=k?k.duration():Qr(M,E),es=nt<=.01||!nt,at=0,Ue=oe||0,Pe=ti(te)?te.end:n.end,Tr=n.endTrigger||p,qe=ti(te)?te.start:n.start||(n.start===0||!p?0:y?"0 0":"0 100%"),Bs=S.pinnedContainer=n.pinnedContainer&&Cs(n.pinnedContainer,S),Br=p&&Math.max(0,me.indexOf(S))||0,zt=Br,Ut,ts,qa,Qc,ss,kt,zr,Um,Lf,eo,Ur,to,Jc;for(I&&ti(te)&&(to=X.getProperty(B,E.p),Jc=X.getProperty(Vs,E.p));zt-- >0;)kt=me[zt],kt.end||kt.refresh(0,1)||(as=S),zr=kt.pin,zr&&(zr===p||zr===y||zr===Bs)&&!kt.isReverted&&(eo||(eo=[]),eo.unshift(kt),kt.revert(!0,!0)),kt!==me[zt]&&(Br--,zt--);for(ds(qe)&&(qe=qe(S)),qe=by(qe,"start",S),de=My(qe,p,Pt,E,se(),Bt,B,S,ve,F,z,ht,k,S._startClamp&&"_startClamp")||(y?-.001:0),ds(Pe)&&(Pe=Pe(S)),Ws(Pe)&&!Pe.indexOf("+=")&&(~Pe.indexOf(" ")?Pe=(Ws(qe)?qe.split(" ")[0]:"")+Pe:(at=Jd(Pe.substr(2),Pt),Pe=Ws(qe)?qe:(k?X.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,de):de)+at,Tr=p)),Pe=by(Pe,"end",S),Ae=Math.max(de,My(Pe||(Tr?"100% 0":ht),Tr,Pt,E,se()+at,Jt,Vs,S,ve,F,z,ht,k,S._endClamp&&"_endClamp"))||-.001,at=0,zt=Br;zt--;)kt=me[zt],zr=kt.pin,zr&&kt.start-kt._pinPush<=de&&!k&&kt.end>0&&(Ut=kt.end-(S._startClamp?Math.max(0,kt.start):kt.start),(zr===p&&kt.start-kt._pinPush<de||zr===Bs)&&isNaN(qe)&&(at+=Ut*(1-kt.progress)),zr===y&&(Ue+=Ut));if(de+=at,Ae+=at,S._startClamp&&(S._startClamp+=at),S._endClamp&&!js&&(S._endClamp=Ae||-.001,Ae=Math.min(Ae,Qr(M,E))),nt=Ae-de||(de-=.01)&&.001,es&&(Y=X.utils.clamp(0,1,X.utils.normalize(de,Ae,Cr))),S._pinPush=Ue,Bt&&at&&(Ut={},Ut[E.a]="+="+at,Bs&&(Ut[E.p]="-="+se()),X.set([Bt,Jt],Ut)),y&&!(px&&S.end>=Qr(M,E)))Ut=hr(y),Qc=E===Mt,qa=se(),ar=parseFloat(mt(E.a))+Ue,!ht&&Ae>1&&(Ur=(A?Le.scrollingElement||Gs:M).style,Ur={style:Ur,value:Ur["overflow"+E.a.toUpperCase()]},A&&hr(_e)["overflow"+E.a.toUpperCase()]!=="scroll"&&(Ur.style["overflow"+E.a.toUpperCase()]="scroll")),Eh(y,At,Ut),Ua=Cd(y),ts=yn(y,!0),Um=z&&Aa(M,Qc?ws:Mt)(),x?(yt=[x+E.os2,nt+Ue+St],yt.t=At,zt=x===bt?Hu(y,E)+nt+Ue:0,zt&&(yt.push(E.d,zt+St),At.style.flexBasis!=="auto"&&(At.style.flexBasis=zt+St)),_l(yt),Bs&&me.forEach(function(zn){zn.pin===Bs&&zn.vars.pinSpacing!==!1&&(zn._subPinOffset=!0)}),z&&se(Cr)):(zt=Hu(y,E),zt&&At.style.flexBasis!=="auto"&&(At.style.flexBasis=zt+St)),z&&(ss={top:ts.top+(Qc?qa-de:Um)+St,left:ts.left+(Qc?Um:qa-de)+St,boxSizing:"border-box",position:"fixed"},ss[gi]=ss["max"+zl]=Math.ceil(ts.width)+St,ss[yi]=ss["max"+sf]=Math.ceil(ts.height)+St,ss[mr]=ss[mr+Go]=ss[mr+Wo]=ss[mr+qo]=ss[mr+Ho]="0",ss[bt]=Ut[bt],ss[bt+Go]=Ut[bt+Go],ss[bt+Wo]=Ut[bt+Wo],ss[bt+qo]=Ut[bt+qo],ss[bt+Ho]=Ut[bt+Ho],$n=W_(cn,ss,j),js&&se(0)),a?(Lf=a._initted,Sh(1),a.render(a.duration(),!0,!0),dn=mt(E.a)-ar+nt+Ue,un=Math.abs(nt-dn)>1,z&&un&&$n.splice($n.length-2,2),a.render(0,!0,!0),Lf||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),Sh(0)):dn=nt,Ur&&(Ur.value?Ur.style["overflow"+E.a.toUpperCase()]=Ur.value:Ur.style.removeProperty("overflow-"+E.a));else if(p&&se()&&!k)for(ts=p.parentNode;ts&&ts!==_e;)ts._pinOffset&&(de-=ts._pinOffset,Ae-=ts._pinOffset),ts=ts.parentNode;eo&&eo.forEach(function(zn){return zn.revert(!1,!0)}),S.start=de,S.end=Ae,re=Ee=js?Cr:se(),!k&&!js&&(re<Cr&&se(Cr),S.scroll.rec=0),S.revert(!1,!0),U=ls(),Sr&&(P=-1,Sr.restart(!0)),as=0,a&&R&&(a._initted||Ga)&&a.progress()!==Ga&&a.progress(Ga||0,!0).render(a.time(),!0,!0),(es||Y!==S.progress||k||f||a&&!a._initted)&&(a&&!R&&(a._initted||Y||a.vars.immediateRender!==!1)&&a.totalProgress(k&&de<-.001&&!Y?X.utils.normalize(de,Ae,0):Y,!0),S.progress=es||(re-de)/nt===Y?0:Y),y&&x&&(At._pinOffset=Math.round(S.progress*dn)),fe&&fe.invalidate(),isNaN(to)||(to-=X.getProperty(B,E.p),Jc-=X.getProperty(Vs,E.p),Td(B,E,to),Td(Bt,E,to-(oe||0)),Td(Vs,E,Jc),Td(Jt,E,Jc-(oe||0))),es&&!js&&S.update(),m&&!js&&!Fn&&(Fn=!0,m(S),Fn=!1)}},S.getVelocity=function(){return(se()-Ee)/(ls()-No)*1e3||0},S.endAnimation=function(){ho(S.callbackAnimation),a&&(fe?fe.progress(1):a.paused()?R||ho(a,S.direction<0,1):ho(a,a.reversed()))},S.labelToScroll=function(Z){return a&&a.labels&&(de||S.refresh()||de)+a.labels[Z]/a.duration()*nt||0},S.getTrailing=function(Z){var le=me.indexOf(S),te=S.direction>0?me.slice(0,le).reverse():me.slice(le+1);return(Ws(Z)?te.filter(function(oe){return oe.vars.preventOverlaps===Z}):te).filter(function(oe){return S.direction>0?oe.end<=de:oe.start>=Ae})},S.update=function(Z,le,te){if(!(k&&!te&&!Z)){var oe=js===!0?Cr:S.scroll(),Pt=Z?0:(oe-de)/nt,ve=Pt<0?0:Pt>1?1:Pt||0,ht=S.progress,es,at,Ue,Pe,Tr,qe,Bs,Br;if(le&&(Ee=re,re=k?se():oe,N&&(Wa=Bn,Bn=a&&!R?a.totalProgress():ve)),b&&y&&!as&&!jd&&vr&&(!ve&&de<oe+(oe-Ee)/(ls()-No)*b?ve=1e-4:ve===1&&Ae>oe+(oe-Ee)/(ls()-No)*b&&(ve=.9999)),ve!==ht&&S.enabled){if(es=S.isActive=!!ve&&ve<1,at=!!ht&&ht<1,qe=es!==at,Tr=qe||!!ve!=!!ht,S.direction=ve>ht?1:-1,S.progress=ve,Tr&&!as&&(Ue=ve&&!ht?0:ve===1?1:ht===1?2:3,R&&(Pe=!qe&&O[Ue+1]!=="none"&&O[Ue+1]||O[Ue],Br=a&&(Pe==="complete"||Pe==="reset"||Pe in a))),C&&(qe||Br)&&(Br||h||!a)&&(ds(C)?C(S):S.getTrailing(C).forEach(function(qa){return qa.endAnimation()})),R||(fe&&!as&&!jd?(fe._dp._time-fe._start!==fe._time&&fe.render(fe._dp._time-fe._start),fe.resetTo?fe.resetTo("totalProgress",ve,a._tTime/a._tDur):(fe.vars.totalProgress=ve,fe.invalidate().restart())):a&&a.totalProgress(ve,!!(as&&(U||Z)))),y){if(Z&&x&&(At.style[x+E.os2]=Ql),!z)_r(_o(ar+dn*ve));else if(Tr){if(Bs=!Z&&ve>ht&&Ae+1>oe&&oe+1>=Qr(M,E),j)if(!Z&&(es||Bs)){var zt=yn(y,!0),Ut=oe-de;Dy(y,_e,zt.top+(E===Mt?Ut:0)+St,zt.left+(E===Mt?0:Ut)+St)}else Dy(y,At);_l(es||Bs?$n:Ua),un&&ve<1&&es||_r(ar+(ve===1&&!Bs?dn:0))}}N&&!ue.tween&&!as&&!jd&&Sr.restart(!0),o&&(qe||w&&ve&&(ve<1||!Ch))&&Sc(o.targets).forEach(function(qa){return qa.classList[es||w?"add":"remove"](o.className)}),l&&!R&&!Z&&l(S),Tr&&!as?(R&&(Br&&(Pe==="complete"?a.pause().totalProgress(1):Pe==="reset"?a.restart(!0).pause():Pe==="restart"?a.restart(!0):a[Pe]()),l&&l(S)),(qe||!Ch)&&(d&&qe&&Mh(S,d),D[Ue]&&Mh(S,D[Ue]),w&&(ve===1?S.kill(!1,1):D[Ue]=0),qe||(Ue=ve===1?1:3,D[Ue]&&Mh(S,D[Ue]))),T&&!es&&Math.abs(S.getVelocity())>(ko(T)?T:2500)&&(ho(S.callbackAnimation),fe?fe.progress(1):ho(a,Pe==="reverse"?1:!ve,1))):R&&l&&!as&&l(S)}if(Li){var ts=k?oe/k.duration()*(k._caScrollDist||0):oe;Xc(ts+(B._isFlipped?1:0)),Li(ts)}Fi&&Fi(-oe/k.duration()*(k._caScrollDist||0))}},S.enable=function(Z,le){S.enabled||(S.enabled=!0,It(M,"resize",So),A||It(M,"scroll",zi),V&&It(s,"refreshInit",V),Z!==!1&&(S.progress=Y=0,re=Ee=P=se()),le!==!1&&S.refresh())},S.getTween=function(Z){return Z&&ue?ue.tween:fe},S.setPositions=function(Z,le,te,oe){if(k){var Pt=k.scrollTrigger,ve=k.duration(),ht=Pt.end-Pt.start;Z=Pt.start+ht*Z/ve,le=Pt.start+ht*le/ve}S.refresh(!1,!1,{start:jy(Z,te&&!!S._startClamp),end:jy(le,te&&!!S._endClamp)},oe),S.update()},S.adjustPinSpacing=function(Z){if(yt&&Z){var le=yt.indexOf(E.d)+1;yt[le]=parseFloat(yt[le])+Z+St,yt[1]=parseFloat(yt[1])+Z+St,_l(yt)}},S.disable=function(Z,le){if(S.enabled&&(Z!==!1&&S.revert(!0,!0),S.enabled=S.isActive=!1,le||fe&&fe.pause(),Cr=0,L&&(L.uncache=1),V&&Rt(s,"refreshInit",V),Sr&&(Sr.pause(),ue.tween&&ue.tween.kill()&&(ue.tween=0)),!A)){for(var te=me.length;te--;)if(me[te].scroller===M&&me[te]!==S)return;Rt(M,"resize",So),A||Rt(M,"scroll",zi)}},S.kill=function(Z,le){S.disable(Z,le),fe&&!le&&fe.kill(),c&&delete fx[c];var te=me.indexOf(S);te>=0&&me.splice(te,1),te===bs&&tu>0&&bs--,te=0,me.forEach(function(oe){return oe.scroller===S.scroller&&(te=1)}),te||js||(S.scroll.rec=0),a&&(a.scrollTrigger=null,Z&&a.revert({kill:!1}),le||a.kill()),Bt&&[Bt,Jt,B,Vs].forEach(function(oe){return oe.parentNode&&oe.parentNode.removeChild(oe)}),Yo===S&&(Yo=0),y&&(L&&(L.uncache=1),te=0,me.forEach(function(oe){return oe.pin===y&&te++}),te||(L.spacer=0)),n.onKill&&n.onKill(S)},me.push(S),S.enable(!1,!1),mn&&mn(S),a&&a.add&&!nt){var we=S.update;S.update=function(){S.update=we,pe.cache++,de||Ae||S.refresh()},X.delayedCall(.01,S.update),nt=.01,de=Ae=0}else S.refresh();y&&B_()},s.register=function(n){return Ui||(X=n||R2(),P2()&&window.document&&s.enable(),Ui=wo),Ui},s.defaults=function(n){if(n)for(var a in n)kd[a]=n[a];return kd},s.disable=function(n,a){wo=0,me.forEach(function(l){return l[a?"kill":"disable"](n)}),Rt(xe,"wheel",zi),Rt(Le,"scroll",zi),clearInterval(bd),Rt(Le,"touchcancel",qr),Rt(_e,"touchstart",qr),wd(Rt,Le,"pointerdown,touchstart,mousedown",Ny),wd(Rt,Le,"pointerup,touchend,mouseup",wy),Uu.kill(),Nd(Rt);for(var i=0;i<pe.length;i+=3)_d(Rt,pe[i],pe[i+1]),_d(Rt,pe[i],pe[i+2])},s.enable=function(){if(xe=window,Le=document,Gs=Le.documentElement,_e=Le.body,X&&(Sc=X.utils.toArray,Uo=X.utils.clamp,xx=X.core.context||qr,Sh=X.core.suppressOverwrites||qr,Qp=xe.history.scrollRestoration||"auto",gx=xe.pageYOffset||0,X.core.globals("ScrollTrigger",s),_e)){wo=1,wl=document.createElement("div"),wl.style.height="100vh",wl.style.position="absolute",U2(),R_(),gt.register(X),s.isTouch=gt.isTouch,Hn=gt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),hx=gt.isTouch===1,It(xe,"wheel",zi),Xp=[xe,Le,Gs,_e],X.matchMedia?(s.matchMedia=function(d){var m=X.matchMedia(),h;for(h in d)m.add(h,d[h]);return m},X.addEventListener("matchMediaInit",function(){return nf()}),X.addEventListener("matchMediaRevert",function(){return B2()}),X.addEventListener("matchMedia",function(){ci(0,1),Ti("matchMedia")}),X.matchMedia().add("(orientation: portrait)",function(){return Dh(),Dh})):console.warn("Requires GSAP 3.11.0 or later"),Dh(),It(Le,"scroll",zi);var n=_e.hasAttribute("style"),a=_e.style,i=a.borderTopStyle,l=X.core.Animation.prototype,o,c;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",o=yn(_e),Mt.m=Math.round(o.top+Mt.sc())||0,ws.m=Math.round(o.left+ws.sc())||0,i?a.borderTopStyle=i:a.removeProperty("border-top-style"),n||(_e.setAttribute("style",""),_e.removeAttribute("style")),bd=setInterval(Sy,250),X.delayedCall(.5,function(){return jd=0}),It(Le,"touchcancel",qr),It(_e,"touchstart",qr),wd(It,Le,"pointerdown,touchstart,mousedown",Ny),wd(It,Le,"pointerup,touchend,mouseup",wy),mx=X.utils.checkPrefix("transform"),su.push(mx),Ui=ls(),Uu=X.delayedCall(.2,ci).pause(),Wi=[Le,"visibilitychange",function(){var d=xe.innerWidth,m=xe.innerHeight;Le.hidden?(yy=d,vy=m):(yy!==d||vy!==m)&&So()},Le,"DOMContentLoaded",ci,xe,"load",ci,xe,"resize",So],Nd(It),me.forEach(function(d){return d.enable(0,1)}),c=0;c<pe.length;c+=3)_d(Rt,pe[c],pe[c+1]),_d(Rt,pe[c],pe[c+2])}},s.config=function(n){"limitCallbacks"in n&&(Ch=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(bd)||(bd=a)&&setInterval(Sy,a),"ignoreMobileResize"in n&&(hx=s.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(Nd(Rt)||Nd(It,n.autoRefreshEvents||"none"),D2=(n.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(n,a){var i=Cs(n),l=pe.indexOf(i),o=Si(i);~l&&pe.splice(l,o?6:2),a&&(o?tn.unshift(xe,a,_e,a,Gs,a):tn.unshift(i,a))},s.clearMatchMedia=function(n){me.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},s.isInViewport=function(n,a,i){var l=(Ws(n)?Cs(n):n).getBoundingClientRect(),o=l[i?gi:yi]*a||0;return i?l.right-o>0&&l.left+o<xe.innerWidth:l.bottom-o>0&&l.top+o<xe.innerHeight},s.positionInViewport=function(n,a,i){Ws(n)&&(n=Cs(n));var l=n.getBoundingClientRect(),o=l[i?gi:yi],c=a==null?o/2:a in Gu?Gu[a]*o:~a.indexOf("%")?parseFloat(a)*o/100:parseFloat(a)||0;return i?(l.left+c)/xe.innerWidth:(l.top+c)/xe.innerHeight},s.killAll=function(n){if(me.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),n!==!0){var a=Ci.killAll||[];Ci={},a.forEach(function(i){return i()})}},s}();ge.version="3.13.0";ge.saveStyles=function(s){return s?Sc(s).forEach(function(t){if(t&&t.style){var r=zs.indexOf(t);r>=0&&zs.splice(r,5),zs.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),X.core.getCache(t),xx())}}):zs};ge.revert=function(s,t){return nf(!s,t)};ge.create=function(s,t){return new ge(s,t)};ge.refresh=function(s){return s?So(!0):(Ui||ge.register())&&ci(!0)};ge.update=function(s){return++pe.cache&&_n(s===!0?2:0)};ge.clearScrollMemory=z2;ge.maxScroll=function(s,t){return Qr(s,t?ws:Mt)};ge.getScrollFunc=function(s,t){return Aa(Cs(s),t?ws:Mt)};ge.getById=function(s){return fx[s]};ge.getAll=function(){return me.filter(function(s){return s.vars.id!=="ScrollSmoother"})};ge.isScrolling=function(){return!!vr};ge.snapDirectional=rf;ge.addEventListener=function(s,t){var r=Ci[s]||(Ci[s]=[]);~r.indexOf(t)||r.push(t)};ge.removeEventListener=function(s,t){var r=Ci[s],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)};ge.batch=function(s,t){var r=[],n={},a=t.interval||.016,i=t.batchMax||1e9,l=function(d,m){var h=[],p=[],y=X.delayedCall(a,function(){m(h,p),h=[],p=[]}).pause();return function(x){h.length||y.restart(!0),h.push(x.trigger),p.push(x),i<=h.length&&y.progress(1)}},o;for(o in t)n[o]=o.substr(0,2)==="on"&&ds(t[o])&&o!=="onRefreshInit"?l(o,t[o]):t[o];return ds(i)&&(i=i(),It(ge,"refresh",function(){return i=t.batchMax()})),Sc(s).forEach(function(c){var d={};for(o in n)d[o]=n[o];d.trigger=c,r.push(ge.create(d))}),r};var Ay=function(t,r,n,a){return r>a?t(a):r<0&&t(0),n>a?(a-r)/(n-r):n<0?r/(r-n):1},Ah=function s(t,r){r===!0?t.style.removeProperty("touch-action"):t.style.touchAction=r===!0?"auto":r?"pan-"+r+(gt.isTouch?" pinch-zoom":""):"none",t===Gs&&s(_e,r)},Md={auto:1,scroll:1},G_=function(t){var r=t.event,n=t.target,a=t.axis,i=(r.changedTouches?r.changedTouches[0]:r).target,l=i._gsap||X.core.getCache(i),o=ls(),c;if(!l._isScrollT||o-l._isScrollT>2e3){for(;i&&i!==_e&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Md[(c=hr(i)).overflowY]||Md[c.overflowX]));)i=i.parentNode;l._isScroll=i&&i!==n&&!Si(i)&&(Md[(c=hr(i)).overflowY]||Md[c.overflowX]),l._isScrollT=o}(l._isScroll||a==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},H2=function(t,r,n,a){return gt.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:a=a&&G_,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&It(Le,gt.eventTypes[0],Ry,!1,!0)},onDisable:function(){return Rt(Le,gt.eventTypes[0],Ry,!0)}})},q_=/(input|label|select|textarea)/i,Py,Ry=function(t){var r=q_.test(t.target.tagName);(r||Py)&&(t._gsapAllow=!0,Py=r)},Y_=function(t){ti(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var r=t,n=r.normalizeScrollX,a=r.momentum,i=r.allowNestedScroll,l=r.onRelease,o,c,d=Cs(t.target)||Gs,m=X.core.globals().ScrollSmoother,h=m&&m.get(),p=Hn&&(t.content&&Cs(t.content)||h&&t.content!==!1&&!h.smooth()&&h.content()),y=Aa(d,Mt),x=Aa(d,ws),f=1,b=(gt.isTouch&&xe.visualViewport?xe.visualViewport.scale*xe.visualViewport.width:xe.outerWidth)/xe.innerWidth,v=0,g=ds(a)?function(){return a(o)}:function(){return a||2.8},w,N,j=H2(d,t.type,!0,i),_=function(){return N=!1},k=qr,T=qr,C=function(){c=Qr(d,Mt),T=Uo(Hn?1:0,c),n&&(k=Uo(0,Qr(d,ws))),w=vi},E=function(){p._gsap.y=_o(parseFloat(p._gsap.y)+y.offset)+"px",p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(p._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},R=function(){if(N){requestAnimationFrame(_);var I=_o(o.deltaY/2),F=T(y.v-I);if(p&&F!==y.v+y.offset){y.offset=F-y.v;var S=_o((parseFloat(p&&p._gsap.y)||0)-y.offset);p.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+S+", 0, 1)",p._gsap.y=S+"px",y.cacheID=pe.cache,_n()}return!0}y.offset&&E(),N=!0},M,$,A,z,D=function(){C(),M.isActive()&&M.vars.scrollY>c&&(y()>c?M.progress(1)&&y(c):M.resetTo("scrollY",c))};return p&&X.set(p,{y:"+=0"}),t.ignoreCheck=function(O){return Hn&&O.type==="touchmove"&&R()||f>1.05&&O.type!=="touchstart"||o.isGesturing||O.touches&&O.touches.length>1},t.onPress=function(){N=!1;var O=f;f=_o((xe.visualViewport&&xe.visualViewport.scale||1)/b),M.pause(),O!==f&&Ah(d,f>1.01?!0:n?!1:"x"),$=x(),A=y(),C(),w=vi},t.onRelease=t.onGestureStart=function(O,I){if(y.offset&&E(),!I)z.restart(!0);else{pe.cache++;var F=g(),S,V;n&&(S=x(),V=S+F*.05*-O.velocityX/.227,F*=Ay(x,S,V,Qr(d,ws)),M.vars.scrollX=k(V)),S=y(),V=S+F*.05*-O.velocityY/.227,F*=Ay(y,S,V,Qr(d,Mt)),M.vars.scrollY=T(V),M.invalidate().duration(F).play(.01),(Hn&&M.vars.scrollY>=c||S>=c-1)&&X.to({},{onUpdate:D,duration:F})}l&&l(O)},t.onWheel=function(){M._ts&&M.pause(),ls()-v>1e3&&(w=0,v=ls())},t.onChange=function(O,I,F,S,V){if(vi!==w&&C(),I&&n&&x(k(S[2]===I?$+(O.startX-O.x):x()+I-S[1])),F){y.offset&&E();var G=V[2]===F,q=G?A+O.startY-O.y:y()+F-V[1],P=T(q);G&&q!==P&&(A+=P-q),y(P)}(F||I)&&_n()},t.onEnable=function(){Ah(d,n?!1:"x"),ge.addEventListener("refresh",D),It(xe,"resize",D),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=x.smooth=!1),j.enable()},t.onDisable=function(){Ah(d,!0),Rt(xe,"resize",D),ge.removeEventListener("refresh",D),j.kill()},t.lockAxis=t.lockAxis!==!1,o=new gt(t),o.iOS=Hn,Hn&&!y()&&y(1),Hn&&X.ticker.add(qr),z=o._dc,M=X.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:W2(y,y(),function(){return M.pause()})},onUpdate:_n,onComplete:z.vars.onComplete}),o};ge.sort=function(s){if(ds(s))return me.sort(s);var t=xe.pageYOffset||0;return ge.getAll().forEach(function(r){return r._sortY=r.trigger?t+r.trigger.getBoundingClientRect().top:r.start+xe.innerHeight}),me.sort(s||function(r,n){return(r.vars.refreshPriority||0)*-1e6+(r.vars.containerAnimation?1e6:r._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};ge.observe=function(s){return new gt(s)};ge.normalizeScroll=function(s){if(typeof s>"u")return gs;if(s===!0&&gs)return gs.enable();if(s===!1){gs&&gs.kill(),gs=s;return}var t=s instanceof gt?s:Y_(s);return gs&&gs.target===t.target&&gs.kill(),Si(t.target)&&(gs=t),t};ge.core={_getVelocityProp:ux,_inputObserver:H2,_scrollers:pe,_proxies:tn,bridge:{ss:function(){vr||Ti("scrollStart"),vr=ls()},ref:function(){return as}}};R2()&&X.registerPlugin(ge);function Z_({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const K_=u.forwardRef(Z_),af=K_;function X_({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const Q_=u.forwardRef(X_),J_=Q_;function ek({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const tk=u.forwardRef(ek),Tm=tk;function sk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const rk=u.forwardRef(sk),G2=rk;function nk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ak=u.forwardRef(nk),br=ak;function ik({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const lk=u.forwardRef(ik),ok=lk;function ck({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const dk=u.forwardRef(ck),Pa=dk;function uk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const mk=u.forwardRef(uk),Je=mk;function hk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const xk=u.forwardRef(hk),Mi=xk;function pk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const fk=u.forwardRef(pk),gk=fk;function yk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const vk=u.forwardRef(yk),bk=vk;function jk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Nk=u.forwardRef(jk),Lr=Nk;function wk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const _k=u.forwardRef(wk),ll=_k;function kk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Sk=u.forwardRef(kk),Kn=Sk;function Ck({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Tk=u.forwardRef(Ck),q2=Tk;function Mk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const Dk=u.forwardRef(Mk),lf=Dk;function Ek({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Ak=u.forwardRef(Ek),Tc=Ak;function Pk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Rk=u.forwardRef(Pk),Na=Rk;function Ik({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Lk=u.forwardRef(Ik),ke=Lk;function Ok({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const Fk=u.forwardRef(Ok),Ul=Fk;function $k({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Vk=u.forwardRef($k),Bk=Vk;function zk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Uk=u.forwardRef(zk),he=Uk;function Wk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Hk=u.forwardRef(Wk),Gk=Hk;function qk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Yk=u.forwardRef(qk),of=Yk;function Zk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Kk=u.forwardRef(Zk),Xk=Kk;function Qk({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Jk=u.forwardRef(Qk),Mm=Jk;function eS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const tS=u.forwardRef(eS),sS=tS;function rS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nS=u.forwardRef(rS),je=nS;function aS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const iS=u.forwardRef(aS),Dm=iS;function lS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const oS=u.forwardRef(lS),ea=oS;function cS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const dS=u.forwardRef(cS),uS=dS;function mS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const hS=u.forwardRef(mS),xS=hS;function pS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const fS=u.forwardRef(pS),cf=fS;function gS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const yS=u.forwardRef(gS),Zo=yS;function vS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const bS=u.forwardRef(vS),dt=bS;function jS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const NS=u.forwardRef(jS),qu=NS;function wS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const _S=u.forwardRef(wS),Mc=_S;function kS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-15a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 4.5v15a2.25 2.25 0 0 0 2.25 2.25Z"}))}const SS=u.forwardRef(kS),CS=SS;function TS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const MS=u.forwardRef(TS),DS=MS;function ES({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const AS=u.forwardRef(ES),PS=AS;function RS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const IS=u.forwardRef(RS),Yu=IS;function LS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const OS=u.forwardRef(LS),Dd=OS;function FS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $S=u.forwardRef(FS),Ht=$S;function VS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const BS=u.forwardRef(VS),zS=BS;function US({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const WS=u.forwardRef(US),HS=WS;function GS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const qS=u.forwardRef(GS),Dc=qS;function YS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ZS=u.forwardRef(YS),Te=ZS;function KS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const XS=u.forwardRef(KS),QS=XS;function JS({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const e8=u.forwardRef(JS),$e=e8;function t8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const s8=u.forwardRef(t8),Zu=s8;function r8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const n8=u.forwardRef(r8),hs=n8;function a8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const i8=u.forwardRef(a8),Ot=i8;function l8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const o8=u.forwardRef(l8),c8=o8;function d8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const u8=u.forwardRef(d8),Y2=u8;function m8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const h8=u.forwardRef(m8),Z2=h8;function x8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const p8=u.forwardRef(x8),f8=p8;function g8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const y8=u.forwardRef(g8),v8=y8;function b8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"}))}const j8=u.forwardRef(b8),N8=j8;function w8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const _8=u.forwardRef(w8),K2=_8;function k8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const S8=u.forwardRef(k8),wa=S8;function C8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const T8=u.forwardRef(C8),Fr=T8;function M8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const D8=u.forwardRef(M8),sn=D8;function E8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const A8=u.forwardRef(E8),Iy=A8;function P8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const R8=u.forwardRef(P8),Ra=R8;function I8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L8=u.forwardRef(I8),Ge=L8;function O8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.99 14.993 6-6m6 3.001c0 1.268-.63 2.39-1.593 3.069a3.746 3.746 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043 3.745 3.745 0 0 1-3.068 1.593c-1.268 0-2.39-.63-3.068-1.593a3.745 3.745 0 0 1-3.296-1.043 3.746 3.746 0 0 1-1.043-3.297 3.746 3.746 0 0 1-1.593-3.068c0-1.268.63-2.39 1.593-3.068a3.746 3.746 0 0 1 1.043-3.297 3.745 3.745 0 0 1 3.296-1.042 3.745 3.745 0 0 1 3.068-1.594c1.268 0 2.39.63 3.068 1.593a3.745 3.745 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.297 3.746 3.746 0 0 1 1.593 3.068ZM9.74 9.743h.008v.007H9.74v-.007Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm4.125 4.5h.008v.008h-.008v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const F8=u.forwardRef(O8),$8=F8;function V8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const B8=u.forwardRef(V8),z8=B8;function U8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const W8=u.forwardRef(U8),Ph=W8;function H8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const G8=u.forwardRef(H8),rn=G8;function q8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Y8=u.forwardRef(q8),ut=Y8;function Z8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const K8=u.forwardRef(Z8),df=K8;function X8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Q8=u.forwardRef(X8),X2=Q8;function J8({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"}))}const eC=u.forwardRef(J8),tC=eC;function sC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const rC=u.forwardRef(sC),nC=rC;function aC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const iC=u.forwardRef(aC),_a=iC;function lC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const oC=u.forwardRef(lC),Ec=oC;function cC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const dC=u.forwardRef(cC),Wc=dC;function uC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const mC=u.forwardRef(uC),hC=mC;function xC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const pC=u.forwardRef(xC),Di=pC;function fC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const gC=u.forwardRef(fC),yC=gC;function vC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const bC=u.forwardRef(vC),Q2=bC;function jC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const NC=u.forwardRef(jC),J2=NC;function wC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const _C=u.forwardRef(wC),Ac=_C;function kC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z"}))}const SC=u.forwardRef(kC),ka=SC;function CC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const TC=u.forwardRef(CC),rt=TC;function MC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const DC=u.forwardRef(MC),Zt=DC;function EC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const AC=u.forwardRef(EC),$t=AC;function PC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const RC=u.forwardRef(PC),Xl=RC;function IC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const LC=u.forwardRef(IC),Em=LC;function OC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.745 3A23.933 23.933 0 0 0 3 12c0 3.183.62 6.22 1.745 9M19.5 3c.967 2.78 1.5 5.817 1.5 9s-.533 6.22-1.5 9M8.25 8.885l1.444-.89a.75.75 0 0 1 1.105.402l2.402 7.206a.75.75 0 0 0 1.104.401l1.445-.889m-8.25.75.213.09a1.687 1.687 0 0 0 2.062-.617l4.45-6.676a1.688 1.688 0 0 1 2.062-.618l.213.09"}))}const FC=u.forwardRef(OC),Ly=FC;function $C({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const VC=u.forwardRef($C),_t=VC;function BC({title:s,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),s?u.createElement("title",{id:t},s):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const zC=u.forwardRef(BC),ln=zC,J={pageContainer:"min-h-screen bg-[#fdf8f2]",contentContainer:"p-6 space-y-6",pageTitle:"text-3xl font-bold text-gray-900 font-chinese mb-2",pageSubtitle:"text-gray-600 font-chinese",sectionTitle:"text-xl font-bold text-gray-900 font-chinese",glassCard:"glass p-6 rounded-2xl",glassCardSmall:"glass p-4 rounded-xl",statCard:"glass p-6 rounded-2xl transition-all duration-200 hover:shadow-lg",table:"bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-200/50",tableHeader:"bg-gray-50/80 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",tableCell:"px-6 py-4 whitespace-nowrap",btnPrimary:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b86c37] transition-colors font-chinese",btnSecondary:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors font-chinese",btnGhost:"text-[#cc824d] hover:text-[#b86c37] hover:bg-[#cc824d]/10 px-4 py-2 rounded-lg transition-colors font-chinese",statusSuccess:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 font-chinese",statusWarning:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 font-chinese",statusError:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 font-chinese",statusInfo:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 font-chinese",input:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent font-chinese",select:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent font-chinese",gridCols2:"grid grid-cols-1 md:grid-cols-2 gap-6",gridCols3:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",gridCols4:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",divider:"border-t border-gray-200 my-6"},Oy={pageLoad:{from:{opacity:0,y:20},to:{opacity:1,y:0,duration:.6,ease:"power2.out"}},cardStagger:{from:{opacity:0,y:30},to:{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}},tableRowStagger:{from:{opacity:0,x:-20},to:{opacity:1,x:0,duration:.4,stagger:.05,ease:"power2.out"}}},ie={glassCard:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl rounded-xl",primaryButton:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200",secondaryButton:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200",input:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",select:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",pageContainer:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",contentWrapper:"max-w-7xl mx-auto p-6",pageTitle:"text-3xl font-bold text-gray-900 mb-6",sectionTitle:"text-xl font-semibold text-gray-800 mb-4",statusActive:"bg-green-100 text-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",statusInactive:"bg-gray-100 text-gray-800 px-2.5 py-0.5 rounded-full text-xs font-medium",statusPending:"bg-yellow-100 text-yellow-800 px-2.5 py-0.5 rounded-full text-xs font-medium",table:"min-w-full divide-y divide-gray-200",tableHeader:"bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",tableCell:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",loadingSpinner:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},Be={SALES:"sales",OPERATIONS:"operations",FINANCIAL:"financial",INVENTORY:"inventory",CUSTOMER:"customer",LOGISTICS:"logistics",SYSTEM:"system"},Hc=({categories:s=[],defaultExpandedCategories:t=[],showRefreshButton:r=!1,className:n=""})=>{const[a,i]=u.useState(new Set(t)),[l,o]=u.useState({}),[c,d]=u.useState(!1),m={[Be.SALES]:{title:"銷售統計",icon:dt,stats:[{label:"今日銷售",value:"125,600",trend:"+12.5%",trendUp:!0},{label:"本月銷售",value:"456,800",trend:"+8.3%",trendUp:!0},{label:"訂單數量",value:"1,234",trend:"+15.7%",trendUp:!0},{label:"平均訂單值",value:"380",trend:"-2.1%",trendUp:!1}]},[Be.OPERATIONS]:{title:"營運統計",icon:Mm,stats:[{label:"待處理訂單",value:"23",trend:"+5",trendUp:!1},{label:"已發貨訂單",value:"156",trend:"+12",trendUp:!0},{label:"退貨處理",value:"8",trend:"-3",trendUp:!0},{label:"客服工單",value:"45",trend:"+7",trendUp:!1}]},[Be.FINANCIAL]:{title:"財務概況",icon:ke,stats:[{label:"本月收入",value:"456,800",trend:"+8.3%",trendUp:!0},{label:"本月支出",value:"234,500",trend:"+12.1%",trendUp:!1},{label:"淨利潤",value:"222,300",trend:"+4.2%",trendUp:!0},{label:"毛利率",value:"48.7%",trend:"-1.2%",trendUp:!1}]},[Be.INVENTORY]:{title:"庫存狀況",icon:q2,stats:[{label:"總商品數",value:"1,567",trend:"+45",trendUp:!0},{label:"庫存不足",value:"23",trend:"+5",trendUp:!1},{label:"暢銷商品",value:"145",trend:"+12",trendUp:!0},{label:"滯銷商品",value:"67",trend:"-8",trendUp:!0}]},[Be.CUSTOMER]:{title:"客戶數據",icon:Xl,stats:[{label:"總客戶數",value:"12,345",trend:"+234",trendUp:!0},{label:"活躍客戶",value:"8,901",trend:"+123",trendUp:!0},{label:"新註冊",value:"67",trend:"+12",trendUp:!0},{label:"客戶滿意度",value:"4.8",trend:"+0.2",trendUp:!0}]},[Be.LOGISTICS]:{title:"物流配送",icon:Zt,stats:[{label:"待配送",value:"89",trend:"+12",trendUp:!1},{label:"配送中",value:"145",trend:"+23",trendUp:!0},{label:"已送達",value:"234",trend:"+45",trendUp:!0},{label:"配送異常",value:"3",trend:"-2",trendUp:!0}]},[Be.SYSTEM]:{title:"系統狀況",icon:ea,stats:[{label:"系統運行時間",value:"99.8%",trend:"+0.1%",trendUp:!0},{label:"今日訪問量",value:"23,456",trend:"+1,234",trendUp:!0},{label:"頁面載入時間",value:"1.2s",trend:"-0.1s",trendUp:!0},{label:"錯誤率",value:"0.02%",trend:"-0.01%",trendUp:!0}]}},h=f=>({[Be.SALES]:"",[Be.OPERATIONS]:"",[Be.FINANCIAL]:"",[Be.INVENTORY]:"",[Be.CUSTOMER]:"",[Be.LOGISTICS]:"",[Be.SYSTEM]:""})[f]||"";u.useEffect(()=>{p()},[s]);const p=async()=>{d(!0);try{await new Promise(b=>setTimeout(b,1e3));const f={};s.forEach(b=>{m[b]&&(f[b]=m[b].stats)}),o(f)}catch(f){console.error("載入統計數據失敗:",f)}finally{d(!1)}},y=f=>{const b=new Set(a);b.has(f)?b.delete(f):b.add(f),i(b)},x=()=>{p()};return u.useEffect(()=>{Object.keys(l).length>0&&De.fromTo(".stats-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[l]),s.length===0?null:e.jsxs("div",{className:`space-y-6 ${n}`,children:[r&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"數據概覽"}),e.jsx("button",{onClick:x,disabled:c,className:`${ie.button} bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50`,children:c?"載入中...":"刷新數據"})]}),s.map(f=>{const b=m[f];if(!b)return null;const v=a.has(f),g=b.icon;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-4 bg-white/60 backdrop-blur-md rounded-lg border border-white/20 hover:bg-white/80 transition-all duration-300",onClick:()=>y(f),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#cc824d]/10 rounded-lg flex items-center justify-center",children:e.jsx(g,{className:"w-6 h-6 text-[#cc824d]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:b.title}),e.jsx("p",{className:"text-sm text-gray-500",children:"點擊展開/收起"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl",children:h(f)}),e.jsx("div",{className:`transform transition-transform duration-300 ${v?"rotate-180":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),v&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(l[f]||b.stats).map((w,N)=>e.jsxs("div",{className:`stats-card ${ie.glassCard} p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 font-chinese",children:w.label}),e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${w.trendUp?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.trend})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:w.value}),e.jsxs("div",{className:"text-xs text-gray-500",children:["較上期 ",w.trendUp?"上升":"下降"]})]},N))})]},f)}),c&&e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"載入統計數據中..."})]})]})},UC=({tabs:s=[],className:t="",basePath:r="",layout:n="center",showDescription:a=!1,onTabChange:i=null})=>{const l=wr(),o=h=>h.path.startsWith("/")?h.path:`${r}${h.path}`,c=h=>{const p=o(h);return p==="/"?l.pathname==="/"||l.pathname==="":l.pathname.startsWith(p)},d=h=>{i&&typeof i=="function"&&i(h)},m=()=>{switch(n){case"left":return"justify-start";case"right":return"justify-end";case"center":default:return"justify-center"}};return!s||s.length===0?null:e.jsx("div",{className:`flex items-center space-x-6 h-full flex-1 ${m()} ${t}`,children:s.map(h=>{const p=c(h);return e.jsx("div",{className:"relative h-full flex items-center group",title:a&&h.description?h.description:void 0,children:e.jsxs(h6,{to:o(h),onClick:()=>d(h),className:`font-medium font-serif text-sm tracking-wide transition-colors relative px-1 ${p?"text-[#cc824d]":"text-gray-700 hover:text-[#cc824d]"}`,children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{children:h.label}),h.icon&&e.jsx("span",{className:"ml-1",children:typeof h.icon=="string"?e.jsx("i",{className:h.icon}):h.icon}),h.count!==void 0&&h.count!==null&&e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-[#cc824d]/20 text-[#cc824d] rounded-full min-w-[20px] text-center",children:h.count})]}),e.jsx("span",{className:`absolute left-0 -bottom-2 h-0.5 bg-[#cc824d] transition-all duration-300 ${p?"w-full":"w-0 group-hover:w-full"}`})]})},h.key||h.label)})})},Am=(s,t=[],r={})=>{const n=a=>{const i=wr(),{showTabs:l=!0,tabsPosition:o="top",basePath:c="",layout:d="center",showDescription:m=!1,onTabChange:h=null,className:p="",containerClassName:y=""}=r;if(!l||!t||t.length===0)return e.jsx(s,{...a});const x=typeof t=="function"?t(a,i):t,f=e.jsx("div",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"h-14 flex items-center",children:e.jsx(UC,{tabs:x,basePath:c,layout:d,showDescription:m,onTabChange:h,className:p})})})});return e.jsxs("div",{className:`w-full ${y}`,children:[o==="top"&&f,e.jsx(s,{...a}),o==="bottom"&&f]})};return n.displayName=`withPageTabs(${s.displayName||s.name})`,n},WC=({label:s,path:t,key:r,icon:n=null,count:a=void 0,permission:i=null,description:l=""})=>({label:s,path:t,key:r||s.toLowerCase().replace(/\s+/g,"-"),icon:n,count:a,permission:i,description:l}),eN=s=>s.map(t=>WC(t)),uf=eN([{label:"總覽",path:"/",key:"overview",description:"系統整體數據總覽"},{label:"銷售分析",path:"/sales",key:"sales",description:"銷售數據與趨勢分析"},{label:"營運管理",path:"/operations",key:"operations",description:"日常營運狀況管理"},{label:"財務報表",path:"/finance",key:"finance",description:"財務數據與報表"},{label:"物流管理",path:"/logistics-dashboard",key:"logistics",description:"物流與配送管理"}]),HC=()=>{const[s,t]=u.useState({recentOrders:[],topProducts:[],alerts:[]});u.useEffect(()=>{De.fromTo(".dashboard-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),r()},[]);const r=()=>{t({recentOrders:n(),topProducts:a(),alerts:[{id:1,type:"warning",message:"庫存不足警告：白色連衣裙庫存僅剩 3 件"},{id:2,type:"info",message:"新客戶註冊：今日新增 15 位客戶"},{id:3,type:"success",message:"銷售目標達成：本月已達成 105% 銷售目標"}]})},n=()=>Array.from({length:5},(o,c)=>({id:`ORD-${Date.now()}-${c}`,customerName:["張小明","李小美","王先生","陳小姐","林大哥"][c],amount:Math.floor(Math.random()*5e3)+1e3,status:["已完成","處理中","已發貨"][Math.floor(Math.random()*3)],date:new Date(Date.now()-c*24*60*60*1e3).toLocaleDateString(),items:Math.floor(Math.random()*5)+1})),a=()=>Array.from({length:5},(o,c)=>({id:c+1,name:["優雅白色連衣裙","經典黑色西裝外套","時尚牛仔褲","舒適棉質T恤","精緻絲巾"][c],sales:Math.floor(Math.random()*100)+50})),i=o=>{switch(o){case"已完成":return"bg-green-100 text-green-800";case"處理中":return"bg-yellow-100 text-yellow-800";case"已發貨":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},l=o=>{switch(o){case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"success":return"bg-green-50 border-green-200 text-green-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsx("div",{className:"dashboard-section mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"管理儀表板"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"歡迎回到 Marelle 管理系統"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"今日日期"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date().toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})})]})]})}),e.jsx("div",{className:"dashboard-section",children:e.jsx(Hc,{categories:[Be.SALES,Be.OPERATIONAL],defaultExpandedCategories:[Be.SALES],showRefreshButton:!0,className:"mb-8"})}),e.jsxs("div",{className:"dashboard-section mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"今日概覽"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"新訂單"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"12"}),e.jsx("p",{className:"text-sm text-green-600 font-chinese",children:"+23% 較昨日"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ec,{className:"w-8 h-8 text-blue-600"})})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"今日銷售"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"28,400"}),e.jsx("p",{className:"text-sm text-green-600 font-chinese",children:"+15% 較昨日"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(dt,{className:"w-8 h-8 text-green-600"})})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"待處理訂單"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"17"}),e.jsx("p",{className:"text-sm text-orange-600 font-chinese",children:"需要關注"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(je,{className:"w-8 h-8 text-orange-600"})})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"庫存警告"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"8"}),e.jsx("p",{className:"text-sm text-red-600 font-chinese",children:"需要補貨"})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(Mm,{className:"w-8 h-8 text-red-600"})})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"dashboard-section lg:col-span-2",children:e.jsxs("div",{className:ie.glassCard,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"最近訂單"}),e.jsx("button",{className:"text-[#cc824d] hover:text-[#b8753f] transition-colors font-chinese",children:"查看全部"})]}),e.jsx("div",{className:"space-y-4",children:s.recentOrders.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-[#cc824d] rounded-full flex items-center justify-center",children:e.jsx(Ec,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:o.customerName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[o.date,"  ",o.items," 件商品"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:o.amount.toLocaleString()}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i(o.status)}`,children:o.status})]})]},o.id))})]})}),e.jsx("div",{className:"dashboard-section",children:e.jsxs("div",{className:ie.glassCard,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"熱銷商品"}),e.jsx("button",{className:"text-[#cc824d] hover:text-[#b8753f] transition-colors font-chinese",children:"查看全部"})]}),e.jsx("div",{className:"space-y-4",children:s.topProducts.map((o,c)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-[#cc824d] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:c+1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 font-chinese truncate",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[o.sales," 件已售出"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Je,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Math.floor(Math.random()*20)+5,"%"]})]})]},o.id))})]})})]}),e.jsxs("div",{className:"dashboard-section mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"系統通知"}),e.jsx("div",{className:"space-y-4",children:s.alerts.map(o=>e.jsx("div",{className:`border rounded-lg p-4 ${l(o.type)}`,children:e.jsx("p",{className:"font-chinese",children:o.message})},o.id))})]})]})},GC=Am(HC,uf,{layout:"center",showDescription:!0}),qC=()=>{const[s,t]=u.useState({salesTrends:[],topCategories:[],timeRanges:[]});u.useEffect(()=>{De.fromTo(".analytics-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),r()},[]);const r=()=>{t({salesTrends:[{period:"本週",sales:125600,growth:12.5},{period:"本月",sales:456800,growth:8.3},{period:"本季",sales:1345600,growth:15.7},{period:"本年",sales:4567800,growth:22.1}],topCategories:[{name:"連衣裙",sales:145600,percentage:32.1},{name:"外套",sales:98400,percentage:21.7},{name:"配件",sales:76500,percentage:16.8},{name:"鞋類",sales:67200,percentage:14.8},{name:"其他",sales:65800,percentage:14.6}],timeRanges:[{hour:"09:00",sales:12400},{hour:"12:00",sales:18600},{hour:"15:00",sales:15200},{hour:"18:00",sales:23800},{hour:"21:00",sales:16900}]})};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"analytics-section mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"銷售分析"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"深入分析銷售數據，洞察商業趨勢"})]}),e.jsx("div",{className:"analytics-section",children:e.jsx(Hc,{categories:[Be.SALES],defaultExpandedCategories:[Be.SALES],showRefreshButton:!0,className:"mb-8"})}),e.jsxs("div",{className:"analytics-section mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"銷售趨勢"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.salesTrends.map((n,a)=>e.jsxs("div",{className:J.glassCard,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:n.period}),e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),"+",n.growth,"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-3xl font-bold text-[#cc824d]",children:n.sales.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500",children:"較上期成長"})]})]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"analytics-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"熱銷類別"}),e.jsx("div",{className:J.glassCard,children:e.jsx("div",{className:"space-y-4",children:s.topCategories.map((n,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:n.name}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:n.sales.toLocaleString()}),e.jsxs("div",{className:"text-sm text-gray-500",children:[n.percentage,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full transition-all duration-500",style:{width:`${n.percentage}%`}})})]},a))})})]}),e.jsxs("div",{className:"analytics-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"時段分析"}),e.jsx("div",{className:J.glassCard,children:e.jsx("div",{className:"space-y-4",children:s.timeRanges.map((n,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Tc,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.hour})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:n.sales.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500",children:"銷售額"})]})]},a))})})]})]}),e.jsxs("div",{className:"analytics-section mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"圖表分析"}),e.jsx("div",{className:J.glassCard,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-chinese",children:"圖表功能開發中"}),e.jsx("p",{className:"text-sm",children:"將顯示詳細的銷售趨勢圖表"})]})})})]})]})},YC=Am(qC,uf,{layout:"center",showDescription:!0}),ZC=()=>{const[s,t]=u.useState({alerts:[],inventoryStatus:[],staffPerformance:[],recentActivities:[]});u.useEffect(()=>{De.fromTo(".operations-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),r()},[]);const r=()=>{t({alerts:[{id:1,type:"inventory",message:"商品庫存不足",status:"critical",timestamp:new Date},{id:2,type:"shipping",message:"配送延遲警告",status:"warning",timestamp:new Date},{id:3,type:"system",message:"系統運行正常",status:"normal",timestamp:new Date}],inventoryStatus:[{category:"服飾類",total:1250,available:980,reserved:270,lowStock:15},{category:"配件類",total:650,available:520,reserved:130,lowStock:8},{category:"鞋類",total:430,available:360,reserved:70,lowStock:5}],staffPerformance:[{name:"王小明",department:"客服",efficiency:92,tasks:45},{name:"李小華",department:"倉儲",efficiency:88,tasks:38},{name:"張小美",department:"配送",efficiency:95,tasks:52}],recentActivities:[{time:"10:30",action:"新訂單處理",user:"系統自動",status:"completed"},{time:"10:15",action:"庫存更新",user:"王小明",status:"completed"},{time:"09:45",action:"客戶查詢回覆",user:"李小華",status:"in-progress"}]})},n=i=>{switch(i){case"inventory":return e.jsx(Zo,{className:"w-5 h-5"});case"shipping":return e.jsx(Zt,{className:"w-5 h-5"});default:return e.jsx(Te,{className:"w-5 h-5"})}},a=i=>{switch(i){case"critical":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-green-100 text-green-800 border-green-200"}};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"operations-section mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"營運管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"監控日常營運狀況、庫存管理及團隊績效"})]}),e.jsx("div",{className:"operations-section",children:e.jsx(Hc,{categories:[Be.OPERATIONAL],defaultExpandedCategories:[Be.OPERATIONAL],showRefreshButton:!0,className:"mb-8"})}),e.jsxs("div",{className:"operations-section mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"系統警報"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.alerts.map(i=>e.jsx("div",{className:`${ie.glassCard} border-l-4 ${a(i.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${a(i.status).replace("bg-","bg-").replace("100","200")}`,children:n(i.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:i.message}),e.jsx("p",{className:"text-sm text-gray-500",children:i.timestamp.toLocaleTimeString()})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="critical"?"bg-red-100 text-red-800":i.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:i.status==="critical"?"緊急":i.status==="warning"?"警告":"正常"})})]})},i.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"operations-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"庫存狀況"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-6",children:s.inventoryStatus.map((i,l)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium text-gray-900 font-chinese",children:i.category}),e.jsxs("div",{className:"flex space-x-4 text-sm",children:[e.jsxs("span",{className:"text-green-600",children:["可用: ",i.available]}),e.jsxs("span",{className:"text-yellow-600",children:["預留: ",i.reserved]}),e.jsxs("span",{className:"text-red-600",children:["低庫存: ",i.lowStock]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${i.available/i.total*100}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500",children:["總計: ",i.total," 件"]})]},l))})})]}),e.jsxs("div",{className:"operations-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"員工績效"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-4",children:s.staffPerformance.map((i,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-[#cc824d] rounded-full flex items-center justify-center",children:e.jsx($t,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 font-chinese",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500",children:i.department})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-lg font-semibold text-[#cc824d]",children:[i.efficiency,"%"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ke,{className:"w-4 h-4 mr-1"}),i.tasks," 任務"]})]})})]},l))})})]})]}),e.jsxs("div",{className:"operations-section mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"最近活動"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-4",children:s.recentActivities.map((i,l)=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"text-sm text-gray-500 w-16",children:i.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 font-chinese",children:i.action}),e.jsxs("p",{className:"text-sm text-gray-500",children:["執行者: ",i.user]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.status==="completed"?"bg-green-100 text-green-800":i.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status==="completed"?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-3 h-3 mr-1"}),"已完成"]}):i.status==="in-progress"?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"進行中"]}):"等待中"})})]},l))})})]})]})},KC=Am(ZC,uf,{layout:"center",showDescription:!0}),XC=()=>{u.useEffect(()=>{De.fromTo(".finance-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const s=[{title:"總收入",amount:76e4,change:"+12.5%",positive:!0,isPercentage:!1,period:"本月"},{title:"總支出",amount:395800,change:"+8.2%",positive:!1,isPercentage:!1,period:"本月"},{title:"淨利潤",amount:364200,change:"+18.3%",positive:!0,isPercentage:!1,period:"本月"},{title:"毛利率",amount:47.9,change:"+2.1%",positive:!0,isPercentage:!0,period:"本月"}],t=[{date:"2024-01-15",type:"銷售收入",description:"線上商店銷售",amount:125600,positive:!0},{date:"2024-01-14",type:"商品採購",description:"供應商付款",amount:65400,positive:!1},{date:"2024-01-14",type:"營運費用",description:"辦公室租金",amount:12e3,positive:!1},{date:"2024-01-13",type:"銷售收入",description:"批發訂單",amount:45600,positive:!0}],r=[{category:"商品銷售",amount:678900,percentage:89.2},{category:"服務收入",amount:45600,percentage:6},{category:"其他收入",amount:36500,percentage:4.8}],n=[{category:"商品成本",amount:245600,percentage:62.1},{category:"營運費用",amount:89400,percentage:22.6},{category:"行銷費用",amount:35200,percentage:8.9},{category:"管理費用",amount:25800,percentage:6.4}];return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"finance-section mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"財務報表"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"收支分析、利潤統計及財務健康度監控"})]}),e.jsx("div",{className:"finance-section",children:e.jsx(Hc,{categories:[Be.FINANCIAL],defaultExpandedCategories:[Be.FINANCIAL],showRefreshButton:!0,className:"mb-8"})}),e.jsxs("div",{className:"finance-section mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"財務概覽"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((a,i)=>e.jsxs("div",{className:ie.glassCard,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:a.title}),e.jsxs("div",{className:`flex items-center ${a.positive?"text-green-600":"text-red-600"}`,children:[a.positive?e.jsx(Je,{className:"w-4 h-4 mr-1"}):e.jsx(Pa,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:a.change})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-2xl font-bold text-[#cc824d]",children:a.isPercentage?`${a.amount}%`:`${a.amount.toLocaleString()}`}),e.jsx("div",{className:"text-sm text-gray-500",children:a.period})]})]},i))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"finance-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"收入結構分析"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-4",children:r.map((a,i)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:a.category}),e.jsx("span",{className:"font-semibold",children:a.amount.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[a.percentage,"%"]})]},i))})})]}),e.jsxs("div",{className:"finance-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"支出結構分析"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-4",children:n.map((a,i)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:a.category}),e.jsx("span",{className:"font-semibold",children:a.amount.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-400 h-2 rounded-full transition-all duration-500",style:{width:`${a.percentage}%`}})}),e.jsxs("div",{className:"text-sm text-gray-500 text-right",children:[a.percentage,"%"]})]},i))})})]})]}),e.jsxs("div",{className:"finance-section mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"最近交易記錄"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"日期"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"類型"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"描述"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 font-chinese",children:"金額"})]})}),e.jsx("tbody",{children:t.map((a,i)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Tc,{className:"w-4 h-4 mr-2 text-gray-400"}),a.date]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.positive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),e.jsx("td",{className:"py-3 px-4 text-gray-900 font-chinese",children:a.description}),e.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${a.positive?"text-green-600":"text-red-600"}`,children:[a.positive?"+":"-",a.amount.toLocaleString()]})]},i))})]})})})]}),e.jsxs("div",{className:"finance-section mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"快速報表"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:Ht,label:"損益表",color:"bg-blue-500"},{icon:Ul,label:"資產負債表",color:"bg-green-500"},{icon:Mi,label:"現金流量",color:"bg-purple-500"},{icon:cf,label:"應收帳款",color:"bg-orange-500"}].map((a,i)=>e.jsx("button",{className:`${ie.glassCard} group hover:shadow-lg transition-all duration-300 cursor-pointer text-left`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${a.color} p-2 rounded-lg text-white group-hover:scale-110 transition-transform`,children:e.jsx(a.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium text-gray-900 font-chinese group-hover:text-[#cc824d] transition-colors",children:a.label})]})},i))})]})]})},QC=()=>{const[s,t]=u.useState({shipments:[],vehicles:[],deliveryStats:{}});u.useEffect(()=>{De.fromTo(".logistics-section",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"}),r()},[]);const r=()=>{t({shipments:[{id:1,orderNumber:"ORD-20240115-001",customer:"張小明",destination:"台北市信義區",status:"配送中",trackingNumber:"TW123456789",estimatedDelivery:"2024-01-16 14:00",driver:"李司機"},{id:2,orderNumber:"ORD-20240115-002",customer:"王小美",destination:"新北市板橋區",status:"已送達",trackingNumber:"TW123456790",estimatedDelivery:"2024-01-15 16:30",driver:"陳司機"},{id:3,orderNumber:"ORD-20240115-003",customer:"林先生",destination:"桃園市中壢區",status:"準備中",trackingNumber:"TW123456791",estimatedDelivery:"2024-01-17 10:00",driver:"待分配"}],vehicles:[{id:1,plateNumber:"ABC-1234",driver:"李司機",status:"運送中",location:"台北市大安區",capacity:"85%",nextDelivery:"14:30"},{id:2,plateNumber:"DEF-5678",driver:"陳司機",status:"可用",location:"物流中心",capacity:"0%",nextDelivery:"待分配"}],deliveryStats:{todayDeliveries:24,completedDeliveries:18,pendingDeliveries:6,onTimeRate:92.5}})},n=l=>{switch(l){case"已送達":return"bg-green-100 text-green-800";case"配送中":return"bg-blue-100 text-blue-800";case"準備中":return"bg-yellow-100 text-yellow-800";case"延遲":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=l=>{switch(l){case"已送達":return e.jsx(he,{className:"w-4 h-4"});case"配送中":return e.jsx(Zt,{className:"w-4 h-4"});case"準備中":return e.jsx(je,{className:"w-4 h-4"});case"延遲":return e.jsx(Te,{className:"w-4 h-4"});default:return e.jsx(br,{className:"w-4 h-4"})}},i=l=>{switch(l){case"運送中":return"bg-blue-100 text-blue-800";case"可用":return"bg-green-100 text-green-800";case"維修中":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"logistics-section mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"物流管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理配送狀況、車輛調度及物流績效"})]}),e.jsx("div",{className:"logistics-section",children:e.jsx(Hc,{categories:[Be.LOGISTICS],defaultExpandedCategories:[Be.LOGISTICS],showRefreshButton:!0,className:"mb-8"})}),e.jsxs("div",{className:"logistics-section mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"今日配送概覽"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Zt,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總配送數"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.deliveryStats.todayDeliveries})]})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"已完成"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.deliveryStats.completedDeliveries})]})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"待配送"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.deliveryStats.pendingDeliveries})]})]})}),e.jsx("div",{className:ie.glassCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(br,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"準時率"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.deliveryStats.onTimeRate,"%"]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"logistics-section xl:col-span-2",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"配送單管理"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"訂單編號"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"客戶"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"目的地"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"狀態"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"預計送達"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 font-chinese",children:"操作"})]})}),e.jsx("tbody",{children:s.shipments.map(l=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.orderNumber}),e.jsx("div",{className:"text-sm text-gray-500",children:l.trackingNumber})]}),e.jsx("td",{className:"py-3 px-4 font-chinese",children:l.customer}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sn,{className:"w-4 h-4 mr-1 text-gray-400"}),e.jsx("span",{className:"font-chinese",children:l.destination})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n(l.status)}`,children:[a(l.status),e.jsx("span",{className:"ml-1 font-chinese",children:l.status})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:l.estimatedDelivery}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",title:"查看詳情",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800 transition-colors",title:"列印標籤",children:e.jsx(df,{className:"w-4 h-4"})})]})})]},l.id))})]})})})]}),e.jsxs("div",{className:"logistics-section",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"車輛狀態"}),e.jsx("div",{className:ie.glassCard,children:e.jsx("div",{className:"space-y-4",children:s.vehicles.map(l=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.plateNumber}),e.jsxs("p",{className:"text-sm text-gray-500 font-chinese",children:["司機: ",l.driver]})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(l.status)}`,children:l.status})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"目前位置:"}),e.jsx("span",{className:"font-chinese",children:l.location})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"載貨率:"}),e.jsx("span",{children:l.capacity})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"下次配送:"}),e.jsx("span",{children:l.nextDelivery})]})]}),l.capacity!=="0%"&&e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:l.capacity}})})})]},l.id))})})]})]})]})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Fy=s=>{const t=eT(s);return t.charAt(0).toUpperCase()+t.slice(1)},tN=(...s)=>s.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),tT=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=u.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>u.createElement("svg",{ref:c,...sT,width:t,height:t,stroke:s,strokeWidth:n?Number(r)*24/Number(t):r,className:tN("lucide",a),...!i&&!tT(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(s,t)=>{const r=u.forwardRef(({className:n,...a},i)=>u.createElement(rT,{ref:i,iconNode:t,className:tN(`lucide-${JC(Fy(s))}`,`lucide-${s}`,n),...a}));return r.displayName=Fy(s),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aT=Qt("check",nT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nu=Qt("chevron-down",iT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rh=Qt("chevron-up",lT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$y=Qt("circle-alert",oT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sN=Qt("circle-check-big",cT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rN=Qt("clock",dT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mT=Qt("credit-card",uT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nN=Qt("download",hT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pT=Qt("eye",xT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aN=Qt("file-text",fT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yT=Qt("plus",gT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vy=Qt("refresh-cw",vT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vx=Qt("search",bT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],NT=Qt("square-check-big",jT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],By=Qt("square-pen",wT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kT=Qt("trash-2",_T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zy=Qt("x",ST),mf=({data:s=[],columns:t=[],title:r="數據列表",showExport:n=!0,onExport:a=null,exportFileName:i="數據列表",className:l="",emptyIcon:o=null,emptyTitle:c="沒有找到數據",emptyMessage:d="",emptyDescription:m="請調整搜尋條件或新增第一筆數據",enableBatchSelection:h=!1,selectedItems:p=[],onSelectedItemsChange:y=null,batchActions:x=[],getRowId:f=(b,v)=>b.id||v})=>{const[b,v]=u.useState({key:null,direction:"asc"}),g=u.useMemo(()=>b.key?[...s].sort((E,R)=>{const M=E[b.key],$=R[b.key];if(M==null)return 1;if($==null)return-1;if(typeof M=="number"&&typeof $=="number")return b.direction==="asc"?M-$:$-M;if(typeof M=="string"&&typeof $=="string"){const D=new Date(M),O=new Date($);if(!isNaN(D)&&!isNaN(O))return b.direction==="asc"?D-O:O-D}const A=String(M).toLowerCase(),z=String($).toLowerCase();return A<z?b.direction==="asc"?-1:1:A>z?b.direction==="asc"?1:-1:0}):s,[s,b]),w=E=>{if(y)if(E){const R=g.map((M,$)=>f(M,$));y(R)}else y([])},N=(E,R)=>{if(!y)return;const M=R?[...p,E]:p.filter($=>$!==E);y(M)},j=h&&g.length>0&&p.length===g.length,_=h&&p.length>0&&p.length<g.length,k=(E,R=!0)=>{if(!R)return;let M="asc";b.key===E&&b.direction==="asc"?M="desc":b.key===E&&b.direction==="desc"&&(M=null),v({key:M?E:null,direction:M})},T=(E,R=!0)=>R?b.key!==E?e.jsxs("div",{className:"flex flex-col ml-1 opacity-30",children:[e.jsx(Rh,{className:"w-3 h-3 -mb-1"}),e.jsx(nu,{className:"w-3 h-3"})]}):b.direction==="asc"?e.jsx(Rh,{className:"w-4 h-4 ml-1 text-apricot-600"}):b.direction==="desc"?e.jsx(nu,{className:"w-4 h-4 ml-1 text-apricot-600"}):e.jsxs("div",{className:"flex flex-col ml-1 opacity-30",children:[e.jsx(Rh,{className:"w-3 h-3 -mb-1"}),e.jsx(nu,{className:"w-3 h-3"})]}):null,C=()=>{if(a){a(g);return}const E=t.map(D=>D.label||D.title||D.key).join(","),R=g.map(D=>t.map(O=>{const I=D[O.key];if(I==null)return"";const F=String(I);return F.includes(",")?`"${F}"`:F}).join(",")),M=[E,...R].join(`
`),$=new Blob([M],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),z=URL.createObjectURL($);A.setAttribute("href",z),A.setAttribute("download",`${i}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)};return e.jsx("div",{className:`glass rounded-2xl overflow-visible ${l}`,children:e.jsxs("div",{className:"overflow-x-auto overflow-y-visible",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:[r," (",g.length,")"]}),n&&e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2 font-chinese",children:[e.jsx(nN,{className:"w-4 h-4"}),"匯出"]})]})}),h&&p.length>0&&e.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-700 font-chinese",children:["已選擇 ",p.length," 項"]}),e.jsx("div",{className:"flex items-center gap-2",children:x.map((E,R)=>e.jsxs("button",{onClick:()=>E.onClick(p),className:`px-3 py-1 text-sm rounded-md transition-colors font-chinese ${E.variant==="danger"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[E.icon&&e.jsx(E.icon,{className:"w-4 h-4 mr-1 inline"}),E.label]},R))})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[h&&e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:j,ref:E=>{E&&(E.indeterminate=_)},onChange:E=>w(E.target.checked),className:"rounded border-gray-300 text-apricot-600 focus:ring-apricot-500"})}),t.map((E,R)=>e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider font-chinese ${E.sortable!==!1?"cursor-pointer hover:bg-gray-100 select-none":""}`,onClick:()=>k(E.key,E.sortable),children:e.jsxs("div",{className:"flex items-center",children:[E.label||E.title,T(E.key,E.sortable)]})},E.key||R))]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((E,R)=>{const M=f(E,R),$=p.includes(M);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[h&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:$,onChange:A=>N(M,A.target.checked),className:"rounded border-gray-300 text-apricot-600 focus:ring-apricot-500"})}),t.map((A,z)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-chinese",children:A.render?A.render(E[A.key],E,R):e.jsx("span",{className:A.className||"text-gray-900",children:E[A.key]})},A.key||z))]},M)})})]})}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[o&&e.jsx(o,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2 font-chinese",children:d||c}),e.jsx("p",{className:"text-gray-500 font-chinese",children:m})]})]})})},Gn=[{id:1,name:"優雅絲巾",price:1280,originalPrice:1680,image:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=400&h=400&fit=crop",category:"配件",description:"採用100%真絲材質，手工印染的優雅絲巾，為您的造型增添精緻感。",inStock:!0,featured:!0,rating:4.8,reviews:156},{id:2,name:"手工陶瓷花瓶",price:2880,originalPrice:3200,image:"https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=400&h=400&fit=crop",category:"家居",description:"職人手工製作的陶瓷花瓶，結合現代簡約與傳統工藝的完美平衡。",inStock:!0,featured:!0,rating:4.9,reviews:89},{id:3,name:"天然蜂蠟蠟燭",price:680,originalPrice:880,image:"https://images.unsplash.com/photo-1602874801006-8e0ac25604e9?w=400&h=400&fit=crop",category:"香氛",description:"純天然蜂蠟製作，淡雅花香，燃燒時間長達40小時。",inStock:!0,featured:!1,rating:4.7,reviews:234},{id:4,name:"羊毛混紡毛衣",price:3200,originalPrice:4200,image:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=400&h=400&fit=crop",category:"服飾",description:"精選羊毛混紡材質，柔軟舒適，適合秋冬季節穿著。",inStock:!0,featured:!0,rating:4.6,reviews:112},{id:5,name:"有機綠茶組合",price:1680,originalPrice:2080,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=400&h=400&fit=crop",category:"茶品",description:"來自高山的有機綠茶，清香回甘，包含三種不同風味。",inStock:!0,featured:!1,rating:4.8,reviews:78},{id:6,name:"竹纖維浴巾",price:880,originalPrice:1180,image:"https://images.unsplash.com/photo-1620912330775-011bb5d31d4e?w=400&h=400&fit=crop",category:"生活用品",description:"天然竹纖維材質，吸水性佳，抗菌防蟎，親膚舒適。",inStock:!1,featured:!1,rating:4.5,reviews:167}];Gn.length,Gn.filter(s=>s.category==="配件").length,Gn.filter(s=>s.category==="家居").length,Gn.filter(s=>s.category==="香氛").length,Gn.filter(s=>s.category==="服飾").length,Gn.filter(s=>s.category==="茶品").length,Gn.filter(s=>s.category==="生活用品").length;const Uy=s=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(s),CT=eN([{label:"商品列表",path:"/products",key:"list",description:"查看和管理所有商品"},{label:"新增商品",path:"/products/add",key:"add",description:"添加新商品到商店"},{label:"庫存管理",path:"/products/inventory",key:"inventory",description:"管理商品庫存狀況"},{label:"分類管理",path:"/products/categories",key:"categories",description:"管理商品分類"}]),TT=()=>{const[s,t]=u.useState(Gn),r=a=>a?{text:"有庫存",color:"bg-green-100 text-green-800"}:{text:"缺貨",color:"bg-red-100 text-red-800"},n=[{key:"name",label:"商品",sortable:!0,render:(a,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:(i==null?void 0:i.image)||"/placeholder-image.jpg",alt:(i==null?void 0:i.name)||"產品圖片",className:"w-12 h-12 object-cover rounded-lg mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 font-chinese",children:(i==null?void 0:i.name)||"未知商品"}),e.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["ID: ",(i==null?void 0:i.id)||"N/A"]})]})]})},{key:"category",label:"類別",sortable:!0,render:(a,i)=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-apricot-100 text-apricot-800 rounded-full font-chinese",children:(i==null?void 0:i.category)||"未分類"})},{key:"price",label:"價格",sortable:!0,render:(a,i)=>e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900 font-bold",children:i!=null&&i.price?Uy(i.price):"N/A"}),(i==null?void 0:i.originalPrice)&&e.jsx("div",{className:"text-sm text-gray-500 line-through",children:Uy(i.originalPrice)})]})},{key:"inStock",label:"庫存狀態",sortable:!0,render:(a,i)=>{const l=r(i==null?void 0:i.inStock);return e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${l.color} font-chinese`,children:l.text})}},{key:"rating",label:"評分",sortable:!0,render:(a,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-900",children:(i==null?void 0:i.rating)||0}),e.jsx("span",{className:"text-yellow-400 ml-1",children:"★"}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",(i==null?void 0:i.reviews)||0,")"]})]})},{key:"actions",label:"操作",sortable:!1,render:(a,i)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx(Kr,{to:`/admin/products/edit/${i==null?void 0:i.id}`,className:"p-2 text-gray-400 hover:text-green-500 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})}];return e.jsxs("div",{className:J.sectionSpacing,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:J.pageTitle,children:"商品管理"}),e.jsx("p",{className:J.pageSubtitle,children:"管理商品資訊、庫存和雜貨"})]}),e.jsx("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:e.jsxs(Kr,{to:"/admin/products/add",className:J.btnPrimary,children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),"新增商品"]})})]}),e.jsx(mf,{title:"商品清單",columns:n,data:s,exportFileName:"products",emptyMessage:"沒有找到符合條件的商品"})]})},MT=Am(TT,CT,{layout:"center",showDescription:!0}),DT=()=>(u.useState("basic"),e.jsx("div",{className:"max-w-6xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"新增商品 - 進階設定"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"建立新的商品並設定詳細資訊"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"功能開發中..."})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:"取消"}),e.jsx("button",{type:"button",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",onClick:()=>alert("商品保存成功！"),children:"發布商品"})]})]})})),ET=()=>{const{id:s}=zc(),t=$r();return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"編輯商品"}),e.jsxs("p",{children:["商品 ID: ",s]}),e.jsx("button",{onClick:()=>t("/admin/products"),className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"返回商品列表"})]})},Kt=({options:s=[],value:t="",onChange:r=()=>{},placeholder:n="請選擇...",searchPlaceholder:a="搜尋選項...",className:i="",disabled:l=!1,allowClear:o=!1,multiple:c=!1,maxDisplayOptions:d=10,createNewOption:m=null})=>{const[h,p]=u.useState(!1),[y,x]=u.useState(""),[f,b]=u.useState(s),[v,g]=u.useState(c?Array.isArray(t)?t:[]:[t]),[w,N]=u.useState({top:0,left:0,width:0}),j=u.useRef(null),_=u.useRef(null),k=u.useRef(null),C=(I=>I.map(F=>typeof F=="string"?{value:F,label:F}:F))(s);u.useEffect(()=>{const I=C.filter(F=>F.label.toLowerCase().includes(y.toLowerCase())||F.value.toLowerCase().includes(y.toLowerCase()));b(I)},[y,s]),u.useEffect(()=>{g(c?Array.isArray(t)?t:[]:[t])},[t,c]);const E=()=>{if(j.current){const I=j.current.getBoundingClientRect(),F=window.innerHeight,S=300;let V=I.bottom+2,G=I.left;V+S>F&&(V=I.top-S-2),G+I.width>window.innerWidth&&(G=window.innerWidth-I.width-10),G<10&&(G=10),N({top:Math.max(V,10),left:G,width:I.width})}},R=()=>{l||(h?p(!1):(p(!0),requestAnimationFrame(()=>{E()})))};u.useEffect(()=>{h&&k.current&&(E(),De.fromTo(k.current,{opacity:0,y:-10,scale:.95},{opacity:1,y:0,scale:1,duration:.2,ease:"power2.out"}))},[h]),u.useEffect(()=>{const I=V=>{j.current&&!j.current.contains(V.target)&&k.current&&!k.current.contains(V.target)&&(p(!1),x(""))},F=()=>{h&&E()},S=()=>{h&&E()};return h&&(document.addEventListener("mousedown",I),document.addEventListener("scroll",F,!0),window.addEventListener("scroll",F),window.addEventListener("resize",S),requestAnimationFrame(E)),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("scroll",F,!0),window.removeEventListener("scroll",F),window.removeEventListener("resize",S)}},[h]);const M=I=>{if(c){const F=v.includes(I.value)?v.filter(S=>S!==I.value):[...v,I.value];g(F),r(F)}else g([I.value]),r(I.value),p(!1),x("")},$=I=>{I.stopPropagation(),c?(g([]),r([])):(g([""]),r(""))},A=()=>{if(m&&y.trim()){const I=m(y.trim());I&&(M(I),x(""))}},z=()=>{if(c){if(v.length===0)return n;if(v.length===1){const I=C.find(F=>F.value===v[0]);return I?I.label:v[0]}return`已選擇 ${v.length} 項`}else{if(!v[0])return n;const I=C.find(F=>F.value===v[0]);return I?I.label:v[0]}},D=I=>v.includes(I),O=m&&y.trim()&&!f.some(I=>I.label.toLowerCase()===y.toLowerCase());return e.jsxs("div",{ref:j,className:`relative ${i}`,style:{zIndex:h?9999:"auto"},children:[e.jsxs("div",{onClick:R,className:`
          relative w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg 
          cursor-pointer transition-all duration-200 font-chinese
          glass-light hover:border-button-300 hover:shadow-md
          ${l?"opacity-50 cursor-not-allowed":""}
          ${h?"border-button-500 shadow-lg ring-2 ring-button-100":""}
        `,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`truncate ${!v[0]&&!c?"text-gray-500":"text-gray-900"}`,children:z()}),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o&&(v[0]||c&&v.length>0)&&e.jsx("button",{onClick:$,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:e.jsx(zy,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),e.jsx(nu,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${h?"transform rotate-180":""}`})]})]}),c&&v.length>1&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[v.slice(0,3).map(I=>{const F=C.find(S=>S.value===I);return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-button-100 text-button-800 text-xs rounded-full",children:[F?F.label:I,e.jsx("button",{onClick:S=>{S.stopPropagation(),M({value:I})},className:"hover:bg-button-200 rounded-full p-0.5",children:e.jsx(zy,{className:"w-3 h-3"})})]},I)}),v.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",v.length-3," 更多"]})]})]}),h&&bm.createPortal(e.jsxs("div",{ref:k,className:"fixed z-[99999] glass-dropdown",style:{top:`${w.top}px`,left:`${w.left}px`,width:`${w.width}px`,zIndex:99999,minWidth:"200px"},children:[e.jsx("div",{className:"glass-dropdown-search",children:e.jsxs("div",{className:"relative",children:[e.jsx(vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 w-4 h-4 z-10"}),e.jsx("input",{ref:_,type:"text",value:y,onChange:I=>x(I.target.value),placeholder:a,className:"font-chinese",autoFocus:!0})]})}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[O&&e.jsxs("button",{onClick:A,className:"glass-dropdown-create font-chinese group",children:[e.jsx("div",{className:"w-4 h-4 border-2 rounded-full flex items-center justify-center transition-colors",style:{borderColor:"#CC824D"},children:e.jsx("div",{className:"w-1 h-1 rounded-full transition-colors",style:{backgroundColor:"#CC824D"}})}),e.jsxs("span",{className:"group-hover:text-orange-800",children:['創建 "',y,'"']})]}),f.slice(0,d).map(I=>e.jsxs("button",{onClick:()=>M(I),className:`glass-dropdown-option font-chinese ${D(I.value)?"selected":""}`,children:[e.jsx("span",{className:"truncate",children:I.label}),D(I.value)&&e.jsx(aT,{className:"w-4 h-4 flex-shrink-0 ml-2",style:{color:"#CC824D"}})]},I.value)),f.length===0&&!O&&e.jsxs("div",{className:"glass-dropdown-empty font-chinese",children:[e.jsx(vx,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"沒有找到符合的選項"})]}),f.length>d&&e.jsxs("div",{className:"glass-dropdown-more font-chinese",children:["還有 ",f.length-d," 個選項..."]})]})]}),document.body)]})},AT=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState("all"),l=[{value:"all",label:"全部狀態"},{value:"pending",label:"待處理"},{value:"processing",label:"處理中"},{value:"shipped",label:"已發貨"},{value:"delivered",label:"已送達"},{value:"cancelled",label:"已取消"}],[o,c]=u.useState([]),[d,m]=u.useState(1),[h]=u.useState(10),[p,y]=u.useState({total:0,pending:0,processing:0,shipped:0,delivered:0,cancelled:0});u.useEffect(()=>{x(),f(),De.fromTo(".order-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const x=async()=>{n(!0);try{const E=await orderDataManager.getOrders();E.success&&t(E.data)}catch(E){console.error("Error loading orders:",E)}finally{n(!1)}},f=async()=>{try{const E=await orderDataManager.getOrderStatistics();E.success&&y(E.data)}catch(E){console.error("Error loading statistics:",E)}},b=E=>{if(window.confirm("確定要刪除這個訂單嗎？此操作無法復原。")){const R=orderDataManager.deleteOrder(E);R.success?(x(),f()):alert("刪除失敗："+R.error)}},v=()=>{if(o.length===0){alert("請先選擇要刪除的訂單");return}window.confirm(`確定要刪除選中的 ${o.length} 個訂單嗎？`)&&(o.forEach(E=>{orderDataManager.deleteOrder(E)}),c([]),x(),f())},g=E=>{c(R=>R.includes(E)?R.filter(M=>M!==E):[...R,E])},w=()=>{o.length===j.length?c([]):c(j.map(E=>E.id))},N=E=>{const M={pending:{label:"待處理",className:"bg-yellow-100 text-yellow-800"},processing:{label:"處理中",className:"bg-blue-100 text-blue-800"},shipped:{label:"已發貨",className:"bg-purple-100 text-purple-800"},delivered:{label:"已送達",className:"bg-green-100 text-green-800"},cancelled:{label:"已取消",className:"bg-red-100 text-red-800"}}[E]||{label:E,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.className}`,children:M.label})},j=s.filter(E=>a==="all"||E.status===a),_=d*h,k=_-h,T=j.slice(k,_),C=Math.ceil(j.length/h);return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入訂單數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"訂單管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有訂單信息與狀態"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-8",children:[e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"總訂單"})]}),e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"待處理"})]}),e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.processing}),e.jsx("div",{className:"text-sm text-gray-600",children:"處理中"})]}),e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p.shipped}),e.jsx("div",{className:"text-sm text-gray-600",children:"已發貨"})]}),e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.delivered}),e.jsx("div",{className:"text-sm text-gray-600",children:"已送達"})]}),e.jsxs("div",{className:"order-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.cancelled}),e.jsx("div",{className:"text-sm text-gray-600",children:"已取消"})]})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex flex-1 gap-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsx(Kt,{options:l,value:a,onChange:i,placeholder:"選擇狀態",className:"w-36"})]})}),e.jsxs("div",{className:"flex gap-2",children:[o.length>0&&e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4"}),"刪除選中 (",o.length,")"]}),e.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(Tm,{className:"w-4 h-4"}),"匯出"]})]})]})}),e.jsxs("div",{className:`${J.glassCard} overflow-hidden`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50/80 border-b border-gray-200/60",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:o.length===j.length&&j.length>0,onChange:w,className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"訂單編號"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"客戶信息"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"商品數量"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"總金額"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"下單時間"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200/60",children:T.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50/40 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:o.includes(E.id),onChange:()=>g(E.id),className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.id})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.customerName}),e.jsx("div",{className:"text-sm text-gray-500",children:E.customerEmail})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[E.itemCount," 項商品"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.totalAmount.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4",children:N(E.status)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:E.createdAt})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900 transition-colors",children:e.jsx(df,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(E.id),className:"text-red-600 hover:text-red-900 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})})]},E.id))})]})}),C>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-200/60",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:["顯示 ",k+1," 到 ",Math.min(_,j.length)," 項， 共 ",j.length," 項結果"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(E=>Math.max(E-1,1)),disabled:d===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一頁"}),e.jsx("div",{className:"flex space-x-1",children:[...Array(C)].map((E,R)=>{const M=R+1;return e.jsx("button",{onClick:()=>m(M),className:`px-3 py-1 rounded-md text-sm font-medium ${d===M?"bg-[#cc824d] text-white":"text-gray-500 hover:text-gray-700"}`,children:M},M)})}),e.jsx("button",{onClick:()=>m(E=>Math.min(E+1,C)),disabled:d===C,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一頁"})]})]})]}),j.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的訂單"})})]})},Wn={PENDING:"pending",PAYMENT_PENDING:"payment_pending",CONFIRMED:"confirmed",PROCESSING:"processing",SHIPPED:"shipped",DELIVERED:"delivered",CANCELLED:"cancelled"},PT=()=>{const{id:s}=zc(),t=$r(),[r,n]=u.useState(null),[a,i]=u.useState(!0);u.useEffect(()=>{i(!0),setTimeout(()=>{n({id:s,orderNumber:`ORD-${s.toString().padStart(6,"0")}`,status:Wn.CONFIRMED,customer:{name:"張小明",email:"zhang@example.com",phone:"0912345678"},totalAmount:1200,items:[{id:1,name:"商品A",quantity:2,price:600}],createdAt:new Date().toISOString()}),i(!1)},1e3)},[s]);const l={[Wn.PENDING]:{label:"待處理",className:"bg-gray-100 text-gray-800",icon:je},[Wn.PAYMENT_PENDING]:{label:"待付款",className:"bg-yellow-100 text-yellow-800",icon:dt},[Wn.CONFIRMED]:{label:"已確認",className:"bg-blue-100 text-blue-800",icon:he},[Wn.PROCESSING]:{label:"處理中",className:"bg-purple-100 text-purple-800",icon:je},[Wn.SHIPPED]:{label:"已出貨",className:"bg-indigo-100 text-indigo-800",icon:Zt},[Wn.DELIVERED]:{label:"已送達",className:"bg-green-100 text-green-800",icon:he},[Wn.CANCELLED]:{label:"已取消",className:"bg-red-100 text-red-800",icon:_t}},o=()=>{window.confirm("確認要刪除這個訂單嗎？此操作無法復原。")&&(alert("訂單已刪除"),t("/management/orders"))},c=()=>{t(`/management/orders/edit/${s}`)};if(a)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!r)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"找不到訂單資料"})});const d=l[r.status],m=d.icon;return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t("/management/orders"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:e.jsx(G2,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"訂單詳情"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"編輯"]}),e.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"刪除"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["訂單編號：",r.orderNumber]}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${d.className}`,children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),d.label]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"客戶資訊"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:r.customer.name}),e.jsx("p",{className:"text-sm text-gray-600",children:r.customer.email}),e.jsx("p",{className:"text-sm text-gray-600",children:r.customer.phone})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"訂單資訊"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:["總金額：NT$ ",r.totalAmount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["建立時間：",new Date(r.createdAt).toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"訂單商品"}),e.jsx("div",{className:"space-y-4",children:r.items.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["數量：",h.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["NT$ ",h.price.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["小計：NT$ ",(h.price*h.quantity).toLocaleString()]})]})]},h.id))})]})]})},Wy=()=>{const s=$r(),{id:t}=zc(),r=!!t,[n,a]=u.useState({customerName:"",customerEmail:"",customerPhone:"",items:[{id:1,name:"",quantity:1,price:0}],notes:""}),[i,l]=u.useState(!1);u.useEffect(()=>{r&&a({customerName:"張小明",customerEmail:"zhang@example.com",customerPhone:"0912345678",items:[{id:1,name:"商品A",quantity:2,price:600}],notes:"測試訂單"})},[r]);const o=(y,x)=>{a(f=>({...f,[y]:x}))},c=(y,x,f)=>{a(b=>({...b,items:b.items.map((v,g)=>g===y?{...v,[x]:f}:v)}))},d=()=>{a(y=>({...y,items:[...y.items,{id:Date.now(),name:"",quantity:1,price:0}]}))},m=y=>{a(x=>({...x,items:x.items.filter((f,b)=>b!==y)}))},h=async y=>{y.preventDefault(),l(!0);try{await new Promise(x=>setTimeout(x,1e3)),alert(r?"訂單更新成功":"訂單建立成功"),s("/management/orders")}catch(x){console.error("Error saving order:",x),alert("保存失敗："+x.message)}finally{l(!1)}},p=()=>n.items.reduce((y,x)=>y+x.quantity*x.price,0);return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>s("/management/orders"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:e.jsx(G2,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"編輯訂單":"新增訂單"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"客戶資訊"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"客戶姓名 *"}),e.jsx("input",{type:"text",value:n.customerName,onChange:y=>o("customerName",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電子郵件 *"}),e.jsx("input",{type:"email",value:n.customerEmail,onChange:y=>o("customerEmail",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"聯絡電話 *"}),e.jsx("input",{type:"tel",value:n.customerPhone,onChange:y=>o("customerPhone",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"訂單商品"}),e.jsxs("button",{type:"button",onClick:d,className:"flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 rounded-lg hover:bg-blue-200",children:[e.jsx(ut,{className:"h-4 w-4 mr-1"}),"新增商品"]})]}),e.jsx("div",{className:"space-y-4",children:n.items.map((y,x)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"商品名稱",value:y.name,onChange:f=>c(x,"name",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})}),e.jsx("div",{className:"w-24",children:e.jsx("input",{type:"number",placeholder:"數量",value:y.quantity,onChange:f=>c(x,"quantity",parseInt(f.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"1",required:!0})}),e.jsx("div",{className:"w-32",children:e.jsx("input",{type:"number",placeholder:"單價",value:y.price,onChange:f=>c(x,"price",parseFloat(f.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",min:"0",step:"0.01",required:!0})}),e.jsx("div",{className:"w-32 text-right",children:e.jsxs("p",{className:"font-medium text-gray-900",children:["NT$ ",(y.quantity*y.price).toLocaleString()]})}),n.items.length>1&&e.jsx("button",{type:"button",onClick:()=>m(x),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg",children:e.jsx(rt,{className:"h-4 w-4"})})]},y.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["總計：NT$ ",p().toLocaleString()]})})})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"備註"}),e.jsx("textarea",{value:n.notes,onChange:y=>o("notes",y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"輸入訂單備註..."})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>s("/management/orders"),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"取消"}),e.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"保存中...":r?"更新訂單":"建立訂單"})]})]})]})},RT=()=>e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(AT,{})}),e.jsx(W,{path:":id",element:e.jsx(PT,{})}),e.jsx(W,{path:":id/edit",element:e.jsx(Wy,{})}),e.jsx(W,{path:"new",element:e.jsx(Wy,{})})]});class IT{constructor(){this.initializeAnalyticsData(),this.initializeRealTimeData()}initializeAnalyticsData(){if(!localStorage.getItem("marelle_analytics_data")){const t=this.generateInitialAnalyticsData();localStorage.setItem("marelle_analytics_data",JSON.stringify(t))}}initializeRealTimeData(){if(!localStorage.getItem("marelle_realtime_analytics")){const t=this.generateRealTimeData();localStorage.setItem("marelle_realtime_analytics",JSON.stringify(t))}}getSalesTrends(t="30d"){const r=this.getAnalyticsData(),n=this.filterDataByPeriod(r.sales_analytics,t);return{revenue_trend:this.calculateRevenueTrend(n),order_trend:this.calculateOrderTrend(n),conversion_trend:this.calculateConversionTrend(n),average_order_value:this.calculateAOVTrend(n),growth_metrics:this.calculateGrowthMetrics(n),seasonal_patterns:this.analyzeSeasonalPatterns(n)}}getProductPerformance(t=null,r=50){let a=this.getAnalyticsData().product_analytics;return t&&(a=a.filter(i=>i.category_id===t)),a.sort((i,l)=>l.total_revenue-i.total_revenue).slice(0,r).map(i=>({...i,performance_score:this.calculateProductPerformanceScore(i),growth_rate:this.calculateProductGrowthRate(i),inventory_turnover:this.calculateInventoryTurnover(i),profit_margin:this.calculateProfitMargin(i)}))}getCrossSellAnalysis(){const r=this.getAnalyticsData().order_analytics,n=this.analyzeProductCombinations(r),a=this.analyzeCategoryAffinities(r),i=this.analyzeSequentialPurchases(r);return{product_combinations:n,category_affinities:a,sequential_purchases:i,cross_sell_opportunities:this.identifyCrossSellOpportunities(n)}}getRFMAnalysis(){const n=this.getAnalyticsData().customer_analytics.map(a=>{const i=this.calculateRFMScores(a);return{customer_id:a.customer_id,customer_name:a.customer_name,rfm_scores:i,segment:this.determineRFMSegment(i),customer_lifetime_value:this.calculateCLV(a),churn_probability:this.calculateChurnProbability(a)}});return this.groupByRFMSegments(n)}getCustomerLifecycleAnalysis(){return this.getAnalyticsData().customer_analytics.map(n=>({customer_id:n.customer_id,current_stage:this.determineLifecycleStage(n),stage_duration:this.calculateStageDuration(n),progression_score:this.calculateProgressionScore(n),next_stage_probability:this.calculateNextStageProbability(n),churn_risk:this.calculateChurnRisk(n),recommended_actions:this.getRecommendedActions(n)}))}getCustomerBehaviorInsights(t){const n=this.getAnalyticsData().customer_analytics.find(a=>a.customer_id===t);return n?{purchase_patterns:this.analyzePurchasePatterns(n),category_preferences:this.analyzeCategoryPreferences(n),brand_affinity:this.analyzeBrandAffinity(n),price_sensitivity:this.analyzePriceSensitivity(n),seasonal_behavior:this.analyzeSeasonalBehavior(n),device_preferences:this.analyzeDevicePreferences(n),communication_preferences:this.analyzeCommunicationPreferences(n)}:null}getSupplyChainAnalytics(){const t=this.getAnalyticsData();return{supplier_performance:this.analyzeSupplierPerformance(t.supplier_analytics),inventory_efficiency:this.analyzeInventoryEfficiency(t.inventory_analytics),logistics_performance:this.analyzeLogisticsPerformance(t.logistics_analytics),procurement_insights:this.analyzeProcurementEfficiency(t.procurement_analytics),cost_analysis:this.analyzeCostStructure(t.operational_costs)}}getInventoryAnalysis(){const r=this.getAnalyticsData().inventory_analytics;return{stock_levels:this.analyzeStockLevels(r),turnover_rates:this.calculateTurnoverRates(r),slow_moving_items:this.identifySlowMovingItems(r),stockout_analysis:this.analyzeStockouts(r),demand_forecasting:this.generateDemandForecast(r),optimization_recommendations:this.getInventoryOptimizationRecommendations(r)}}getAIInsights(){const t=this.getAnalyticsData();return{business_opportunities:this.identifyBusinessOpportunities(t),risk_alerts:this.detectRiskFactors(t),optimization_suggestions:this.generateOptimizationSuggestions(t),trend_predictions:this.predictTrends(t),anomaly_detections:this.detectAnomalies(t),competitive_insights:this.analyzeCompetitivePosition(t)}}detectAnomalies(t="7d"){const r=this.getAnalyticsData();return this.getRealTimeData(),{sales_anomalies:this.detectSalesAnomalies(r.sales_analytics,t),traffic_anomalies:this.detectTrafficAnomalies(r.user_tracking,t),inventory_anomalies:this.detectInventoryAnomalies(r.inventory_analytics,t),customer_behavior_anomalies:this.detectCustomerBehaviorAnomalies(r.customer_analytics,t),operational_anomalies:this.detectOperationalAnomalies(r.operational_metrics,t)}}generatePredictions(t="30d"){const r=this.getAnalyticsData();return{sales_forecast:this.predictSales(r,t),demand_forecast:this.predictDemand(r,t),customer_churn_prediction:this.predictCustomerChurn(r),inventory_requirements:this.predictInventoryRequirements(r,t),market_opportunities:this.predictMarketOpportunities(r)}}getRealTimeMetrics(){const t=this.getRealTimeData();return{current_visitors:t.current_visitors,active_sessions:t.active_sessions,real_time_sales:t.real_time_sales,conversion_rate:t.conversion_rate,top_pages:t.top_pages,top_products:t.top_products,geographic_distribution:t.geographic_distribution,device_breakdown:t.device_breakdown}}getKPIDashboard(t="30d"){const r=this.getAnalyticsData(),n=this.filterDataByPeriod(r,t);return{financial_kpis:{total_revenue:this.calculateTotalRevenue(n),gross_profit:this.calculateGrossProfit(n),profit_margin:this.calculateProfitMargin(n),average_order_value:this.calculateAverageOrderValue(n),customer_acquisition_cost:this.calculateCAC(n),customer_lifetime_value:this.calculateAverageCLV(n)},operational_kpis:{conversion_rate:this.calculateConversionRate(n),cart_abandonment_rate:this.calculateCartAbandonmentRate(n),inventory_turnover:this.calculateInventoryTurnover(n),order_fulfillment_rate:this.calculateOrderFulfillmentRate(n),customer_satisfaction:this.calculateCustomerSatisfaction(n),return_rate:this.calculateReturnRate(n)},growth_kpis:{revenue_growth:this.calculateRevenueGrowth(n),customer_growth:this.calculateCustomerGrowth(n),market_share_growth:this.calculateMarketShareGrowth(n),repeat_purchase_rate:this.calculateRepeatPurchaseRate(n)}}}generateInitialAnalyticsData(){const t=new Date,r=new Date(t.getTime()-30*24*60*60*1e3);return{sales_analytics:this.generateSalesData(r,t),customer_analytics:this.generateCustomerData(),product_analytics:this.generateProductData(),order_analytics:this.generateOrderData(),user_tracking:this.generateUserTrackingData(),inventory_analytics:this.generateInventoryData(),supplier_analytics:this.generateSupplierData(),logistics_analytics:this.generateLogisticsData(),procurement_analytics:this.generateProcurementData(),operational_costs:this.generateOperationalCostsData(),operational_metrics:this.generateOperationalMetricsData()}}generateSalesData(t,r){const n=[],a=new Date(t);for(;a<=r;){const i=a.getDay(),o=i===0||i===6?15e3:25e3,c=.7+Math.random()*.6,d=1+(a.getTime()-t.getTime())/(r.getTime()-t.getTime())*.2,m=Math.round(o*c*d),h=Math.round(m/(800+Math.random()*400));n.push({date:new Date(a),revenue:m,orders:h,visitors:Math.round(h*(8+Math.random()*12)),conversion_rate:Math.round(h/(h*(8+Math.random()*12))*1e4)/100,average_order_value:Math.round(m/h)}),a.setDate(a.getDate()+1)}return n}generateCustomerData(){const t=[],r=["VIP","常客","新客","沉睡客戶"];for(let n=1;n<=500;n++){const a=r[Math.floor(Math.random()*r.length)],i=Math.floor(Math.random()*365)+1,l=a==="VIP"?Math.floor(Math.random()*20)+10:a==="常客"?Math.floor(Math.random()*10)+5:a==="新客"?Math.floor(Math.random()*3)+1:Math.floor(Math.random()*2)+1,o=l*(500+Math.random()*2e3);t.push({customer_id:n,customer_name:`客戶 ${n}`,email:`customer${n}@example.com`,segment:a,rfm_metrics:{recency:i,frequency:l,monetary:Math.round(o)},first_purchase_date:new Date(Date.now()-i*24*60*60*1e3-Math.random()*365*24*60*60*1e3),last_purchase_date:new Date(Date.now()-i*24*60*60*1e3),total_orders:l,total_revenue:Math.round(o),average_order_value:Math.round(o/l),preferred_categories:this.generatePreferredCategories(),device_preference:Math.random()>.6?"mobile":"desktop",acquisition_channel:this.generateAcquisitionChannel()})}return t}generateProductData(){const t=["護膚","彩妝","香水","保養","工具"],r=[];for(let n=1;n<=100;n++){const a=t[Math.floor(Math.random()*t.length)],i=Math.floor(Math.random()*2e3)+100,l=Math.floor(Math.random()*500)+10,o=i*l;r.push({product_id:n,product_name:`${a}商品 ${n}`,category:a,category_id:t.indexOf(a)+1,price:i,cost:Math.round(i*(.4+Math.random()*.3)),units_sold:l,total_revenue:o,gross_profit:o-Math.round(i*(.4+Math.random()*.3))*l,views:l*(20+Math.random()*50),conversion_rate:Math.round(l/(l*(20+Math.random()*50))*1e4)/100,inventory_level:Math.floor(Math.random()*200)+50,reorder_point:Math.floor(Math.random()*30)+10,supplier_id:Math.floor(Math.random()*20)+1,launch_date:new Date(Date.now()-Math.random()*365*24*60*60*1e3),rating:3.5+Math.random()*1.5,review_count:Math.floor(Math.random()*100)+5})}return r}calculateRevenueTrend(t){return t.map(r=>({date:r.date,revenue:r.revenue,growth_rate:this.calculateDayOverDayGrowth(t,r.date,"revenue")}))}calculateRFMScores(t){const r=t.rfm_metrics.recency<=30?5:t.rfm_metrics.recency<=60?4:t.rfm_metrics.recency<=90?3:t.rfm_metrics.recency<=180?2:1,n=t.rfm_metrics.frequency>=10?5:t.rfm_metrics.frequency>=5?4:t.rfm_metrics.frequency>=3?3:t.rfm_metrics.frequency>=2?2:1,a=t.rfm_metrics.monetary>=5e3?5:t.rfm_metrics.monetary>=2e3?4:t.rfm_metrics.monetary>=1e3?3:t.rfm_metrics.monetary>=500?2:1;return{recency:r,frequency:n,monetary:a,total_score:r+n+a}}determineRFMSegment(t){const r=t.total_score;return r>=13?"Champions":r>=11?"Loyal Customers":r>=9?"Potential Loyalists":r>=7?"At Risk":r>=5?"Cannot Lose Them":"Lost"}getAnalyticsData(){const t=localStorage.getItem("marelle_analytics_data");return t?JSON.parse(t):this.generateInitialAnalyticsData()}getRealTimeData(){const t=localStorage.getItem("marelle_realtime_analytics");return t?JSON.parse(t):this.generateRealTimeData()}updateAnalyticsData(t){localStorage.setItem("marelle_analytics_data",JSON.stringify(t))}updateRealTimeData(t){localStorage.setItem("marelle_realtime_analytics",JSON.stringify(t))}generateRealTimeData(){return{current_visitors:Math.floor(Math.random()*500)+100,active_sessions:Math.floor(Math.random()*300)+50,real_time_sales:Math.floor(Math.random()*1e4)+5e3,conversion_rate:(2+Math.random()*8).toFixed(2),top_pages:this.generateTopPages(),top_products:this.generateTopProducts(),geographic_distribution:this.generateGeographicData(),device_breakdown:{mobile:65+Math.random()*20,desktop:25+Math.random()*15,tablet:5+Math.random()*10},last_updated:new Date}}generateTopPages(){return["首頁","商品列表","商品詳情","購物車","結帳","會員中心"].map(r=>({page:r,visitors:Math.floor(Math.random()*200)+50,bounce_rate:(20+Math.random()*60).toFixed(1)}))}generateTopProducts(){return Array.from({length:10},(t,r)=>({product_id:r+1,product_name:`熱銷商品 ${r+1}`,views:Math.floor(Math.random()*100)+50,sales:Math.floor(Math.random()*20)+5}))}generateGeographicData(){return["台北市","新北市","桃園市","台中市","台南市","高雄市"].map(r=>({region:r,visitors:Math.floor(Math.random()*100)+20,percentage:(Math.random()*30+5).toFixed(1)}))}generatePreferredCategories(){const t=["護膚","彩妝","香水","保養","工具"],r=Math.floor(Math.random()*3)+1;return t.sort(()=>.5-Math.random()).slice(0,r)}generateAcquisitionChannel(){const t=["自然搜尋","社交媒體","電子郵件","直接訪問","推薦","付費廣告"];return t[Math.floor(Math.random()*t.length)]}filterDataByPeriod(t,r){return t}calculateDayOverDayGrowth(t,r,n){return(Math.random()-.5)*20}calculateOrderTrend(t){return t}calculateConversionTrend(t){return t}calculateAOVTrend(t){return t}calculateGrowthMetrics(t){return{}}analyzeSeasonalPatterns(t){return{}}calculateProductPerformanceScore(t){return Math.random()*100}calculateProductGrowthRate(t){return(Math.random()-.5)*20}calculateInventoryTurnover(t){return Math.random()*12}calculateProfitMargin(t){return Math.random()*50}analyzeProductCombinations(t){return[]}analyzeCategoryAffinities(t){return[]}analyzeSequentialPurchases(t){return[]}identifyCrossSellOpportunities(t){return[]}calculateCLV(t){return t.total_revenue*(1+Math.random())}calculateChurnProbability(t){return Math.random()*100}groupByRFMSegments(t){return{}}determineLifecycleStage(t){return"active"}calculateStageDuration(t){return Math.floor(Math.random()*365)}calculateProgressionScore(t){return Math.random()*100}calculateNextStageProbability(t){return Math.random()*100}calculateChurnRisk(t){return Math.random()*100}getRecommendedActions(t){return[]}analyzePurchasePatterns(t){return{}}analyzeCategoryPreferences(t){return{}}analyzeBrandAffinity(t){return{}}analyzePriceSensitivity(t){return{}}analyzeSeasonalBehavior(t){return{}}analyzeDevicePreferences(t){return{}}analyzeCommunicationPreferences(t){return{}}generateOrderData(){return[]}generateUserTrackingData(){return[]}generateInventoryData(){return[]}generateSupplierData(){return[]}generateLogisticsData(){return[]}generateProcurementData(){return[]}generateOperationalCostsData(){return[]}generateOperationalMetricsData(){return[]}}const ol=new IT,LT=()=>{var j,_,k,T,C,E,R,M,$;const[s,t]=u.useState({}),[r,n]=u.useState({}),[a,i]=u.useState({}),[l,o]=u.useState({}),[c,d]=u.useState(!0),[m,h]=u.useState("30d"),[p,y]=u.useState(new Date);u.useEffect(()=>{x();const A=setInterval(f,3e4);return()=>clearInterval(A)},[m]);const x=async()=>{try{d(!0);const A=ol.getKPIDashboard(m);t(A);const z=ol.getSalesTrends(m);i(z);const D=ol.getAIInsights();o(D),f()}catch(A){console.error("載入分析數據失敗:",A)}finally{d(!1)}},f=()=>{const A=ol.getRealTimeMetrics();n(A),y(new Date)},b=A=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(A),v=A=>new Intl.NumberFormat("zh-TW").format(A),g=A=>`${(A||0).toFixed(1)}%`,w=A=>A>0?e.jsx(Je,{className:"h-4 w-4 text-green-500"}):A<0?e.jsx(Pa,{className:"h-4 w-4 text-red-500"}):e.jsx("div",{className:"h-4 w-4"}),N=A=>A>0?"text-green-600":A<0?"text-red-600":"text-gray-600";return c?e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(br,{className:"h-6 w-6 animate-spin text-[#cc824d]"}),e.jsx("span",{className:"text-lg text-gray-600",children:"載入數據分析中..."})]})})}):e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"w-full px-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"數據分析總覽"}),e.jsx("p",{className:"text-gray-600",children:"360度全方位業務數據洞察與智能分析"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:m,onChange:A=>h(A.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"7d",children:"近 7 天"}),e.jsx("option",{value:"30d",children:"近 30 天"}),e.jsx("option",{value:"90d",children:"近 90 天"}),e.jsx("option",{value:"1y",children:"近 1 年"})]}),e.jsxs("button",{onClick:f,className:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[e.jsx(br,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"實時監控"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["最後更新: ",p.toLocaleTimeString("zh-TW")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"當前訪客"}),e.jsx($e,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:v(r.current_visitors||0)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["活躍會話: ",v(r.active_sessions||0)]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"即時銷售"}),e.jsx(dt,{className:"h-5 w-5 text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b(r.real_time_sales||0)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["轉換率: ",r.conversion_rate||0,"%"]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"設備分布"}),e.jsx(Mc,{className:"h-5 w-5 text-purple-500"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"手機"}),e.jsx("span",{className:"font-semibold",children:g((j=r.device_breakdown)==null?void 0:j.mobile)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"桌機"}),e.jsx("span",{className:"font-semibold",children:g((_=r.device_breakdown)==null?void 0:_.desktop)})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"熱門頁面"}),e.jsx(Zu,{className:"h-5 w-5 text-orange-500"})]}),e.jsx("div",{className:"space-y-1",children:(r.top_pages||[]).slice(0,2).map((A,z)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"truncate",children:A.page}),e.jsx("span",{className:"font-semibold",children:v(A.visitors)})]},z))})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ke,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"關鍵績效指標 (KPIs)"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"財務績效"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"總營收"}),e.jsx(dt,{className:"h-5 w-5 text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:b(((k=s.financial_kpis)==null?void 0:k.total_revenue)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(5.2),e.jsx("span",{className:N(5.2),children:"+5.2% vs 上期"})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"毛利潤"}),e.jsx(Je,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:b(((T=s.financial_kpis)==null?void 0:T.gross_profit)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(3.1),e.jsx("span",{className:N(3.1),children:"+3.1% vs 上期"})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"平均訂單價值"}),e.jsx(Ec,{className:"h-5 w-5 text-purple-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:b(((C=s.financial_kpis)==null?void 0:C.average_order_value)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(-1.5),e.jsx("span",{className:N(-1.5),children:"-1.5% vs 上期"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"營運績效"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"轉換率"}),e.jsx(Je,{className:"h-5 w-5 text-green-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:g(((E=s.operational_kpis)==null?void 0:E.conversion_rate)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(2.3),e.jsx("span",{className:N(2.3),children:"+2.3% vs 上期"})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"購物車放棄率"}),e.jsx(Te,{className:"h-5 w-5 text-orange-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:g(((R=s.operational_kpis)==null?void 0:R.cart_abandonment_rate)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(-3.8),e.jsx("span",{className:N(-3.8),children:"-3.8% vs 上期"})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"客戶滿意度"}),e.jsx(Em,{className:"h-5 w-5 text-blue-500"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:g(((M=s.operational_kpis)==null?void 0:M.customer_satisfaction)||0)}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(1.2),e.jsx("span",{className:N(1.2),children:"+1.2% vs 上期"})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"庫存周轉率"}),e.jsx(br,{className:"h-5 w-5 text-purple-500"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[((($=s.operational_kpis)==null?void 0:$.inventory_turnover)||0).toFixed(1),"x"]}),e.jsxs("div",{className:"flex items-center text-sm",children:[w(.8),e.jsx("span",{className:N(.8),children:"+0.8% vs 上期"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Di,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"AI 智能洞察"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[e.jsx(wa,{className:"h-5 w-5 mr-2 text-yellow-500"}),"商業機會"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-400 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"護膚類商品需求上升"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"檢測到護膚類商品搜尋量增加 23%，建議增加相關產品推廣"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-2",children:"置信度: 87%"})]})]})}),e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-green-400 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"交叉銷售機會"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"購買保養品的客戶有 68% 機率同時購買工具類商品"}),e.jsx("div",{className:"text-xs text-green-600 mt-2",children:"置信度: 92%"})]})]})})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2 text-red-500"}),"風險警示"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-red-400 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"庫存不足警告"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"5 件熱銷商品庫存將在 7 天內售完，需要及時補貨"}),e.jsx("div",{className:"text-xs text-red-600 mt-2",children:"風險等級: 高"})]})]})}),e.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-400 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-orange-800",children:"客戶流失風險"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"23 位 VIP 客戶 30 天內未購物，存在流失風險"}),e.jsx("div",{className:"text-xs text-orange-600 mt-2",children:"風險等級: 中"})]})]})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[e.jsx(sn,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"訂單地理分布"]}),e.jsx("div",{className:"space-y-3",children:(r.geographic_distribution||[]).map((A,z)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-[#cc824d] rounded-full",style:{opacity:.3+A.percentage/100*.7}}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:A.region})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:v(A.visitors)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[A.percentage,"%"]})]})]},z))})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[e.jsx(Zu,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"今日熱銷商品"]}),e.jsx("div",{className:"space-y-3",children:(r.top_products||[]).slice(0,5).map((A,z)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-[#cc824d] text-white text-xs font-bold rounded-full",children:z+1}),e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:A.product_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[v(A.sales)," 件"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[v(A.views)," 瀏覽"]})]})]},z))})]})]})]})})},OT=()=>e.jsx("div",{className:ie.pageContainer,children:e.jsxs("div",{className:ie.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:ie.pageTitle,children:"銷售分析"}),e.jsx("p",{className:ie.pageSubtitle,children:"銷售數據和趨勢分析"})]}),e.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:e.jsx("p",{className:"text-gray-600 font-chinese",children:"銷售分析功能開發中..."})})]})}),FT=()=>e.jsx("div",{className:ie.pageContainer,children:e.jsxs("div",{className:ie.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:ie.pageTitle,children:"客戶分析"}),e.jsx("p",{className:ie.pageSubtitle,children:"客戶行為和趨勢分析"})]}),e.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:e.jsx("p",{className:"text-gray-600 font-chinese",children:"客戶分析功能開發中..."})})]})}),$T=()=>e.jsx("div",{className:ie.pageContainer,children:e.jsxs("div",{className:ie.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:ie.pageTitle,children:"產品分析"}),e.jsx("p",{className:ie.pageSubtitle,children:"產品銷售和績效分析"})]}),e.jsx("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:e.jsx("p",{className:"text-gray-600 font-chinese",children:"產品分析功能開發中..."})})]})}),VT=()=>{const[s,t]=u.useState({}),[r,n]=u.useState("30days"),[a,i]=u.useState("overview"),[l,o]=u.useState("efficiency"),[c,d]=u.useState(!0),m=[{value:"overview",label:"營運總覽",icon:ke},{value:"supply-chain",label:"供應鏈",icon:Zt},{value:"logistics",label:"物流分析",icon:sn},{value:"inventory",label:"庫存管理",icon:Zo},{value:"cost",label:"成本分析",icon:dt},{value:"performance",label:"績效監控",icon:ll}],h=[{value:"7days",label:"最近7天"},{value:"30days",label:"最近30天"},{value:"90days",label:"最近90天"},{value:"1year",label:"最近1年"}];u.useEffect(()=>{p()},[r,a,l]);const p=async()=>{d(!0);try{const D=ol.getOperationalAnalytics(r,a);t(D)}catch(D){console.error("載入營運數據失敗:",D)}finally{d(!1)}},y=D=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(D||0),x=D=>new Intl.NumberFormat("zh-TW").format(D||0),f=D=>`${(D||0).toFixed(1)}%`,b={orderFulfillment:{value:96.8,trend:2.1,label:"訂單履行率",unit:"%"},avgProcessingTime:{value:1.2,trend:-8.5,label:"平均處理時間",unit:"天"},inventoryTurnover:{value:8.5,trend:12.3,label:"庫存周轉率",unit:"次/年"},supplierReliability:{value:94.2,trend:1.8,label:"供應商可靠性",unit:"%"},shippingAccuracy:{value:98.5,trend:.7,label:"配送準確率",unit:"%"},returnRate:{value:2.3,trend:-15.2,label:"退貨率",unit:"%"},costEfficiency:{value:87.6,trend:5.4,label:"成本效率",unit:"%"},customerSatisfaction:{value:4.4,trend:3.2,label:"客戶滿意度",unit:"/5.0"}},v=[{supplier:"珠寶供應商A",category:"珠寶首飾",reliability:96.5,quality:4.8,leadTime:7,cost:"A",status:"excellent"},{supplier:"配件供應商B",category:"配件飾品",reliability:92.3,quality:4.5,leadTime:5,cost:"B",status:"good"},{supplier:"精品供應商C",category:"精品收藏",reliability:89.7,quality:4.9,leadTime:14,cost:"A",status:"good"},{supplier:"包裝供應商D",category:"包裝材料",reliability:95.1,quality:4.2,leadTime:3,cost:"C",status:"excellent"}],g=[{region:"台北市",orders:1250,avgDeliveryTime:1.2,onTimeRate:98.5,cost:85e3},{region:"新北市",orders:980,avgDeliveryTime:1.5,onTimeRate:96.8,cost:72e3},{region:"台中市",orders:650,avgDeliveryTime:2.1,onTimeRate:94.2,cost:58e3},{region:"高雄市",orders:520,avgDeliveryTime:2.3,onTimeRate:92.6,cost:48e3},{region:"其他地區",orders:800,avgDeliveryTime:3.2,onTimeRate:89.4,cost:85e3}],w=[{product:"經典珍珠項鍊",category:"珠寶首飾",stock:15,minStock:20,status:"low",action:"建議補貨"},{product:"翡翠玉鐲",category:"精品收藏",stock:5,minStock:15,status:"critical",action:"緊急補貨"},{product:"銀飾戒指",category:"配件飾品",stock:89,minStock:30,status:"normal",action:"庫存正常"},{product:"鑽石耳環套組",category:"珠寶首飾",stock:78,minStock:25,status:"normal",action:"庫存正常"}],N=[{category:"商品採購",amount:185e4,percentage:45.2,trend:2.3},{category:"物流配送",amount:348e3,percentage:8.5,trend:-1.8},{category:"包裝材料",amount:164e3,percentage:4,trend:5.2},{category:"倉儲費用",amount:246e3,percentage:6,trend:-3.1},{category:"人事成本",amount:82e4,percentage:20,trend:4.7},{category:"營運費用",amount:656e3,percentage:16,trend:-2.5}],j=[{kpi:"訂單處理效率",current:95.8,target:95,status:"exceed"},{kpi:"庫存準確性",current:98.2,target:98,status:"exceed"},{kpi:"配送及時率",current:96.5,target:97,status:"below"},{kpi:"成本控制率",current:87.6,target:85,status:"exceed"},{kpi:"客戶滿意度",current:88,target:90,status:"below"},{kpi:"供應商績效",current:94.2,target:93,status:"exceed"}],_=D=>D>0?e.jsx(Je,{className:"h-4 w-4 text-green-600"}):D<0?e.jsx(Pa,{className:"h-4 w-4 text-red-600"}):e.jsx("div",{className:"h-4 w-4"}),k=D=>D>0?"text-green-600":D<0?"text-red-600":"text-gray-500",T=D=>{switch(D){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"normal":return"text-gray-600 bg-gray-50 border-gray-200";case"low":return"text-orange-600 bg-orange-50 border-orange-200";case"critical":return"text-red-600 bg-red-50 border-red-200";case"exceed":return"text-green-600 bg-green-50 border-green-200";case"below":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=D=>{switch(D){case"excellent":return"優秀";case"good":return"良好";case"normal":return"正常";case"low":return"偏低";case"critical":return"緊急";case"exceed":return"達標";case"below":return"未達標";default:return"未知"}},E=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Object.entries(b).map(([D,O])=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:O.label}),_(O.trend)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O.value,O.unit]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:`text-sm font-medium ${k(O.trend)}`,children:[Math.abs(O.trend).toFixed(1),"%"]}),e.jsx("span",{className:"text-xs text-gray-500",children:"vs 上期"})]})]})]},D))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"庫存預警"]}),e.jsx("div",{className:"space-y-4",children:w.map((D,O)=>e.jsxs("div",{className:`p-4 rounded-lg border ${T(D.status)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:D.product}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(D.status)}`,children:C(D.status)})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["分類：",D.category]}),e.jsxs("p",{children:["當前庫存：",D.stock," / 最低庫存：",D.minStock]}),e.jsx("p",{className:"font-medium",children:D.action})]})]},O))})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ul,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"成本結構分析"]}),e.jsx("div",{className:"space-y-4",children:N.map((D,O)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.category}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:y(D.amount)}),e.jsxs("span",{className:`text-xs ${k(D.trend)}`,children:[D.trend>0?"+":"",D.trend.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${D.percentage}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600 min-w-0",children:[D.percentage.toFixed(1),"%"]})]})]},O))})]})]})]}),R=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"供應商績效分析"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"供應商"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"類別"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"可靠性"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"品質評分"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"交付時間"}),e.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"成本等級"}),e.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-600",children:"整體評價"})]})}),e.jsx("tbody",{children:v.map((D,O)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 font-medium text-gray-900",children:D.supplier}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:D.category}),e.jsx("td",{className:"py-4 px-4 text-right text-gray-900",children:f(D.reliability)}),e.jsxs("td",{className:"py-4 px-4 text-right text-gray-900",children:[D.quality,"/5.0"]}),e.jsxs("td",{className:"py-4 px-4 text-right text-gray-900",children:[D.leadTime,"天"]}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.cost==="A"?"bg-green-100 text-green-800":D.cost==="B"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[D.cost,"級"]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${T(D.status)}`,children:C(D.status)})})]},O))})]})})]})}),M=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(sn,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"物流配送分析"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:g.map((D,O)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:D.region}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x(D.orders)," 訂單"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"平均配送"}),e.jsxs("p",{className:"font-bold text-gray-900",children:[D.avgDeliveryTime,"天"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"準時率"}),e.jsx("p",{className:"font-bold text-gray-900",children:f(D.onTimeRate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"配送成本"}),e.jsx("p",{className:"font-bold text-gray-900",children:y(D.cost)})]})]})]},O))}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"物流配送地圖"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"地圖組件整合中..."})]})})]})]})}),$=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Zo,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"庫存管理總覽"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Zo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"詳細庫存分析"}),e.jsx("p",{className:"text-gray-600",children:"請參考商品分析模組的庫存功能"})]})]})}),A=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"詳細成本分析"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"成本趨勢分析"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"成本趨勢圖表"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"圖表組件整合中..."})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"成本優化建議"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"物流成本優化"}),e.jsx("p",{className:"text-xs text-green-700",children:"建議整合配送路線，預估節省8%物流成本"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"採購成本優化"}),e.jsx("p",{className:"text-xs text-blue-700",children:"建議批量採購熱銷商品，預估節省5%採購成本"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-orange-900",children:"倉儲成本優化"}),e.jsx("p",{className:"text-xs text-orange-700",children:"建議優化庫存結構，預估節省12%倉儲成本"})]})]})]})]})]})}),z=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(ll,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"關鍵績效指標 (KPI)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((D,O)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:D.kpi}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(D.status)}`,children:C(D.status)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"當前值"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[D.current,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"目標值"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[D.target,"%"]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${D.status==="exceed"?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(D.current/D.target*100,100)}%`}})})})]})]},O))})]})});return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"w-full px-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"營運分析"}),e.jsx("p",{className:"text-gray-600",children:"監控營運效率，優化供應鏈與物流管理"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("select",{value:r,onChange:D=>n(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:h.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))}),e.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[e.jsx(br,{className:"h-4 w-4 mr-2"}),"刷新數據"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsx("nav",{className:"flex space-x-8",children:m.map(D=>{const O=D.icon,I=a===D.value;return e.jsxs("button",{onClick:()=>i(D.value),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${I?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(O,{className:"h-5 w-5"}),e.jsx("span",{children:D.label})]},D.value)})})}),a==="overview"&&E(),a==="supply-chain"&&R(),a==="logistics"&&M(),a==="inventory"&&$(),a==="cost"&&A(),a==="performance"&&z()]})})},BT=()=>{const[s,t]=u.useState({}),[r,n]=u.useState("all"),[a,i]=u.useState("all"),[l,o]=u.useState("insights"),[c,d]=u.useState(!0),[m,h]=u.useState(!1),p=[{value:"all",label:"全部洞察"},{value:"sales",label:"銷售洞察"},{value:"customer",label:"客戶洞察"},{value:"product",label:"商品洞察"},{value:"operational",label:"營運洞察"},{value:"risk",label:"風險洞察"}],y=[{value:"all",label:"全部優先級"},{value:"critical",label:"緊急"},{value:"high",label:"高"},{value:"medium",label:"中"},{value:"low",label:"低"}],x=[{value:"insights",label:"智能洞察",icon:wa},{value:"anomalies",label:"異常檢測",icon:Te},{value:"predictions",label:"預測分析",icon:Je},{value:"recommendations",label:"優化建議",icon:Di},{value:"risks",label:"風險評估",icon:_a}];u.useEffect(()=>{f()},[r,a,l]);const f=async()=>{d(!0);try{const A=ol.getAIInsights(r,a,l);t(A)}catch(A){console.error("載入AI洞察失敗:",A)}finally{d(!1)}},b=async()=>{h(!0),await new Promise(A=>setTimeout(A,2e3)),await f(),h(!1)},v=[{id:1,type:"opportunity",category:"sales",priority:"high",title:"週末銷售黃金時段發現",description:"週六下午2-5點的轉換率比平日高出32%，建議加強週末促銷活動",impact:"預估提升15%週末營收",confidence:89,actionable:!0,timestamp:"2小時前",insights:["週末客戶瀏覽時間較長，購買決策更謹慎","珠寶首飾類別在週末表現尤其突出","建議推出週末限定優惠提升轉換"]},{id:2,type:"warning",category:"customer",priority:"critical",title:"高價值客戶流失風險警報",description:"檢測到25位VIP客戶購買頻率下降超過60%，有流失風險",impact:"潛在損失營收280萬元",confidence:94,actionable:!0,timestamp:"30分鐘前",insights:["流失客戶主要集中在精品收藏類別","客服滿意度評分低於4.0的客戶流失率高3倍","建議立即啟動客戶挽回計畫"]},{id:3,type:"insight",category:"product",priority:"medium",title:"商品組合優化機會",description:"珍珠項鍊與玫瑰金手鍊的搭配購買率高達67%，建議建立套裝商品",impact:"預估提升12%客單價",confidence:82,actionable:!0,timestamp:"1小時前",insights:["套裝購買客戶的復購率高於單品購買客戶18%","建議價格折扣控制在8-12%之間","套裝商品適合作為節日禮品推廣"]},{id:4,type:"trend",category:"operational",priority:"low",title:"物流效率改善趨勢",description:"北部地區配送時間較上月改善15%，南部地區仍有優化空間",impact:"整體客戶滿意度提升",confidence:76,actionable:!1,timestamp:"4小時前",insights:["新物流夥伴的服務品質穩定提升","南部配送延遲主要因為倉儲位置","建議評估南部增設配送點的可行性"]}],g=[{id:1,type:"spike",metric:"網站流量",value:"+156%",description:"今日下午3點檢測到異常流量激增",severity:"medium",status:"investigating",timestamp:"1小時前"},{id:2,type:"drop",metric:"轉換率",value:"-23%",description:"手機端轉換率異常下降",severity:"high",status:"confirmed",timestamp:"2小時前"},{id:3,type:"unusual",metric:"退貨率",value:"+45%",description:"特定商品類別退貨率異常上升",severity:"critical",status:"action_required",timestamp:"45分鐘前"}],w=[{category:"銷售預測",metric:"下月營收",prediction:"3,250,000",confidence:88,trend:"increasing",variance:"±8%"},{category:"需求預測",metric:"熱門商品",prediction:"珍珠系列",confidence:92,trend:"stable",variance:"±5%"},{category:"客戶預測",metric:"新客增長",prediction:"1,580",confidence:79,trend:"increasing",variance:"±12%"},{category:"庫存預測",metric:"補貨需求",prediction:"15個SKU",confidence:95,trend:"urgent",variance:"±3%"}],N=[{category:"marketing",title:"個人化推薦系統",description:"基於客戶購買歷史建立個人化商品推薦",priority:"high",effort:"medium",impact:"high",expectedROI:"285%"},{category:"pricing",title:"動態定價策略",description:"根據需求和庫存情況調整商品價格",priority:"medium",effort:"high",impact:"medium",expectedROI:"156%"},{category:"inventory",title:"智能補貨系統",description:"使用AI預測最佳補貨時機和數量",priority:"high",effort:"low",impact:"high",expectedROI:"234%"},{category:"customer",title:"客戶流失預警",description:"建立早期客戶流失預警和挽回機制",priority:"critical",effort:"medium",impact:"high",expectedROI:"412%"}],j=[{type:"operational",title:"供應鏈中斷風險",probability:"medium",impact:"high",riskScore:75,description:"主要供應商集中度過高，存在供應中斷風險",mitigation:"建議建立備用供應商網絡"},{type:"financial",title:"庫存積壓風險",probability:"low",impact:"medium",riskScore:35,description:"季節性商品庫存可能面臨積壓",mitigation:"提前規劃清倉促銷活動"},{type:"market",title:"競爭加劇風險",probability:"high",impact:"medium",riskScore:68,description:"新競爭者進入市場，價格競爭激烈",mitigation:"加強品牌差異化和客戶忠誠度"}],_=A=>{switch(A){case"opportunity":return e.jsx(tC,{className:"h-5 w-5 text-green-600"});case"warning":return e.jsx(Te,{className:"h-5 w-5 text-red-600"});case"insight":return e.jsx(wa,{className:"h-5 w-5 text-blue-600"});case"trend":return e.jsx(Je,{className:"h-5 w-5 text-purple-600"});default:return e.jsx(K2,{className:"h-5 w-5 text-gray-600"})}},k=A=>{switch(A){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},T=A=>{switch(A){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=()=>e.jsx("div",{className:"space-y-6",children:v.map(A=>e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:_(A.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(A.priority)}`,children:A.priority==="critical"?"緊急":A.priority==="high"?"高":A.priority==="medium"?"中":"低"}),e.jsx("span",{className:"text-xs text-gray-500",children:A.timestamp})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:A.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"預期影響"}),e.jsx("p",{className:"font-medium text-gray-900",children:A.impact})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"信心度"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[A.confidence,"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"可執行性"}),e.jsx("p",{className:"font-medium text-gray-900",children:A.actionable?"可執行":"觀察中"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"關鍵洞察:"}),e.jsx("ul",{className:"space-y-1",children:A.insights.map((z,D)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#cc824d] mt-2 mr-3 flex-shrink-0"}),z]},D))})]}),A.actionable&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors text-sm",children:"執行建議"})})]})]})},A.id))}),E=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"異常檢測報告"]}),e.jsx("div",{className:"space-y-4",children:g.map(A=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:A.metric}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${T(A.severity)}`,children:A.severity==="critical"?"嚴重":A.severity==="high"?"高":"中"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`text-lg font-bold ${A.type==="spike"?"text-green-600":A.type==="drop"?"text-red-600":"text-orange-600"}`,children:A.value}),e.jsx("p",{className:"text-xs text-gray-500",children:A.timestamp})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="investigating"?"bg-blue-100 text-blue-800":A.status==="confirmed"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:A.status==="investigating"?"調查中":A.status==="confirmed"?"已確認":"需要處理"}),e.jsx("button",{className:"text-sm text-[#cc824d] hover:text-[#b8753f]",children:"查看詳細"})]})]},A.id))})]})}),R=()=>e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map((A,z)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.category}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.trend==="increasing"?"bg-green-100 text-green-800":A.trend==="urgent"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A.trend==="increasing"?"上升趨勢":A.trend==="urgent"?"緊急":"穩定"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:A.metric}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.prediction})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"預測信心度"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[A.confidence,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${A.confidence}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"誤差範圍"}),e.jsx("span",{className:"font-medium text-gray-900",children:A.variance})]})]})]},z))})}),M=()=>e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map((A,z)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(A.priority)}`,children:A.priority==="critical"?"緊急":A.priority==="high"?"高":A.priority==="medium"?"中":"低"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:A.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"實施難度"}),e.jsx("p",{className:"font-medium text-gray-900",children:A.effort==="high"?"高":A.effort==="medium"?"中":"低"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"預期影響"}),e.jsx("p",{className:"font-medium text-gray-900",children:A.impact==="high"?"高":A.impact==="medium"?"中":"低"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500",children:"預期ROI"}),e.jsx("p",{className:"font-bold text-green-600",children:A.expectedROI})]}),e.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors text-sm",children:"開始實施"})]})]},z))})}),$=()=>e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:j.map((A,z)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.title}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A.riskScore}),e.jsx("div",{className:"text-xs text-gray-500",children:"風險分數"})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"發生機率"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.probability==="high"?"bg-red-100 text-red-800":A.probability==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:A.probability==="high"?"高":A.probability==="medium"?"中":"低"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"影響程度"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.impact==="high"?"bg-red-100 text-red-800":A.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:A.impact==="high"?"高":A.impact==="medium"?"中":"低"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:`h-2 rounded-full ${A.riskScore>=70?"bg-red-500":A.riskScore>=40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${A.riskScore}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:A.description}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"建議措施"}),e.jsx("p",{className:"text-sm text-gray-700",children:A.mitigation})]})]},z))})});return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"w-full px-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{className:"mb-4 lg:mb-0",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(Di,{className:"h-8 w-8 mr-3 text-[#cc824d]"}),"AI 智能洞察"]}),e.jsx("p",{className:"text-gray-600",children:"運用人工智能分析商業數據，提供智能洞察與預測建議"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("select",{value:r,onChange:A=>n(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:p.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))}),e.jsx("select",{value:a,onChange:A=>i(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:y.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))}),e.jsxs("button",{onClick:b,disabled:m,className:`px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8753f] transition-colors flex items-center ${m?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(br,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),m?"AI分析中...":"重新分析"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsx("nav",{className:"flex space-x-8",children:x.map(A=>{const z=A.icon,D=l===A.value;return e.jsxs("button",{onClick:()=>o(A.value),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${D?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:A.label})]},A.value)})})}),m&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center",children:[e.jsx(bk,{className:"h-5 w-5 text-blue-600 mr-2 animate-pulse"}),e.jsx("span",{className:"text-blue-800",children:"AI 正在分析最新數據，請稍候..."})]}),l==="insights"&&C(),l==="anomalies"&&E(),l==="predictions"&&R(),l==="recommendations"&&M(),l==="risks"&&$()]})})},zT=()=>{const s=wr();return u.useEffect(()=>{De.fromTo(".analytics-content",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"})},[s.pathname]),e.jsx("div",{className:"analytics-content",children:e.jsx("div",{className:"analytics-content",children:e.jsxs(Vr,{children:[e.jsx(W,{path:"/",element:e.jsx(LT,{})}),e.jsx(W,{path:"/sales",element:e.jsx(OT,{})}),e.jsx(W,{path:"/customers",element:e.jsx(FT,{})}),e.jsx(W,{path:"/products",element:e.jsx($T,{})}),e.jsx(W,{path:"/operations",element:e.jsx(VT,{})}),e.jsx(W,{path:"/ai-insights",element:e.jsx(BT,{})})]})})})};class bx{constructor(){this.storageKey="marelle-system-settings",this.changeLogKey="marelle-setting-changes",this.initializeDefaultSettings()}initializeDefaultSettings(){const t=this.getAllSettings();if(Object.keys(t).length===0){const r=this.getDefaultSettingsStructure();localStorage.setItem(this.storageKey,JSON.stringify(r))}}getDefaultSettingsStructure(){return{system_core:{"system.name":{settingId:"system.name",category:"system_core",key:"system.name",displayName:"系統名稱",description:"電商平台的顯示名稱",value:"Marelle",defaultValue:"Marelle",dataType:"string",isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.description":{settingId:"system.description",category:"system_core",key:"system.description",displayName:"系統描述",description:"電商平台的簡短描述",value:"優雅的線上購物體驗",defaultValue:"優雅的線上購物體驗",dataType:"textarea",isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.contact_email":{settingId:"system.contact_email",category:"system_core",key:"system.contact_email",displayName:"聯絡信箱",description:"系統管理員聯絡信箱",value:"admin@marelle.com",defaultValue:"admin@marelle.com",dataType:"email",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"system.phone":{settingId:"system.phone",category:"system_core",key:"system.phone",displayName:"聯絡電話",description:"客服聯絡電話",value:"+886-2-1234-5678",defaultValue:"+886-2-1234-5678",dataType:"string",isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},system_security:{"security.password_min_length":{settingId:"security.password_min_length",category:"system_security",key:"security.password_min_length",displayName:"密碼最小長度",description:"使用者密碼的最小字元數",value:8,defaultValue:8,dataType:"number",constraints:{minValue:6,maxValue:32},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.password_require_uppercase":{settingId:"security.password_require_uppercase",category:"system_security",key:"security.password_require_uppercase",displayName:"密碼需要大寫字母",description:"密碼是否必須包含大寫字母",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.login_max_attempts":{settingId:"security.login_max_attempts",category:"system_security",key:"security.login_max_attempts",displayName:"登入最大嘗試次數",description:"帳號被鎖定前的最大登入失敗次數",value:5,defaultValue:5,dataType:"number",constraints:{minValue:3,maxValue:10},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"security.session_timeout":{settingId:"security.session_timeout",category:"system_security",key:"security.session_timeout",displayName:"會話超時時間",description:"使用者會話的超時時間（分鐘）",value:30,defaultValue:30,dataType:"number",constraints:{minValue:10,maxValue:720},isRequired:!0,isSystem:!0,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},notification_management:{"notification.email_enabled":{settingId:"notification.email_enabled",category:"notification_management",key:"notification.email_enabled",displayName:"啟用郵件通知",description:"是否啟用系統郵件通知功能",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"notification.email_smtp_host":{settingId:"notification.email_smtp_host",category:"notification_management",key:"notification.email_smtp_host",displayName:"SMTP 主機",description:"郵件發送伺服器地址",value:"smtp.gmail.com",defaultValue:"smtp.gmail.com",dataType:"string",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!0,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"notification.sms_enabled":{settingId:"notification.sms_enabled",category:"notification_management",key:"notification.sms_enabled",displayName:"啟用簡訊通知",description:"是否啟用系統簡訊通知功能",value:!1,defaultValue:!1,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},payment_management:{"payment.currency":{settingId:"payment.currency",category:"payment_management",key:"payment.currency",displayName:"預設貨幣",description:"系統預設的貨幣單位",value:"TWD",defaultValue:"TWD",dataType:"select",constraints:{options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"歐元 (EUR)"},{value:"JPY",label:"日圓 (JPY)"}]},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"payment.credit_card_enabled":{settingId:"payment.credit_card_enabled",category:"payment_management",key:"payment.credit_card_enabled",displayName:"啟用信用卡支付",description:"是否啟用信用卡支付功能",value:!0,defaultValue:!0,dataType:"boolean",isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"payment.handling_fee":{settingId:"payment.handling_fee",category:"payment_management",key:"payment.handling_fee",displayName:"手續費百分比",description:"支付處理手續費百分比",value:2.5,defaultValue:2.5,dataType:"number",constraints:{minValue:0,maxValue:10},isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},shipping_management:{"shipping.free_shipping_threshold":{settingId:"shipping.free_shipping_threshold",category:"shipping_management",key:"shipping.free_shipping_threshold",displayName:"免運費門檻",description:"享受免運費的最低消費金額",value:1e3,defaultValue:1e3,dataType:"number",constraints:{minValue:0,maxValue:1e4},isRequired:!1,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"shipping.default_rate":{settingId:"shipping.default_rate",category:"shipping_management",key:"shipping.default_rate",displayName:"預設運費",description:"標準配送的預設運費",value:80,defaultValue:80,dataType:"number",constraints:{minValue:0,maxValue:500},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},"shipping.processing_days":{settingId:"shipping.processing_days",category:"shipping_management",key:"shipping.processing_days",displayName:"處理天數",description:"訂單處理所需的工作天數",value:2,defaultValue:2,dataType:"number",constraints:{minValue:1,maxValue:10},isRequired:!0,isSystem:!1,isUserConfigurable:!0,requiresRestart:!1,version:1,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}}}getAllSettings(){const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}getSettingsByCategory(t){return this.getAllSettings()[t]||{}}getSetting(t,r){var a;return(a=this.getSettingsByCategory(t)[r])==null?void 0:a.value}getSettingObject(t,r){return this.getSettingsByCategory(t)[r]}updateSetting(t,r,n,a="admin"){var o;const i=this.getAllSettings();i[t]||(i[t]={});const l=(o=i[t][r])==null?void 0:o.value;return i[t][r]&&(i[t][r]={...i[t][r],value:n,updatedAt:new Date().toISOString(),updatedBy:a,version:i[t][r].version+1}),localStorage.setItem(this.storageKey,JSON.stringify(i)),this.logSettingChange(t,r,l,n,a),i[t][r]}resetSetting(t,r,n="admin"){const a=this.getSettingObject(t,r);return a?this.updateSetting(t,r,a.defaultValue,n):null}updateMultipleSettings(t,r="admin"){const n=[];return t.forEach(({category:a,key:i,value:l})=>{const o=this.updateSetting(a,i,l,r);n.push(o)}),n}logSettingChange(t,r,n,a,i,l=""){const o=this.getChangeLogs(),c={logId:this.generateId(),settingId:`${t}.${r}`,category:t,key:r,changeType:n===void 0?"create":"update",oldValue:n,newValue:a,reason:l,changedBy:i,changedAt:new Date().toISOString(),ipAddress:"localhost",userAgent:navigator.userAgent};o.push(c),localStorage.setItem(this.changeLogKey,JSON.stringify(o))}getChangeLogs(t=null,r=100){const n=localStorage.getItem(this.changeLogKey);let a=n?JSON.parse(n):[];return t&&(a=a.filter(i=>i.category===t)),a.sort((i,l)=>new Date(l.changedAt)-new Date(i.changedAt)).slice(0,r)}getSettingsStatistics(){const t=this.getAllSettings(),r=Object.keys(t),n=this.getChangeLogs();let a=0,i=0,l=0,o=0;return r.forEach(c=>{const d=t[c];Object.values(d).forEach(m=>{a++,m.status==="active"&&i++,m.isSystem&&l++,m.isUserConfigurable&&o++})}),{totalSettings:a,activeSettings:i,systemSettings:l,userConfigurableSettings:o,totalCategories:r.length,recentChanges:n.slice(0,10),lastModified:n.length>0?n[0].changedAt:null}}exportSettings(t=null){const r=this.getAllSettings(),n={timestamp:new Date().toISOString(),version:"1.0",settings:t?Object.fromEntries(Object.entries(r).filter(([a])=>t.includes(a))):r};return JSON.stringify(n,null,2)}importSettings(t,r="admin"){try{const n=JSON.parse(t),a=[];return Object.entries(n.settings).forEach(([i,l])=>{Object.entries(l).forEach(([o,c])=>{const d=this.updateSetting(i,o,c.value,r);a.push({category:i,key:o,success:!!d})})}),{success:!0,results:a}}catch(n){return{success:!1,error:n.message}}}validateSetting(t,r,n){const a=this.getSettingObject(t,r);if(!a)return{valid:!1,error:"設定不存在"};const{dataType:i,constraints:l,isRequired:o}=a;if(o&&(n==null||n===""))return{valid:!1,error:"此設定為必填項目"};if(n!=null)switch(i){case"number":if(isNaN(n))return{valid:!1,error:"必須是數字"};const c=Number(n);if((l==null?void 0:l.minValue)!==void 0&&c<l.minValue)return{valid:!1,error:`最小值為 ${l.minValue}`};if((l==null?void 0:l.maxValue)!==void 0&&c>l.maxValue)return{valid:!1,error:`最大值為 ${l.maxValue}`};break;case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return{valid:!1,error:"請輸入有效的電子郵件地址"};break;case"url":try{new URL(n)}catch{return{valid:!1,error:"請輸入有效的URL"}}break;case"string":case"textarea":if(l!=null&&l.minLength&&n.length<l.minLength)return{valid:!1,error:`最小長度為 ${l.minLength}`};if(l!=null&&l.maxLength&&n.length>l.maxLength)return{valid:!1,error:`最大長度為 ${l.maxLength}`};break;case"select":if(l!=null&&l.options&&!l.options.map(h=>h.value).includes(n))return{valid:!1,error:"請選擇有效的選項"};break}return{valid:!0}}searchSettings(t,r=null){const n=this.getAllSettings(),a=[];return Object.entries(n).forEach(([i,l])=>{r&&i!==r||Object.entries(l).forEach(([o,c])=>{`${c.displayName} ${c.description} ${o}`.toLowerCase().includes(t.toLowerCase())&&a.push({...c,category:i,key:o})})}),a}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}clearAllData(){localStorage.removeItem(this.storageKey),localStorage.removeItem(this.changeLogKey)}}Wm(bx,"SETTING_CATEGORIES",{SYSTEM_CORE:"system_core",SYSTEM_SECURITY:"system_security",SYSTEM_PERFORMANCE:"system_performance",USER_MANAGEMENT:"user_management",PRODUCT_MANAGEMENT:"product_management",INVENTORY_MANAGEMENT:"inventory_management",ORDER_MANAGEMENT:"order_management",PAYMENT_MANAGEMENT:"payment_management",SHIPPING_MANAGEMENT:"shipping_management",PROMOTION_MANAGEMENT:"promotion_management",CONTENT_MANAGEMENT:"content_management",NOTIFICATION_MANAGEMENT:"notification_management",ANALYTICS_MANAGEMENT:"analytics_management",PAYMENT_GATEWAY:"payment_gateway",LOGISTICS_PROVIDER:"logistics_provider",EMAIL_SERVICE:"email_service",SMS_SERVICE:"sms_service",CLOUD_STORAGE:"cloud_storage",FRONTEND_THEME:"frontend_theme",FRONTEND_LAYOUT:"frontend_layout",FRONTEND_SEO:"frontend_seo",BACKEND_INTERFACE:"backend_interface",BACKEND_WORKFLOW:"backend_workflow",BACKEND_REPORTING:"backend_reporting"}),Wm(bx,"DATA_TYPES",{STRING:"string",NUMBER:"number",BOOLEAN:"boolean",JSON:"json",ARRAY:"array",FILE:"file",IMAGE:"image",URL:"url",EMAIL:"email",PASSWORD:"password",TEXTAREA:"textarea",SELECT:"select",MULTI_SELECT:"multi_select",DATE:"date",TIME:"time",DATETIME:"datetime",COLOR:"color",RANGE:"range"});const ir=new bx,UT=()=>{const[s,t]=u.useState({}),[r,n]=u.useState([]),[a,i]=u.useState({}),[l,o]=u.useState({}),[c,d]=u.useState(""),[m,h]=u.useState([]);u.useEffect(()=>{p()},[]),u.useEffect(()=>{if(c.trim()){const j=ir.searchSettings(c);h(j)}else h([])},[c]);const p=()=>{const j=ir.getSettingsStatistics();t(j),n(j.recentChanges);const _=y();i(_);const k=x();o(k)},y=()=>{var k,T,C,E,R,M,$;const j=ir.getSettingsByCategory("system_security"),_=ir.getSettingsByCategory("notification_management");return{security:{status:"healthy",message:"安全設定正常",lastCheck:new Date().toISOString(),details:{passwordPolicy:((k=j["security.password_min_length"])==null?void 0:k.value)>=8,loginProtection:((T=j["security.login_max_attempts"])==null?void 0:T.value)<=5,sessionTimeout:((C=j["security.session_timeout"])==null?void 0:C.value)<=60}},notifications:{status:(E=_["notification.email_enabled"])!=null&&E.value?"active":"warning",message:(R=_["notification.email_enabled"])!=null&&R.value?"通知系統正常運作":"部分通知功能未啟用",lastCheck:new Date().toISOString(),details:{email:(M=_["notification.email_enabled"])==null?void 0:M.value,sms:($=_["notification.sms_enabled"])==null?void 0:$.value}},performance:{status:"healthy",message:"系統效能良好",lastCheck:new Date().toISOString(),details:{responseTime:"< 200ms",uptime:"99.9%",memoryUsage:"65%"}}}},x=()=>({"system.name":ir.getSetting("system_core","system.name"),"security.password_min_length":ir.getSetting("system_security","security.password_min_length"),"notification.email_enabled":ir.getSetting("notification_management","notification.email_enabled"),"payment.currency":ir.getSetting("payment_management","payment.currency"),"shipping.free_shipping_threshold":ir.getSetting("shipping_management","shipping.free_shipping_threshold")}),f=(j,_,k)=>{ir.updateSetting(j,_,k),p()},b=()=>{const j=ir.exportSettings(),_=new Blob([j],{type:"application/json"}),k=URL.createObjectURL(_),T=document.createElement("a");T.href=k,T.download=`marelle-settings-${new Date().toISOString().split("T")[0]}.json`,T.click(),URL.revokeObjectURL(k)},v=j=>{const _=j.target.files[0];if(_){const k=new FileReader;k.onload=T=>{const C=ir.importSettings(T.target.result);C.success?(alert("設定匯入成功！"),p()):alert(`匯入失敗：${C.error}`)},k.readAsText(_)}},g=j=>new Date(j).toLocaleString("zh-TW"),w=j=>{switch(j){case"healthy":case"active":return e.jsx(he,{className:"h-5 w-5 text-green-500"});case"warning":return e.jsx(Te,{className:"h-5 w-5 text-yellow-500"});case"error":return e.jsx(Te,{className:"h-5 w-5 text-red-500"});default:return e.jsx(je,{className:"h-5 w-5 text-gray-500"})}},N=j=>{switch(j){case"healthy":case"active":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"系統設定總覽"}),e.jsx("p",{className:"text-gray-600",children:"集中管理所有系統配置與設定項目"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:b,className:"bg-white text-gray-700 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center font-medium",children:[e.jsx(DS,{className:"h-5 w-5 mr-2"}),"匯出設定"]}),e.jsxs("label",{className:"bg-white text-gray-700 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center font-medium cursor-pointer",children:[e.jsx(PS,{className:"h-5 w-5 mr-2"}),"匯入設定",e.jsx("input",{type:"file",accept:".json",onChange:v,className:"hidden"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ke,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"系統狀態監控"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([j,_])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w(_.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 capitalize",children:j}),e.jsx("p",{className:"text-sm text-gray-600",children:_.message})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${N(_.status)}`,children:_.status==="healthy"?"正常":_.status==="active"?"運作中":_.status==="warning"?"警告":"錯誤"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g(_.lastCheck)})]})]},j))})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(af,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"快速設定"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"系統名稱"}),e.jsx("input",{type:"text",value:l["system.name"]||"",onChange:j=>f("system_core","system.name",j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密碼最小長度"}),e.jsx("input",{type:"number",value:l["security.password_min_length"]||"",onChange:j=>f("system_security","security.password_min_length",Number(j.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"預設貨幣"}),e.jsx(Kt,{options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"歐元 (EUR)"},{value:"JPY",label:"日圓 (JPY)"}],value:l["payment.currency"]||"TWD",onChange:j=>f("payment_management","payment.currency",j),placeholder:"選擇貨幣",className:"w-full"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"免運費門檻"}),e.jsx("input",{type:"number",value:l["shipping.free_shipping_threshold"]||"",onChange:j=>f("shipping_management","shipping.free_shipping_threshold",Number(j.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"最近變更"]}),e.jsxs("div",{className:"space-y-3",children:[r.slice(0,5).map((j,_)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.settingId}),e.jsx("span",{className:"text-xs text-gray-500",children:g(j.changedAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xl,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:j.changedBy})]}),e.jsxs("div",{className:"mt-2 text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"變更："}),e.jsx("span",{className:"text-red-600 line-through mr-2",children:String(j.oldValue)}),e.jsx("span",{className:"text-green-600",children:String(j.newValue)})]})]},_)),r.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"暫無變更記錄"})]})]})})]})]})})},WT=()=>{const[s,t]=u.useState({siteName:"Marelle 電商平台",siteDescription:"優雅珠寶與精品配件的專業電商平台",language:"zh-TW",timezone:"Asia/Taipei",currency:"TWD",dateFormat:"YYYY-MM-DD",timeFormat:"24h"}),r=(a,i)=>{t(l=>({...l,[a]:i}))},n=()=>{alert("設定已儲存")};return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"一般設定"}),e.jsx("p",{className:J.pageSubtitle,children:"管理系統的基本配置和偏好設定"})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"網站基本資訊"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"網站名稱"}),e.jsx("input",{type:"text",value:s.siteName,onChange:a=>r("siteName",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"網站描述"}),e.jsx("textarea",{value:s.siteDescription,onChange:a=>r("siteDescription",a.target.value),rows:3,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"地區設定"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{children:e.jsx(Kt,{placeholder:"語言",value:s.language,onChange:a=>r("language",a),options:[{value:"zh-TW",label:"繁體中文"},{value:"zh-CN",label:"簡體中文"},{value:"en-US",label:"English"},{value:"ja-JP",label:"日本語"}],size:"sm"})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"時區",value:s.timezone,onChange:a=>r("timezone",a),options:[{value:"Asia/Taipei",label:"台北 (GMT+8)"},{value:"Asia/Shanghai",label:"上海 (GMT+8)"},{value:"Asia/Tokyo",label:"東京 (GMT+9)"},{value:"Asia/Hong_Kong",label:"香港 (GMT+8)"}],size:"sm"})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"貨幣",value:s.currency,onChange:a=>r("currency",a),options:[{value:"TWD",label:"新台幣 (TWD)"},{value:"CNY",label:"人民幣 (CNY)"},{value:"USD",label:"美元 (USD)"},{value:"JPY",label:"日圓 (JPY)"},{value:"HKD",label:"港幣 (HKD)"}],size:"sm"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 font-chinese",children:"格式設定"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"日期格式"}),e.jsxs("select",{value:s.dateFormat,onChange:a=>r("dateFormat",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm",children:[e.jsx("option",{value:"YYYY-MM-DD",children:"2024-01-15"}),e.jsx("option",{value:"DD/MM/YYYY",children:"15/01/2024"}),e.jsx("option",{value:"MM/DD/YYYY",children:"01/15/2024"}),e.jsx("option",{value:"DD-MM-YYYY",children:"15-01-2024"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-chinese",children:"時間格式"}),e.jsxs("select",{value:s.timeFormat,onChange:a=>r("timeFormat",a.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white/50 backdrop-blur-sm",children:[e.jsx("option",{value:"24h",children:"24小時制 (14:30)"}),e.jsx("option",{value:"12h",children:"12小時制 (2:30 PM)"})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-chinese",children:"儲存設定"})})]})]})})},HT=()=>{const[s,t]=u.useState({twoFactorAuth:!1,sessionTimeout:30,passwordPolicy:{minLength:8,requireSpecialChars:!0,requireNumbers:!0,requireUppercase:!0},loginAttempts:5,lockoutDuration:15}),r=(a,i)=>{t(l=>({...l,[a]:i}))},n=(a,i)=>{t(l=>({...l,passwordPolicy:{...l.passwordPolicy,[a]:i}}))};return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"安全設定"}),e.jsx("p",{className:J.pageSubtitle,children:"管理系統安全性和權限設定"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"認證設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"雙因素驗證"}),e.jsx("input",{type:"checkbox",checked:s.twoFactorAuth,onChange:a=>r("twoFactorAuth",a.target.checked),className:"rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"會話超時時間 (分鐘)"}),e.jsx("input",{type:"number",value:s.sessionTimeout,onChange:a=>r("sessionTimeout",a.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"5",max:"1440"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"密碼政策"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最小長度"}),e.jsx("input",{type:"number",value:s.passwordPolicy.minLength,onChange:a=>n("minLength",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"6",max:"32"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.passwordPolicy.requireSpecialChars,onChange:a=>n("requireSpecialChars",a.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-chinese",children:"需要特殊字符"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.passwordPolicy.requireNumbers,onChange:a=>n("requireNumbers",a.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-chinese",children:"需要數字"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.passwordPolicy.requireUppercase,onChange:a=>n("requireUppercase",a.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-chinese",children:"需要大寫字母"})]})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"登入安全"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最大登入嘗試次數"}),e.jsx("input",{type:"number",value:s.loginAttempts,onChange:a=>r("loginAttempts",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"3",max:"10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"鎖定時間 (分鐘)"}),e.jsx("input",{type:"number",value:s.lockoutDuration,onChange:a=>r("lockoutDuration",a.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"5",max:"60"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},GT=()=>{const[s,t]=u.useState({emailNotifications:{newOrders:!0,lowStock:!0,customerMessages:!0,systemUpdates:!1},smsNotifications:{orderStatusChanges:!0,urgentAlerts:!0,promotions:!1},pushNotifications:{realTimeAlerts:!0,dailySummary:!0,weeklyReports:!1},notificationSchedule:{quietHours:{enabled:!1,startTime:"22:00",endTime:"08:00"},timezone:"Asia/Taipei"}}),r=(o,c)=>{t(d=>({...d,emailNotifications:{...d.emailNotifications,[o]:c}}))},n=(o,c)=>{t(d=>({...d,smsNotifications:{...d.smsNotifications,[o]:c}}))},a=(o,c)=>{t(d=>({...d,pushNotifications:{...d.pushNotifications,[o]:c}}))},i=(o,c)=>{t(d=>({...d,notificationSchedule:{...d.notificationSchedule,[o]:c}}))},l=(o,c)=>{t(d=>({...d,notificationSchedule:{...d.notificationSchedule,quietHours:{...d.notificationSchedule.quietHours,[o]:c}}}))};return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"通知設定"}),e.jsx("p",{className:J.pageSubtitle,children:"管理系統通知和提醒設定"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"電子郵件通知"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"新訂單通知"}),e.jsx("input",{type:"checkbox",checked:s.emailNotifications.newOrders,onChange:o=>r("newOrders",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"庫存不足警告"}),e.jsx("input",{type:"checkbox",checked:s.emailNotifications.lowStock,onChange:o=>r("lowStock",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"客戶訊息"}),e.jsx("input",{type:"checkbox",checked:s.emailNotifications.customerMessages,onChange:o=>r("customerMessages",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"系統更新"}),e.jsx("input",{type:"checkbox",checked:s.emailNotifications.systemUpdates,onChange:o=>r("systemUpdates",o.target.checked),className:"rounded"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"簡訊通知"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"訂單狀態變更"}),e.jsx("input",{type:"checkbox",checked:s.smsNotifications.orderStatusChanges,onChange:o=>n("orderStatusChanges",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"緊急警告"}),e.jsx("input",{type:"checkbox",checked:s.smsNotifications.urgentAlerts,onChange:o=>n("urgentAlerts",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"促銷活動"}),e.jsx("input",{type:"checkbox",checked:s.smsNotifications.promotions,onChange:o=>n("promotions",o.target.checked),className:"rounded"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"推播通知"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"即時警告"}),e.jsx("input",{type:"checkbox",checked:s.pushNotifications.realTimeAlerts,onChange:o=>a("realTimeAlerts",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"每日摘要"}),e.jsx("input",{type:"checkbox",checked:s.pushNotifications.dailySummary,onChange:o=>a("dailySummary",o.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"週報"}),e.jsx("input",{type:"checkbox",checked:s.pushNotifications.weeklyReports,onChange:o=>a("weeklyReports",o.target.checked),className:"rounded"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"通知時程"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(Kt,{placeholder:"時區",value:s.notificationSchedule.timezone,onChange:o=>i("timezone",o),options:[{value:"Asia/Taipei",label:"台北 (UTC+8)"},{value:"Asia/Shanghai",label:"上海 (UTC+8)"},{value:"Asia/Hong_Kong",label:"香港 (UTC+8)"},{value:"UTC",label:"UTC (UTC+0)"}],size:"sm"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"checkbox",checked:s.notificationSchedule.quietHours.enabled,onChange:o=>l("enabled",o.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-medium font-chinese",children:"啟用免打擾時間"})]}),s.notificationSchedule.quietHours.enabled&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"開始時間"}),e.jsx("input",{type:"time",value:s.notificationSchedule.quietHours.startTime,onChange:o=>l("startTime",o.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"結束時間"}),e.jsx("input",{type:"time",value:s.notificationSchedule.quietHours.endTime,onChange:o=>l("endTime",o.target.value),className:"w-full px-3 py-2 border rounded-md"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},qT=()=>{const[s,t]=u.useState({paymentMethods:{creditCard:!0,bankTransfer:!0,paypal:!1,applePay:!1,googlePay:!1,cashOnDelivery:!0},currency:{primary:"TWD",supported:["TWD","USD","CNY","HKD"]},fees:{creditCardFee:2.8,bankTransferFee:0,processingFee:0},limits:{minOrderAmount:100,maxOrderAmount:5e4,dailyLimit:1e5}}),r=(i,l)=>{t(o=>({...o,paymentMethods:{...o.paymentMethods,[i]:l}}))},n=(i,l)=>{t(o=>({...o,fees:{...o.fees,[i]:parseFloat(l)||0}}))},a=(i,l)=>{t(o=>({...o,limits:{...o.limits,[i]:parseInt(l)||0}}))};return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"付款設定"}),e.jsx("p",{className:J.pageSubtitle,children:"管理付款方式和相關設定"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"付款方式"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"信用卡"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.creditCard,onChange:i=>r("creditCard",i.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"銀行轉帳"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.bankTransfer,onChange:i=>r("bankTransfer",i.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"PayPal"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.paypal,onChange:i=>r("paypal",i.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"Apple Pay"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.applePay,onChange:i=>r("applePay",i.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"Google Pay"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.googlePay,onChange:i=>r("googlePay",i.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium font-chinese",children:"貨到付款"}),e.jsx("input",{type:"checkbox",checked:s.paymentMethods.cashOnDelivery,onChange:i=>r("cashOnDelivery",i.target.checked),className:"rounded"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"貨幣設定"}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{children:e.jsx(Kt,{placeholder:"主要貨幣",value:s.currency.primary,onChange:i=>t(l=>({...l,currency:{...l.currency,primary:i}})),options:[{value:"TWD",label:"TWD (台幣)"},{value:"USD",label:"USD (美元)"},{value:"CNY",label:"CNY (人民幣)",icon:"💴"},{value:"HKD",label:"HKD (港幣)",icon:"💶"}],size:"sm"})})})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"手續費設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"信用卡手續費 (%)"}),e.jsx("input",{type:"number",step:"0.1",value:s.fees.creditCardFee,onChange:i=>n("creditCardFee",i.target.value),className:"w-24 px-3 py-2 border rounded-md",min:"0",max:"10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"銀行轉帳手續費 (固定金額)"}),e.jsx("input",{type:"number",value:s.fees.bankTransferFee,onChange:i=>n("bankTransferFee",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"處理費 (固定金額)"}),e.jsx("input",{type:"number",value:s.fees.processingFee,onChange:i=>n("processingFee",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"限制設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最小訂單金額"}),e.jsx("input",{type:"number",value:s.limits.minOrderAmount,onChange:i=>a("minOrderAmount",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"最大訂單金額"}),e.jsx("input",{type:"number",value:s.limits.maxOrderAmount,onChange:i=>a("maxOrderAmount",i.target.value),className:"w-32 px-3 py-2 border rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 font-chinese",children:"每日交易限額"}),e.jsx("input",{type:"number",value:s.limits.dailyLimit,onChange:i=>a("dailyLimit",i.target.value),className:"w-40 px-3 py-2 border rounded-md",min:"0"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},YT=()=>{const[s,t]=u.useState({shippingMethods:[{id:1,name:"標準配送",cost:60,estimatedDays:"3-5",enabled:!0,freeThreshold:1e3},{id:2,name:"快速配送",cost:120,estimatedDays:"1-2",enabled:!0,freeThreshold:null},{id:3,name:"超商取貨",cost:50,estimatedDays:"2-3",enabled:!0,freeThreshold:800}],zones:[{id:1,name:"台灣本島",regions:["台北","桃園","台中","台南","高雄"],multiplier:1},{id:2,name:"離島地區",regions:["澎湖","金門","馬祖"],multiplier:1.5}],packaging:{standardBox:{length:30,width:20,height:15,weight:.2},largeBox:{length:40,width:30,height:25,weight:.3},customPackaging:!1}}),r=(i,l,o)=>{t(c=>({...c,shippingMethods:c.shippingMethods.map(d=>d.id===i?{...d,[l]:o}:d)}))},n=(i,l,o)=>{t(c=>({...c,zones:c.zones.map(d=>d.id===i?{...d,[l]:o}:d)}))},a=(i,l,o)=>{t(c=>({...c,packaging:{...c.packaging,[i]:typeof c.packaging[i]=="object"?{...c.packaging[i],[l]:o}:o}}))};return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"配送設定"}),e.jsx("p",{className:J.pageSubtitle,children:"管理配送方式和運費設定"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"配送方式"}),e.jsx("div",{className:"space-y-4",children:s.shippingMethods.map(i=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"方式名稱"}),e.jsx("input",{type:"text",value:i.name,onChange:l=>r(i.id,"name",l.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"運費 (元)"}),e.jsx("input",{type:"number",value:i.cost,onChange:l=>r(i.id,"cost",parseInt(l.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"預計天數"}),e.jsx("input",{type:"text",value:i.estimatedDays,onChange:l=>r(i.id,"estimatedDays",l.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"1-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"免運門檻"}),e.jsx("input",{type:"number",value:i.freeThreshold||"",onChange:l=>r(i.id,"freeThreshold",l.target.value?parseInt(l.target.value):null),className:"w-full px-3 py-2 border rounded-md",placeholder:"無限制"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.enabled,onChange:l=>r(i.id,"enabled",l.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-chinese",children:"啟用此配送方式"})]})]},i.id))})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"配送區域"}),e.jsx("div",{className:"space-y-4",children:s.zones.map(i=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"區域名稱"}),e.jsx("input",{type:"text",value:i.name,onChange:l=>n(i.id,"name",l.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"運費倍數"}),e.jsx("input",{type:"number",step:"0.1",value:i.multiplier,onChange:l=>n(i.id,"multiplier",parseFloat(l.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 font-chinese",children:"包含地區"}),e.jsx("input",{type:"text",value:i.regions.join(", "),onChange:l=>n(i.id,"regions",l.target.value.split(", ")),className:"w-full px-3 py-2 border rounded-md",placeholder:"台北, 桃園, 台中"})]})]})},i.id))})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-sm rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 font-chinese",children:"包裝設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 font-chinese",children:"標準包裝箱"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"長 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.standardBox.length,onChange:i=>a("standardBox","length",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"寬 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.standardBox.width,onChange:i=>a("standardBox","width",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"高 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.standardBox.height,onChange:i=>a("standardBox","height",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"重量 (kg)"}),e.jsx("input",{type:"number",step:"0.1",value:s.packaging.standardBox.weight,onChange:i=>a("standardBox","weight",parseFloat(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 font-chinese",children:"大型包裝箱"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"長 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.largeBox.length,onChange:i=>a("largeBox","length",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"寬 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.largeBox.width,onChange:i=>a("largeBox","width",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"高 (cm)"}),e.jsx("input",{type:"number",value:s.packaging.largeBox.height,onChange:i=>a("largeBox","height",parseInt(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1 font-chinese",children:"重量 (kg)"}),e.jsx("input",{type:"number",step:"0.1",value:s.packaging.largeBox.weight,onChange:i=>a("largeBox","weight",parseFloat(i.target.value)),className:"w-full px-2 py-1 text-sm border rounded-md"})]})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.packaging.customPackaging,onChange:i=>a("customPackaging","",i.target.checked),className:"mr-2 rounded"}),e.jsx("label",{className:"text-sm font-chinese",children:"允許自訂包裝"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-6 py-2 bg-[#D4A574] text-white rounded-md hover:bg-[#B8956A] transition-colors font-chinese",children:"儲存設定"})})]})]})})},ZT=()=>(u.useEffect(()=>{De.fromTo(".settings-content",{opacity:0,y:20},{opacity:1,y:0,duration:.6,ease:"power2.out"})},[]),e.jsx("div",{className:"settings-content",children:e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(UT,{})}),e.jsx(W,{path:"general",element:e.jsx(WT,{})}),e.jsx(W,{path:"security",element:e.jsx(HT,{})}),e.jsx(W,{path:"notifications",element:e.jsx(GT,{})}),e.jsx(W,{path:"payments",element:e.jsx(qT,{})}),e.jsx(W,{path:"shipping",element:e.jsx(YT,{})})]})})),KT=[{id:1,sku:"TSHIRT-001-WH-M",name:"經典T恤/白色/M",category:"服飾",warehouse:"主倉庫",currentStock:25,safeStock:10,avgCost:180,totalValue:4500,barcode:"1234567890123",allowNegative:!1,lastUpdated:"2024-09-15",status:"normal"},{id:2,sku:"TSHIRT-001-BL-L",name:"經典T恤/黑色/L",category:"服飾",warehouse:"主倉庫",currentStock:3,safeStock:5,avgCost:180,totalValue:540,barcode:"1234567890124",allowNegative:!1,lastUpdated:"2024-09-14",status:"low"},{id:3,sku:"BOTTLE-001",name:"不鏽鋼水壺",category:"配件",warehouse:"主倉庫A",currentStock:50,safeStock:15,avgCost:120,totalValue:6e3,barcode:"1234567890125",allowNegative:!0,lastUpdated:"2024-09-16",status:"normal"},{id:4,sku:"GIFT-SET-001",name:"精美禮品套裝",category:"贈品",warehouse:"主倉庫",currentStock:-2,safeStock:5,avgCost:350,totalValue:-700,barcode:"1234567890126",allowNegative:!0,lastUpdated:"2024-09-15",status:"presale"}],XT=()=>{const[s,t]=u.useState("全部"),[r,n]=u.useState("全部"),a=u.useMemo(()=>KT.filter(c=>{const d=s==="全部"||c.warehouse===s,m=r==="全部"||c.category===r;return d&&m}),[s,r]),i=o=>o.status==="presale"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-purple-100 text-purple-700 rounded font-chinese",children:"預售中"}):o.status==="low"?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-red-100 text-red-700 rounded font-chinese",children:[e.jsx(Te,{className:"w-3 h-3 mr-1"}),"低庫存"]}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-green-100 text-green-700 rounded font-chinese",children:"正常"}),l=[{key:"sku",label:"SKU",sortable:!0,render:o=>e.jsx("span",{className:"font-mono text-sm",children:o})},{key:"name",label:"商品名稱",sortable:!0,render:o=>e.jsx("span",{className:"font-chinese",children:o})},{key:"warehouse",label:"倉庫",sortable:!0,render:o=>e.jsx("span",{className:"font-chinese",children:o})},{key:"currentStock",label:"庫存量",sortable:!0,render:(o,c)=>e.jsx("span",{className:`font-bold ${o<0?"text-purple-600":o<c.safeStock?"text-red-600":"text-green-600"}`,children:o})},{key:"safeStock",label:"安全庫存",sortable:!0},{key:"avgCost",label:"平均成本",sortable:!0,render:o=>`NT$ ${o}`},{key:"totalValue",label:"庫存價值",sortable:!0,render:o=>e.jsxs("span",{className:`font-bold ${o<0?"text-purple-600":"text-gray-900"}`,children:["NT$ ",o.toLocaleString()]})},{key:"barcode",label:"條碼",sortable:!1,render:o=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(X2,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-mono text-xs",children:o})]})},{key:"status",label:"狀態",sortable:!1,render:(o,c)=>i(c)},{key:"actions",label:"操作",sortable:!1,render:(o,c)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"編輯",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"調貨",children:e.jsx(Zt,{className:"w-4 h-4"})})]})}];return e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(J_,{className:"w-8 h-8 text-amber-500 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"庫存管理"})]}),e.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q2,{className:"w-5 h-5 text-gray-400"}),e.jsx(Kt,{options:[{value:"全部",label:"全部倉庫"},{value:"主倉庫",label:"主倉庫"},{value:"主倉庫A",label:"主倉庫A"}],value:s,onChange:t,placeholder:"選擇倉庫",className:"w-36"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsx(Kt,{options:[{value:"全部",label:"全部分類"},{value:"服飾",label:"服飾"},{value:"配件",label:"配件"},{value:"贈品",label:"贈品"}],value:r,onChange:n,placeholder:"選擇分類",className:"w-32"})]}),e.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["共",a.length," 項商品"]})]})}),e.jsx(mf,{data:a,columns:l,title:"庫存清單",emptyMessage:"沒有找到符合條件的庫存資料",exportFileName:"庫存清單"})]})})},QT=({isOpen:s,onClose:t,title:r,children:n,size:a="max-w-4xl",showCloseButton:i=!0,headerClass:l="bg-gradient-to-r from-[#cc824d]/80 to-[#b3723f]/80"})=>s?e.jsxs("div",{className:"fixed inset-0 z-[100000] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-md",onClick:t}),e.jsxs("div",{className:`relative ${a} w-full max-h-[90vh] overflow-hidden rounded-3xl bg-white/80 backdrop-blur-xl border border-white/30 shadow-2xl`,children:[r&&e.jsx("div",{className:`${l} backdrop-blur-sm text-white px-6 py-4 border-b border-white/20`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold font-chinese",children:r}),i&&e.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(ln,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"relative overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})]}):null,JT=[{id:1,memberNo:"M000001",name:"張雅婷",email:"zhang@example.com",phone:"0912345678",gender:"女",birthday:"1990-05-15",registerDate:"2023-01-15",lastLoginDate:"2024-09-15",level:"VIP",totalSpent:15800,points:1580,orders:12,status:"active",tags:["高價值客戶","忠實會員"]},{id:2,memberNo:"M000002",name:"李大明",email:"li@example.com",phone:"0923456789",gender:"男",birthday:"1985-08-22",registerDate:"2023-03-20",lastLoginDate:"2024-09-14",level:"金卡",totalSpent:8900,points:890,orders:7,status:"active",tags:["潛力客戶"]},{id:3,memberNo:"M000003",name:"王美華",email:"wang@example.com",phone:"0934567890",gender:"女",birthday:"1992-12-03",registerDate:"2023-06-10",lastLoginDate:"2024-08-30",level:"銀卡",totalSpent:3200,points:320,orders:3,status:"inactive",tags:["新會員"]},{id:4,memberNo:"M000004",name:"陳志偉",email:"chen@example.com",phone:"0945678901",gender:"男",birthday:"1988-04-18",registerDate:"2022-11-25",lastLoginDate:"2024-09-16",level:"VIP",totalSpent:25600,points:2560,orders:18,status:"active",tags:["高價值客戶","推薦達人"]}],e7=()=>{const[s,t]=u.useState("全部"),[r,n]=u.useState("全部"),[a,i]=u.useState(!1),[l,o]=u.useState(null),c=u.useMemo(()=>JT.filter(y=>{const x=s==="全部"||y.level===s,f=r==="全部"||y.status===r;return x&&f}),[s,r]),d=p=>{const y={VIP:{bg:"bg-purple-100",text:"text-purple-700",icon:"👑"},金卡:{bg:"bg-yellow-100",text:"text-yellow-700",icon:"🥇"},銀卡:{bg:"bg-gray-100",text:"text-gray-700",icon:"🥈"},一般:{bg:"bg-blue-100",text:"text-blue-700",icon:"✅"}},x=y[p]||y.一般;return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-bold rounded font-chinese ${x.bg} ${x.text}`,children:[x.icon," ",p]})},m=p=>p==="active"?e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-green-100 text-green-700 rounded font-chinese",children:"活動"}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-bold bg-red-100 text-red-700 rounded font-chinese",children:"休眠"}),h=[{key:"memberNo",label:"會員編號",sortable:!0,render:p=>e.jsx("span",{className:"font-mono text-sm",children:p})},{key:"name",label:"姓名",sortable:!0,render:p=>e.jsx("span",{className:"font-chinese font-medium",children:p})},{key:"contact",label:"聯絡資料",sortable:!1,render:(p,y)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:y.email}),e.jsx("div",{className:"text-gray-500",children:y.phone})]})},{key:"level",label:"會員等級",sortable:!0,render:p=>d(p)},{key:"totalSpent",label:"消費金額",sortable:!0,render:p=>e.jsxs("span",{className:"font-bold text-green-600",children:["NT$ ",p.toLocaleString()]})},{key:"points",label:"積分",sortable:!0,render:p=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{className:"w-4 h-4 text-amber-500 mr-1"}),p]})},{key:"orders",label:"訂單數",sortable:!0},{key:"status",label:"狀態",sortable:!1,render:p=>m(p)},{key:"tags",label:"標籤",sortable:!1,render:p=>e.jsx("div",{className:"flex flex-wrap gap-1",children:p.slice(0,2).map((y,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded font-chinese",children:[e.jsx(Ac,{className:"w-3 h-3 mr-1"}),y]},x))})},{key:"actions",label:"操作",sortable:!1,render:(p,y)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"查看詳情",onClick:()=>o(y),children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"編輯",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-purple-600 hover:bg-purple-100 rounded",title:"溝通紀錄",children:e.jsx(Bk,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-amber-600 hover:bg-amber-100 rounded",title:"積分管理",children:e.jsx(cf,{className:"w-4 h-4"})})]})}];return e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Em,{className:"w-8 h-8 text-amber-500 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"會員管理系統"})]}),e.jsxs("button",{className:"btn btn-primary flex items-center",onClick:()=>i(!0),children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),"新增會員"]})]}),e.jsx("div",{className:"glass rounded-2xl p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q2,{className:"w-5 h-5 text-gray-400"}),e.jsx(Kt,{options:[{value:"全部",label:"全部等級"},{value:"VIP",label:"VIP"},{value:"金卡",label:"金卡"},{value:"銀卡",label:"銀卡"},{value:"一般",label:"一般"}],value:s,onChange:t,placeholder:"選擇會員等級",className:"w-36"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsx(Kt,{options:[{value:"全部",label:"全部狀態"},{value:"active",label:"活動"},{value:"inactive",label:"休眠"}],value:r,onChange:n,placeholder:"選擇會員狀態",className:"w-28"})]}),e.jsxs("div",{className:"text-sm text-gray-500 font-chinese",children:["共 ",c.length," 位會員"]})]})}),e.jsx(mf,{data:c,columns:h,title:"會員清單",emptyMessage:"沒有找到符合條件的會員資料",exportFileName:"會員清單"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"glass rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:c.length}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"總會員數"})]}),e.jsxs("div",{className:"glass rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(p=>p.status==="active").length}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"活動會員"})]}),e.jsxs("div",{className:"glass rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.filter(p=>p.level==="VIP").length}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"VIP會員"})]}),e.jsxs("div",{className:"glass rounded-xl p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:["NT$ ",c.reduce((p,y)=>p+y.totalSpent,0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"總消費金額"})]}),e.jsxs("div",{className:"glass rounded-xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.reduce((p,y)=>p+y.points,0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"總積分"})]})]}),e.jsx(QT,{isOpen:!!l,onClose:()=>o(null),title:"會員詳情",size:"max-w-2xl",children:l&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"會員編號"}),e.jsx("div",{className:"text-gray-900",children:l.memberNo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"姓名"}),e.jsx("div",{className:"text-gray-900 font-chinese",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"Email"}),e.jsx("div",{className:"text-gray-900",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"電話"}),e.jsx("div",{className:"text-gray-900",children:l.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"性別"}),e.jsx("div",{className:"text-gray-900 font-chinese",children:l.gender})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"生日"}),e.jsx("div",{className:"text-gray-900",children:l.birthday})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"註冊日期"}),e.jsx("div",{className:"text-gray-900",children:l.registerDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 font-chinese mb-1",children:"最後登入"}),e.jsx("div",{className:"text-gray-900",children:l.lastLoginDate})]})]}),e.jsxs("div",{className:"border-t border-white/30 pt-6",children:[e.jsx("h3",{className:"text-lg font-bold font-chinese mb-4",children:"會員統計"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.level}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"會員等級"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["NT$ ",l.totalSpent.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"總消費"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:l.points}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"積分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.orders}),e.jsx("div",{className:"text-sm text-gray-500 font-chinese",children:"訂單數"})]})]})]}),e.jsxs("div",{className:"border-t border-white/30 pt-6",children:[e.jsx("h3",{className:"text-lg font-bold font-chinese mb-4",children:"會員標籤"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((p,y)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm bg-blue-100/80 text-blue-700 rounded-full font-chinese backdrop-blur-sm",children:[e.jsx(Ac,{className:"w-4 h-4 mr-1"}),p]},y))})]})]})})]})})},Ih={ACTIVE:"active",INACTIVE:"inactive",DRAFT:"draft"},t7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState("all"),[m,h]=u.useState(!1),[p,y]=u.useState(null),[x,f]=u.useState({totalTemplates:0,activeTemplates:0,draftTemplates:0,emailTemplates:0});u.useEffect(()=>{b(),v(),De.fromTo(".template-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const b=async()=>{n(!0);try{const k=[{id:"tpl-1",name:"歡迎新會員",type:"email",status:"active",subject:"歡迎加入 Marelle 會員！",content:"親愛的 {{user.name}}，歡迎您加入我們的會員大家庭...",channels:["email"],variables:["user.name","user.email"],lastModified:new Date("2024-01-15"),usageCount:245},{id:"tpl-2",name:"訂單確認通知",type:"email",status:"active",subject:"您的訂單 {{order.id}} 已確認",content:"感謝您的訂購！您的訂單詳情如下：訂單編號：{{order.id}}...",channels:["email","sms"],variables:["order.id","order.total","user.name"],lastModified:new Date("2024-01-14"),usageCount:1580},{id:"tpl-3",name:"發貨通知",type:"sms",status:"active",subject:"",content:"您的訂單 {{order.id}} 已發貨，追蹤號碼：{{shipping.tracking}}",channels:["sms","push"],variables:["order.id","shipping.tracking"],lastModified:new Date("2024-01-13"),usageCount:892},{id:"tpl-4",name:"生日祝福",type:"email",status:"draft",subject:"生日快樂！特別優惠送給您",content:"親愛的 {{user.name}}，生日快樂！為您準備了專屬優惠...",channels:["email"],variables:["user.name","user.birthday"],lastModified:new Date("2024-01-12"),usageCount:0}];await new Promise(T=>setTimeout(T,1e3)),t(k)}catch(k){console.error("Error loading templates:",k)}finally{n(!1)}},v=async()=>{try{f({totalTemplates:24,activeTemplates:18,draftTemplates:6,emailTemplates:15})}catch(k){console.error("Error loading statistics:",k)}},g=k=>{window.confirm("確定要刪除這個模板嗎？此操作無法復原。")&&t(T=>T.filter(C=>C.id!==k))},w=k=>{const C={[Ih.ACTIVE]:{label:"啟用中",className:"bg-green-100 text-green-800"},[Ih.INACTIVE]:{label:"已停用",className:"bg-red-100 text-red-800"},[Ih.DRAFT]:{label:"草稿",className:"bg-yellow-100 text-yellow-800"}}[k]||{label:k,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.className}`,children:C.label})},N=k=>{const C={email:Dc,sms:Mc,push:Lr}[k]||Ht;return e.jsx(C,{className:"w-5 h-5"})},j=k=>e.jsx("div",{className:"flex space-x-1",children:k.map((T,C)=>e.jsx("div",{className:"p-1 bg-gray-100 rounded",children:N(T)},C))}),_=s.filter(k=>{const T=k.name.toLowerCase().includes(a.toLowerCase())||k.subject.toLowerCase().includes(a.toLowerCase())||k.content.toLowerCase().includes(a.toLowerCase()),C=l==="all"||k.type===l,E=c==="all"||k.status===c;return T&&C&&E});return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入模板數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"模板管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理各種通知模板與內容"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"template-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalTemplates}),e.jsx("p",{className:"text-sm text-gray-600",children:"總模板數"})]})]})}),e.jsx("div",{className:"template-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.activeTemplates}),e.jsx("p",{className:"text-sm text-gray-600",children:"啟用模板"})]})]})}),e.jsx("div",{className:"template-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.draftTemplates}),e.jsx("p",{className:"text-sm text-gray-600",children:"草稿模板"})]})]})}),e.jsx("div",{className:"template-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Dc,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.emailTemplates}),e.jsx("p",{className:"text-sm text-gray-600",children:"郵件模板"})]})]})})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Fr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜尋模板名稱、主旨或內容...",value:a,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:l,onChange:k=>o(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有類型"}),e.jsx("option",{value:"email",children:"電子郵件"}),e.jsx("option",{value:"sms",children:"簡訊"}),e.jsx("option",{value:"push",children:"推播"})]})]}),e.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"啟用中"}),e.jsx("option",{value:"inactive",children:"已停用"}),e.jsx("option",{value:"draft",children:"草稿"})]})]}),e.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新建模板"]})]})}),e.jsx("div",{className:"space-y-4",children:_.map(k=>e.jsx("div",{className:`template-card ${J.glassCard}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#cc824d] to-[#b8743d] rounded-lg flex items-center justify-center text-white",children:N(k.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:k.subject||"無主旨"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[j(k.channels),w(k.status)]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"內容預覽"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:k.content})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.variables.map((T,C)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:`{{${T}}}`},C))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"使用統計"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"使用次數："}),e.jsx("span",{className:"font-medium",children:k.usageCount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"最後修改："}),e.jsx("span",{className:"font-medium",children:k.lastModified.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"模板類型："}),e.jsx("span",{className:"font-medium capitalize",children:k.type})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsxs("button",{onClick:()=>y(k),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx($e,{className:"w-4 h-4"}),"預覽"]}),e.jsx("button",{className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(k.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})]})]})},k.id))}),_.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的模板"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或創建新的模板"})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-chinese",children:"新建通知模板"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"模板名稱"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入模板名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"模板類型"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"email",children:"電子郵件"}),e.jsx("option",{value:"sms",children:"簡訊"}),e.jsx("option",{value:"push",children:"推播通知"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"主旨 (電子郵件)"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入郵件主旨"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"模板內容"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",rows:"6",placeholder:"輸入模板內容，可使用變量如 {{user.name}}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"發送渠道"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"}),e.jsx("span",{className:"ml-2 text-sm",children:"電子郵件"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"}),e.jsx("span",{className:"ml-2 text-sm",children:"簡訊"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"}),e.jsx("span",{className:"ml-2 text-sm",children:"推播通知"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"創建模板"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 font-chinese",children:"模板預覽"}),e.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"模板名稱"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:p.name})]}),p.subject&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"主旨"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:p.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"內容"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg whitespace-pre-wrap",children:p.content})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"使用的變量"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.variables.map((k,T)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:`{{${k}}}`},T))})]})]})]})})]})},s7=()=>{const[s,t]=u.useState([{id:"user",name:"用戶信息",description:"用戶相關的動態變量",variables:[{key:"user.name",name:"用戶姓名",description:"用戶的真實姓名",example:"張小明"},{key:"user.email",name:"電子郵件",description:"用戶的電子郵件地址",example:"user@example.com"},{key:"user.phone",name:"電話號碼",description:"用戶的手機號碼",example:"0912345678"},{key:"user.birthday",name:"生日",description:"用戶的生日日期",example:"1990-01-01"}]},{id:"order",name:"訂單信息",description:"訂單相關的動態變量",variables:[{key:"order.id",name:"訂單編號",description:"訂單的唯一識別碼",example:"ORD20240101001"},{key:"order.total",name:"訂單總額",description:"訂單的總金額",example:"1,580"},{key:"order.date",name:"下單日期",description:"訂單的創建日期",example:"2024-01-01"},{key:"order.status",name:"訂單狀態",description:"訂單當前的處理狀態",example:"已發貨"}]},{id:"product",name:"商品信息",description:"商品相關的動態變量",variables:[{key:"product.name",name:"商品名稱",description:"商品的名稱",example:"優雅連衣裙"},{key:"product.price",name:"商品價格",description:"商品的售價",example:"890"},{key:"product.category",name:"商品分類",description:"商品所屬的分類",example:"連衣裙"},{key:"product.brand",name:"商品品牌",description:"商品的品牌名稱",example:"Marelle"}]},{id:"system",name:"系統信息",description:"系統相關的動態變量",variables:[{key:"system.date",name:"當前日期",description:"系統當前日期",example:"2024-01-15"},{key:"system.time",name:"當前時間",description:"系統當前時間",example:"14:30:00"},{key:"system.website",name:"網站名稱",description:"網站的名稱",example:"Marelle"},{key:"system.url",name:"網站網址",description:"網站的主網址",example:"https://marelle.com"}]}]),[r,n]=u.useState("user"),[a,i]=u.useState(""),[l,o]=u.useState(!1),[c,d]=u.useState(null);u.useEffect(()=>{De.fromTo(".variable-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[r]);const m=s.find(x=>x.id===r),h=(m==null?void 0:m.variables.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())||x.key.toLowerCase().includes(a.toLowerCase())||x.description.toLowerCase().includes(a.toLowerCase())))||[],p=x=>{window.confirm("確定要刪除這個變量嗎？")&&t(f=>f.map(b=>b.id===r?{...b,variables:b.variables.filter(v=>v.key!==x)}:b))},y=x=>{navigator.clipboard.writeText(x)};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"變量管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理通知模板中的動態變量"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:J.glassCard,children:[e.jsx("div",{className:"p-4 border-b border-gray-200/60",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900 font-chinese",children:"變量分類"})}),e.jsx("div",{className:"p-4 space-y-2",children:s.map(x=>e.jsxs("button",{onClick:()=>n(x.id),className:`w-full text-left p-3 rounded-lg transition-colors ${r===x.id?"bg-[#cc824d] text-white":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:"font-medium font-chinese",children:x.name}),e.jsxs("div",{className:`text-sm mt-1 ${r===x.id?"text-white/80":"text-gray-500"}`,children:[x.variables.length," 個變量"]})]},x.id))})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:J.glassCard,children:[e.jsx("div",{className:"p-6 border-b border-gray-200/60",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 font-chinese",children:m==null?void 0:m.name}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:m==null?void 0:m.description})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"搜尋變量...",value:a,onChange:x=>i(x.target.value),className:"pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"}),e.jsx(Ht,{className:"w-4 h-4 absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新增變量"]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:h.map((x,f)=>e.jsx("div",{className:"variable-card bg-gray-50/80 rounded-lg p-4 border border-gray-200/60",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-[#cc824d]/10 rounded-lg",children:e.jsx(Ly,{className:"w-5 h-5 text-[#cc824d]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-chinese",children:x.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("code",{className:"text-sm bg-gray-800 text-green-400 px-2 py-1 rounded cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>y(`{{${x.key}}}`),title:"點擊複製",children:`{{${x.key}}}`}),e.jsx("span",{className:"text-xs text-gray-500",children:"點擊複製"})]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x.description}),e.jsx("div",{className:"flex items-center gap-4 text-sm",children:e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"範例："}),e.jsx("span",{className:"font-medium text-gray-900",children:x.example})]})})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>d(x),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"編輯變量",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(x.key),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"刪除變量",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})},x.key))}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ly,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的變量"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或新增新的變量"})]})]})]})})]}),(l||c)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-chinese",children:c?"編輯變量":"新增變量"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"變量鍵名"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"例如：user.name",defaultValue:(c==null?void 0:c.key)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"變量名稱"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"例如：用戶姓名",defaultValue:(c==null?void 0:c.name)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"描述"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",rows:"3",placeholder:"變量的詳細描述",defaultValue:(c==null?void 0:c.description)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"範例值"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"例如：張小明",defaultValue:(c==null?void 0:c.example)||""})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>{o(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:c?"更新":"新增"})]})]})})]})},Lh={ACTIVE:"active",INACTIVE:"inactive",PAUSED:"paused"},r7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,y]=u.useState({totalTriggers:0,activeTriggers:0,triggeredToday:0,successRate:0});u.useEffect(()=>{x(),f(),De.fromTo(".trigger-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const x=async()=>{n(!0);try{const j=[{id:"trigger-1",name:"新訂單確認",event:"order_created",description:"當用戶完成下單時觸發",conditions:[{field:"order.status",operator:"equals",value:"confirmed"},{field:"order.payment_status",operator:"equals",value:"paid"}],actions:[{type:"send_template",template_id:"tpl-2",delay:0},{type:"update_customer_status",status:"purchased",delay:300}],status:"active",triggeredCount:1580,successRate:98.5,lastTriggered:new Date("2024-01-15T10:30:00"),createdAt:new Date("2024-01-01")},{id:"trigger-2",name:"會員生日祝福",event:"member_birthday",description:"會員生日當天發送祝福",conditions:[{field:"member.status",operator:"equals",value:"active"},{field:"member.birthday",operator:"equals_today",value:null}],actions:[{type:"send_template",template_id:"tpl-4",delay:600}],status:"active",triggeredCount:45,successRate:96.8,lastTriggered:new Date("2024-01-14T09:00:00"),createdAt:new Date("2024-01-05")},{id:"trigger-3",name:"發貨通知",event:"order_shipped",description:"訂單發貨時通知客戶",conditions:[{field:"order.shipping_status",operator:"equals",value:"shipped"}],actions:[{type:"send_template",template_id:"tpl-3",delay:0}],status:"active",triggeredCount:892,successRate:99.2,lastTriggered:new Date("2024-01-15T14:45:00"),createdAt:new Date("2024-01-02")},{id:"trigger-4",name:"購物車遺棄提醒",event:"cart_abandoned",description:"購物車超過24小時未結帳",conditions:[{field:"cart.last_activity",operator:"older_than",value:"24h"},{field:"cart.items_count",operator:"greater_than",value:0}],actions:[{type:"send_template",template_id:"tpl-5",delay:0}],status:"paused",triggeredCount:234,successRate:15.6,lastTriggered:new Date("2024-01-10T16:20:00"),createdAt:new Date("2024-01-08")}];await new Promise(_=>setTimeout(_,1e3)),t(j)}catch(j){console.error("Error loading triggers:",j)}finally{n(!1)}},f=async()=>{try{y({totalTriggers:8,activeTriggers:6,triggeredToday:156,successRate:94.2})}catch(j){console.error("Error loading statistics:",j)}},b=j=>{t(_=>_.map(k=>k.id===j?{...k,status:k.status==="active"?"paused":"active"}:k))},v=j=>{window.confirm("確定要刪除這個觸發器嗎？此操作無法復原。")&&t(_=>_.filter(k=>k.id!==j))},g=j=>{const k={[Lh.ACTIVE]:{label:"啟用中",className:"bg-green-100 text-green-800",icon:he},[Lh.INACTIVE]:{label:"已停用",className:"bg-red-100 text-red-800",icon:_t},[Lh.PAUSED]:{label:"已暫停",className:"bg-yellow-100 text-yellow-800",icon:Ra}}[j]||{label:j,className:"bg-gray-100 text-gray-800",icon:je},T=k.icon;return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.className}`,children:k.label})]})},w=j=>{const k={order_created:{label:"訂單建立",className:"bg-blue-100 text-blue-800"},order_shipped:{label:"訂單發貨",className:"bg-purple-100 text-purple-800"},member_birthday:{label:"會員生日",className:"bg-pink-100 text-pink-800"},cart_abandoned:{label:"購物車遺棄",className:"bg-orange-100 text-orange-800"}}[j]||{label:j,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.className}`,children:k.label})},N=s.filter(j=>{const _=j.name.toLowerCase().includes(a.toLowerCase())||j.description.toLowerCase().includes(a.toLowerCase()),k=l==="all"||j.status===l;return _&&k});return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入觸發器數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"觸發器管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理自動化通知觸發條件與規則"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"trigger-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(ll,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalTriggers}),e.jsx("p",{className:"text-sm text-gray-600",children:"總觸發器"})]})]})}),e.jsx("div",{className:"trigger-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.activeTriggers}),e.jsx("p",{className:"text-sm text-gray-600",children:"啟用中"})]})]})}),e.jsx("div",{className:"trigger-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.triggeredToday}),e.jsx("p",{className:"text-sm text-gray-600",children:"今日觸發"})]})]})}),e.jsx("div",{className:"trigger-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ll,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[p.successRate,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"成功率"})]})]})})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsx("div",{className:"relative flex-1 max-w-md",children:e.jsx("input",{type:"text",placeholder:"搜尋觸發器名稱或描述...",value:a,onChange:j=>i(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})}),e.jsxs("select",{value:l,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"啟用中"}),e.jsx("option",{value:"paused",children:"已暫停"}),e.jsx("option",{value:"inactive",children:"已停用"})]})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新建觸發器"]})]})}),e.jsx("div",{className:"space-y-4",children:N.map(j=>e.jsx("div",{className:`trigger-card ${J.glassCard}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#cc824d] to-[#b8743d] rounded-lg flex items-center justify-center",children:e.jsx(ll,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:j.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:j.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[w(j.event),g(j.status)]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>b(j.id),className:`p-2 rounded-lg transition-colors ${j.status==="active"?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,title:j.status==="active"?"暫停觸發器":"啟用觸發器",children:j.status==="active"?e.jsx(Ra,{className:"w-4 h-4"}):e.jsx(rn,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"觸發條件"}),e.jsx("div",{className:"space-y-2",children:j.conditions.map((_,k)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:_.field}),e.jsxs("div",{className:"text-gray-600 mt-1",children:[_.operator," ",_.value||"今天"]})]},k))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"執行動作"}),e.jsx("div",{className:"space-y-2",children:j.actions.map((_,k)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:_.type==="send_template"?"發送模板":"更新狀態"}),e.jsxs("div",{className:"text-gray-600 mt-1",children:[_.delay>0&&`延遲 ${_.delay}秒`,_.template_id&&` (${_.template_id})`]})]},k))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"執行統計"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"觸發次數："}),e.jsx("span",{className:"font-medium",children:j.triggeredCount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"成功率："}),e.jsxs("span",{className:"font-medium text-green-600",children:[j.successRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"最後觸發："}),e.jsx("span",{className:"font-medium",children:j.lastTriggered.toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsx("button",{onClick:()=>h(j),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"詳情"}),e.jsx("button",{className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(j.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})]})]})},j.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ll,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的觸發器"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或創建新的觸發器"})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-chinese",children:"新建觸發器"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"觸發器名稱"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入觸發器名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"觸發事件"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"order_created",children:"訂單建立"}),e.jsx("option",{value:"order_shipped",children:"訂單發貨"}),e.jsx("option",{value:"member_birthday",children:"會員生日"}),e.jsx("option",{value:"cart_abandoned",children:"購物車遺棄"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"描述"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",rows:"3",placeholder:"描述這個觸發器的用途"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"創建觸發器"})]})]})})]})},n7=()=>{const[s,t]=u.useState([{id:"email",name:"電子郵件",type:"email",icon:Dc,description:"透過電子郵件發送通知",status:"active",provider:"SMTP",settings:{smtp_host:"smtp.gmail.com",smtp_port:587,use_tls:!0,daily_limit:5e3}},{id:"sms",name:"簡訊通知",type:"sms",icon:Mc,description:"透過簡訊發送重要通知",status:"active",provider:"台灣大哥大",settings:{api_endpoint:"https://sms.api.com",daily_limit:1e3,cost_per_sms:3.5}},{id:"push",name:"推播通知",type:"push",icon:Lr,description:"向手機應用程式推送通知",status:"inactive",provider:"Firebase",settings:{server_key:"",daily_limit:1e4}},{id:"line",name:"LINE 通知",type:"messaging",icon:Lr,description:"透過 LINE 官方帳號發送通知",status:"inactive",provider:"LINE Messaging API",settings:{channel_secret:"",access_token:"",daily_limit:2e3}}]),[r,n]=u.useState(null),[a,i]=u.useState(!1);u.useEffect(()=>{De.fromTo(".channel-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const l=d=>{t(m=>m.map(h=>h.id===d?{...h,status:h.status==="active"?"inactive":"active"}:h))},o=d=>d==="active"?e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"啟用中"})]}):e.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[e.jsx(_t,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"已停用"})]}),c=d=>{n(d),i(!0)};return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"通知渠道設定"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"配置各種通知發送渠道的設定"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(d=>d.status==="active").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"啟用渠道"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Dc,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"5,000"}),e.jsx("p",{className:"text-sm text-gray-600",children:"每日郵件限額"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Mc,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,000"}),e.jsx("p",{className:"text-sm text-gray-600",children:"每日簡訊限額"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Lr,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12,000"}),e.jsx("p",{className:"text-sm text-gray-600",children:"今日發送總數"})]})]})})]}),e.jsxs("div",{className:J.glassCard,children:[e.jsx("div",{className:"p-6 border-b border-gray-200/60",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 font-chinese",children:"通知渠道"}),e.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新增渠道"]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(d=>{var h;const m=d.icon;return e.jsxs("div",{className:"channel-card bg-gray-50/80 rounded-lg p-6 border border-gray-200/60",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-lg ${d.status==="active"?"bg-[#cc824d]/10 text-[#cc824d]":"bg-gray-100 text-gray-400"}`,children:e.jsx(m,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:d.name}),e.jsx("p",{className:"text-sm text-gray-500",children:d.provider})]})]}),o(d.status)]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:d.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"每日限額："}),e.jsx("span",{className:"font-medium",children:(h=d.settings.daily_limit)==null?void 0:h.toLocaleString()})]}),d.settings.cost_per_sms&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"每則費用："}),e.jsx("span",{className:"font-medium",children:d.settings.cost_per_sms})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"今日已發送："}),e.jsx("span",{className:"font-medium",children:Math.floor(Math.random()*1e3).toLocaleString()})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>l(d.id),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:d.status==="active"?"停用":"啟用"}),e.jsxs("button",{onClick:()=>c(d),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-1",children:[e.jsx(Dm,{className:"w-4 h-4"}),"設定"]})]})]},d.id)})})})]}),a&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(r.icon,{className:"w-6 h-6 text-[#cc824d]"}),e.jsxs("h3",{className:"text-lg font-bold text-gray-900 font-chinese",children:[r.name," 設定"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"渠道狀態"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.status,children:[e.jsx("option",{value:"active",children:"啟用"}),e.jsx("option",{value:"inactive",children:"停用"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"服務提供商"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.provider})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"每日發送限額"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.daily_limit})]}),r.type==="email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP 主機"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.smtp_host})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP 埠號"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.smtp_port})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"use_tls",defaultChecked:r.settings.use_tls,className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"}),e.jsx("label",{htmlFor:"use_tls",className:"ml-2 text-sm text-gray-700",children:"使用 TLS 加密"})]})]}),r.type==="sms"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API 端點"}),e.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.api_endpoint})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"每則簡訊費用 ()"}),e.jsx("input",{type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.cost_per_sms})]})]}),r.type==="messaging"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel Secret"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.channel_secret})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token"}),e.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:r.settings.access_token})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>{i(!1),n(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"儲存設定"})]})]})})]})},a7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState({status:"all",type:"all",dateRange:"7days",searchQuery:""}),[l,o]=u.useState([]),c=[{id:"notif-1",type:"order",status:"delivered",priority:"normal",recipientType:"customer",recipientId:"user-123",recipientName:"王小明",recipientEmail:"wang@example.com",recipientPhone:"0912345678",createdAt:"2024-01-15T10:30:00Z",scheduledAt:"2024-01-15T10:30:00Z",sentAt:"2024-01-15T10:31:23Z",deliveredAt:"2024-01-15T10:31:45Z",openedAt:"2024-01-15T11:15:22Z",subject:"訂單確認通知",content:"您的訂單 #ORD-2024-001 已確認並開始處理",orderNumber:"ORD-2024-001",channel:"email",errorMessage:null},{id:"notif-2",type:"promotion",status:"delivered",priority:"high",recipientType:"customer",recipientId:"user-456",recipientName:"李美華",recipientEmail:"li@example.com",recipientPhone:"0987654321",createdAt:"2024-01-15T09:00:00Z",scheduledAt:"2024-01-15T09:00:00Z",sentAt:"2024-01-15T09:01:15Z",deliveredAt:"2024-01-15T09:01:28Z",openedAt:null,subject:"生日快樂！專屬優惠等您領取",content:"慶祝您的生日，我們為您準備了專屬優惠券",channel:"sms",errorMessage:null},{id:"notif-3",type:"system",status:"failed",priority:"urgent",recipientType:"admin",recipientId:"admin-001",recipientName:"系統管理員",recipientEmail:"admin@marelle.com",recipientPhone:null,createdAt:"2024-01-15T08:45:00Z",scheduledAt:"2024-01-15T08:45:00Z",sentAt:"2024-01-15T08:46:00Z",deliveredAt:null,openedAt:null,subject:"庫存警告：商品庫存不足",content:"商品「經典手提包」庫存已降至警戒線以下",channel:"email",errorMessage:"SMTP服務器連接失敗"},{id:"notif-4",type:"shipping",status:"delivered",priority:"normal",recipientType:"customer",recipientId:"user-789",recipientName:"陳志強",recipientEmail:"chen@example.com",recipientPhone:"0911111111",createdAt:"2024-01-14T16:20:00Z",scheduledAt:"2024-01-14T16:20:00Z",sentAt:"2024-01-14T16:21:10Z",deliveredAt:"2024-01-14T16:21:25Z",openedAt:"2024-01-14T18:45:30Z",subject:"商品已出貨",content:"您的訂單 #ORD-2024-002 已出貨，預計明日送達",orderNumber:"ORD-2024-002",trackingNumber:"TW1234567890",channel:"app",errorMessage:null},{id:"notif-5",type:"payment",status:"pending",priority:"high",recipientType:"customer",recipientId:"user-101",recipientName:"張雅婷",recipientEmail:"zhang@example.com",recipientPhone:"0922222222",createdAt:"2024-01-15T14:30:00Z",scheduledAt:"2024-01-15T14:35:00Z",sentAt:null,deliveredAt:null,openedAt:null,subject:"付款提醒",content:"您的訂單 #ORD-2024-003 尚未完成付款",orderNumber:"ORD-2024-003",channel:"email",errorMessage:null}];u.useEffect(()=>{d(),De.fromTo(".notification-item",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[a]);const d=async()=>{n(!0);try{await new Promise(T=>setTimeout(T,800));let j=[...c];if(a.status!=="all"&&(j=j.filter(T=>T.status===a.status)),a.type!=="all"&&(j=j.filter(T=>T.type===a.type)),a.searchQuery){const T=a.searchQuery.toLowerCase();j=j.filter(C=>C.subject.toLowerCase().includes(T)||C.recipientName.toLowerCase().includes(T)||C.recipientEmail.toLowerCase().includes(T))}const _=new Date,k={"1day":1,"7days":7,"30days":30,"90days":90};if(a.dateRange!=="all"&&k[a.dateRange]){const T=new Date(_.getTime()-k[a.dateRange]*24*60*60*1e3);j=j.filter(C=>new Date(C.createdAt)>=T)}t(j)}catch(j){console.error("Error loading notifications:",j)}finally{n(!1)}},m=j=>{switch(j){case"delivered":return e.jsx(he,{className:"w-5 h-5 text-green-500"});case"failed":return e.jsx(_t,{className:"w-5 h-5 text-red-500"});case"pending":return e.jsx(je,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(K2,{className:"w-5 h-5 text-gray-400"})}},h=j=>{switch(j){case"delivered":return"已送達";case"failed":return"發送失敗";case"pending":return"待發送";case"sent":return"已發送";default:return"未知"}},p=j=>{switch(j){case"delivered":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"sent":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},y=j=>{switch(j){case"order":return"";case"payment":return"";case"shipping":return"";case"promotion":return"";case"system":return"";default:return""}},x=j=>{switch(j){case"order":return"訂單通知";case"payment":return"付款通知";case"shipping":return"物流通知";case"promotion":return"促銷通知";case"system":return"系統通知";default:return"一般通知"}},f=j=>{switch(j){case"urgent":return"border-l-4 border-red-500";case"high":return"border-l-4 border-orange-500";case"normal":return"border-l-4 border-blue-500";case"low":return"border-l-4 border-gray-500";default:return"border-l-4 border-gray-300"}},b=j=>j?new Date(j).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-",v=j=>{o(_=>_.includes(j)?_.filter(k=>k!==j):[..._,j])},g=()=>{l.length===s.length?o([]):o(s.map(j=>j.id))},w=()=>{l.length!==0&&confirm(`確定要刪除選中的 ${l.length} 個通知嗎？`)&&(t(j=>j.filter(_=>!l.includes(_.id))),o([]))},N=j=>{t(_=>_.map(k=>k.id===j?{...k,status:"pending",errorMessage:null}:k))};return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入通知歷史中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"通知歷史"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"查看所有已發送的通知記錄"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Lr,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"總通知數"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(j=>j.status==="delivered").length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"成功送達"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(_t,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(j=>j.status==="failed").length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"發送失敗"})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx($e,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(j=>j.openedAt).length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"已開啟閱讀"})]})]})})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"搜尋收件人、主題...",value:a.searchQuery,onChange:j=>i(_=>({..._,searchQuery:j.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})}),e.jsx("div",{children:e.jsxs("select",{value:a.status,onChange:j=>i(_=>({..._,status:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"delivered",children:"已送達"}),e.jsx("option",{value:"failed",children:"發送失敗"}),e.jsx("option",{value:"pending",children:"待發送"}),e.jsx("option",{value:"sent",children:"已發送"})]})}),e.jsx("div",{children:e.jsxs("select",{value:a.type,onChange:j=>i(_=>({..._,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有類型"}),e.jsx("option",{value:"order",children:"訂單通知"}),e.jsx("option",{value:"payment",children:"付款通知"}),e.jsx("option",{value:"shipping",children:"物流通知"}),e.jsx("option",{value:"promotion",children:"促銷通知"}),e.jsx("option",{value:"system",children:"系統通知"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx("div",{children:e.jsxs("select",{value:a.dateRange,onChange:j=>i(_=>({..._,dateRange:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有時間"}),e.jsx("option",{value:"1day",children:"最近1天"}),e.jsx("option",{value:"7days",children:"最近7天"}),e.jsx("option",{value:"30days",children:"最近30天"}),e.jsx("option",{value:"90days",children:"最近90天"})]})}),e.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-2",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:l.length===s.length?"取消全選":"全選"}),l.length>0&&e.jsxs("button",{onClick:w,className:"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-1",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsxs("span",{children:["刪除 (",l.length,")"]})]})]})]})]}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 overflow-hidden",children:s.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Lr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到通知記錄"}),e.jsx("p",{className:"text-gray-500",children:"請調整篩選條件或檢查是否有通知被發送"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:s.map((j,_)=>e.jsx("div",{className:`notification-item p-6 hover:bg-gray-50/50 transition-colors ${f(j.priority)}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("input",{type:"checkbox",checked:l.includes(j.id),onChange:()=>v(j.id),className:"mt-1 rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]"}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-lg",children:y(j.type)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:j.subject}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(j.status)}`,children:h(j.status)}),e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-full",children:x(j.type)})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:j.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["收件人：",j.recipientName]}),e.jsxs("span",{children:["渠道：",j.channel]}),e.jsxs("span",{children:["建立時間：",b(j.createdAt)]})]}),j.errorMessage&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:["錯誤：",j.errorMessage]})]}),e.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[m(j.status),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})}),j.status==="failed"&&e.jsx("button",{onClick:()=>N(j.id),className:"p-1 text-blue-400 hover:text-blue-600 transition-colors",title:"重新發送",children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center space-x-6 text-xs text-gray-400",children:[j.scheduledAt&&e.jsxs("span",{children:["排程：",b(j.scheduledAt)]}),j.sentAt&&e.jsxs("span",{children:["發送：",b(j.sentAt)]}),j.deliveredAt&&e.jsxs("span",{children:["送達：",b(j.deliveredAt)]}),j.openedAt&&e.jsxs("span",{children:["開啟：",b(j.openedAt)]})]})]})]})},j.id))})}),s.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"上一頁"}),e.jsx("span",{className:"px-3 py-2 bg-[#cc824d] text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"下一頁"})]})})]})},i7=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"分析概覽"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"分析概覽開發中..."})})]})})},l7=()=>{const s=$r(),t=wr(),r=[{id:"templates",name:"範本管�?",icon:Ht,path:"/admin/notifications"},{id:"variables",name:"變數管�?",icon:Dm,path:"/admin/notifications/variables"},{id:"triggers",name:"觸發器",icon:rn,path:"/admin/notifications/triggers"},{id:"channels",name:"渠道設置",icon:N8,path:"/admin/notifications/channels"},{id:"history",name:"通知歷史",icon:je,path:"/admin/notifications/history"},{id:"analytics",name:"分析分析",icon:ke,path:"/admin/notifications/analytics"}],n=a=>a==="/admin/notifications"?t.pathname==="/admin/notifications":t.pathname.startsWith(a);return e.jsx("div",{className:J.pageContainer,children:e.jsxs("div",{className:J.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:J.pageTitle,children:"通知管理"}),e.jsx("p",{className:J.pageSubtitle,children:"管理系統通知範本、觸發器和通知渠道"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:r.map(a=>{const i=a.icon,l=n(a.path);return e.jsxs("button",{onClick:()=>s(a.path),className:`group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${l?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(i,{className:`mr-2 h-5 w-5 ${l?"text-[#cc824d]":"text-gray-400 group-hover:text-gray-500"}`}),a.name]},a.id)})})})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-sm border border-gray-200/50 min-h-[600px]",children:e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(t7,{})}),e.jsx(W,{path:"variables",element:e.jsx(s7,{})}),e.jsx(W,{path:"triggers",element:e.jsx(r7,{})}),e.jsx(W,{path:"channels",element:e.jsx(n7,{})}),e.jsx(W,{path:"history",element:e.jsx(a7,{})}),e.jsx(W,{path:"analytics",element:e.jsx(i7,{})})]})})]})})},o7=()=>e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Em,{className:"w-8 h-8 text-amber-500 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"管理員系統"})]})}),e.jsxs("div",{className:"glass rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold font-chinese mb-4",children:"系統管理"}),e.jsx("p",{className:"text-gray-600 font-chinese",children:"管理員功能開發中..."})]})]})}),Hy={ACTIVE:"active",OUT_OF_STOCK:"out_of_stock",INACTIVE:"inactive"},c7=()=>{var N;const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,y]=u.useState({totalGifts:0,activeGifts:0,outOfStock:0,totalValue:0});u.useEffect(()=>{x(),f(),De.fromTo(".gift-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const x=async()=>{n(!0);try{const j=await giftDataManager.getGifts();j.success&&t(j.data)}catch(j){console.error("Error loading gifts:",j)}finally{n(!1)}},f=async()=>{try{const j=await giftDataManager.getGiftStatistics();j.success&&y(j.data)}catch(j){console.error("Error loading statistics:",j)}},b=j=>{if(window.confirm("確定要刪除這個禮品嗎？此操作無法復原。")){const _=giftDataManager.deleteGift(j);_.success?(x(),f()):alert("刪除失敗："+_.error)}},v=j=>{const k={active:{label:"啟用中",className:"bg-green-100 text-green-800"},out_of_stock:{label:"缺貨",className:"bg-red-100 text-red-800"},inactive:{label:"停用",className:"bg-gray-100 text-gray-800"}}[j]||{label:j,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.className}`,children:k.label})},g=j=>{switch(j){case Hy.ACTIVE:return e.jsx(he,{className:"w-5 h-5 text-green-600"});case Hy.OUT_OF_STOCK:return e.jsx(_t,{className:"w-5 h-5 text-red-600"});default:return e.jsx(je,{className:"w-5 h-5 text-gray-600"})}},w=s.filter(j=>{const _=j.name.toLowerCase().includes(a.toLowerCase())||j.description.toLowerCase().includes(a.toLowerCase()),k=l==="all"||j.status===l;return _&&k});return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入禮品數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"禮品管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理會員禮品與兌換系統"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"gift-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalGifts}),e.jsx("p",{className:"text-sm text-gray-600",children:"總禮品數"})]})]})}),e.jsx("div",{className:"gift-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.activeGifts}),e.jsx("p",{className:"text-sm text-gray-600",children:"啟用中"})]})]})}),e.jsx("div",{className:"gift-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(_t,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.outOfStock}),e.jsx("p",{className:"text-sm text-gray-600",children:"缺貨商品"})]})]})}),e.jsx("div",{className:"gift-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Ot,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(N=p.totalValue)==null?void 0:N.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600",children:"總價值"})]})]})})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Fr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜尋禮品名稱或描述...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("select",{value:l,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"啟用中"}),e.jsx("option",{value:"out_of_stock",children:"缺貨"}),e.jsx("option",{value:"inactive",children:"停用"})]})]}),e.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新增禮品"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(j=>e.jsx("div",{className:`gift-card ${J.glassCard}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#cc824d] to-[#b8743d] rounded-lg flex items-center justify-center",children:e.jsx(Ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:j.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["需要 ",j.pointsRequired," 積分"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[g(j.status),v(j.status)]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:j.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"庫存數量："}),e.jsx("span",{className:"font-medium",children:j.stock})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"已兌換："}),e.jsx("span",{className:"font-medium",children:j.redeemedCount||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"價值："}),e.jsx("span",{className:"font-medium text-[#cc824d]",children:j.value})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>h(j),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),"編輯"]}),e.jsx("button",{onClick:()=>b(j.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})},j.id))}),w.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的禮品"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或新增新的禮品"})]}),(c||m)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-chinese",children:m?"編輯禮品":"新增禮品"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"禮品名稱"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入禮品名稱",defaultValue:(m==null?void 0:m.name)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"描述"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",rows:"3",placeholder:"輸入禮品描述",defaultValue:(m==null?void 0:m.description)||""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"所需積分"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"0",defaultValue:(m==null?void 0:m.pointsRequired)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"庫存數量"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"0",defaultValue:(m==null?void 0:m.stock)||""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"禮品價值"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"0",defaultValue:(m==null?void 0:m.value)||""})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>{d(!1),h(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:m?"更新":"新增"})]})]})})]})},d7=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"禮品等級規則"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"禮品等級規則開發中..."})})]})})},u7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState(!0),[l,o]=u.useState(null),[c,d]=u.useState(!1);u.useEffect(()=>{m(),h(),De.fromTo(".tier-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const m=async()=>{i(!0);try{const f=[{id:"tier-1",name:"一般會員",level:1,requirements:{minPurchaseAmount:0,minPurchaseCount:0,membershipDays:0},benefits:{pointsMultiplier:1,birthdayGift:!0,freeShipping:!1,exclusiveEvents:!1,personalShopper:!1},giftAllocation:{quarterlyGifts:0,birthdayGiftValue:50,welcomeGift:!0,anniversaryGift:!1},memberCount:2486,status:"active"},{id:"tier-2",name:"銀級會員",level:2,requirements:{minPurchaseAmount:5e3,minPurchaseCount:3,membershipDays:30},benefits:{pointsMultiplier:1.2,birthdayGift:!0,freeShipping:!0,exclusiveEvents:!1,personalShopper:!1},giftAllocation:{quarterlyGifts:1,birthdayGiftValue:100,welcomeGift:!0,anniversaryGift:!0},memberCount:1245,status:"active"},{id:"tier-3",name:"金級會員",level:3,requirements:{minPurchaseAmount:15e3,minPurchaseCount:8,membershipDays:90},benefits:{pointsMultiplier:1.5,birthdayGift:!0,freeShipping:!0,exclusiveEvents:!0,personalShopper:!1},giftAllocation:{quarterlyGifts:2,birthdayGiftValue:200,welcomeGift:!0,anniversaryGift:!0},memberCount:567,status:"active"},{id:"tier-4",name:"白金會員",level:4,requirements:{minPurchaseAmount:5e4,minPurchaseCount:20,membershipDays:365},benefits:{pointsMultiplier:2,birthdayGift:!0,freeShipping:!0,exclusiveEvents:!0,personalShopper:!0},giftAllocation:{quarterlyGifts:4,birthdayGiftValue:500,welcomeGift:!0,anniversaryGift:!0},memberCount:123,status:"active"}];await new Promise(b=>setTimeout(b,1e3)),t(f)}catch(f){console.error("Error loading member tiers:",f)}finally{i(!1)}},h=async()=>{try{n([{id:"policy-1",name:"生日禮品政策",description:"會員生日當月可領取的禮品",applicableTiers:["tier-1","tier-2","tier-3","tier-4"],active:!0},{id:"policy-2",name:"季度禮品政策",description:"高級會員季度自動發送的禮品",applicableTiers:["tier-2","tier-3","tier-4"],active:!0}])}catch(f){console.error("Error loading gift policies:",f)}},p=f=>({1:"from-gray-400 to-gray-600",2:"from-gray-300 to-gray-500",3:"from-yellow-400 to-yellow-600",4:"from-purple-400 to-purple-600"})[f]||"from-gray-400 to-gray-600",y=f=>{const v={1:$t,2:$t,3:Q2,4:Ot}[f]||$t;return e.jsx(v,{className:"w-8 h-8 text-white"})},x=f=>{o(f),d(!0)};return a?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入會員福利數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"會員禮品福利"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理不同會員等級的禮品分配與福利政策"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:s.map(f=>e.jsxs("div",{className:"tier-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${p(f.level)} rounded-lg flex items-center justify-center`,children:y(f.level)}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.status==="active"?"啟用中":"停用"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:f.name}),e.jsx("p",{className:"text-2xl font-bold text-[#cc824d] mt-1",children:f.memberCount}),e.jsx("p",{className:"text-sm text-gray-500",children:"位會員"})]},f.id))}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"會員等級與福利"}),e.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新增等級"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(f=>e.jsxs("div",{className:"tier-card bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:`p-6 bg-gradient-to-r ${p(f.level)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center",children:y(f.level)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white font-chinese",children:f.name}),e.jsxs("p",{className:"text-white/80",children:["等級 ",f.level]})]})]}),e.jsx("button",{onClick:()=>x(f),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(Ge,{className:"w-5 h-5 text-white"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 font-chinese",children:"升級條件"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"最低消費金額："}),e.jsx("span",{className:"font-medium",children:f.requirements.minPurchaseAmount.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"購買次數："}),e.jsxs("span",{className:"font-medium",children:[f.requirements.minPurchaseCount," 次"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"會員天數："}),e.jsxs("span",{className:"font-medium",children:[f.requirements.membershipDays," 天"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 font-chinese",children:"會員福利"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"積分倍數："}),e.jsxs("span",{className:"text-sm font-medium",children:[f.benefits.pointsMultiplier,"x"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"生日禮品："}),f.benefits.birthdayGift?e.jsx(he,{className:"w-4 h-4 text-green-500"}):e.jsx(_t,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"免運費："}),f.benefits.freeShipping?e.jsx(he,{className:"w-4 h-4 text-green-500"}):e.jsx(_t,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"專屬活動："}),f.benefits.exclusiveEvents?e.jsx(he,{className:"w-4 h-4 text-green-500"}):e.jsx(_t,{className:"w-4 h-4 text-red-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 font-chinese",children:"禮品分配"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"季度禮品："}),e.jsxs("span",{className:"font-medium",children:[f.giftAllocation.quarterlyGifts," 個/季"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"生日禮品價值："}),e.jsx("span",{className:"font-medium",children:f.giftAllocation.birthdayGiftValue})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"入會禮品："}),f.giftAllocation.welcomeGift?e.jsx(he,{className:"w-4 h-4 text-green-500"}):e.jsx(_t,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"週年禮品："}),f.giftAllocation.anniversaryGift?e.jsx(he,{className:"w-4 h-4 text-green-500"}):e.jsx(_t,{className:"w-4 h-4 text-red-500"})]})]})]})]})]},f.id))})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-chinese",children:"禮品政策"}),e.jsx("div",{className:J.glassCard,children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:r.map(f=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-chinese",children:f.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"適用等級："}),f.applicableTiers.map(b=>{const v=s.find(g=>g.id===b);return v?e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:v.name},b):null})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.active?"啟用中":"停用"}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:e.jsx(Ge,{className:"w-4 h-4"})})]})]})},f.id))})})})]}),c&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-chinese",children:["編輯 ",l.name]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"等級名稱"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"等級"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.level})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"升級條件"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最低消費金額"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.requirements.minPurchaseAmount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"購買次數"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.requirements.minPurchaseCount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"會員天數"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.requirements.membershipDays})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"禮品分配"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"季度禮品數量"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.giftAllocation.quarterlyGifts})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"生日禮品價值"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",defaultValue:l.giftAllocation.birthdayGiftValue})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]",defaultChecked:l.giftAllocation.welcomeGift}),e.jsx("span",{className:"ml-2 text-sm",children:"入會禮品"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#cc824d] focus:ring-[#cc824d]",defaultChecked:l.giftAllocation.anniversaryGift}),e.jsx("span",{className:"ml-2 text-sm",children:"週年禮品"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>{d(!1),o(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"儲存變更"})]})]})})]})},Ed={PENDING:"pending",SHIPPED:"shipped",DELIVERED:"delivered",CANCELLED:"cancelled"},m7={AUTOMATIC:"automatic",MANUAL:"manual"},h7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all");u.useState("all");const[c,d]=u.useState({totalAllocations:0,totalCost:0,pendingAllocations:0,shippedAllocations:0});u.useEffect(()=>{m(),h(),De.fromTo(".allocation-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const m=async()=>{n(!0);try{const b=[{id:"alloc-1",memberId:"member-1",memberName:"張小明",memberTier:"gold",orderId:"order-1001",allocatedDate:new Date("2024-01-15"),gifts:[{giftId:"gift-1",name:"精美茶具組",quantity:1,unitCost:150,selectionType:"automatic"},{giftId:"gift-2",name:"限量手錶",quantity:1,unitCost:200,selectionType:"manual"}],totalCost:350,status:"shipped",shippedDate:new Date("2024-01-16"),trackingNumber:"TW123456789"},{id:"alloc-2",memberId:"member-2",memberName:"李小華",memberTier:"silver",orderId:"order-1002",allocatedDate:new Date("2024-01-16"),gifts:[{giftId:"gift-3",name:"香氛蠟燭",quantity:2,unitCost:80,selectionType:"automatic"}],totalCost:160,status:"pending",shippedDate:null,trackingNumber:null},{id:"alloc-3",memberId:"member-3",memberName:"王小美",memberTier:"platinum",orderId:"order-1003",allocatedDate:new Date("2024-01-17"),gifts:[{giftId:"gift-4",name:"高級護膚組",quantity:1,unitCost:300,selectionType:"manual"},{giftId:"gift-5",name:"絲質圍巾",quantity:1,unitCost:120,selectionType:"automatic"}],totalCost:420,status:"delivered",shippedDate:new Date("2024-01-18"),deliveredDate:new Date("2024-01-20"),trackingNumber:"TW987654321"}];await new Promise(v=>setTimeout(v,1e3)),t(b)}catch(b){console.error("Error loading allocations:",b)}finally{n(!1)}},h=async()=>{try{d({totalAllocations:156,totalCost:45620,pendingAllocations:23,shippedAllocations:89})}catch(b){console.error("Error loading statistics:",b)}},p=b=>{const g={[Ed.PENDING]:{label:"待發貨",className:"bg-yellow-100 text-yellow-800",icon:je},[Ed.SHIPPED]:{label:"已發貨",className:"bg-blue-100 text-blue-800",icon:Zt},[Ed.DELIVERED]:{label:"已送達",className:"bg-green-100 text-green-800",icon:he},[Ed.CANCELLED]:{label:"已取消",className:"bg-red-100 text-red-800",icon:_t}}[b]||{label:b,className:"bg-gray-100 text-gray-800",icon:je},w=g.icon;return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.className}`,children:g.label})]})},y=b=>b===m7.AUTOMATIC?e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"自動分配"}):e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"手動選擇"}),x=b=>{const g={platinum:{label:"白金會員",className:"bg-gray-100 text-gray-800"},gold:{label:"黃金會員",className:"bg-yellow-100 text-yellow-800"},silver:{label:"銀級會員",className:"bg-gray-100 text-gray-600"},bronze:{label:"銅級會員",className:"bg-orange-100 text-orange-800"}}[b]||{label:b,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.className}`,children:g.label})},f=s.filter(b=>{var w;const v=b.memberName.toLowerCase().includes(a.toLowerCase())||b.orderId.toLowerCase().includes(a.toLowerCase())||((w=b.trackingNumber)==null?void 0:w.toLowerCase().includes(a.toLowerCase())),g=l==="all"||b.status===l;return v&&g});return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入配送追蹤數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"禮品配送追蹤"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"追蹤會員禮品的分配與配送狀況"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"allocation-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalAllocations}),e.jsx("p",{className:"text-sm text-gray-600",children:"總配送記錄"})]})]})}),e.jsx("div",{className:"allocation-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(he,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalCost.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600",children:"總配送成本"})]})]})}),e.jsx("div",{className:"allocation-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.pendingAllocations}),e.jsx("p",{className:"text-sm text-gray-600",children:"待發貨"})]})]})}),e.jsx("div",{className:"allocation-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Zt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.shippedAllocations}),e.jsx("p",{className:"text-sm text-gray-600",children:"已發貨"})]})]})})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Fr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜尋會員姓名、訂單編號或追蹤號碼...",value:a,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:l,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"pending",children:"待發貨"}),e.jsx("option",{value:"shipped",children:"已發貨"}),e.jsx("option",{value:"delivered",children:"已送達"}),e.jsx("option",{value:"cancelled",children:"已取消"})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:f.map(b=>e.jsx("div",{className:`allocation-card ${J.glassCard}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#cc824d] to-[#b8743d] rounded-lg flex items-center justify-center",children:e.jsx(Ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:["配送單號: ",b.id]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xl,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:b.memberName})]}),x(b.memberTier)]})]})]}),p(b.status)]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"基本信息"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"訂單編號："}),e.jsx("span",{className:"font-medium",children:b.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"配送日期："}),e.jsx("span",{className:"font-medium",children:b.allocatedDate.toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"總成本："}),e.jsx("span",{className:"font-medium text-[#cc824d]",children:b.totalCost.toLocaleString()})]}),b.trackingNumber&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"追蹤號碼："}),e.jsx("span",{className:"font-medium font-mono",children:b.trackingNumber})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"禮品詳情"}),e.jsx("div",{className:"space-y-2",children:b.gifts.map((v,g)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-sm",children:v.name}),y(v.selectionType)]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["數量: ",v.quantity]}),e.jsxs("span",{children:["單價: ",v.unitCost]})]})]},g))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"配送狀態"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"禮品已分配"}),e.jsx("span",{className:"text-xs text-gray-500",children:b.allocatedDate.toLocaleDateString()})]}),b.shippedDate&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"已發貨"}),e.jsx("span",{className:"text-xs text-gray-500",children:b.shippedDate.toLocaleDateString()})]}),b.deliveredDate&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),e.jsx("span",{className:"text-sm",children:"已送達"}),e.jsx("span",{className:"text-xs text-gray-500",children:b.deliveredDate.toLocaleDateString()})]})]})]})]})]})},b.id))}),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的配送記錄"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或篩選設定"})]})]})},x7=()=>{$r();const s=wr();return(()=>{const r=s.pathname;return r==="/admin/gifts"?"gifts":r.includes("/tier-rules")?"tier-rules":r.includes("/member-benefits")?"member-benefits":r.includes("/allocation-tracking")?"allocation-tracking":"gifts"})(),e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2 !important"},children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-[#cc824d] to-[#b3723f] rounded-xl",children:e.jsx(Ot,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-chinese text-gray-900",children:"贈�?管�?系統"}),e.jsx("p",{className:"text-gray-600 font-chinese",children:"完整分析分析置、�??�設定�?分析追蹤"})]})]})})}),e.jsx("div",{className:"relative",children:e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(c7,{})}),e.jsx(W,{path:"tier-rules",element:e.jsx(d7,{})}),e.jsx(W,{path:"member-benefits",element:e.jsx(u7,{})}),e.jsx(W,{path:"allocation-tracking",element:e.jsx(h7,{})})]})})]})},Ad={ACTIVE:"active",PENDING:"pending",SUSPENDED:"suspended",BLACKLISTED:"blacklisted"},p7=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState(1),[m]=u.useState(10),[h,p]=u.useState({total:0,active:0,pending:0,suspended:0});u.useEffect(()=>{y(),x(),De.fromTo(".supplier-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const y=async()=>{n(!0);try{const _=await supplierDataManager.getSuppliers();_.success&&t(_.data)}catch(_){console.error("Error loading suppliers:",_)}finally{n(!1)}},x=async()=>{try{const _=await supplierDataManager.getSupplierStatistics();_.success&&p(_.data)}catch(_){console.error("Error loading statistics:",_)}},f=_=>{if(window.confirm("確定要刪除這個供應商嗎？此操作會一併刪除相關聯絡人和採購記錄。")){const k=supplierDataManager.deleteSupplier(_);k.success?(y(),x()):alert("刪除失敗："+k.error)}},b=_=>{const T={[Ad.ACTIVE]:{label:"活躍",className:"bg-green-100 text-green-800"},[Ad.PENDING]:{label:"待審核",className:"bg-yellow-100 text-yellow-800"},[Ad.SUSPENDED]:{label:"暫停",className:"bg-red-100 text-red-800"},[Ad.BLACKLISTED]:{label:"黑名單",className:"bg-red-100 text-red-900"}}[_]||{label:_,className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.className}`,children:T.label})},v=s.filter(_=>{const k=_.name.toLowerCase().includes(a.toLowerCase())||_.contactPerson.toLowerCase().includes(a.toLowerCase())||_.email.toLowerCase().includes(a.toLowerCase()),T=l==="all"||_.status===l;return k&&T}),g=c*m,w=g-m,N=v.slice(w,g),j=Math.ceil(v.length/m);return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入供應商數據中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"供應商管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有供應商信息與合作關係"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"supplier-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Kn,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.total}),e.jsx("p",{className:"text-sm text-gray-600",children:"總供應商"})]})]})}),e.jsx("div",{className:"supplier-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Kn,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.active}),e.jsx("p",{className:"text-sm text-gray-600",children:"活躍供應商"})]})]})}),e.jsx("div",{className:"supplier-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Kn,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.pending}),e.jsx("p",{className:"text-sm text-gray-600",children:"待審核"})]})]})}),e.jsx("div",{className:"supplier-card bg-white/60 backdrop-blur-md rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(Kn,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.suspended}),e.jsx("p",{className:"text-sm text-gray-600",children:"暫停合作"})]})]})})]}),e.jsx("div",{className:`${J.glassCard} p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Fr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜尋供應商名稱、聯絡人或郵件...",value:a,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:l,onChange:_=>o(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"活躍"}),e.jsx("option",{value:"pending",children:"待審核"}),e.jsx("option",{value:"suspended",children:"暫停"}),e.jsx("option",{value:"blacklisted",children:"黑名單"})]})]})]}),e.jsxs("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"新增供應商"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(_=>e.jsx("div",{className:`supplier-card ${J.glassCard}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#cc824d] to-[#b8743d] rounded-lg flex items-center justify-center",children:e.jsx(Kn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 font-chinese",children:_.name}),e.jsx("p",{className:"text-sm text-gray-500",children:_.category})]})]}),b(_.status)]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(sn,{className:"w-4 h-4 mr-2 text-gray-400"}),_.address]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(z8,{className:"w-4 h-4 mr-2 text-gray-400"}),_.phone]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Dc,{className:"w-4 h-4 mr-2 text-gray-400"}),_.email]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"聯絡人："}),e.jsx("span",{className:"font-medium text-gray-900",children:_.contactPerson})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"合作開始："}),e.jsx("span",{className:"font-medium text-gray-900",children:_.startDate})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"信用評級："}),e.jsx("span",{className:"font-medium text-[#cc824d]",children:_.creditRating})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx($e,{className:"w-4 h-4"}),"查看"]}),e.jsx("button",{className:"px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(_.id),className:"px-3 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(rt,{className:"w-4 h-4"})})]})]})},_.id))}),j>1&&e.jsxs("div",{className:"flex items-center justify-center mt-8 space-x-2",children:[e.jsx("button",{onClick:()=>d(_=>Math.max(_-1,1)),disabled:c===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一頁"}),e.jsx("div",{className:"flex space-x-1",children:[...Array(j)].map((_,k)=>{const T=k+1;return e.jsx("button",{onClick:()=>d(T),className:`px-3 py-1 rounded-md text-sm font-medium ${c===T?"bg-[#cc824d] text-white":"text-gray-500 hover:text-gray-700"}`,children:T},T)})}),e.jsx("button",{onClick:()=>d(_=>Math.min(_+1,j)),disabled:c===j,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-500 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一頁"})]}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Kn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500 text-lg",children:"沒有找到符合條件的供應商"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"嘗試調整搜尋條件或新增新的供應商"})]})]})};let f7={data:""},g7=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||f7,y7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,v7=/\/\*[^]*?\*\/|  +/g,Gy=/\n+/g,ta=(s,t)=>{let r="",n="",a="";for(let i in s){let l=s[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?ta(l,i):i+"{"+ta(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=ta(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ta.p?ta.p(i,l):i+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},hn={},iN=s=>{if(typeof s=="object"){let t="";for(let r in s)t+=r+iN(s[r]);return t}return s},b7=(s,t,r,n,a)=>{let i=iN(s),l=hn[i]||(hn[i]=(c=>{let d=0,m=11;for(;d<c.length;)m=101*m+c.charCodeAt(d++)>>>0;return"go"+m})(i));if(!hn[l]){let c=i!==s?s:(d=>{let m,h,p=[{}];for(;m=y7.exec(d.replace(v7,""));)m[4]?p.shift():m[3]?(h=m[3].replace(Gy," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][m[1]]=m[2].replace(Gy," ").trim();return p[0]})(s);hn[l]=ta(a?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&hn.g?hn.g:null;return r&&(hn.g=hn[l]),((c,d,m,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=m?c+d.data:d.data+c)})(hn[l],t,n,o),l},j7=(s,t,r)=>s.reduce((n,a,i)=>{let l=t[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":ta(o,""):o===!1?"":o}return n+a+(l??"")},"");function Pm(s){let t=this||{},r=s.call?s(t.p):s;return b7(r.unshift?r.raw?j7(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,g7(t.target),t.g,t.o,t.k)}let lN,jx,Nx;Pm.bind({g:1});let Pn=Pm.bind({k:1});function N7(s,t,r,n){ta.p=t,lN=s,jx=r,Nx=n}function Ba(s,t){let r=this||{};return function(){let n=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;r.p=Object.assign({theme:jx&&jx()},o),r.o=/ *go\d+/.test(c),o.className=Pm.apply(r,n)+(c?" "+c:""),t&&(o.ref=l);let d=s;return s[0]&&(d=o.as||s,delete o.as),Nx&&d[0]&&Nx(o),lN(d,o)}return t?t(a):a}}var w7=s=>typeof s=="function",wx=(s,t)=>w7(s)?s(t):s,_7=(()=>{let s=0;return()=>(++s).toString()})(),k7=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),S7=20,oN="default",cN=(s,t)=>{let{toastLimit:r}=s.settings;switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,r)};case 1:return{...s,toasts:s.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return cN(s,{type:s.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...s,toasts:s.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let i=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},C7=[],T7={toasts:[],pausedAt:void 0,settings:{toastLimit:S7}},kl={},dN=(s,t=oN)=>{kl[t]=cN(kl[t]||T7,s),C7.forEach(([r,n])=>{r===t&&n(kl[t])})},uN=s=>Object.keys(kl).forEach(t=>dN(s,t)),M7=s=>Object.keys(kl).find(t=>kl[t].toasts.some(r=>r.id===s)),hf=(s=oN)=>t=>{dN(t,s)},D7=(s,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...r,id:(r==null?void 0:r.id)||_7()}),Gc=s=>(t,r)=>{let n=D7(t,s,r);return hf(n.toasterId||M7(n.id))({type:2,toast:n}),n.id},ft=(s,t)=>Gc("blank")(s,t);ft.error=Gc("error");ft.success=Gc("success");ft.loading=Gc("loading");ft.custom=Gc("custom");ft.dismiss=(s,t)=>{let r={type:3,toastId:s};t?hf(t)(r):uN(r)};ft.dismissAll=s=>ft.dismiss(void 0,s);ft.remove=(s,t)=>{let r={type:4,toastId:s};t?hf(t)(r):uN(r)};ft.removeAll=s=>ft.remove(void 0,s);ft.promise=(s,t,r)=>{let n=ft.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof s=="function"&&(s=s()),s.then(a=>{let i=t.success?wx(t.success,a):void 0;return i?ft.success(i,{id:n,...r,...r==null?void 0:r.success}):ft.dismiss(n),a}).catch(a=>{let i=t.error?wx(t.error,a):void 0;i?ft.error(i,{id:n,...r,...r==null?void 0:r.error}):ft.dismiss(n)}),s};var E7=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,A7=Pn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P7=Pn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,R7=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${A7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${P7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,I7=Pn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,L7=Ba("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${I7} 1s linear infinite;
`,O7=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,F7=Pn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$7=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${F7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,V7=Ba("div")`
  position: absolute;
`,B7=Ba("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,z7=Pn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,U7=Ba("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${z7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W7=({toast:s})=>{let{icon:t,type:r,iconTheme:n}=s;return t!==void 0?typeof t=="string"?u.createElement(U7,null,t):t:r==="blank"?null:u.createElement(B7,null,u.createElement(L7,{...n}),r!=="loading"&&u.createElement(V7,null,r==="error"?u.createElement(R7,{...n}):u.createElement($7,{...n})))},H7=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,G7=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,q7="0%{opacity:0;} 100%{opacity:1;}",Y7="0%{opacity:1;} 100%{opacity:0;}",Z7=Ba("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,K7=Ba("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,X7=(s,t)=>{let r=s.includes("top")?1:-1,[n,a]=k7()?[q7,Y7]:[H7(r),G7(r)];return{animation:t?`${Pn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pn(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};u.memo(({toast:s,position:t,style:r,children:n})=>{let a=s.height?X7(s.position||t||"top-center",s.visible):{opacity:0},i=u.createElement(W7,{toast:s}),l=u.createElement(K7,{...s.ariaProps},wx(s.message,s));return u.createElement(Z7,{className:s.className,style:{...a,...r,...s.style}},typeof n=="function"?n({icon:i,message:l}):u.createElement(u.Fragment,null,i,l))});N7(u.createElement);Pm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const qy=()=>{const s=$r(),{id:t}=zc(),r=!!t,[n,a]=u.useState(!1),[i,l]=u.useState({}),[o,c]=u.useState({companyName:"",companyNameEn:"",taxId:"",businessLicense:"",establishedDate:"",companyType:"limited",industry:"",scale:"small",contactPerson:"",contactTitle:"",phone:"",mobile:"",email:"",website:"",country:"TW",city:"",district:"",address:"",postalCode:"",bankName:"",bankBranch:"",accountName:"",accountNumber:"",swiftCode:"",paymentTerms:"30",creditLimit:"",currency:"TWD",discountRate:"",minimumOrder:"",leadTime:"",productCategories:[],primaryCategory:"",certifications:[],qualityStandards:[],description:"",notes:"",status:"active",priority:"normal"}),d=[{value:"limited",label:"有限公司"},{value:"corporation",label:"股份有限公司"},{value:"partnership",label:"合夥企業"},{value:"sole",label:"獨資企業"},{value:"branch",label:"分公司"},{value:"representative",label:"代表處"}],m=[{value:"micro",label:"微型企業 (<10人)"},{value:"small",label:"小型企業 (10-49人)"},{value:"medium",label:"中型企業 (50-249人)"},{value:"large",label:"大型企業 (>250人)"}],h=[{value:"manufacturing",label:"製造業"},{value:"wholesale",label:"批發業"},{value:"retail",label:"零售業"},{value:"technology",label:"科技業"},{value:"agriculture",label:"農業"},{value:"textiles",label:"紡織業"},{value:"food",label:"食品業"},{value:"chemicals",label:"化工業"},{value:"electronics",label:"電子業"},{value:"automotive",label:"汽車業"},{value:"other",label:"其他"}],p=[{value:"0",label:"現金付款"},{value:"7",label:"7天"},{value:"15",label:"15天"},{value:"30",label:"30天"},{value:"45",label:"45天"},{value:"60",label:"60天"},{value:"90",label:"90天"}],y=[{value:"TWD",label:"新台幣 (TWD)"},{value:"USD",label:"美元 (USD)"},{value:"EUR",label:"歐元 (EUR)"},{value:"JPY",label:"日圓 (JPY)"},{value:"CNY",label:"人民幣 (CNY)"},{value:"HKD",label:"港幣 (HKD)"}];u.useEffect(()=>{r&&t&&x()},[t,r]);const x=async g=>{a(!0);try{c({companyName:"優質材料股份有限公司",companyNameEn:"Quality Materials Co., Ltd.",taxId:"12345678",businessLicense:"BL20240001",establishedDate:"2020-01-15",companyType:"limited",industry:"manufacturing",scale:"medium",contactPerson:"李經理",contactTitle:"業務經理",phone:"02-12345678",mobile:"0912345678",email:"manager@quality-materials.com",website:"https://www.quality-materials.com",country:"TW",city:"台北市",district:"大安區",address:"復興南路一段123號",postalCode:"10691",bankName:"台灣銀行",bankBranch:"台北分行",accountName:"優質材料股份有限公司",accountNumber:"123456789012",swiftCode:"BKTWTWTP",paymentTerms:"30",creditLimit:"5000000",currency:"TWD",discountRate:"5",minimumOrder:"100000",leadTime:"14",description:"專業生產高品質原材料的知名供應商",status:"active",priority:"high"})}catch(w){console.error("Error loading supplier data:",w),ft.error("載入供應商資料失敗")}finally{a(!1)}},f=()=>{const g={};return o.companyName.trim()||(g.companyName="公司名稱為必填項目"),o.taxId.trim()?/^\d{8}$/.test(o.taxId)||(g.taxId="統編必須為8位數字"):g.taxId="統編為必填項目",o.businessLicense.trim()||(g.businessLicense="營業執照號碼為必填項目"),o.contactPerson.trim()||(g.contactPerson="聯絡人為必填項目"),!o.phone.trim()&&!o.mobile.trim()&&(g.phone="至少需要填寫一個聯絡電話"),o.email&&!/\S+@\S+\.\S+/.test(o.email)&&(g.email="請輸入有效的電子郵件地址"),o.address.trim()||(g.address="地址為必填項目"),o.creditLimit&&isNaN(Number(o.creditLimit))&&(g.creditLimit="信用額度必須為數字"),o.minimumOrder&&isNaN(Number(o.minimumOrder))&&(g.minimumOrder="最小訂購量必須為數字"),g},b=async g=>{g.preventDefault();const w=f();if(Object.keys(w).length>0){l(w),ft.error("請修正表單錯誤後再提交");return}a(!0);try{await new Promise(N=>setTimeout(N,1e3)),r?ft.success("供應商資料更新成功"):ft.success("新增供應商成功"),s("/admin/suppliers")}catch(N){console.error("Error saving supplier:",N),ft.error(r?"更新供應商失敗":"新增供應商失敗")}finally{a(!1)}},v=(g,w)=>{c(N=>({...N,[g]:w})),i[g]&&l(N=>({...N,[g]:void 0}))};return n?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:r?"編輯供應商":"新增供應商"}),e.jsx("p",{className:"text-gray-600 mt-2",children:r?"修改現有供應商的詳細資訊":"建立新的供應商檔案"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Kn,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"基本資訊"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["公司名稱 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.companyName,onChange:g=>v("companyName",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.companyName?"border-red-500":"border-gray-300"}`,placeholder:"請輸入公司名稱"}),i.companyName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.companyName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["統一編號 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.taxId,onChange:g=>v("taxId",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.taxId?"border-red-500":"border-gray-300"}`,placeholder:"12345678",maxLength:8}),i.taxId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.taxId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"英文名稱"}),e.jsx("input",{type:"text",value:o.companyNameEn,onChange:g=>v("companyNameEn",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"Company Name in English"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["營業執照號碼 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.businessLicense,onChange:g=>v("businessLicense",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.businessLicense?"border-red-500":"border-gray-300"}`,placeholder:"BL20240001"}),i.businessLicense&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.businessLicense})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"成立日期"}),e.jsx("input",{type:"date",value:o.establishedDate,onChange:g=>v("establishedDate",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"公司類型",value:o.companyType,onChange:g=>v("companyType",g),options:d.map(g=>({value:g.value,label:g.label})),size:"sm"})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"行業類別",value:o.industry,onChange:g=>v("industry",g),options:[{value:"",label:"請選擇行業類別"},...h.map(g=>({value:g.value,label:g.label,icon:"🏢"}))],size:"sm"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"企業規模"}),e.jsx("select",{value:o.scale,onChange:g=>v("scale",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:m.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Xl,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"聯絡資訊"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["聯絡人 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.contactPerson,onChange:g=>v("contactPerson",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.contactPerson?"border-red-500":"border-gray-300"}`,placeholder:"聯絡人姓名"}),i.contactPerson&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.contactPerson})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"職稱"}),e.jsx("input",{type:"text",value:o.contactTitle,onChange:g=>v("contactTitle",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"業務經理"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"公司電話"}),e.jsx("input",{type:"tel",value:o.phone,onChange:g=>v("phone",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.phone?"border-red-500":"border-gray-300"}`,placeholder:"02-12345678"}),i.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"手機號碼"}),e.jsx("input",{type:"tel",value:o.mobile,onChange:g=>v("mobile",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"0912345678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電子郵件"}),e.jsx("input",{type:"email",value:o.email,onChange:g=>v("email",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.email?"border-red-500":"border-gray-300"}`,placeholder:"supplier@example.com"}),i.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"官方網站"}),e.jsx("input",{type:"url",value:o.website,onChange:g=>v("website",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"https://www.example.com"})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(sn,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"地址資訊"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"國家/地區"}),e.jsxs("select",{value:o.country,onChange:g=>v("country",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"TW",children:"台灣"}),e.jsx("option",{value:"CN",children:"中國大陸"}),e.jsx("option",{value:"HK",children:"香港"}),e.jsx("option",{value:"SG",children:"新加坡"}),e.jsx("option",{value:"JP",children:"日本"}),e.jsx("option",{value:"KR",children:"韓國"}),e.jsx("option",{value:"US",children:"美國"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"城市"}),e.jsx("input",{type:"text",value:o.city,onChange:g=>v("city",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"台北市"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"區域"}),e.jsx("input",{type:"text",value:o.district,onChange:g=>v("district",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"大安區"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"郵遞區號"}),e.jsx("input",{type:"text",value:o.postalCode,onChange:g=>v("postalCode",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"10691"})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["詳細地址 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o.address,onChange:g=>v("address",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.address?"border-red-500":"border-gray-300"}`,placeholder:"復興南路一段123號"}),i.address&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.address})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(cf,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"銀行資訊"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行名稱"}),e.jsx("input",{type:"text",value:o.bankName,onChange:g=>v("bankName",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"台灣銀行"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"分行名稱"}),e.jsx("input",{type:"text",value:o.bankBranch,onChange:g=>v("bankBranch",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"台北分行"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"戶名"}),e.jsx("input",{type:"text",value:o.accountName,onChange:g=>v("accountName",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"公司名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行帳號"}),e.jsx("input",{type:"text",value:o.accountNumber,onChange:g=>v("accountNumber",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"123456789012"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SWIFT代碼"}),e.jsx("input",{type:"text",value:o.swiftCode,onChange:g=>v("swiftCode",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"BKTWTWTP"})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Mi,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"業務資訊"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"付款條件"}),e.jsx("select",{value:o.paymentTerms,onChange:g=>v("paymentTerms",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:p.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"幣別"}),e.jsx("select",{value:o.currency,onChange:g=>v("currency",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:y.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"信用額度"}),e.jsx("input",{type:"number",value:o.creditLimit,onChange:g=>v("creditLimit",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.creditLimit?"border-red-500":"border-gray-300"}`,placeholder:"5000000"}),i.creditLimit&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.creditLimit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"折扣率 (%)"}),e.jsx("input",{type:"number",value:o.discountRate,onChange:g=>v("discountRate",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"5",min:"0",max:"100",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小訂購量"}),e.jsx("input",{type:"number",value:o.minimumOrder,onChange:g=>v("minimumOrder",g.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent ${i.minimumOrder?"border-red-500":"border-gray-300"}`,placeholder:"100000"}),i.minimumOrder&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.minimumOrder})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"交期 (天)"}),e.jsx("input",{type:"number",value:o.leadTime,onChange:g=>v("leadTime",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"14"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"狀態"}),e.jsxs("select",{value:o.status,onChange:g=>v("status",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"active",children:"啟用"}),e.jsx("option",{value:"inactive",children:"停用"}),e.jsx("option",{value:"pending",children:"待審核"}),e.jsx("option",{value:"suspended",children:"暫停"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"優先級"}),e.jsxs("select",{value:o.priority,onChange:g=>v("priority",g.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"low",children:"低"}),e.jsx("option",{value:"normal",children:"普通"}),e.jsx("option",{value:"high",children:"高"}),e.jsx("option",{value:"critical",children:"緊急"})]})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Ht,{className:"w-6 h-6 text-[#cc824d]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 font-chinese",children:"其他資訊"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"公司簡介"}),e.jsx("textarea",{value:o.description,onChange:g=>v("description",g.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent resize-none",placeholder:"請描述公司的主要業務、優勢特色等..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"備註"}),e.jsx("textarea",{value:o.notes,onChange:g=>v("notes",g.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent resize-none",placeholder:"其他需要記錄的資訊..."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pb-8",children:[e.jsx("button",{type:"button",onClick:()=>s("/admin/suppliers"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"取消"}),e.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:r?"更新供應商":"新增供應商"})]})]})]})]})},Q7=()=>{const{id:s}=zc();$r();const[t,r]=u.useState(!0),[n,a]=u.useState(null);return u.useEffect(()=>{setTimeout(()=>{a({id:s,name:"供應商名稱",contact:"聯絡人",email:"contact@supplier.com"}),r(!1)},1e3)},[s]),t?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"供應商詳情"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8",children:n?e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["ID: ",n.id]}),e.jsxs("p",{className:"text-gray-600",children:["聯絡人: ",n.contact]}),e.jsxs("p",{className:"text-gray-600",children:["電子郵件: ",n.email]})]}):e.jsx("p",{className:"text-gray-600",children:"找不到供應商資料"})})]})})},J7=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f8f4f0] to-[#e8ddd4]",children:e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(p7,{})}),e.jsx(W,{path:"add",element:e.jsx(qy,{isEdit:!1})}),e.jsx(W,{path:":id",element:e.jsx(Q7,{})}),e.jsx(W,{path:":id/edit",element:e.jsx(qy,{isEdit:!0})})]})}),e9=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState({status:"all",priority:"all",supplier:"all",dateRange:"30days",searchQuery:""}),l=[{id:"PO-2024-001",title:"春季商品採購計劃",supplierId:"SUP-001",supplierName:"優質材料有限公司",status:"approved",priority:"high",totalAmount:125e4,currency:"TWD",itemCount:15,createdDate:"2024-01-15",expectedDelivery:"2024-02-15",approvedBy:"張經理",description:"春季新品原材料採購，包含高品質皮革和金屬配件",department:"採購部",category:"原材料"},{id:"PO-2024-002",title:"包裝材料補貨訂單",supplierId:"SUP-002",supplierName:"包裝專家股份有限公司",status:"pending",priority:"medium",totalAmount:35e4,currency:"TWD",itemCount:8,createdDate:"2024-01-20",expectedDelivery:"2024-02-05",approvedBy:null,description:"環保包裝盒、手提袋及防護材料採購",department:"倉儲部",category:"包裝材料"},{id:"PO-2024-003",title:"辦公設備採購",supplierId:"SUP-003",supplierName:"科技辦公設備公司",status:"production",priority:"low",totalAmount:18e4,currency:"TWD",itemCount:5,createdDate:"2024-01-10",expectedDelivery:"2024-01-30",approvedBy:"王主任",description:"辦公室電腦、印表機及相關設備更新",department:"IT部",category:"辦公設備"},{id:"PO-2024-004",title:"夏季預購商品訂單",supplierId:"SUP-001",supplierName:"優質材料有限公司",status:"draft",priority:"high",totalAmount:21e5,currency:"TWD",itemCount:25,createdDate:"2024-01-22",expectedDelivery:"2024-03-15",approvedBy:null,description:"夏季新品預購，預計大量採購輕質材料",department:"商品部",category:"原材料"},{id:"PO-2024-005",title:"緊急維修材料採購",supplierId:"SUP-004",supplierName:"工業維修供應商",status:"shipped",priority:"urgent",totalAmount:45e3,currency:"TWD",itemCount:3,createdDate:"2024-01-18",expectedDelivery:"2024-01-25",approvedBy:"李技師",description:"生產線設備緊急維修所需零件和工具",department:"維修部",category:"維修材料"}];u.useEffect(()=>{o(),De.fromTo(".procurement-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[a]);const o=async()=>{n(!0);try{await new Promise(v=>setTimeout(v,800));let b=[...l];if(a.status!=="all"&&(b=b.filter(v=>v.status===a.status)),a.priority!=="all"&&(b=b.filter(v=>v.priority===a.priority)),a.supplier!=="all"&&(b=b.filter(v=>v.supplierId===a.supplier)),a.searchQuery){const v=a.searchQuery.toLowerCase();b=b.filter(g=>g.title.toLowerCase().includes(v)||g.supplierName.toLowerCase().includes(v)||g.id.toLowerCase().includes(v))}t(b)}catch(b){console.error("Error loading procurement data:",b)}finally{n(!1)}},c=b=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",production:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[b]||"bg-gray-100 text-gray-800",d=b=>({draft:"草稿",pending:"待審核",approved:"已核准",confirmed:"已確認",production:"生產中",shipped:"已出貨",completed:"已完成",cancelled:"已取消"})[b]||"未知",m=b=>({low:"text-gray-600",medium:"text-blue-600",high:"text-orange-600",urgent:"text-red-600"})[b]||"text-gray-600",h=b=>({low:"低",medium:"中",high:"高",urgent:"緊急"})[b]||"普通",p=b=>{switch(b){case"draft":return e.jsx(Ht,{className:"w-5 h-5 text-gray-500"});case"pending":return e.jsx(je,{className:"w-5 h-5 text-yellow-500"});case"approved":return e.jsx(he,{className:"w-5 h-5 text-green-500"});case"production":return e.jsx(ke,{className:"w-5 h-5 text-purple-500"});case"shipped":return e.jsx(Zt,{className:"w-5 h-5 text-blue-500"});case"completed":return e.jsx(he,{className:"w-5 h-5 text-emerald-500"});default:return e.jsx(Ht,{className:"w-5 h-5 text-gray-500"})}},y=()=>s.reduce((b,v)=>b+v.totalAmount,0),x=()=>{const b={};return s.forEach(v=>{b[v.status]=(b[v.status]||0)+1}),b};if(r)return e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入採購數據中..."})]})});const f=x();return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"採購管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有採購訂單和供應商關係"})]}),e.jsxs(Kr,{to:"/admin/procurement/create",className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors flex items-center space-x-2",children:[e.jsx(ut,{className:"w-5 h-5"}),e.jsx("span",{children:"新增採購訂單"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"procurement-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"總訂單數"})]})]})}),e.jsx("div",{className:"procurement-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(dt,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y().toLocaleString()}),e.jsx("p",{className:"text-gray-500 text-sm",children:"總採購金額"})]})]})}),e.jsx("div",{className:"procurement-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.pending||0}),e.jsx("p",{className:"text-gray-500 text-sm",children:"待審核"})]})]})}),e.jsx("div",{className:"procurement-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Te,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(b=>b.priority==="urgent").length}),e.jsx("p",{className:"text-gray-500 text-sm",children:"緊急訂單"})]})]})})]}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"搜尋訂單號、標題、供應商...",value:a.searchQuery,onChange:b=>i(v=>({...v,searchQuery:b.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"篩選狀態",value:a.status,onChange:b=>i(v=>({...v,status:b})),options:[{value:"all",label:"所有狀態"},{value:"draft",label:"草稿"},{value:"pending",label:"待審核"},{value:"approved",label:"已核准"},{value:"production",label:"生產中"},{value:"shipped",label:"已出貨"},{value:"completed",label:"已完成"}],size:"sm"})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"優先級",value:a.priority,onChange:b=>i(v=>({...v,priority:b})),options:[{value:"all",label:"所有優先級"},{value:"low",label:"低"},{value:"medium",label:"中"},{value:"high",label:"高"},{value:"urgent",label:"緊急"}]})}),e.jsx("div",{children:e.jsx(Kt,{placeholder:"日期範圍",value:a.dateRange,onChange:b=>i(v=>({...v,dateRange:b})),options:[{value:"7days",label:"最近7天"},{value:"30days",label:"最近30天"},{value:"90days",label:"最近90天"},{value:"all",label:"所有時間"}]})})]})}),e.jsx("div",{className:"space-y-6",children:s.length===0?e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-12 text-center",children:[e.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到採購訂單"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"請調整篩選條件或創建新的採購訂單"}),e.jsxs(Kr,{to:"/admin/procurement/create",className:"inline-flex items-center px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"新增採購訂單"]})]}):s.map(b=>e.jsxs("div",{className:"procurement-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[p(b.status),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 font-chinese",children:b.title}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${c(b.status)}`,children:d(b.status)}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${m(b.priority)}`,children:h(b.priority)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"訂單編號"}),e.jsx("p",{className:"font-medium",children:b.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"供應商"}),e.jsx("p",{className:"font-medium",children:b.supplierName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"採購金額"}),e.jsx("p",{className:"font-medium text-[#cc824d]",children:b.totalAmount.toLocaleString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"商品數量"}),e.jsxs("p",{className:"font-medium",children:[b.itemCount," 項"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"預計交期"}),e.jsx("p",{className:"font-medium",children:b.expectedDelivery})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"負責部門"}),e.jsx("p",{className:"font-medium",children:b.department})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:b.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{children:["建立日期：",b.createdDate]}),b.approvedBy&&e.jsxs("span",{children:["審批人：",b.approvedBy]}),e.jsxs("span",{children:["類別：",b.category]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-6",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(rt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"訂單進度"}),e.jsx("span",{children:b.status==="completed"?"100%":b.status==="shipped"?"80%":b.status==="production"?"60%":b.status==="approved"?"40%":b.status==="pending"?"20%":"10%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full transition-all duration-300",style:{width:b.status==="completed"?"100%":b.status==="shipped"?"80%":b.status==="production"?"60%":b.status==="approved"?"40%":b.status==="pending"?"20%":"10%"}})})]})]},b.id))}),s.length>0&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"上一頁"}),e.jsx("span",{className:"px-3 py-2 bg-[#cc824d] text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"下一頁"})]})})]})},t9=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t([]),n(!1)},1e3)},[]),r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"採購訂單列表"}),e.jsx(Kr,{to:"/admin/procurement/create",className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"新增採購訂單"})]}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"採購訂單列表開發中..."})})]})})},s9=()=>e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"採購單詳情"}),e.jsx("p",{className:"text-gray-600",children:"採購單詳情功能開發中..."})]})}),Yy=()=>(u.useState(!1),e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"新增採購訂單"}),e.jsx("p",{className:"text-gray-600",children:"新增採購訂單表單開發中..."})]})})),r9=()=>e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"?�購建議"}),e.jsx("p",{className:"text-gray-600",children:"?�能?�購建議系統?�發�?.."})]})}),n9=()=>e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"驗收?�庫"}),e.jsx("p",{className:"text-gray-600",children:"分析驗收?�入庫管分析?�中..."})]})}),a9=()=>e.jsx("div",{className:J.sectionSpacing,children:e.jsxs("div",{className:J.glassCard,children:[e.jsx("h1",{className:J.pageTitle,children:"?�本分析"}),e.jsx("p",{className:J.pageSubtitle,children:"?�購?�本分析?�報表�??�中..."})]})}),i9=()=>e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(e9,{})}),e.jsx(W,{path:"orders",element:e.jsx(t9,{})}),e.jsx(W,{path:"orders/:id",element:e.jsx(s9,{})}),e.jsx(W,{path:"orders/add",element:e.jsx(Yy,{})}),e.jsx(W,{path:"orders/edit/:id",element:e.jsx(Yy,{})}),e.jsx(W,{path:"suggestions",element:e.jsx(r9,{})}),e.jsx(W,{path:"inspection",element:e.jsx(n9,{})}),e.jsx(W,{path:"analytics",element:e.jsx(a9,{})})]}),l9=()=>{const[s,t]=u.useState("overview"),r=[{id:1,name:"新年特惠",code:"NEW2024",type:"percentage",value:20,status:"active",usageCount:45,validTo:"2024-01-31"},{id:2,name:"免運優惠",code:"FREESHIP",type:"free_shipping",value:0,status:"active",usageCount:123,validTo:"2024-12-31"},{id:3,name:"聖誕特惠",code:"XMAS50",type:"fixed_amount",value:50,status:"expired",usageCount:89,validTo:"2023-12-25"}],n=o=>{const c={active:"bg-green-100 text-green-800",expired:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800"},d={active:"啟用中",expired:"已過期",inactive:"停用"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c[o]}`,children:d[o]})},a=o=>({percentage:"百分比折扣",fixed_amount:"固定金額",free_shipping:"免運費"})[o]||o,i=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:ie.statsCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ka,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總優惠券數量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),e.jsx("div",{className:ie.statsCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-8 w-8 text-green-500"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"啟用中"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(o=>o.status==="active").length})]})]})}),e.jsx("div",{className:ie.statsCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-8 w-8 text-blue-500"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總使用次數"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.reduce((o,c)=>o+c.usageCount,0)})]})]})}),e.jsx("div",{className:ie.statsCard,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(dt,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"節省金額"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"NT$ 58,400"})]})]})})]}),e.jsxs("div",{className:ie.contentCard+" mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"快速操作"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("button",{onClick:()=>t("list"),className:"p-4 text-left bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"h-8 w-8 text-[#cc824d] mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"查看優惠券列表"}),e.jsx("p",{className:"text-sm text-gray-600",children:"管理所有優惠券"})]})]})}),e.jsx("button",{className:"p-4 text-left bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"h-8 w-8 text-blue-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"建立新優惠券"}),e.jsx("p",{className:"text-sm text-gray-600",children:"快速建立各種類型的優惠券"})]})]})}),e.jsx("button",{className:"p-4 text-left bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-8 w-8 text-green-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"查看使用統計"}),e.jsx("p",{className:"text-sm text-gray-600",children:"分析優惠券使用效果"})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"最近活動"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"新年特惠優惠券已啟用"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 小時前"})]})]}),e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"已啟用"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"免運優惠券使用 50 次"}),e.jsx("p",{className:"text-xs text-gray-500",children:"5 小時前"})]})]}),e.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:"使用中"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"聖誕節優惠券即將到期"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 天前"})]})]}),e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"即將到期"})]})]})]})]})]}),l=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:ie.contentCard+" mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t("overview"),className:"text-sm text-gray-600 hover:text-[#cc824d] transition-colors",children:"← 返回概覽"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜尋優惠券...",className:"pl-10 w-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-[#cc824d] focus:border-transparent"})]})]}),e.jsxs("button",{className:ie.primaryButton,children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"新增優惠券"]})]})}),e.jsx("div",{className:ie.contentCard,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"優惠券"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"類型"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"折扣"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用次數"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"有效期限"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name}),e.jsx("div",{className:"text-sm text-gray-500",children:o.code})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:a(o.type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:o.type==="percentage"?`${o.value}%`:o.type==="free_shipping"?"免運費":`NT$ ${o.value}`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n(o.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:o.usageCount})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:o.validTo})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"查看",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"編輯",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"刪除",children:e.jsx(rt,{className:"w-4 h-4"})})]})})]},o.id))})]})})})]});return e.jsx("div",{className:ie.pageContainer,children:e.jsxs("div",{className:ie.contentContainer,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:ie.pageTitle,children:"優惠券管理"}),e.jsx("p",{className:ie.pageSubtitle,children:"管理和追蹤所有優惠券活動"})]}),s==="overview"?i():l()]})})},o9=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"物流總覽"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"物流總覽開發中..."})})]})})},c9=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"出貨管理"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"出貨管理開發中..."})})]})})},d9=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"運費設定"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"運費設定開發中..."})})]})})},u9=()=>{const[s,t]=u.useState(""),[r,n]=u.useState(null),[a,i]=u.useState(!1),[l,o]=u.useState([]);u.useEffect(()=>{d(),De.fromTo(".tracking-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const c=async()=>{if(!s.trim()){alert("請輸入追蹤號碼");return}i(!0);try{await new Promise(f=>setTimeout(f,1500));const x={trackingNumber:s,status:"in_transit",estimatedDelivery:"2024-01-25",origin:"台北倉庫",destination:"高雄市前金區",currentLocation:"台中轉運站",carrier:"黑貓宅急便",carrierPhone:"0800-123-456",orderNumber:"ORD-2024-001",recipient:"王小明",recipientPhone:"0912345678",packageCount:2,weight:"1.5kg",timeline:[{status:"created",time:"2024-01-20 10:30:00",location:"台北倉庫",description:"已建立運送單，準備出貨",completed:!0},{status:"picked_up",time:"2024-01-20 14:15:00",location:"台北倉庫",description:"商品已由快遞員取件",completed:!0},{status:"in_transit",time:"2024-01-21 08:45:00",location:"台中轉運站",description:"商品運送中，已到達台中轉運站",completed:!0},{status:"out_for_delivery",time:null,location:"高雄配送中心",description:"商品已到達目的地配送中心，準備派送",completed:!1},{status:"delivered",time:null,location:"高雄市前金區",description:"商品已送達收件人",completed:!1}]};n(x),o(f=>{const b=f.filter(v=>v.trackingNumber!==s);return[{trackingNumber:s,result:x,queriedAt:new Date},...b].slice(0,5)})}catch(x){console.error("Error tracking package:",x),alert("查詢失敗，請稍後再試")}finally{i(!1)}},d=()=>{o([{trackingNumber:"TW1234567890",result:{status:"delivered",carrier:"黑貓宅急便",recipient:"張小華",orderNumber:"ORD-2024-002"},queriedAt:new Date("2024-01-22 15:30:00")},{trackingNumber:"TW0987654321",result:{status:"in_transit",carrier:"新竹貨運",recipient:"李美玲",orderNumber:"ORD-2024-003"},queriedAt:new Date("2024-01-22 09:15:00")}])},m=x=>{switch(x){case"created":return e.jsx(Ht,{className:"w-5 h-5 text-blue-500"});case"picked_up":return e.jsx(Zt,{className:"w-5 h-5 text-orange-500"});case"in_transit":return e.jsx(Zt,{className:"w-5 h-5 text-yellow-500"});case"out_for_delivery":return e.jsx(sn,{className:"w-5 h-5 text-purple-500"});case"delivered":return e.jsx(he,{className:"w-5 h-5 text-green-500"});default:return e.jsx(je,{className:"w-5 h-5 text-gray-500"})}},h=x=>{switch(x){case"created":return"已建立";case"picked_up":return"已取件";case"in_transit":return"運送中";case"out_for_delivery":return"配送中";case"delivered":return"已送達";default:return"未知狀態"}},p=x=>{switch(x){case"created":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-orange-100 text-orange-800";case"in_transit":return"bg-yellow-100 text-yellow-800";case"out_for_delivery":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=x=>x?new Date(x).toLocaleString("zh-TW",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"";return e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"物流追蹤"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"輸入追蹤號碼查詢包裹運送狀態"})]}),e.jsx("div",{className:"tracking-card bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-8 mb-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Zt,{className:"w-16 h-16 text-[#cc824d] mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-chinese",children:"包裹追蹤查詢"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"請輸入完整的追蹤號碼"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Fr,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",value:s,onChange:x=>t(x.target.value),placeholder:"請輸入追蹤號碼，例如：TW1234567890",className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent text-lg",onKeyPress:x=>x.key==="Enter"&&c()})]}),e.jsx("button",{onClick:c,disabled:a||!s.trim(),className:"px-8 py-4 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"查詢中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Fr,{className:"w-5 h-5"}),e.jsx("span",{children:"查詢"})]})})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("button",{className:"flex items-center space-x-2 text-[#cc824d] hover:text-[#b8743d] transition-colors",children:[e.jsx(X2,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"掃描追蹤二維碼"})]})})]})}),r&&e.jsxs("div",{className:"tracking-card bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#cc824d] to-[#b8743d] p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold font-chinese",children:"追蹤結果"}),e.jsxs("p",{className:"text-white/80 mt-1",children:["追蹤號碼：",r.trackingNumber]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${p(r.status)} bg-white/20 backdrop-blur-sm border border-white/30`,children:h(r.status)})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Kn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"承運商資訊"})]}),e.jsx("p",{className:"text-gray-700",children:r.carrier}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["客服電話：",r.carrierPhone]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(sn,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"配送資訊"})]}),e.jsxs("p",{className:"text-gray-700",children:["收件人：",r.recipient]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["目的地：",r.destination]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(je,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"預計送達"})]}),e.jsx("p",{className:"text-gray-700",children:r.estimatedDelivery}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["目前位置：",r.currentLocation]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"包裹詳情"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"訂單編號："}),e.jsx("span",{className:"text-blue-900",children:r.orderNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"包裹數量："}),e.jsxs("span",{className:"text-blue-900",children:[r.packageCount," 件"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"總重量："}),e.jsx("span",{className:"text-blue-900",children:r.weight})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"收件電話："}),e.jsx("span",{className:"text-blue-900",children:r.recipientPhone})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6 font-chinese",children:"運送進度"}),e.jsx("div",{className:"space-y-4",children:r.timeline.map((x,f)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${x.completed?"bg-green-100":"bg-gray-100"}`,children:m(x.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h5",{className:`font-medium ${x.completed?"text-gray-900":"text-gray-500"}`,children:x.description}),x.completed&&e.jsx(he,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[e.jsx("span",{children:x.location}),x.time&&e.jsx("span",{className:"ml-4",children:y(x.time)})]})]})]},f))})]})]})]}),l.length>0&&e.jsxs("div",{className:"tracking-card bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-chinese",children:"最近查詢記錄"}),e.jsx("div",{className:"space-y-3",children:l.map((x,f)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{t(x.trackingNumber),n(x.result)},children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:m(x.result.status)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:x.trackingNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:[x.result.carrier,"  ",x.result.recipient,"  ",x.result.orderNumber]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(x.result.status)}`,children:h(x.result.status)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y(x.queriedAt)})]})]},f))})]}),e.jsx("div",{className:"tracking-card bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6 mt-8",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Te,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"追蹤說明"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" 追蹤號碼通常在出貨通知中提供"}),e.jsx("li",{children:" 物流資訊可能有1-2小時的延遲更新"}),e.jsx("li",{children:" 如有問題請聯繫對應的承運商客服"}),e.jsx("li",{children:" 支援掃描包裹上的追蹤二維碼"})]})]})]})})]})},m9=()=>{const[s,t]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d]"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"載入中..."})]})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"退貨管理"}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"退貨管理開發中..."})})]})})},h9=()=>{const[s,t]=u.useState(!1),[r,n]=u.useState(null),a={summary:{totalShipments:1245,totalCost:125680,averageDeliveryTime:2.8,onTimeRate:.94,customerSatisfaction:4.6},deliveryMethods:[{method:"標準配送",count:680,percentage:54.6},{method:"快速配送",count:412,percentage:33.1},{method:"特急配送",count:153,percentage:12.3}]};u.useEffect(()=>{i()},[]);const i=async()=>{t(!0);try{await new Promise(c=>setTimeout(c,1e3)),n(a)}catch(c){console.error("載入分析數據失敗:",c)}finally{t(!1)}},l=c=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(c),o=c=>`${(c*100).toFixed(1)}%`;return s?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d] mx-auto mb-4"}),e.jsx("span",{className:"text-gray-600",children:"載入分析數據中..."})]})})})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"物流分析報表"}),e.jsx("p",{className:"text-gray-600",children:"詳細的物流數據分析、績效報表、趨勢預測"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{className:"px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors",children:"匯出報表"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總配送費用"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l((r==null?void 0:r.summary.totalCost)||0)}),e.jsx("p",{className:"text-sm text-green-600",children:"↑ 12.5%"})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(dt,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"配送訂單量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.summary.totalShipments.toLocaleString())||0}),e.jsx("p",{className:"text-sm text-green-600",children:"↑ 8.3%"})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Zt,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"平均配送時間"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(r==null?void 0:r.summary.averageDeliveryTime)||0," 天"]}),e.jsx("p",{className:"text-sm text-red-600",children:"↑ 0.2天"})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"準時率"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o((r==null?void 0:r.summary.onTimeRate)||0)}),e.jsx("p",{className:"text-sm text-green-600",children:"↑ 2.1%"})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(ke,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"客戶滿意度"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(r==null?void 0:r.summary.customerSatisfaction)||0,"/5.0"]}),e.jsx("p",{className:"text-sm text-green-600",children:"↑ 0.3"})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx("span",{className:"text-orange-600 text-xl",children:"★"})})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"配送方式統計"}),e.jsx("div",{className:"space-y-4",children:r==null?void 0:r.deliveryMethods.map((c,d)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full bg-${["blue","green","orange"][d]}-500`}),e.jsx("span",{className:"text-gray-700",children:c.method})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-gray-900 font-semibold",children:c.count}),e.jsxs("div",{className:"text-gray-500 text-sm",children:[c.percentage,"%"]})]})]},d))})]})]})})},x9=()=>{const[s,t]=u.useState([]);u.useState(!1);const r=[{id:"provider_001",name:"順豐速運",type:"express",contactInfo:{phone:"02-2345-6789",email:"contact@sf-express.com",address:"台北市信義區信義路五段23號"},serviceAreas:["台北市","新北市","桃園市","台中市"],isActive:!0},{id:"provider_002",name:"黑貓宅急便",type:"courier",contactInfo:{phone:"02-3456-7890",email:"service@blackcat.com",address:"台北市中山區民生東路456號"},serviceAreas:["全台灣"],isActive:!0}];return u.useEffect(()=>{t(r)},[]),e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"物流供應商管理"}),e.jsx("p",{className:"text-gray-600",children:"管理和維護物流配送供應商資訊"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(n=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg border border-white/20 shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:["電話：",n.contactInfo.phone]}),e.jsxs("div",{children:["信箱：",n.contactInfo.email]}),e.jsxs("div",{children:["地址：",n.contactInfo.address]})]})]},n.id))})]})})},p9=()=>e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(o9,{})}),e.jsx(W,{path:"shipments",element:e.jsx(c9,{})}),e.jsx(W,{path:"shipping-rates",element:e.jsx(d9,{})}),e.jsx(W,{path:"tracking",element:e.jsx(u9,{})}),e.jsx(W,{path:"returns",element:e.jsx(m9,{})}),e.jsx(W,{path:"analytics",element:e.jsx(h9,{})}),e.jsx(W,{path:"providers",element:e.jsx(x9,{})})]}),mN=u.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"}),Rm=u.createContext({}),Im=u.createContext(null),Lm=typeof document<"u",xf=Lm?u.useLayoutEffect:u.useEffect,hN=u.createContext({strict:!1}),pf=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),f9="framerAppearId",xN="data-"+pf(f9);function g9(s,t,r,n){const{visualElement:a}=u.useContext(Rm),i=u.useContext(hN),l=u.useContext(Im),o=u.useContext(mN).reducedMotion,c=u.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(s,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const d=c.current;u.useInsertionEffect(()=>{d&&d.update(r,l)});const m=u.useRef(!!(r[xN]&&!window.HandoffComplete));return xf(()=>{d&&(d.render(),m.current&&d.animationState&&d.animationState.animateChanges())}),u.useEffect(()=>{d&&(d.updateFeatures(),!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),d}function cl(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function y9(s,t,r){return u.useCallback(n=>{n&&s.mount&&s.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):cl(r)&&(r.current=n))},[t])}function Pc(s){return typeof s=="string"||Array.isArray(s)}function Om(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gf=["initial",...ff];function Fm(s){return Om(s.animate)||gf.some(t=>Pc(s[t]))}function pN(s){return!!(Fm(s)||s.variants)}function v9(s,t){if(Fm(s)){const{initial:r,animate:n}=s;return{initial:r===!1||Pc(r)?r:void 0,animate:Pc(n)?n:void 0}}return s.inherit!==!1?t:{}}function b9(s){const{initial:t,animate:r}=v9(s,u.useContext(Rm));return u.useMemo(()=>({initial:t,animate:r}),[Zy(t),Zy(r)])}function Zy(s){return Array.isArray(s)?s.join(" "):s}const Ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rc={};for(const s in Ky)Rc[s]={isEnabled:t=>Ky[s].some(r=>!!t[r])};function j9(s){for(const t in s)Rc[t]={...Rc[t],...s[t]}}const yf=u.createContext({}),fN=u.createContext({}),N9=Symbol.for("motionComponentSymbol");function w9({preloadedFeatures:s,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){s&&j9(s);function i(o,c){let d;const m={...u.useContext(mN),...o,layoutId:_9(o)},{isStatic:h}=m,p=b9(o),y=n(o,h);if(!h&&Lm){p.visualElement=g9(a,y,m,t);const x=u.useContext(fN),f=u.useContext(hN).strict;p.visualElement&&(d=p.visualElement.loadFeatures(m,f,s,x))}return u.createElement(Rm.Provider,{value:p},d&&p.visualElement?u.createElement(d,{visualElement:p.visualElement,...m}):null,r(a,o,y9(y,p.visualElement,c),y,h,p.visualElement))}const l=u.forwardRef(i);return l[N9]=a,l}function _9({layoutId:s}){const t=u.useContext(yf).id;return t&&s!==void 0?t+"-"+s:s}function k9(s){function t(n,a={}){return w9(s(n,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const S9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vf(s){return typeof s!="string"||s.includes("-")?!1:!!(S9.indexOf(s)>-1||/[A-Z]/.test(s))}const Ku={};function C9(s){Object.assign(Ku,s)}const qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ri=new Set(qc);function gN(s,{layout:t,layoutId:r}){return Ri.has(s)||s.startsWith("origin")||(t||r!==void 0)&&(!!Ku[s]||s==="opacity")}const $s=s=>!!(s&&s.getVelocity),T9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M9=qc.length;function D9(s,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,a){let i="";for(let l=0;l<M9;l++){const o=qc[l];if(s[o]!==void 0){const c=T9[o]||o;i+=`${c}(${s[o]}) `}}return t&&!s.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(s,n?"":i):r&&n&&(i="none"),i}const yN=s=>t=>typeof t=="string"&&t.startsWith(s),vN=yN("--"),_x=yN("var(--"),E9=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,A9=(s,t)=>t&&typeof s=="number"?t.transform(s):s,Ia=(s,t,r)=>Math.min(Math.max(r,s),t),Ii={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Ko={...Ii,transform:s=>Ia(0,1,s)},Pd={...Ii,default:1},Xo=s=>Math.round(s*1e5)/1e5,$m=/(-)?([\d]*\.?[\d])+/g,bN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,P9=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Yc(s){return typeof s=="string"}const Zc=s=>({test:t=>Yc(t)&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),qn=Zc("deg"),nn=Zc("%"),ae=Zc("px"),R9=Zc("vh"),I9=Zc("vw"),Xy={...nn,parse:s=>nn.parse(s)/100,transform:s=>nn.transform(s*100)},Qy={...Ii,transform:Math.round},jN={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:qn,rotateX:qn,rotateY:qn,rotateZ:qn,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:qn,skewX:qn,skewY:qn,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Ko,originX:Xy,originY:Xy,originZ:ae,zIndex:Qy,fillOpacity:Ko,strokeOpacity:Ko,numOctaves:Qy};function bf(s,t,r,n){const{style:a,vars:i,transform:l,transformOrigin:o}=s;let c=!1,d=!1,m=!0;for(const h in t){const p=t[h];if(vN(h)){i[h]=p;continue}const y=jN[h],x=A9(p,y);if(Ri.has(h)){if(c=!0,l[h]=x,!m)continue;p!==(y.default||0)&&(m=!1)}else h.startsWith("origin")?(d=!0,o[h]=x):a[h]=x}if(t.transform||(c||n?a.transform=D9(s.transform,r,m,n):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=o;a.transformOrigin=`${h} ${p} ${y}`}}const jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NN(s,t,r){for(const n in t)!$s(t[n])&&!gN(n,r)&&(s[n]=t[n])}function L9({transformTemplate:s},t,r){return u.useMemo(()=>{const n=jf();return bf(n,t,{enableHardwareAcceleration:!r},s),Object.assign({},n.vars,n.style)},[t])}function O9(s,t,r){const n=s.style||{},a={};return NN(a,n,s),Object.assign(a,L9(s,t,r)),s.transformValues?s.transformValues(a):a}function F9(s,t,r){const n={},a=O9(s,t,r);return s.drag&&s.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(n.tabIndex=0),n.style=a,n}const $9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xu(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||$9.has(s)}let wN=s=>!Xu(s);function V9(s){s&&(wN=t=>t.startsWith("on")?!Xu(t):s(t))}try{V9(require("@emotion/is-prop-valid").default)}catch{}function B9(s,t,r){const n={};for(const a in s)a==="values"&&typeof s.values=="object"||(wN(a)||r===!0&&Xu(a)||!t&&!Xu(a)||s.draggable&&a.startsWith("onDrag"))&&(n[a]=s[a]);return n}function Jy(s,t,r){return typeof s=="string"?s:ae.transform(t+r*s)}function z9(s,t,r){const n=Jy(t,s.x,s.width),a=Jy(r,s.y,s.height);return`${n} ${a}`}const U9={offset:"stroke-dashoffset",array:"stroke-dasharray"},W9={offset:"strokeDashoffset",array:"strokeDasharray"};function H9(s,t,r=1,n=0,a=!0){s.pathLength=1;const i=a?U9:W9;s[i.offset]=ae.transform(-n);const l=ae.transform(t),o=ae.transform(r);s[i.array]=`${l} ${o}`}function Nf(s,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...d},m,h,p){if(bf(s,d,m,p),h){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:y,style:x,dimensions:f}=s;y.transform&&(f&&(x.transform=y.transform),delete y.transform),f&&(a!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=z9(f,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),l!==void 0&&H9(y,l,o,c,!1)}const _N=()=>({...jf(),attrs:{}}),wf=s=>typeof s=="string"&&s.toLowerCase()==="svg";function G9(s,t,r,n){const a=u.useMemo(()=>{const i=_N();return Nf(i,t,{enableHardwareAcceleration:!1},wf(n),s.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(s.style){const i={};NN(i,s.style,s),a.style={...i,...a.style}}return a}function q9(s=!1){return(r,n,a,{latestValues:i},l)=>{const c=(vf(r)?G9:F9)(n,i,l,r),m={...B9(n,typeof r=="string",s),...c,ref:a},{children:h}=n,p=u.useMemo(()=>$s(h)?h.get():h,[h]);return u.createElement(r,{...m,children:p})}}function kN(s,{style:t,vars:r},n,a){Object.assign(s.style,t,a&&a.getProjectionStyles(n));for(const i in r)s.style.setProperty(i,r[i])}const SN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CN(s,t,r,n){kN(s,t,void 0,n);for(const a in t.attrs)s.setAttribute(SN.has(a)?a:pf(a),t.attrs[a])}function _f(s,t){const{style:r}=s,n={};for(const a in r)($s(r[a])||t.style&&$s(t.style[a])||gN(a,s))&&(n[a]=r[a]);return n}function TN(s,t){const r=_f(s,t);for(const n in s)if($s(s[n])||$s(t[n])){const a=qc.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=s[n]}return r}function kf(s,t,r,n={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:s.custom,n,a)),typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:s.custom,n,a)),t}function MN(s){const t=u.useRef(null);return t.current===null&&(t.current=s()),t.current}const Qu=s=>Array.isArray(s),Y9=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),Z9=s=>Qu(s)?s[s.length-1]||0:s;function au(s){const t=$s(s)?s.get():s;return Y9(t)?t.toValue():t}function K9({scrapeMotionValuesFromProps:s,createRenderState:t,onMount:r},n,a,i){const l={latestValues:X9(n,a,i,s),renderState:t()};return r&&(l.mount=o=>r(n,o,l)),l}const DN=s=>(t,r)=>{const n=u.useContext(Rm),a=u.useContext(Im),i=()=>K9(s,t,n,a);return r?i():MN(i)};function X9(s,t,r,n){const a={},i=n(s,{});for(const p in i)a[p]=au(i[p]);let{initial:l,animate:o}=s;const c=Fm(s),d=pN(s);t&&d&&!c&&s.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let m=r?r.initial===!1:!1;m=m||l===!1;const h=m?o:l;return h&&typeof h!="boolean"&&!Om(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const x=kf(s,y);if(!x)return;const{transitionEnd:f,transition:b,...v}=x;for(const g in v){let w=v[g];if(Array.isArray(w)){const N=m?w.length-1:0;w=w[N]}w!==null&&(a[g]=w)}for(const g in f)a[g]=f[g]}),a}const ot=s=>s;class ev{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Q9(s){let t=new ev,r=new ev,n=0,a=!1,i=!1;const l=new WeakSet,o={schedule:(c,d=!1,m=!1)=>{const h=m&&a,p=h?t:r;return d&&l.add(c),p.add(c)&&h&&a&&(n=t.order.length),c},cancel:c=>{r.remove(c),l.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const m=t.order[d];m(c),l.has(m)&&(o.schedule(m),s())}a=!1,i&&(i=!1,o.process(c))}};return o}const Rd=["prepare","read","update","preRender","render","postRender"],J9=40;function eM(s,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Rd.reduce((h,p)=>(h[p]=Q9(()=>r=!0),h),{}),l=h=>i[h].process(a),o=()=>{const h=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(h-a.timestamp,J9),1),a.timestamp=h,a.isProcessing=!0,Rd.forEach(l),a.isProcessing=!1,r&&t&&(n=!1,s(o))},c=()=>{r=!0,n=!0,a.isProcessing||s(o)};return{schedule:Rd.reduce((h,p)=>{const y=i[p];return h[p]=(x,f=!1,b=!1)=>(r||c(),y.schedule(x,f,b)),h},{}),cancel:h=>Rd.forEach(p=>i[p].cancel(h)),state:a,steps:i}}const{schedule:Fe,cancel:Rn,state:is,steps:Oh}=eM(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0),tM={useVisualState:DN({scrapeMotionValuesFromProps:TN,createRenderState:_N,onMount:(s,t,{renderState:r,latestValues:n})=>{Fe.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Fe.render(()=>{Nf(r,n,{enableHardwareAcceleration:!1},wf(t.tagName),s.transformTemplate),CN(t,r)})}})},sM={useVisualState:DN({scrapeMotionValuesFromProps:_f,createRenderState:jf})};function rM(s,{forwardMotionProps:t=!1},r,n){return{...vf(s)?tM:sM,preloadedFeatures:r,useRender:q9(t),createVisualElement:n,Component:s}}function Nn(s,t,r,n={passive:!0}){return s.addEventListener(t,r,n),()=>s.removeEventListener(t,r)}const EN=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1;function Vm(s,t="page"){return{point:{x:s[t+"X"],y:s[t+"Y"]}}}const nM=s=>t=>EN(t)&&s(t,Vm(t));function kn(s,t,r,n){return Nn(s,t,nM(r),n)}const aM=(s,t)=>r=>t(s(r)),Sa=(...s)=>s.reduce(aM);function AN(s){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=s,r):!1}}const tv=AN("dragHorizontal"),sv=AN("dragVertical");function PN(s){let t=!1;if(s==="y")t=sv();else if(s==="x")t=tv();else{const r=tv(),n=sv();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function RN(){const s=PN(!0);return s?(s(),!1):!0}class za{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rv(s,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,l)=>{if(i.pointerType==="touch"||RN())return;const o=s.getProps();s.animationState&&o.whileHover&&s.animationState.setActive("whileHover",t),o[n]&&Fe.update(()=>o[n](i,l))};return kn(s.current,r,a,{passive:!s.getProps()[n]})}class iM extends za{mount(){this.unmount=Sa(rv(this.node,!0),rv(this.node,!1))}unmount(){}}class lM extends za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(Nn(this.node.current,"focus",()=>this.onFocus()),Nn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IN=(s,t)=>t?s===t?!0:IN(s,t.parentElement):!1;function Fh(s,t){if(!t)return;const r=new PointerEvent("pointer"+s);t(r,Vm(r))}class oM extends za{constructor(){super(...arguments),this.removeStartListeners=ot,this.removeEndListeners=ot,this.removeAccessibleListeners=ot,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=kn(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m,globalTapTarget:h}=this.node.getProps();Fe.update(()=>{!h&&!IN(this.node.current,o.target)?m&&m(o,c):d&&d(o,c)})},{passive:!(n.onTap||n.onPointerUp)}),l=kn(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Sa(i,l),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Fh("up",(c,d)=>{const{onTap:m}=this.node.getProps();m&&Fe.update(()=>m(c,d))})};this.removeEndListeners(),this.removeEndListeners=Nn(this.node.current,"keyup",l),Fh("down",(o,c)=>{this.startPress(o,c)})},r=Nn(this.node.current,"keydown",t),n=()=>{this.isPressing&&Fh("cancel",(i,l)=>this.cancelPress(i,l))},a=Nn(this.node.current,"blur",n);this.removeAccessibleListeners=Sa(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Fe.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RN()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Fe.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=kn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Nn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sa(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kx=new WeakMap,$h=new WeakMap,cM=s=>{const t=kx.get(s.target);t&&t(s)},dM=s=>{s.forEach(cM)};function uM({root:s,...t}){const r=s||document;$h.has(r)||$h.set(r,{});const n=$h.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(dM,{root:s,...t})),n[a]}function mM(s,t,r){const n=uM(t);return kx.set(s,r),n.observe(s),()=>{kx.delete(s),n.unobserve(s)}}const hM={some:0,all:1};class xM extends za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:hM[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),p=d?m:h;p&&p(c)};return mM(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(pM(t,r))&&this.startObserver()}unmount(){}}function pM({viewport:s={}},{viewport:t={}}={}){return r=>s[r]!==t[r]}const fM={inView:{Feature:xM},tap:{Feature:oM},focus:{Feature:lM},hover:{Feature:iM}};function LN(s,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==s.length)return!1;for(let n=0;n<r;n++)if(t[n]!==s[n])return!1;return!0}function gM(s){const t={};return s.values.forEach((r,n)=>t[n]=r.get()),t}function yM(s){const t={};return s.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Bm(s,t,r){const n=s.getProps();return kf(n,t,r!==void 0?r:n.custom,gM(s),yM(s))}let vM=ot,Sf=ot;const Ca=s=>s*1e3,Sn=s=>s/1e3,bM={current:!1},ON=s=>Array.isArray(s)&&typeof s[0]=="number";function FN(s){return!!(!s||typeof s=="string"&&$N[s]||ON(s)||Array.isArray(s)&&s.every(FN))}const Co=([s,t,r,n])=>`cubic-bezier(${s}, ${t}, ${r}, ${n})`,$N={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function VN(s){if(s)return ON(s)?Co(s):Array.isArray(s)?s.map(VN):$N[s]}function jM(s,t,r,{delay:n=0,duration:a,repeat:i=0,repeatType:l="loop",ease:o,times:c}={}){const d={[t]:r};c&&(d.offset=c);const m=VN(o);return Array.isArray(m)&&(d.easing=m),s.animate(d,{delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function NM(s,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[n]}const BN=(s,t,r)=>(((1-3*r+3*t)*s+(3*r-6*t))*s+3*t)*s,wM=1e-7,_M=12;function kM(s,t,r,n,a){let i,l,o=0;do l=t+(r-t)/2,i=BN(l,n,a)-s,i>0?r=l:t=l;while(Math.abs(i)>wM&&++o<_M);return l}function Kc(s,t,r,n){if(s===t&&r===n)return ot;const a=i=>kM(i,0,1,s,r);return i=>i===0||i===1?i:BN(a(i),t,n)}const SM=Kc(.42,0,1,1),CM=Kc(0,0,.58,1),zN=Kc(.42,0,.58,1),TM=s=>Array.isArray(s)&&typeof s[0]!="number",UN=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,WN=s=>t=>1-s(1-t),Cf=s=>1-Math.sin(Math.acos(s)),HN=WN(Cf),MM=UN(Cf),GN=Kc(.33,1.53,.69,.99),Tf=WN(GN),DM=UN(Tf),EM=s=>(s*=2)<1?.5*Tf(s):.5*(2-Math.pow(2,-10*(s-1))),AM={linear:ot,easeIn:SM,easeInOut:zN,easeOut:CM,circIn:Cf,circInOut:MM,circOut:HN,backIn:Tf,backInOut:DM,backOut:GN,anticipate:EM},nv=s=>{if(Array.isArray(s)){Sf(s.length===4);const[t,r,n,a]=s;return Kc(t,r,n,a)}else if(typeof s=="string")return AM[s];return s},Mf=(s,t)=>r=>!!(Yc(r)&&P9.test(r)&&r.startsWith(s)||t&&Object.prototype.hasOwnProperty.call(r,t)),qN=(s,t,r)=>n=>{if(!Yc(n))return n;const[a,i,l,o]=n.match($m);return{[s]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},PM=s=>Ia(0,255,s),Vh={...Ii,transform:s=>Math.round(PM(s))},di={test:Mf("rgb","red"),parse:qN("red","green","blue"),transform:({red:s,green:t,blue:r,alpha:n=1})=>"rgba("+Vh.transform(s)+", "+Vh.transform(t)+", "+Vh.transform(r)+", "+Xo(Ko.transform(n))+")"};function RM(s){let t="",r="",n="",a="";return s.length>5?(t=s.substring(1,3),r=s.substring(3,5),n=s.substring(5,7),a=s.substring(7,9)):(t=s.substring(1,2),r=s.substring(2,3),n=s.substring(3,4),a=s.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Sx={test:Mf("#"),parse:RM,transform:di.transform},dl={test:Mf("hsl","hue"),parse:qN("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(s)+", "+nn.transform(Xo(t))+", "+nn.transform(Xo(r))+", "+Xo(Ko.transform(n))+")"},ys={test:s=>di.test(s)||Sx.test(s)||dl.test(s),parse:s=>di.test(s)?di.parse(s):dl.test(s)?dl.parse(s):Sx.parse(s),transform:s=>Yc(s)?s:s.hasOwnProperty("red")?di.transform(s):dl.transform(s)},Qe=(s,t,r)=>-r*s+r*t+s;function Bh(s,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(t-s)*6*r:r<1/2?t:r<2/3?s+(t-s)*(2/3-r)*6:s}function IM({hue:s,saturation:t,lightness:r,alpha:n}){s/=360,t/=100,r/=100;let a=0,i=0,l=0;if(!t)a=i=l=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;a=Bh(c,o,s+1/3),i=Bh(c,o,s),l=Bh(c,o,s-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}const zh=(s,t,r)=>{const n=s*s;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},LM=[Sx,di,dl],OM=s=>LM.find(t=>t.test(s));function av(s){const t=OM(s);let r=t.parse(s);return t===dl&&(r=IM(r)),r}const YN=(s,t)=>{const r=av(s),n=av(t),a={...r};return i=>(a.red=zh(r.red,n.red,i),a.green=zh(r.green,n.green,i),a.blue=zh(r.blue,n.blue,i),a.alpha=Qe(r.alpha,n.alpha,i),di.transform(a))};function FM(s){var t,r;return isNaN(s)&&Yc(s)&&(((t=s.match($m))===null||t===void 0?void 0:t.length)||0)+(((r=s.match(bN))===null||r===void 0?void 0:r.length)||0)>0}const ZN={regex:E9,countKey:"Vars",token:"${v}",parse:ot},KN={regex:bN,countKey:"Colors",token:"${c}",parse:ys.parse},XN={regex:$m,countKey:"Numbers",token:"${n}",parse:Ii.parse};function Uh(s,{regex:t,countKey:r,token:n,parse:a}){const i=s.tokenised.match(t);i&&(s["num"+r]=i.length,s.tokenised=s.tokenised.replace(t,n),s.values.push(...i.map(a)))}function Ju(s){const t=s.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Uh(r,ZN),Uh(r,KN),Uh(r,XN),r}function QN(s){return Ju(s).values}function JN(s){const{values:t,numColors:r,numVars:n,tokenised:a}=Ju(s),i=t.length;return l=>{let o=a;for(let c=0;c<i;c++)c<n?o=o.replace(ZN.token,l[c]):c<n+r?o=o.replace(KN.token,ys.transform(l[c])):o=o.replace(XN.token,Xo(l[c]));return o}}const $M=s=>typeof s=="number"?0:s;function VM(s){const t=QN(s);return JN(s)(t.map($M))}const La={test:FM,parse:QN,createTransformer:JN,getAnimatableNone:VM},ew=(s,t)=>r=>`${r>0?t:s}`;function tw(s,t){return typeof s=="number"?r=>Qe(s,t,r):ys.test(s)?YN(s,t):s.startsWith("var(")?ew(s,t):rw(s,t)}const sw=(s,t)=>{const r=[...s],n=r.length,a=s.map((i,l)=>tw(i,t[l]));return i=>{for(let l=0;l<n;l++)r[l]=a[l](i);return r}},BM=(s,t)=>{const r={...s,...t},n={};for(const a in r)s[a]!==void 0&&t[a]!==void 0&&(n[a]=tw(s[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}},rw=(s,t)=>{const r=La.createTransformer(t),n=Ju(s),a=Ju(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Sa(sw(n.values,a.values),r):ew(s,t)},Ic=(s,t,r)=>{const n=t-s;return n===0?1:(r-s)/n},iv=(s,t)=>r=>Qe(s,t,r);function zM(s){return typeof s=="number"?iv:typeof s=="string"?ys.test(s)?YN:rw:Array.isArray(s)?sw:typeof s=="object"?BM:iv}function UM(s,t,r){const n=[],a=r||zM(s[0]),i=s.length-1;for(let l=0;l<i;l++){let o=a(s[l],s[l+1]);if(t){const c=Array.isArray(t)?t[l]||ot:t;o=Sa(c,o)}n.push(o)}return n}function nw(s,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=s.length;if(Sf(i===t.length),i===1)return()=>t[0];s[0]>s[i-1]&&(s=[...s].reverse(),t=[...t].reverse());const l=UM(t,n,a),o=l.length,c=d=>{let m=0;if(o>1)for(;m<s.length-2&&!(d<s[m+1]);m++);const h=Ic(s[m],s[m+1],d);return l[m](h)};return r?d=>c(Ia(s[0],s[i-1],d)):c}function WM(s,t){const r=s[s.length-1];for(let n=1;n<=t;n++){const a=Ic(0,t,n);s.push(Qe(r,1,a))}}function HM(s){const t=[0];return WM(t,s.length-1),t}function GM(s,t){return s.map(r=>r*t)}function qM(s,t){return s.map(()=>t||zN).splice(0,s.length-1)}function em({duration:s=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=TM(n)?n.map(nv):nv(n),i={done:!1,value:t[0]},l=GM(r&&r.length===t.length?r:HM(t),s),o=nw(l,t,{ease:Array.isArray(a)?a:qM(t,a)});return{calculatedDuration:s,next:c=>(i.value=o(c),i.done=c>=s,i)}}function aw(s,t){return t?s*(1e3/t):0}const YM=5;function iw(s,t,r){const n=Math.max(t-YM,0);return aw(r-s(n),t-n)}const Wh=.001,ZM=.01,lv=10,KM=.05,XM=1;function QM({duration:s=800,bounce:t=.25,velocity:r=0,mass:n=1}){let a,i;vM(s<=Ca(lv));let l=1-t;l=Ia(KM,XM,l),s=Ia(ZM,lv,Sn(s)),l<1?(a=d=>{const m=d*l,h=m*s,p=m-r,y=Cx(d,l),x=Math.exp(-h);return Wh-p/y*x},i=d=>{const h=d*l*s,p=h*r+r,y=Math.pow(l,2)*Math.pow(d,2)*s,x=Math.exp(-h),f=Cx(Math.pow(d,2),l);return(-a(d)+Wh>0?-1:1)*((p-y)*x)/f}):(a=d=>{const m=Math.exp(-d*s),h=(d-r)*s+1;return-Wh+m*h},i=d=>{const m=Math.exp(-d*s),h=(r-d)*(s*s);return m*h});const o=5/s,c=eD(a,i,o);if(s=Ca(s),isNaN(c))return{stiffness:100,damping:10,duration:s};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:s}}}const JM=12;function eD(s,t,r){let n=r;for(let a=1;a<JM;a++)n=n-s(n)/t(n);return n}function Cx(s,t){return s*Math.sqrt(1-t*t)}const tD=["duration","bounce"],sD=["stiffness","damping","mass"];function ov(s,t){return t.some(r=>s[r]!==void 0)}function rD(s){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...s};if(!ov(s,sD)&&ov(s,tD)){const r=QM(s);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function lw({keyframes:s,restDelta:t,restSpeed:r,...n}){const a=s[0],i=s[s.length-1],l={done:!1,value:a},{stiffness:o,damping:c,mass:d,duration:m,velocity:h,isResolvedFromDuration:p}=rD({...n,velocity:-Sn(n.velocity||0)}),y=h||0,x=c/(2*Math.sqrt(o*d)),f=i-a,b=Sn(Math.sqrt(o/d)),v=Math.abs(f)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let g;if(x<1){const w=Cx(b,x);g=N=>{const j=Math.exp(-x*b*N);return i-j*((y+x*b*f)/w*Math.sin(w*N)+f*Math.cos(w*N))}}else if(x===1)g=w=>i-Math.exp(-b*w)*(f+(y+b*f)*w);else{const w=b*Math.sqrt(x*x-1);g=N=>{const j=Math.exp(-x*b*N),_=Math.min(w*N,300);return i-j*((y+x*b*f)*Math.sinh(_)+w*f*Math.cosh(_))/w}}return{calculatedDuration:p&&m||null,next:w=>{const N=g(w);if(p)l.done=w>=m;else{let j=y;w!==0&&(x<1?j=iw(g,w,N):j=0);const _=Math.abs(j)<=r,k=Math.abs(i-N)<=t;l.done=_&&k}return l.value=l.done?i:N,l}}}function cv({keyframes:s,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:m}){const h=s[0],p={done:!1,value:h},y=T=>o!==void 0&&T<o||c!==void 0&&T>c,x=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let f=r*t;const b=h+f,v=l===void 0?b:l(b);v!==b&&(f=v-h);const g=T=>-f*Math.exp(-T/n),w=T=>v+g(T),N=T=>{const C=g(T),E=w(T);p.done=Math.abs(C)<=d,p.value=p.done?v:E};let j,_;const k=T=>{y(p.value)&&(j=T,_=lw({keyframes:[p.value,x(p.value)],velocity:iw(w,T,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:m}))};return k(0),{calculatedDuration:null,next:T=>{let C=!1;return!_&&j===void 0&&(C=!0,N(T),k(T)),j!==void 0&&T>j?_.next(T-j):(!C&&N(T),p)}}}const nD=s=>{const t=({timestamp:r})=>s(r);return{start:()=>Fe.update(t,!0),stop:()=>Rn(t),now:()=>is.isProcessing?is.timestamp:performance.now()}},dv=2e4;function uv(s){let t=0;const r=50;let n=s.next(t);for(;!n.done&&t<dv;)t+=r,n=s.next(t);return t>=dv?1/0:t}const aD={decay:cv,inertia:cv,tween:em,keyframes:em,spring:lw};function tm({autoplay:s=!0,delay:t=0,driver:r=nD,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:c,onStop:d,onComplete:m,onUpdate:h,...p}){let y=1,x=!1,f,b;const v=()=>{b=new Promise(V=>{f=V})};v();let g;const w=aD[a]||em;let N;w!==em&&typeof n[0]!="number"&&(N=nw([0,100],n,{clamp:!1}),n=[0,100]);const j=w({...p,keyframes:n});let _;o==="mirror"&&(_=w({...p,keyframes:[...n].reverse(),velocity:-(p.velocity||0)}));let k="idle",T=null,C=null,E=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=uv(j));const{calculatedDuration:R}=j;let M=1/0,$=1/0;R!==null&&(M=R+l,$=M*(i+1)-l);let A=0;const z=V=>{if(C===null)return;y>0&&(C=Math.min(C,V)),y<0&&(C=Math.min(V-$/y,C)),T!==null?A=T:A=Math.round(V-C)*y;const G=A-t*(y>=0?1:-1),q=y>=0?G<0:G>$;A=Math.max(G,0),k==="finished"&&T===null&&(A=$);let P=A,U=j;if(i){const L=Math.min(A,$)/M;let ee=Math.floor(L),re=L%1;!re&&L>=1&&(re=1),re===1&&ee--,ee=Math.min(ee,i+1),!!(ee%2)&&(o==="reverse"?(re=1-re,l&&(re-=l/M)):o==="mirror"&&(U=_)),P=Ia(0,1,re)*M}const Y=q?{done:!1,value:n[0]}:U.next(P);N&&(Y.value=N(Y.value));let{done:se}=Y;!q&&R!==null&&(se=y>=0?A>=$:A<=0);const ue=T===null&&(k==="finished"||k==="running"&&se);return h&&h(Y.value),ue&&I(),Y},D=()=>{g&&g.stop(),g=void 0},O=()=>{k="idle",D(),f(),v(),C=E=null},I=()=>{k="finished",m&&m(),D(),f()},F=()=>{if(x)return;g||(g=r(z));const V=g.now();c&&c(),T!==null?C=V-T:(!C||k==="finished")&&(C=V),k==="finished"&&v(),E=C,T=null,k="running",g.start()};s&&F();const S={then(V,G){return b.then(V,G)},get time(){return Sn(A)},set time(V){V=Ca(V),A=V,T!==null||!g||y===0?T=V:C=g.now()-V/y},get duration(){const V=j.calculatedDuration===null?uv(j):j.calculatedDuration;return Sn(V)},get speed(){return y},set speed(V){V===y||!g||(y=V,S.time=Sn(A))},get state(){return k},play:F,pause:()=>{k="paused",T=A},stop:()=>{x=!0,k!=="idle"&&(k="idle",d&&d(),O())},cancel:()=>{E!==null&&z(E),O()},complete:()=>{k="finished"},sample:V=>(C=0,z(V))};return S}function iD(s){let t;return()=>(t===void 0&&(t=s()),t)}const lD=iD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Id=10,cD=2e4,dD=(s,t)=>t.type==="spring"||s==="backgroundColor"||!FN(t.ease);function uD(s,t,{onUpdate:r,onComplete:n,...a}){if(!(lD()&&oD.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let l=!1,o,c,d=!1;const m=()=>{c=new Promise(w=>{o=w})};m();let{keyframes:h,duration:p=300,ease:y,times:x}=a;if(dD(t,a)){const w=tm({...a,repeat:0,delay:0});let N={done:!1,value:h[0]};const j=[];let _=0;for(;!N.done&&_<cD;)N=w.sample(_),j.push(N.value),_+=Id;x=void 0,h=j,p=_-Id,y="linear"}const f=jM(s.owner.current,t,h,{...a,duration:p,ease:y,times:x}),b=()=>{d=!1,f.cancel()},v=()=>{d=!0,Fe.update(b),o(),m()};return f.onfinish=()=>{d||(s.set(NM(h,a)),n&&n(),v())},{then(w,N){return c.then(w,N)},attachTimeline(w){return f.timeline=w,f.onfinish=null,ot},get time(){return Sn(f.currentTime||0)},set time(w){f.currentTime=Ca(w)},get speed(){return f.playbackRate},set speed(w){f.playbackRate=w},get duration(){return Sn(p)},play:()=>{l||(f.play(),Rn(b))},pause:()=>f.pause(),stop:()=>{if(l=!0,f.playState==="idle")return;const{currentTime:w}=f;if(w){const N=tm({...a,autoplay:!1});s.setWithVelocity(N.sample(w-Id).value,N.sample(w).value,Id)}v()},complete:()=>{d||f.finish()},cancel:v}}function mD({keyframes:s,delay:t,onUpdate:r,onComplete:n}){const a=()=>(r&&r(s[s.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ot,pause:ot,stop:ot,then:i=>(i(),Promise.resolve()),cancel:ot,complete:ot});return t?tm({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const hD={type:"spring",stiffness:500,damping:25,restSpeed:10},xD=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),pD={type:"keyframes",duration:.8},fD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gD=(s,{keyframes:t})=>t.length>2?pD:Ri.has(s)?s.startsWith("scale")?xD(t[1]):hD:fD,Tx=(s,t)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url(")),yD=new Set(["brightness","contrast","saturate","opacity"]);function vD(s){const[t,r]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[n]=r.match($m)||[];if(!n)return s;const a=r.replace(n,"");let i=yD.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const bD=/([a-z-]*)\(.*?\)/g,Mx={...La,getAnimatableNone:s=>{const t=s.match(bD);return t?t.map(vD).join(" "):s}},jD={...jN,color:ys,backgroundColor:ys,outlineColor:ys,fill:ys,stroke:ys,borderColor:ys,borderTopColor:ys,borderRightColor:ys,borderBottomColor:ys,borderLeftColor:ys,filter:Mx,WebkitFilter:Mx},Df=s=>jD[s];function ow(s,t){let r=Df(s);return r!==Mx&&(r=La),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const cw=s=>/^0[^.\s]+$/.test(s);function ND(s){if(typeof s=="number")return s===0;if(s!==null)return s==="none"||s==="0"||cw(s)}function wD(s,t,r,n){const a=Tx(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const l=n.from!==void 0?n.from:s.get();let o;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?l:i[d-1]),ND(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(o=i[d]);if(a&&c.length&&o)for(let d=0;d<c.length;d++){const m=c[d];i[m]=ow(t,o)}return i}function _D({when:s,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...m}){return!!Object.keys(m).length}function Ef(s,t){return s[t]||s.default||s}const kD={skipAnimations:!1},Af=(s,t,r,n={})=>a=>{const i=Ef(n,s)||{},l=i.delay||n.delay||0;let{elapsed:o=0}=n;o=o-Ca(l);const c=wD(t,s,r,i),d=c[0],m=c[c.length-1],h=Tx(s,d),p=Tx(s,m);let y={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(_D(i)||(y={...y,...gD(s,y)}),y.duration&&(y.duration=Ca(y.duration)),y.repeatDelay&&(y.repeatDelay=Ca(y.repeatDelay)),!h||!p||bM.current||i.type===!1||kD.skipAnimations)return mD(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=uD(t,s,y);if(x)return x}return tm(y)};function sm(s){return!!($s(s)&&s.add)}const dw=s=>/^\-?\d*\.?\d+$/.test(s);function Pf(s,t){s.indexOf(t)===-1&&s.push(t)}function Rf(s,t){const r=s.indexOf(t);r>-1&&s.splice(r,1)}class If{constructor(){this.subscriptions=[]}add(t){return Pf(this.subscriptions,t),()=>Rf(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SD=s=>!isNaN(parseFloat(s));class CD{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:l}=is;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,Fe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Fe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=SD(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new If);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?aw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(s,t){return new CD(s,t)}const uw=s=>t=>t.test(s),TD={test:s=>s==="auto",parse:s=>s},mw=[Ii,ae,nn,qn,I9,R9,TD],xo=s=>mw.find(uw(s)),MD=[...mw,ys,La],DD=s=>MD.find(uw(s));function ED(s,t,r){s.hasValue(t)?s.getValue(t).set(r):s.addValue(t,Wl(r))}function AD(s,t){const r=Bm(s,t);let{transitionEnd:n={},transition:a={},...i}=r?s.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const l in i){const o=Z9(i[l]);ED(s,l,o)}}function PD(s,t,r){var n,a;const i=Object.keys(t).filter(o=>!s.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const c=i[o],d=t[c];let m=null;Array.isArray(d)&&(m=d[0]),m===null&&(m=(a=(n=r[c])!==null&&n!==void 0?n:s.readValue(c))!==null&&a!==void 0?a:t[c]),m!=null&&(typeof m=="string"&&(dw(m)||cw(m))?m=parseFloat(m):!DD(m)&&La.test(d)&&(m=ow(c,d)),s.addValue(c,Wl(m,{owner:s})),r[c]===void 0&&(r[c]=m),m!==null&&s.setBaseTarget(c,m))}}function RD(s,t){return t?(t[s]||t.default||t).from:void 0}function ID(s,t,r){const n={};for(const a in s){const i=RD(a,t);if(i!==void 0)n[a]=i;else{const l=r.getValue(a);l&&(n[a]=l.get())}}return n}function LD({protectedKeys:s,needsAnimating:t},r){const n=s.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function OD(s,t){const r=s.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function hw(s,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=s.getDefaultTransition(),transitionEnd:l,...o}=s.makeTargetAnimatable(t);const c=s.getValue("willChange");n&&(i=n);const d=[],m=a&&s.animationState&&s.animationState.getState()[a];for(const h in o){const p=s.getValue(h),y=o[h];if(!p||y===void 0||m&&LD(m,h))continue;const x={delay:r,elapsed:0,...Ef(i||{},h)};if(window.HandoffAppearAnimations){const v=s.getProps()[xN];if(v){const g=window.HandoffAppearAnimations(v,h,p,Fe);g!==null&&(x.elapsed=g,x.isHandoff=!0)}}let f=!x.isHandoff&&!OD(p,y);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(f=!1),p.animation&&(f=!1),f)continue;p.start(Af(h,p,y,s.shouldReduceMotion&&Ri.has(h)?{type:!1}:x));const b=p.animation;sm(c)&&(c.add(h),b.then(()=>c.remove(h))),d.push(b)}return l&&Promise.all(d).then(()=>{l&&AD(s,l)}),d}function Dx(s,t,r={}){const n=Bm(s,t,r.custom);let{transition:a=s.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(hw(s,n,r)):()=>Promise.resolve(),l=s.variantChildren&&s.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:h}=a;return FD(s,t,d+c,m,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(r.delay)])}function FD(s,t,r=0,n=0,a=1,i){const l=[],o=(s.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>o-d*n;return Array.from(s.variantChildren).sort($D).forEach((d,m)=>{d.notify("AnimationStart",t),l.push(Dx(d,t,{...i,delay:r+c(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function $D(s,t){return s.sortNodePosition(t)}function VD(s,t,r={}){s.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>Dx(s,i,r));n=Promise.all(a)}else if(typeof t=="string")n=Dx(s,t,r);else{const a=typeof t=="function"?Bm(s,t,r.custom):t;n=Promise.all(hw(s,a,r))}return n.then(()=>s.notify("AnimationComplete",t))}const BD=[...ff].reverse(),zD=ff.length;function UD(s){return t=>Promise.all(t.map(({animation:r,options:n})=>VD(s,r,n)))}function WD(s){let t=UD(s);const r=GD();let n=!0;const a=(c,d)=>{const m=Bm(s,d);if(m){const{transition:h,transitionEnd:p,...y}=m;c={...c,...y,...p}}return c};function i(c){t=c(s)}function l(c,d){const m=s.getProps(),h=s.getVariantContext(!0)||{},p=[],y=new Set;let x={},f=1/0;for(let v=0;v<zD;v++){const g=BD[v],w=r[g],N=m[g]!==void 0?m[g]:h[g],j=Pc(N),_=g===d?w.isActive:null;_===!1&&(f=v);let k=N===h[g]&&N!==m[g]&&j;if(k&&n&&s.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...x},!w.isActive&&_===null||!N&&!w.prevProp||Om(N)||typeof N=="boolean")continue;let C=HD(w.prevProp,N)||g===d&&w.isActive&&!k&&j||v>f&&j,E=!1;const R=Array.isArray(N)?N:[N];let M=R.reduce(a,{});_===!1&&(M={});const{prevResolvedValues:$={}}=w,A={...$,...M},z=D=>{C=!0,y.has(D)&&(E=!0,y.delete(D)),w.needsAnimating[D]=!0};for(const D in A){const O=M[D],I=$[D];if(x.hasOwnProperty(D))continue;let F=!1;Qu(O)&&Qu(I)?F=!LN(O,I):F=O!==I,F?O!==void 0?z(D):y.add(D):O!==void 0&&y.has(D)?z(D):w.protectedKeys[D]=!0}w.prevProp=N,w.prevResolvedValues=M,w.isActive&&(x={...x,...M}),n&&s.blockInitialAnimation&&(C=!1),C&&(!k||E)&&p.push(...R.map(D=>({animation:D,options:{type:g,...c}})))}if(y.size){const v={};y.forEach(g=>{const w=s.getBaseTarget(g);w!==void 0&&(v[g]=w)}),p.push({animation:v})}let b=!!p.length;return n&&(m.initial===!1||m.initial===m.animate)&&!s.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(p):Promise.resolve()}function o(c,d,m){var h;if(r[c].isActive===d)return Promise.resolve();(h=s.variantChildren)===null||h===void 0||h.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(c,d)}),r[c].isActive=d;const p=l(m,c);for(const y in r)r[y].protectedKeys={};return p}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>r}}function HD(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!LN(t,s):!1}function Ka(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GD(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class qD extends za{constructor(t){super(t),t.animationState||(t.animationState=WD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Om(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let YD=0;class ZD extends za{constructor(){super(...arguments),this.id=YD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KD={animation:{Feature:qD},exit:{Feature:ZD}},mv=(s,t)=>Math.abs(s-t);function XD(s,t){const r=mv(s.x,t.x),n=mv(s.y,t.y);return Math.sqrt(r**2+n**2)}class xw{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=XD(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:x}=h,{timestamp:f}=is;this.history.push({...x,timestamp:f});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Hh(p,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Gh(h.type==="pointercancel"?this.lastMoveEventInfo:Hh(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,b),x&&x(h,b)},!EN(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const l=Vm(t),o=Hh(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=is;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=r;m&&m(t,Gh(o,this.history)),this.removeListeners=Sa(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rn(this.updatePoint)}}function Hh(s,t){return t?{point:t(s.point)}:s}function hv(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Gh({point:s},t){return{point:s,delta:hv(s,pw(t)),offset:hv(s,QD(t)),velocity:JD(t,.1)}}function QD(s){return s[0]}function pw(s){return s[s.length-1]}function JD(s,t){if(s.length<2)return{x:0,y:0};let r=s.length-1,n=null;const a=pw(s);for(;r>=0&&(n=s[r],!(a.timestamp-n.timestamp>Ca(t)));)r--;if(!n)return{x:0,y:0};const i=Sn(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function sr(s){return s.max-s.min}function Ex(s,t=0,r=.01){return Math.abs(s-t)<=r}function xv(s,t,r,n=.5){s.origin=n,s.originPoint=Qe(t.min,t.max,s.origin),s.scale=sr(r)/sr(t),(Ex(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=Qe(r.min,r.max,s.origin)-s.originPoint,(Ex(s.translate)||isNaN(s.translate))&&(s.translate=0)}function Qo(s,t,r,n){xv(s.x,t.x,r.x,n?n.originX:void 0),xv(s.y,t.y,r.y,n?n.originY:void 0)}function pv(s,t,r){s.min=r.min+t.min,s.max=s.min+sr(t)}function eE(s,t,r){pv(s.x,t.x,r.x),pv(s.y,t.y,r.y)}function fv(s,t,r){s.min=t.min-r.min,s.max=s.min+sr(t)}function Jo(s,t,r){fv(s.x,t.x,r.x),fv(s.y,t.y,r.y)}function tE(s,{min:t,max:r},n){return t!==void 0&&s<t?s=n?Qe(t,s,n.min):Math.max(s,t):r!==void 0&&s>r&&(s=n?Qe(r,s,n.max):Math.min(s,r)),s}function gv(s,t,r){return{min:t!==void 0?s.min+t:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function sE(s,{top:t,left:r,bottom:n,right:a}){return{x:gv(s.x,r,a),y:gv(s.y,t,n)}}function yv(s,t){let r=t.min-s.min,n=t.max-s.max;return t.max-t.min<s.max-s.min&&([r,n]=[n,r]),{min:r,max:n}}function rE(s,t){return{x:yv(s.x,t.x),y:yv(s.y,t.y)}}function nE(s,t){let r=.5;const n=sr(s),a=sr(t);return a>n?r=Ic(t.min,t.max-n,s.min):n>a&&(r=Ic(s.min,s.max-a,t.min)),Ia(0,1,r)}function aE(s,t){const r={};return t.min!==void 0&&(r.min=t.min-s.min),t.max!==void 0&&(r.max=t.max-s.min),r}const Ax=.35;function iE(s=Ax){return s===!1?s=0:s===!0&&(s=Ax),{x:vv(s,"left","right"),y:vv(s,"top","bottom")}}function vv(s,t,r){return{min:bv(s,t),max:bv(s,r)}}function bv(s,t){return typeof s=="number"?s:s[t]||0}const jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:jv(),y:jv()}),Nv=()=>({min:0,max:0}),vt=()=>({x:Nv(),y:Nv()});function cr(s){return[s("x"),s("y")]}function fw({top:s,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:s,max:n}}}function lE({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function oE(s,t){if(!t)return s;const r=t({x:s.left,y:s.top}),n=t({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function qh(s){return s===void 0||s===1}function Px({scale:s,scaleX:t,scaleY:r}){return!qh(s)||!qh(t)||!qh(r)}function si(s){return Px(s)||gw(s)||s.z||s.rotate||s.rotateX||s.rotateY}function gw(s){return wv(s.x)||wv(s.y)}function wv(s){return s&&s!=="0%"}function rm(s,t,r){const n=s-r,a=t*n;return r+a}function _v(s,t,r,n,a){return a!==void 0&&(s=rm(s,a,n)),rm(s,r,n)+t}function Rx(s,t=0,r=1,n,a){s.min=_v(s.min,t,r,n,a),s.max=_v(s.max,t,r,n,a)}function yw(s,{x:t,y:r}){Rx(s.x,t.translate,t.scale,t.originPoint),Rx(s.y,r.translate,r.scale,r.originPoint)}function cE(s,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,l;for(let o=0;o<a;o++){i=r[o],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ml(s,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,yw(s,l)),n&&si(i.latestValues)&&ml(s,i.latestValues))}t.x=kv(t.x),t.y=kv(t.y)}function kv(s){return Number.isInteger(s)||s>1.0000000000001||s<.999999999999?s:1}function Xn(s,t){s.min=s.min+t,s.max=s.max+t}function Sv(s,t,[r,n,a]){const i=t[a]!==void 0?t[a]:.5,l=Qe(s.min,s.max,i);Rx(s,t[r],t[n],l,t.scale)}const dE=["x","scaleX","originX"],uE=["y","scaleY","originY"];function ml(s,t){Sv(s.x,t,dE),Sv(s.y,t,uE)}function vw(s,t){return fw(oE(s.getBoundingClientRect(),t))}function mE(s,t,r){const n=vw(s,r),{scroll:a}=t;return a&&(Xn(n.x,a.offset.x),Xn(n.y,a.offset.y)),n}const bw=({current:s})=>s?s.ownerDocument.defaultView:null,hE=new WeakMap;class xE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Vm(m,"page").point)},i=(m,h)=>{const{drag:p,dragPropagation:y,onDragStart:x}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=PN(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(b=>{let v=this.getAxisMotionValue(b).get()||0;if(nn.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[b];w&&(v=sr(w)*(parseFloat(v)/100))}}this.originPoint[b]=v}),x&&Fe.update(()=>x(m,h),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(m,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:x,onDrag:f}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=h;if(y&&this.currentDirection===null){this.currentDirection=pE(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),f&&f(m,h)},o=(m,h)=>this.stop(m,h),c=()=>cr(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new xw(t,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:bw(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Fe.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Ld(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=tE(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&cl(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=sE(a.layoutBox,r):this.constraints=!1,this.elastic=iE(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&cr(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=aE(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!cl(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=mE(n,a.root,this.visualElement.getTransformPagePoint());let l=rE(a.layout.layoutBox,i);if(r){const o=r(lE(l));this.hasMutatedConstraints=!!o,o&&(l=fw(o))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=cr(m=>{if(!Ld(m,r,this.currentDirection))return;let h=c&&c[m]||{};l&&(h={min:0,max:0});const p=a?200:1e6,y=a?40:1e7,x={type:"inertia",velocity:n?t[m]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Af(t,n,0,r))}stopAnimation(){cr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){cr(r=>{const{drag:n}=this.getProps();if(!Ld(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:l,max:o}=a.layout.layoutBox[r];i.set(t[r]-Qe(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!cl(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};cr(l=>{const o=this.getAxisMotionValue(l);if(o){const c=o.get();a[l]=nE({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cr(l=>{if(!Ld(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Qe(c,d,a[l]))})}addListeners(){if(!this.visualElement.current)return;hE.set(this.visualElement,this);const t=this.visualElement.current,r=kn(t,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();cl(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const l=Nn(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(cr(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=c[m].translate,h.set(h.get()+c[m].translate))}),this.visualElement.render())});return()=>{l(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=Ax,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Ld(s,t,r){return(t===!0||t===s)&&(r===null||r===s)}function pE(s,t=10){let r=null;return Math.abs(s.y)>t?r="y":Math.abs(s.x)>t&&(r="x"),r}class fE extends za{constructor(t){super(t),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new xE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cv=s=>(t,r)=>{s&&Fe.update(()=>s(t,r))};class gE extends za{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(t){this.session=new xw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Cv(t),onStart:Cv(r),onMove:n,onEnd:(i,l)=>{delete this.session,a&&Fe.update(()=>a(i,l))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yE(){const s=u.useContext(Im);if(s===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=s,a=u.useId();return u.useEffect(()=>n(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tv(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const po={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(ae.test(s))s=parseFloat(s);else return s;const r=Tv(s,t.target.x),n=Tv(s,t.target.y);return`${r}% ${n}%`}},vE={correct:(s,{treeScale:t,projectionDelta:r})=>{const n=s,a=La.parse(s);if(a.length>5)return n;const i=La.createTransformer(s),l=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;a[0+l]/=o,a[1+l]/=c;const d=Qe(o,c,.5);return typeof a[2+l]=="number"&&(a[2+l]/=d),typeof a[3+l]=="number"&&(a[3+l]/=d),i(a)}};class bE extends Oc.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;C9(jE),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,l=n.projection;return l&&(l.isPresent=i,a||t.layoutDependency!==r||r===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Fe.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jw(s){const[t,r]=yE(),n=u.useContext(yf);return Oc.createElement(bE,{...s,layoutGroup:n,switchLayoutGroup:u.useContext(fN),isPresent:t,safeToRemove:r})}const jE={borderRadius:{...po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:po,borderTopRightRadius:po,borderBottomLeftRadius:po,borderBottomRightRadius:po,boxShadow:vE},Nw=["TopLeft","TopRight","BottomLeft","BottomRight"],NE=Nw.length,Mv=s=>typeof s=="string"?parseFloat(s):s,Dv=s=>typeof s=="number"||ae.test(s);function wE(s,t,r,n,a,i){a?(s.opacity=Qe(0,r.opacity!==void 0?r.opacity:1,_E(n)),s.opacityExit=Qe(t.opacity!==void 0?t.opacity:1,0,kE(n))):i&&(s.opacity=Qe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let l=0;l<NE;l++){const o=`border${Nw[l]}Radius`;let c=Ev(t,o),d=Ev(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Dv(c)===Dv(d)?(s[o]=Math.max(Qe(Mv(c),Mv(d),n),0),(nn.test(d)||nn.test(c))&&(s[o]+="%")):s[o]=d}(t.rotate||r.rotate)&&(s.rotate=Qe(t.rotate||0,r.rotate||0,n))}function Ev(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const _E=ww(0,.5,HN),kE=ww(.5,.95,ot);function ww(s,t,r){return n=>n<s?0:n>t?1:r(Ic(s,t,n))}function Av(s,t){s.min=t.min,s.max=t.max}function lr(s,t){Av(s.x,t.x),Av(s.y,t.y)}function Pv(s,t,r,n,a){return s-=t,s=rm(s,1/r,n),a!==void 0&&(s=rm(s,1/a,n)),s}function SE(s,t=0,r=1,n=.5,a,i=s,l=s){if(nn.test(t)&&(t=parseFloat(t),t=Qe(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=Qe(i.min,i.max,n);s===i&&(o-=t),s.min=Pv(s.min,t,r,o,a),s.max=Pv(s.max,t,r,o,a)}function Rv(s,t,[r,n,a],i,l){SE(s,t[r],t[n],t[a],t.scale,i,l)}const CE=["x","scaleX","originX"],TE=["y","scaleY","originY"];function Iv(s,t,r,n){Rv(s.x,t,CE,r?r.x:void 0,n?n.x:void 0),Rv(s.y,t,TE,r?r.y:void 0,n?n.y:void 0)}function Lv(s){return s.translate===0&&s.scale===1}function _w(s){return Lv(s.x)&&Lv(s.y)}function ME(s,t){return s.x.min===t.x.min&&s.x.max===t.x.max&&s.y.min===t.y.min&&s.y.max===t.y.max}function kw(s,t){return Math.round(s.x.min)===Math.round(t.x.min)&&Math.round(s.x.max)===Math.round(t.x.max)&&Math.round(s.y.min)===Math.round(t.y.min)&&Math.round(s.y.max)===Math.round(t.y.max)}function Ov(s){return sr(s.x)/sr(s.y)}class DE{constructor(){this.members=[]}add(t){Pf(this.members,t),t.scheduleRender()}remove(t){if(Rf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fv(s,t,r){let n="";const a=s.x.translate/t.x,i=s.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:m}=r;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `)}const l=s.x.scale*t.x,o=s.y.scale*t.y;return(l!==1||o!==1)&&(n+=`scale(${l}, ${o})`),n||"none"}const EE=(s,t)=>s.depth-t.depth;class AE{constructor(){this.children=[],this.isDirty=!1}add(t){Pf(this.children,t),this.isDirty=!0}remove(t){Rf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EE),this.isDirty=!1,this.children.forEach(t)}}function PE(s,t){const r=performance.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Rn(n),s(i-t))};return Fe.read(n,!0),()=>Rn(n)}function RE(s){window.MotionDebug&&window.MotionDebug.record(s)}function IE(s){return s instanceof SVGElement&&s.tagName!=="svg"}function LE(s,t,r){const n=$s(s)?s:Wl(s);return n.start(Af("",n,t,r)),n.animation}const $v=["","X","Y","Z"],OE={visibility:"hidden"},Vv=1e3;let FE=0;const ri={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Sw({attachResizeListener:s,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},o=t==null?void 0:t()){this.id=FE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ri.totalNodes=ri.resolvedTargetDeltas=ri.recalculatedProjection=0,this.nodes.forEach(BE),this.nodes.forEach(GE),this.nodes.forEach(qE),this.nodes.forEach(zE),RE(ri)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new AE)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new If),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IE(l),this.instance=l;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||c)&&(this.isLayoutDirty=!0),s){let h;const p=()=>this.root.updateBlockedByResize=!1;s(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PE(p,250),iu.hasAnimatedSinceResize&&(iu.hasAnimatedSinceResize=!1,this.nodes.forEach(zv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||m.getDefaultTransition()||QE,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=m.getProps(),g=!this.targetLayout||!kw(this.targetLayout,x)||y,w=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const N={...Ef(f,"layout"),onPlay:b,onComplete:v};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||zv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YE),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bv);return}this.isUpdating||this.nodes.forEach(WE),this.isUpdating=!1,this.nodes.forEach(HE),this.nodes.forEach($E),this.nodes.forEach(VE),this.clearAllSnapshots();const o=performance.now();is.delta=Ia(0,1e3/60,o-is.timestamp),is.timestamp=o,is.isProcessing=!0,Oh.update.process(is),Oh.preRender.process(is),Oh.render.process(is),is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(UE),this.sharedNodes.forEach(ZE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!_w(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;l&&(o||si(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),JE(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return vt();const o=l.measureViewportBox(),{scroll:c}=this.root;return c&&(Xn(o.x,c.offset.x),Xn(o.y,c.offset.y)),o}removeElementScroll(l){const o=vt();lr(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:h}=d;if(d!==this.root&&m&&h.layoutScroll){if(m.isRoot){lr(o,l);const{scroll:p}=this.root;p&&(Xn(o.x,-p.offset.x),Xn(o.y,-p.offset.y))}Xn(o.x,m.offset.x),Xn(o.y,m.offset.y)}}return o}applyTransform(l,o=!1){const c=vt();lr(c,l);for(let d=0;d<this.path.length;d++){const m=this.path[d];!o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ml(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),si(m.latestValues)&&ml(c,m.latestValues)}return si(this.latestValues)&&ml(c,this.latestValues),c}removeTransform(l){const o=vt();lr(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!si(d.latestValues))continue;Px(d.latestValues)&&d.updateSnapshot();const m=vt(),h=d.measurePageBox();lr(m,h),Iv(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return si(this.latestValues)&&Iv(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=is.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Jo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),yw(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Jo(this.relativeTargetOrigin,this.target,y.target),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ri.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Px(this.parent.latestValues)||gw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===is.timestamp&&(d=!1),d)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;lr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;cE(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:x}=o;if(!x){this.projectionTransform&&(this.projectionDelta=ul(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul());const f=this.projectionTransform;Qo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Fv(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ri.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},h=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=vt(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,f=y!==x,b=this.getStack(),v=!b||b.members.length<=1,g=!!(f&&!v&&this.options.crossfade===!0&&!this.path.some(XE));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;Uv(h.x,l.x,j),Uv(h.y,l.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KE(this.relativeTarget,this.relativeTargetOrigin,p,j),w&&ME(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=vt()),lr(w,this.relativeTarget)),f&&(this.animationValues=m,wE(m,d,this.latestValues,j,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{iu.hasAnimatedSinceResize=!0,this.currentAnimation=LE(0,Vv,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:m}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&Cw(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||vt();const h=sr(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const p=sr(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+p}lr(o,c),ml(o,m),Qo(this.projectionDeltaWithTransform,this.layoutCorrected,o,m)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new DE),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const d={};for(let m=0;m<$v.length;m++){const h="rotate"+$v[m];c[h]&&(d[h]=c[h],l.setStaticValue(h,0))}l.render();for(const m in d)l.setStaticValue(m,d[m]);l.scheduleRender()}getProjectionStyles(l){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OE;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=au(l==null?void 0:l.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=au(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!si(this.latestValues)&&(f.transform=m?m({},""):"none",this.hasProjected=!1),f}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Fv(this.projectionDeltaWithTransform,this.treeScale,p),m&&(d.transform=m(p,d.transform));const{x:y,y:x}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const f in Ku){if(p[f]===void 0)continue;const{correct:b,applyTo:v}=Ku[f],g=d.transform==="none"?p[f]:b(p[f],h);if(v){const w=v.length;for(let N=0;N<w;N++)d[v[N]]=g}else d[f]=g}return this.options.layoutId&&(d.pointerEvents=h===this?au(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Bv),this.root.sharedNodes.clear()}}}function $E(s){s.updateLayout()}function VE(s){var t;const r=((t=s.resumeFrom)===null||t===void 0?void 0:t.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&r&&s.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=s.layout,{animationType:i}=s.options,l=r.source!==s.layout.source;i==="size"?cr(h=>{const p=l?r.measuredBox[h]:r.layoutBox[h],y=sr(p);p.min=n[h].min,p.max=p.min+y}):Cw(i,r.layoutBox,n)&&cr(h=>{const p=l?r.measuredBox[h]:r.layoutBox[h],y=sr(n[h]);p.max=p.min+y,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[h].max=s.relativeTarget[h].min+y)});const o=ul();Qo(o,n,r.layoutBox);const c=ul();l?Qo(c,s.applyTransform(a,!0),r.measuredBox):Qo(c,n,r.layoutBox);const d=!_w(o);let m=!1;if(!s.resumeFrom){const h=s.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const x=vt();Jo(x,r.layoutBox,p.layoutBox);const f=vt();Jo(f,n,y.layoutBox),kw(x,f)||(m=!0),h.options.layoutRoot&&(s.relativeTarget=f,s.relativeTargetOrigin=x,s.relativeParent=h)}}}s.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(s.isLead()){const{onExitComplete:n}=s.options;n&&n()}s.options.transition=void 0}function BE(s){ri.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function zE(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function UE(s){s.clearSnapshot()}function Bv(s){s.clearMeasurements()}function WE(s){s.isLayoutDirty=!1}function HE(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function zv(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function GE(s){s.resolveTargetDelta()}function qE(s){s.calcProjection()}function YE(s){s.resetRotation()}function ZE(s){s.removeLeadSnapshot()}function Uv(s,t,r){s.translate=Qe(t.translate,0,r),s.scale=Qe(t.scale,1,r),s.origin=t.origin,s.originPoint=t.originPoint}function Wv(s,t,r,n){s.min=Qe(t.min,r.min,n),s.max=Qe(t.max,r.max,n)}function KE(s,t,r,n){Wv(s.x,t.x,r.x,n),Wv(s.y,t.y,r.y,n)}function XE(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const QE={duration:.45,ease:[.4,0,.1,1]},Hv=s=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(s),Gv=Hv("applewebkit/")&&!Hv("chrome/")?Math.round:ot;function qv(s){s.min=Gv(s.min),s.max=Gv(s.max)}function JE(s){qv(s.x),qv(s.y)}function Cw(s,t,r){return s==="position"||s==="preserve-aspect"&&!Ex(Ov(t),Ov(r),.2)}const eA=Sw({attachResizeListener:(s,t)=>Nn(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yh={current:void 0},Tw=Sw({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Yh.current){const s=new eA({});s.mount(window),s.setOptions({layoutScroll:!0}),Yh.current=s}return Yh.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),tA={pan:{Feature:gE},drag:{Feature:fE,ProjectionNode:Tw,MeasureLayout:jw}},sA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function rA(s){const t=sA.exec(s);if(!t)return[,];const[,r,n]=t;return[r,n]}function Ix(s,t,r=1){const[n,a]=rA(s);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const l=i.trim();return dw(l)?parseFloat(l):l}else return _x(a)?Ix(a,t,r+1):a}function nA(s,{...t},r){const n=s.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),s.values.forEach(a=>{const i=a.get();if(!_x(i))return;const l=Ix(i,n);l&&a.set(l)});for(const a in t){const i=t[a];if(!_x(i))continue;const l=Ix(i,n);l&&(t[a]=l,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const aA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mw=s=>aA.has(s),iA=s=>Object.keys(s).some(Mw),Yv=s=>s===Ii||s===ae,Zv=(s,t)=>parseFloat(s.split(", ")[t]),Kv=(s,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Zv(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?Zv(i[1],s):0}},lA=new Set(["x","y","z"]),oA=qc.filter(s=>!lA.has(s));function cA(s){const t=[];return oA.forEach(r=>{const n=s.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&s.render(),t}const Hl={width:({x:s},{paddingLeft:t="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),height:({y:s},{paddingTop:t="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:Kv(4,13),y:Kv(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const dA=(s,t,r)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:l}=i,o={};l==="none"&&t.setStaticValue("display",s.display||"block"),r.forEach(d=>{o[d]=Hl[d](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const m=t.getValue(d);m&&m.jump(o[d]),s[d]=Hl[d](c,i)}),s},uA=(s,t,r={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(Mw);let i=[],l=!1;const o=[];if(a.forEach(c=>{const d=s.getValue(c);if(!s.hasValue(c))return;let m=r[c],h=xo(m);const p=t[c];let y;if(Qu(p)){const x=p.length,f=p[0]===null?1:0;m=p[f],h=xo(m);for(let b=f;b<x&&p[b]!==null;b++)y?Sf(xo(p[b])===y):y=xo(p[b])}else y=xo(p);if(h!==y)if(Yv(h)&&Yv(y)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&y===ae&&(t[c]=p.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(m===0||p===0)?m===0?d.set(y.transform(m)):t[c]=h.transform(p):(l||(i=cA(s),l=!0),o.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(p))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,d=dA(t,s,o);return i.length&&i.forEach(([m,h])=>{s.getValue(m).set(h)}),s.render(),Lm&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function mA(s,t,r,n){return iA(t)?uA(s,t,r,n):{target:t,transitionEnd:n}}const hA=(s,t,r,n)=>{const a=nA(s,t,n);return t=a.target,n=a.transitionEnd,mA(s,t,r,n)},Lx={current:null},Dw={current:!1};function xA(){if(Dw.current=!0,!!Lm)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lx.current=s.matches;s.addListener(t),t()}else Lx.current=!1}function pA(s,t,r){const{willChange:n}=t;for(const a in t){const i=t[a],l=r[a];if($s(i))s.addValue(a,i),sm(n)&&n.add(a);else if($s(l))s.addValue(a,Wl(i,{owner:s})),sm(n)&&n.remove(a);else if(l!==i)if(s.hasValue(a)){const o=s.getValue(a);!o.hasAnimated&&o.set(i)}else{const o=s.getStaticValue(a);s.addValue(a,Wl(o!==void 0?o:i,{owner:s}))}}for(const a in r)t[a]===void 0&&s.removeValue(a);return t}const Xv=new WeakMap,Ew=Object.keys(Rc),fA=Ew.length,Qv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gA=gf.length;class yA{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Fe.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=r.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.isControllingVariants=Fm(r),this.isVariantNode=pN(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(r,{});for(const h in m){const p=m[h];o[h]!==void 0&&$s(p)&&(p.set(o[h],!1),sm(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Xv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Dw.current||xA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xv.delete(this.current),this.projection&&this.projection.unmount(),Rn(this.notifyUpdate),Rn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Ri.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Fe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,a,i){let l,o;for(let c=0;c<fA;c++){const d=Ew[c],{isEnabled:m,Feature:h,ProjectionNode:p,MeasureLayout:y}=Rc[d];p&&(l=p),m(r)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),y&&(o=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:m,dragConstraints:h,layoutScroll:p,layoutRoot:y}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!m||h&&cl(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}return o}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Qv.length;n++){const a=Qv[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=pA(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<gA;n++){const a=gf[n],i=this.props[a];(Pc(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Wl(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(r=kf(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!$s(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new If),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Aw extends yA{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:a},i){let l=ID(n,t||{},this);if(a&&(r&&(r=a(r)),n&&(n=a(n)),l&&(l=a(l))),i){PD(this,n,l);const o=hA(this,n,l,r);r=o.transitionEnd,n=o.target}return{transition:t,transitionEnd:r,...n}}}function vA(s){return window.getComputedStyle(s)}class bA extends Aw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Ri.has(r)){const n=Df(r);return n&&n.default||0}else{const n=vA(t),a=(vN(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return vw(t,r)}build(t,r,n,a){bf(t,r,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return _f(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$s(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,a){kN(t,r,n,a)}}class jA extends Aw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ri.has(r)){const n=Df(r);return n&&n.default||0}return r=SN.has(r)?r:pf(r),t.getAttribute(r)}measureInstanceViewportBox(){return vt()}scrapeMotionValuesFromProps(t,r){return TN(t,r)}build(t,r,n,a){Nf(t,r,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,n,a){CN(t,r,n,a)}mount(t){this.isSVGTag=wf(t.tagName),super.mount(t)}}const NA=(s,t)=>vf(s)?new jA(t,{enableHardwareAcceleration:!1}):new bA(t,{enableHardwareAcceleration:!0}),wA={layout:{ProjectionNode:Tw,MeasureLayout:jw}},_A={...KD,...fM,...tA,...wA},Q=k9((s,t)=>rM(s,t,_A,NA));function Pw(){const s=u.useRef(!1);return xf(()=>(s.current=!0,()=>{s.current=!1}),[]),s}function kA(){const s=Pw(),[t,r]=u.useState(0),n=u.useCallback(()=>{s.current&&r(t+1)},[t]);return[u.useCallback(()=>Fe.postRender(n),[n]),t]}class SA extends u.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CA({children:s,isPresent:t}){const r=u.useId(),n=u.useRef(null),a=u.useRef({width:0,height:0,top:0,left:0});return u.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:c}=a.current;if(t||!n.current||!i||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.createElement(SA,{isPresent:t,childRef:n,sizeRef:a},u.cloneElement(s,{ref:n}))}const Zh=({children:s,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:l})=>{const o=MN(TA),c=u.useId(),d=u.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:m=>{o.set(m,!0);for(const h of o.values())if(!h)return;n&&n()},register:m=>(o.set(m,!1),()=>o.delete(m))}),i?void 0:[r]);return u.useMemo(()=>{o.forEach((m,h)=>o.set(h,!1))},[r]),u.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),l==="popLayout"&&(s=u.createElement(CA,{isPresent:r},s)),u.createElement(Im.Provider,{value:d},s)};function TA(){return new Map}function MA(s){return u.useEffect(()=>()=>s(),[])}const ni=s=>s.key||"";function DA(s,t){s.forEach(r=>{const n=ni(r);t.set(n,r)})}function EA(s){const t=[];return u.Children.forEach(s,r=>{u.isValidElement(r)&&t.push(r)}),t}const zm=({children:s,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=u.useContext(yf).forceRender||kA()[0],c=Pw(),d=EA(s);let m=d;const h=u.useRef(new Map).current,p=u.useRef(m),y=u.useRef(new Map).current,x=u.useRef(!0);if(xf(()=>{x.current=!1,DA(d,y),p.current=m}),MA(()=>{x.current=!0,y.clear(),h.clear()}),x.current)return u.createElement(u.Fragment,null,m.map(g=>u.createElement(Zh,{key:ni(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:l},g)));m=[...m];const f=p.current.map(ni),b=d.map(ni),v=f.length;for(let g=0;g<v;g++){const w=f[g];b.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return l==="wait"&&h.size&&(m=[]),h.forEach((g,w)=>{if(b.indexOf(w)!==-1)return;const N=y.get(w);if(!N)return;const j=f.indexOf(w);let _=g;if(!_){const k=()=>{h.delete(w);const T=Array.from(y.keys()).filter(C=>!b.includes(C));if(T.forEach(C=>y.delete(C)),p.current=d.filter(C=>{const E=ni(C);return E===w||T.includes(E)}),!h.size){if(c.current===!1)return;o(),n&&n()}};_=u.createElement(Zh,{key:ni(N),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:l},N),h.set(w,_)}m.splice(j,0,_)}),m=m.map(g=>{const w=g.key;return h.has(w)?g:u.createElement(Zh,{key:ni(g),isPresent:!0,presenceAffectsLayout:i,mode:l},g)}),u.createElement(u.Fragment,null,h.size?m:m.map(g=>u.cloneElement(g)))},Ds=()=>Math.random().toString(36).substr(2,9),AA={PAGE_VIEW:"page_view",CATEGORY_INTERACTION:"category_interaction",PRODUCT_INTERACTION:"product_interaction",SHOPPING_BEHAVIOR:"shopping_behavior",SEARCH_BEHAVIOR:"search_behavior",SOCIAL_BEHAVIOR:"social_behavior",CUSTOMER_SERVICE:"customer_service"},PA={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"},RA={NEW_USERS:"new_users",RETURNING_USERS:"returning_users",VIP_USERS:"vip_users",PRICE_CONSCIOUS:"price_conscious",BRAND_LOYAL:"brand_loyal",FREQUENT_BUYERS:"frequent_buyers"},Rw=()=>{const s=[],t=[{id:"cat-1",name:"臉部保養",path:["美妝","臉部保養"]},{id:"cat-2",name:"彩妝",path:["美妝","彩妝"]},{id:"cat-3",name:"身體護理",path:["美妝","身體護理"]},{id:"cat-4",name:"香水",path:["美妝","香水"]},{id:"cat-5",name:"工具配件",path:["美妝","工具配件"]}],r=["click","view","hover","filter","sort"],n=Object.values(PA),a=Array.from({length:50},()=>`user-${Ds()}`);for(let i=0;i<1e3;i++){const l=new Date(Date.now()-Math.random()*7*24*60*60*1e3),o=t[Math.floor(Math.random()*t.length)],c=a[Math.floor(Math.random()*a.length)],d=n[Math.floor(Math.random()*n.length)],m=`session-${Ds()}`;s.push({eventId:Ds(),eventType:AA.CATEGORY_INTERACTION,timestamp:l,sessionId:m,userId:c,deviceInfo:{deviceType:d,browser:["Chrome","Safari","Firefox","Edge"][Math.floor(Math.random()*4)],operatingSystem:d==="mobile"?"iOS":"Windows",screenResolution:d==="mobile"?"375x812":"1920x1080"},eventData:{categoryId:o.id,categoryName:o.name,categoryPath:o.path,action:r[Math.floor(Math.random()*r.length)],clickData:{clickCount:Math.floor(Math.random()*10)+1,totalClickCount:Math.floor(Math.random()*100)+1,clickPosition:{x:Math.floor(Math.random()*1200),y:Math.floor(Math.random()*800)}},dwellTimeData:{currentDwellTime:Math.floor(Math.random()*300)+10,averageDwellTime:Math.floor(Math.random()*120)+30,totalDwellTime:Math.floor(Math.random()*3600)+300},fromSource:["menu","banner","search","recommendation"][Math.floor(Math.random()*4)]},trackingMetadata:{dataSource:"js_tracker",consentLevel:"analytics",privacyMode:!1}})}return s.sort((i,l)=>new Date(l.timestamp)-new Date(i.timestamp))},IA=()=>({currentActiveUsers:Math.floor(Math.random()*200)+50,activeUsersByDevice:{desktop:Math.floor(Math.random()*80)+20,mobile:Math.floor(Math.random()*100)+25,tablet:Math.floor(Math.random()*30)+5},topCategories:[{categoryId:"cat-1",categoryName:"臉部保養",activeUsers:45,clicksPerMinute:23},{categoryId:"cat-2",categoryName:"彩妝",activeUsers:38,clicksPerMinute:19},{categoryId:"cat-3",categoryName:"身體護理",activeUsers:28,clicksPerMinute:15},{categoryId:"cat-4",categoryName:"香水",activeUsers:22,clicksPerMinute:12},{categoryId:"cat-5",categoryName:"工具配件",activeUsers:18,clicksPerMinute:8}],recentEvents:Rw().slice(0,10)}),LA=()=>[{id:"cat-1",name:"臉部保養",path:["美妝","臉部保養"]},{id:"cat-2",name:"彩妝",path:["美妝","彩妝"]},{id:"cat-3",name:"身體護理",path:["美妝","身體護理"]},{id:"cat-4",name:"香水",path:["美妝","香水"]},{id:"cat-5",name:"工具配件",path:["美妝","工具配件"]}].map(t=>({categoryId:t.id,categoryName:t.name,categoryPath:t.path,realTimeMetrics:{currentActiveUsers:Math.floor(Math.random()*50)+5,clicksPerMinute:Math.floor(Math.random()*30)+2,averageDwellTime:Math.floor(Math.random()*180)+20,bounceRate:Math.random()*.4+.1,conversionRate:Math.random()*.1+.02},historicalStats:{clickStats:{totalClicks:Math.floor(Math.random()*1e4)+1e3,uniqueClickers:Math.floor(Math.random()*500)+100,averageClicksPerUser:Math.random()*10+2,clickGrowthRate:Math.random()*.2-.1,clicksByDevice:{desktop:Math.floor(Math.random()*4e3)+500,mobile:Math.floor(Math.random()*5e3)+600,tablet:Math.floor(Math.random()*1e3)+100}},dwellTimeStats:{totalDwellTime:Math.floor(Math.random()*1e5)+1e4,averageDwellTime:Math.floor(Math.random()*120)+30,medianDwellTime:Math.floor(Math.random()*90)+25,dwellTimeByDevice:{desktop:Math.floor(Math.random()*150)+40,mobile:Math.floor(Math.random()*80)+20,tablet:Math.floor(Math.random()*100)+35}},conversionStats:{viewToCartRate:Math.random()*.15+.02,viewToPurchaseRate:Math.random()*.08+.01,cartToPurchaseRate:Math.random()*.3+.4,averageOrderValue:Math.floor(Math.random()*3e3)+500,revenueGenerated:Math.floor(Math.random()*1e5)+1e4}},temporalAnalysis:{hourlyPattern:Array.from({length:24},(r,n)=>({hour:n,activity:Math.random()*100,clicks:Math.floor(Math.random()*50)})),weeklyPattern:["週一","週二","週三","週四","週五","週六","週日"].map(r=>({day:r,activity:Math.random()*100,clicks:Math.floor(Math.random()*200)+50}))}})),OA=()=>Object.values(RA).map(t=>({segmentId:t,segmentName:{new_users:"新用戶",returning_users:"回訪用戶",vip_users:"VIP用戶",price_conscious:"價格敏感用戶",brand_loyal:"品牌忠誠用戶",frequent_buyers:"高頻購買用戶"}[t],userCount:Math.floor(Math.random()*1e3)+100,behaviorMetrics:{averageSessionDuration:Math.floor(Math.random()*600)+120,averagePageViews:Math.floor(Math.random()*10)+2,bounceRate:Math.random()*.5+.1,conversionRate:Math.random()*.15+.02,averageOrderValue:Math.floor(Math.random()*2e3)+300},categoryPreferences:[{categoryId:"cat-1",preferenceScore:Math.random()},{categoryId:"cat-2",preferenceScore:Math.random()},{categoryId:"cat-3",preferenceScore:Math.random()},{categoryId:"cat-4",preferenceScore:Math.random()},{categoryId:"cat-5",preferenceScore:Math.random()}].sort((r,n)=>n.preferenceScore-r.preferenceScore)})),FA=()=>({cookieConsent:{totalConsents:Math.floor(Math.random()*5e3)+1e3,consentRate:Math.random()*.3+.6,categoryConsents:{necessary:1,analytics:Math.random()*.4+.5,marketing:Math.random()*.3+.3,personalization:Math.random()*.4+.4},recentConsents:Array.from({length:10},()=>({userId:`user-${Ds()}`,timestamp:new Date(Date.now()-Math.random()*24*60*60*1e3),consents:{necessary:!0,analytics:Math.random()>.3,marketing:Math.random()>.5,personalization:Math.random()>.4},ipAddress:`${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.xxx.xxx`}))},dataRequests:{totalRequests:Math.floor(Math.random()*50)+10,requestTypes:{dataExport:Math.floor(Math.random()*20)+5,dataDeletion:Math.floor(Math.random()*15)+3,consentWithdrawal:Math.floor(Math.random()*10)+2},recentRequests:Array.from({length:5},()=>({requestId:Ds(),userId:`user-${Ds()}`,requestType:["dataExport","dataDeletion","consentWithdrawal"][Math.floor(Math.random()*3)],status:["pending","processing","completed"][Math.floor(Math.random()*3)],timestamp:new Date(Date.now()-Math.random()*7*24*60*60*1e3)}))},complianceStatus:{gdprCompliant:!0,ccpaCompliant:!0,lastAuditDate:new Date(Date.now()-30*24*60*60*1e3),dataRetentionPolicy:"2年",automatedDeletion:!0}}),$A=()=>({realtimeAnomalies:[{id:Ds(),type:"traffic_spike",severity:"medium",description:"來自特定IP的異常高流量",timestamp:new Date(Date.now()-Math.random()*60*60*1e3),affectedMetric:"page_views",threshold:1e3,currentValue:1547},{id:Ds(),type:"unusual_behavior",severity:"low",description:"用戶停留時間異常短",timestamp:new Date(Date.now()-Math.random()*2*60*60*1e3),affectedMetric:"avg_session_duration",threshold:30,currentValue:12}],suspiciousActivities:[{id:Ds(),userId:`user-${Ds()}`,activityType:"rapid_clicking",description:"短時間內大量點擊行為",riskScore:.7,timestamp:new Date(Date.now()-Math.random()*3*60*60*1e3)}]}),us={getRealTimeActivity:()=>new Promise(s=>{setTimeout(()=>s(IA()),300)}),getUserBehaviorEvents:(s={})=>new Promise(t=>{let n=Rw();if(s.eventType&&(n=n.filter(a=>a.eventType===s.eventType)),s.deviceType&&(n=n.filter(a=>a.deviceInfo.deviceType===s.deviceType)),s.dateRange){const{startDate:a,endDate:i}=s.dateRange;n=n.filter(l=>{const o=new Date(l.timestamp);return o>=a&&o<=i})}setTimeout(()=>t(n),500)}),getCategoryAnalytics:()=>new Promise(s=>{setTimeout(()=>s(LA()),400)}),getUserSegmentData:()=>new Promise(s=>{setTimeout(()=>s(OA()),350)}),getPrivacySettings:()=>new Promise(s=>{setTimeout(()=>s(FA()),300)}),getAnomalyData:()=>new Promise(s=>{setTimeout(()=>s($A()),250)}),trackEvent:s=>new Promise(t=>{const r={...s,eventId:Ds(),timestamp:new Date};console.log("追蹤事件:",r),setTimeout(()=>t({success:!0,eventId:r.eventId}),100)}),updatePrivacyConsent:(s,t)=>new Promise(r=>{console.log("更新隱私權同意:",{userId:s,consents:t}),setTimeout(()=>r({success:!0}),200)}),processDataRequest:(s,t)=>new Promise(r=>{const n=Ds();console.log("處理數據請求:",{requestType:s,userId:t,requestId:n}),setTimeout(()=>r({success:!0,requestId:n,estimatedCompletionTime:new Date(Date.now()+24*60*60*1e3)}),300)}),getUserJourneyAnalysis:s=>new Promise(t=>{const r={userId:s,totalSessions:Math.floor(Math.random()*20)+5,averageSessionDuration:Math.floor(Math.random()*600)+180,commonPaths:[["首頁","臉部保養","精華液","商品詳情"],["首頁","彩妝","口紅","購物車"],["搜尋","香水","商品詳情","結帳"]],conversionFunnel:{steps:["瀏覽","加入購物車","結帳","完成購買"],values:[100,45,32,28]}};setTimeout(()=>t(r),400)}),generateReport:(s,t)=>new Promise(r=>{const n={reportId:Ds(),reportType:s,dateRange:t,generatedAt:new Date,summary:{totalEvents:Math.floor(Math.random()*5e4)+1e4,uniqueUsers:Math.floor(Math.random()*5e3)+1e3,topCategory:"臉部保養",conversionRate:(Math.random()*.1+.02).toFixed(3)},downloadUrl:`/api/reports/${Ds()}.pdf`};setTimeout(()=>r(n),800)})},VA=()=>{var y,x,f;const[s,t]=u.useState(null),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState(!0);u.useEffect(()=>{c();const b=setInterval(d,3e4);return()=>clearInterval(b)},[]);const c=async()=>{try{o(!0);const[b,v,g]=await Promise.all([us.getRealTimeActivity(),us.getCategoryAnalytics(),us.getAnomalyData()]);t(b),n(v.slice(0,5)),i(g.realtimeAnomalies)}catch(b){console.error("載入儀表板數據失敗:",b)}finally{o(!1)}},d=async()=>{try{const b=await us.getRealTimeActivity();t(b)}catch(b){console.error("更新實時數據失敗:",b)}},m=b=>b>=1e3?(b/1e3).toFixed(1)+"K":b.toString(),h=b=>{const v=Math.floor(b/60),g=b%60;return`${v}:${g.toString().padStart(2,"0")}`},p={desktop:uS,mobile:Mc,tablet:CS};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"用戶追蹤總覽"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"即時監控用戶行為與網站活動"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"即時更新"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"目前活躍用戶"}),e.jsx("p",{className:"text-3xl font-bold text-primary-600 mt-2",children:(s==null?void 0:s.currentActiveUsers)||0}),e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"+12% 比昨天"]})]}),e.jsx($t,{className:"w-12 h-12 text-primary-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"頁面瀏覽量"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:m(((y=s==null?void 0:s.topCategories)==null?void 0:y.reduce((b,v)=>b+v.clicksPerMinute*60,0))||0)}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center",children:[e.jsx($e,{className:"w-3 h-3 mr-1"}),"每小時"]})]}),e.jsx(ke,{className:"w-12 h-12 text-blue-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"平均停留時間"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:h(145)}),e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"比平均高 8%"]})]}),e.jsx(je,{className:"w-12 h-12 text-green-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"互動事件"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:m(((x=s==null?void 0:s.topCategories)==null?void 0:x.reduce((b,v)=>b+v.clicksPerMinute,0))||0)}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1 flex items-center",children:[e.jsx(qu,{className:"w-3 h-3 mr-1"}),"每分鐘"]})]}),e.jsx(qu,{className:"w-12 h-12 text-purple-500 opacity-20"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"設備使用分佈"}),e.jsx("div",{className:"space-y-4",children:Object.entries((s==null?void 0:s.activeUsersByDevice)||{}).map(([b,v])=>{const g=Object.values((s==null?void 0:s.activeUsersByDevice)||{}).reduce((j,_)=>j+_,0),w=g>0?(v/g*100).toFixed(1):0,N=p[b];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:b==="mobile"?"手機":b==="desktop"?"桌機":"平板"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12",children:[w,"%"]})]})]},b)})})]}),e.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"熱門類別"}),e.jsx("div",{className:"space-y-3",children:(f=s==null?void 0:s.topCategories)==null?void 0:f.map((b,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:v+1}),e.jsx("span",{className:"font-medium text-gray-700",children:b.categoryName})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[b.activeUsers," 用戶"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[b.clicksPerMinute," 點擊/分"]})]})]},b.categoryId))})]})]}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"類別表現統計"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"類別名稱"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"活躍用戶"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"平均停留時間"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"跳出率"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-600",children:"轉換率"})]})}),e.jsx("tbody",{children:r.map(b=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-white/30 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-gray-900",children:b.categoryName})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:b.realTimeMetrics.currentActiveUsers})}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:h(b.realTimeMetrics.averageDwellTime)}),e.jsxs("td",{className:"py-3 px-4 text-right text-gray-900",children:[(b.realTimeMetrics.bounceRate*100).toFixed(1),"%"]}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.realTimeMetrics.conversionRate>.05?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[(b.realTimeMetrics.conversionRate*100).toFixed(2),"%"]})})]},b.categoryId))})]})})]}),a.length>0&&e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Te,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"即時警報"})]}),e.jsx("div",{className:"space-y-3",children:a.map(b=>e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${b.severity==="high"?"border-red-500 bg-red-50":b.severity==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:b.description}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[b.affectedMetric,": ",b.currentValue," (閾值: ",b.threshold,")"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.timestamp).toLocaleString()})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.severity==="high"?"bg-red-200 text-red-800":b.severity==="medium"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:b.severity==="high"?"高":b.severity==="medium"?"中":"低"})]})},b.id))})]})]})},BA=()=>{var f,b,v,g,w,N,j,_,k,T,C,E;const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState(!0),[l,o]=u.useState({eventType:"",deviceType:"",dateRange:{startDate:new Date(Date.now()-7*24*60*60*1e3),endDate:new Date}}),[c,d]=u.useState("overview");u.useEffect(()=>{m()},[l]);const m=async()=>{try{i(!0);const[R,M]=await Promise.all([us.getUserBehaviorEvents(l),us.getCategoryAnalytics()]);t(R),n(M)}catch(R){console.error("載入分析數據失敗:",R)}finally{i(!1)}},h=u.useMemo(()=>{if(!s.length)return{};const R={},M={},$=Array(24).fill(0);let A=0,z=s.length;return s.forEach(O=>{var S,V,G,q,P,U;if((S=O.eventData)!=null&&S.categoryId){const Y=O.eventData.categoryId;R[Y]||(R[Y]={categoryId:Y,categoryName:O.eventData.categoryName,clicks:0,totalDwellTime:0,uniqueUsers:new Set}),R[Y].clicks+=((V=O.eventData.clickData)==null?void 0:V.clickCount)||1,R[Y].totalDwellTime+=((G=O.eventData.dwellTimeData)==null?void 0:G.currentDwellTime)||0,R[Y].uniqueUsers.add(O.userId)}const I=(q=O.deviceInfo)==null?void 0:q.deviceType;I&&(M[I]=(M[I]||0)+1);const F=new Date(O.timestamp).getHours();$[F]++,(U=(P=O.eventData)==null?void 0:P.dwellTimeData)!=null&&U.currentDwellTime&&(A+=O.eventData.dwellTimeData.currentDwellTime)}),{categoryClicks:Object.values(R).map(O=>({...O,uniqueUsers:O.uniqueUsers.size,avgDwellTime:O.totalDwellTime/O.clicks||0})).sort((O,I)=>I.clicks-O.clicks),deviceStats:M,hourlyActivity:$,averageDwellTime:A/z||0,totalEvents:z}},[s]),p=R=>{if(R<60)return`${Math.round(R)}秒`;const M=Math.floor(R/60),$=Math.round(R%60);return`${M}分${$}秒`},y=async()=>{try{const R=await us.generateReport("behavior_analysis",l.dateRange);console.log("報告已生成:",R),alert(`報告已生成！報告ID: ${R.reportId}`)}catch(R){console.error("生成報告失敗:",R)}},x=[{id:"overview",name:"總覽",icon:Ul},{id:"categories",name:"類別分析",icon:hs},{id:"patterns",name:"行為模式",icon:Yu},{id:"timeline",name:"時間分佈",icon:je}];return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"用戶行為分析"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"深度分析用戶行為模式與類別偏好"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:m,className:"flex items-center space-x-2 px-4 py-2 bg-white/70 backdrop-blur-sm border border-white/20 rounded-lg text-gray-700 hover:bg-white/90 transition-all",children:[e.jsx(br,{className:"w-4 h-4"}),e.jsx("span",{children:"重新整理"})]}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(Yu,{className:"w-4 h-4"}),e.jsx("span",{children:"匯出報告"})]})]})]}),e.jsxs(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"篩選條件"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"事件類型"}),e.jsxs("select",{value:l.eventType,onChange:R=>o(M=>({...M,eventType:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"全部類型"}),e.jsx("option",{value:"category_interaction",children:"類別互動"}),e.jsx("option",{value:"product_interaction",children:"商品互動"}),e.jsx("option",{value:"search_behavior",children:"搜尋行為"}),e.jsx("option",{value:"shopping_behavior",children:"購物行為"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"設備類型"}),e.jsxs("select",{value:l.deviceType,onChange:R=>o(M=>({...M,deviceType:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"全部設備"}),e.jsx("option",{value:"desktop",children:"桌機"}),e.jsx("option",{value:"mobile",children:"手機"}),e.jsx("option",{value:"tablet",children:"平板"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"時間範圍"}),e.jsxs("select",{onChange:R=>{const M=parseInt(R.target.value);o($=>({...$,dateRange:{startDate:new Date(Date.now()-M*24*60*60*1e3),endDate:new Date}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"7",children:"過去 7 天"}),e.jsx("option",{value:"14",children:"過去 14 天"}),e.jsx("option",{value:"30",children:"過去 30 天"}),e.jsx("option",{value:"90",children:"過去 90 天"})]})]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:x.map(R=>{const M=R.icon;return e.jsxs("button",{onClick:()=>d(R.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${c===R.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:R.name})]},R.id)})})}),e.jsxs("div",{className:"space-y-6",children:[c==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總事件數"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600 mt-2",children:((f=h.totalEvents)==null?void 0:f.toLocaleString())||0})]}),e.jsx(qu,{className:"w-8 h-8 text-primary-500 opacity-30"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"平均停留時間"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:p(h.averageDwellTime||0)})]}),e.jsx(je,{className:"w-8 h-8 text-blue-500 opacity-30"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"熱門類別"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:((v=(b=h.categoryClicks)==null?void 0:b[0])==null?void 0:v.categoryName)||"-"})]}),e.jsx(hs,{className:"w-8 h-8 text-green-500 opacity-30"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"主要設備"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:((g=Object.entries(h.deviceStats||{}).sort((R,M)=>M[1]-R[1])[0])==null?void 0:g[0])==="mobile"?"手機":((w=Object.entries(h.deviceStats||{}).sort((R,M)=>M[1]-R[1])[0])==null?void 0:w[0])==="desktop"?"桌機":((N=Object.entries(h.deviceStats||{}).sort((R,M)=>M[1]-R[1])[0])==null?void 0:N[0])||"-"})]}),e.jsx(Ul,{className:"w-8 h-8 text-purple-500 opacity-30"})]})})]}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"設備使用分佈"}),e.jsx("div",{className:"space-y-4",children:Object.entries(h.deviceStats||{}).map(([R,M])=>{const $=Object.values(h.deviceStats||{}).reduce((z,D)=>z+D,0),A=$>0?(M/$*100).toFixed(1):0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:R==="mobile"?"手機":R==="desktop"?"桌機":R==="tablet"?"平板":R}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",M," 事件)"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-500",style:{width:`${A}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600 w-12",children:[A,"%"]})]})]},R)})})]})]}),c==="categories"&&e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"類別互動分析"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"點擊次數排行"}),e.jsx("div",{className:"space-y-3",children:(j=h.categoryClicks)==null?void 0:j.slice(0,10).map((R,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:M+1}),e.jsx("span",{className:"font-medium text-gray-700",children:R.categoryName})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[R.clicks," 次"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[R.uniqueUsers," 用戶"]})]})]},R.categoryId))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"平均停留時間"}),e.jsx("div",{className:"space-y-3",children:(_=h.categoryClicks)==null?void 0:_.slice(0,10).map((R,M)=>{var $;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-gray-700",children:R.categoryName}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p(R.avgDwellTime)}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${Math.min(100,R.avgDwellTime/Math.max(...(($=h.categoryClicks)==null?void 0:$.map(A=>A.avgDwellTime))||[1])*100)}%`}})})]})]},R.categoryId)})})]})]})]}),c==="patterns"&&e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"行為模式分析"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"最近用戶行為"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.slice(0,20).map(R=>{var M,$,A;return e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((M=R.eventData)==null?void 0:M.categoryName)||"未知類別"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(($=R.eventData)==null?void 0:$.action)||R.eventType," • ",(A=R.deviceInfo)==null?void 0:A.deviceType]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(R.timestamp).toLocaleString()})]})]},R.eventId)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"行為類型分佈"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((R,M)=>{var A;const $=((A=M.eventData)==null?void 0:A.action)||M.eventType;return R[$]=(R[$]||0)+1,R},{})).map(([R,M])=>{const $=(M/s.length*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:R}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${$}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 w-12",children:[$,"%"]})]})]},R)})})]})]})]}),c==="timeline"&&e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"時間分佈分析"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"24小時活動分佈"}),e.jsx("div",{className:"grid grid-cols-12 gap-2",children:(k=h.hourlyActivity)==null?void 0:k.map((R,M)=>{const $=Math.max(...h.hourlyActivity||[1]),A=$>0?R/$*100:0;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-primary-500 rounded-t transition-all duration-500 mb-1",style:{height:`${Math.max(4,A)}px`},title:`${M}:00 - ${R} 事件`}),e.jsx("span",{className:"text-xs text-gray-500",children:M})]},M)})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"0:00"}),e.jsx("span",{children:"6:00"}),e.jsx("span",{children:"12:00"}),e.jsx("span",{children:"18:00"}),e.jsx("span",{children:"23:00"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 mb-4",children:"活動高峰時段"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"晨間高峰",time:"08:00-10:00",value:((T=h.hourlyActivity)==null?void 0:T.slice(8,11).reduce((R,M)=>R+M,0))||0},{name:"午間高峰",time:"12:00-14:00",value:((C=h.hourlyActivity)==null?void 0:C.slice(12,15).reduce((R,M)=>R+M,0))||0},{name:"晚間高峰",time:"19:00-22:00",value:((E=h.hourlyActivity)==null?void 0:E.slice(19,23).reduce((R,M)=>R+M,0))||0}].map(R=>e.jsxs("div",{className:"bg-white/50 rounded-lg p-4 text-center",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:R.name}),e.jsx("p",{className:"text-sm text-gray-600",children:R.time}),e.jsx("p",{className:"text-2xl font-bold text-primary-600 mt-2",children:R.value}),e.jsx("p",{className:"text-xs text-gray-500",children:"事件數"})]},R.name))})]})]})]})]})},zA=()=>{var _,k,T;const[s,t]=u.useState(null),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState(!0),[c,d]=u.useState([]),[m,h]=u.useState(!0);u.useEffect(()=>{if(p(),l){const C=setInterval(y,1e4),E=setInterval(x,5e3),R=setInterval(f,3e4);return()=>{clearInterval(C),clearInterval(E),clearInterval(R)}}},[l]);const p=async()=>{try{h(!0);const[C,E]=await Promise.all([us.getRealTimeActivity(),us.getAnomalyData()]);t(C),n(E.realtimeAnomalies),i(C.recentEvents||[]),b()}catch(C){console.error("載入實時數據失敗:",C)}finally{h(!1)}},y=async()=>{try{const C=await us.getRealTimeActivity();t(C)}catch(C){console.error("更新實時數據失敗:",C)}},x=async()=>{try{const E=(await us.getUserBehaviorEvents({limit:10})).slice(0,Math.floor(Math.random()*3)+1);i(R=>[...E,...R.slice(0,20)])}catch(C){console.error("更新活動流失敗:",C)}},f=async()=>{try{const C=await us.getAnomalyData();n(C.realtimeAnomalies);const E=C.realtimeAnomalies.filter(R=>R.severity==="high");if(E.length>0){const R={id:Date.now(),type:"critical",title:"檢測到高風險異常",message:`發現 ${E.length} 個高嚴重性異常`,timestamp:new Date,read:!1};d(M=>[R,...M.slice(0,9)])}}catch(C){console.error("檢查異常失敗:",C)}},b=()=>{const C=[{id:1,type:"info",title:"活動高峰期",message:"用戶活動量比平時高 25%",timestamp:new Date(Date.now()-3e5),read:!1},{id:2,type:"warning",title:"異常流量",message:"檢測到來自特定地區的異常流量",timestamp:new Date(Date.now()-9e5),read:!0}];d(C)},v=C=>{d(E=>E.map(R=>R.id===C?{...R,read:!0}:R))},g=()=>{d([])},w=C=>{const E=Date.now()-new Date(C).getTime(),R=Math.floor(E/6e4);if(R<1)return"剛才";if(R<60)return`${R}分鐘前`;const M=Math.floor(R/60);return M<24?`${M}小時前`:`${Math.floor(M/24)}天前`},N=C=>{switch(C){case"critical":return e.jsx(Te,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(Te,{className:"w-5 h-5 text-yellow-500"});case"info":return e.jsx(Lr,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(Lr,{className:"w-5 h-5 text-gray-500"})}},j=C=>{switch(C){case"critical":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"實時活動監控"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"即時監控用戶活動、異常檢測與安全警報"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>o(!l),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${l?"bg-red-100 border-red-300 text-red-700 hover:bg-red-200":"bg-green-100 border-green-300 text-green-700 hover:bg-green-200"}`,children:[l?e.jsx(Ra,{className:"w-4 h-4"}):e.jsx(rn,{className:"w-4 h-4"}),e.jsx("span",{children:l?"暫停監控":"開始監控"})]}),e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${l?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm font-medium",children:l?"監控中":"已暫停"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Q.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"活躍用戶"}),e.jsx("p",{className:"text-3xl font-bold text-primary-600 mt-2",children:(s==null?void 0:s.currentActiveUsers)||0}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"即時統計"})]}),e.jsx($t,{className:"w-12 h-12 text-primary-500 opacity-20"})]})},s==null?void 0:s.currentActiveUsers),e.jsx(Q.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"每分鐘點擊"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:((_=s==null?void 0:s.topCategories)==null?void 0:_.reduce((C,E)=>C+E.clicksPerMinute,0))||0}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"點擊/分鐘"})]}),e.jsx(qu,{className:"w-12 h-12 text-blue-500 opacity-20"})]})},(k=s==null?void 0:s.topCategories)==null?void 0:k.reduce((C,E)=>C+E.clicksPerMinute,0)),e.jsx(Q.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"異常事件"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:r.length}),e.jsxs("p",{className:"text-xs text-yellow-600 mt-1",children:[r.filter(C=>C.severity==="high").length," 高風險"]})]}),e.jsx(Te,{className:"w-12 h-12 text-yellow-500 opacity-20"})]})}),e.jsx(Q.div,{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"系統狀態"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"正常"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"所有服務運行中"})]}),e.jsx(_a,{className:"w-12 h-12 text-green-500 opacity-20"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg h-96",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"實時活動流"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"即時更新"})]})]}),e.jsx("div",{className:"h-80 overflow-y-auto space-y-2",children:a.map((C,E)=>{var R,M,$,A,z,D;return e.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-start space-x-3 p-3 bg-white/50 rounded-lg hover:bg-white/70 transition-colors",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["用戶在 ",((R=C.eventData)==null?void 0:R.categoryName)||"未知類別"," 進行 ",((M=C.eventData)==null?void 0:M.action)||"操作"]}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:w(C.timestamp)})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["設備: ",(($=C.deviceInfo)==null?void 0:$.deviceType)||"未知"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["瀏覽器: ",((A=C.deviceInfo)==null?void 0:A.browser)||"未知"]}),((D=(z=C.eventData)==null?void 0:z.dwellTimeData)==null?void 0:D.currentDwellTime)&&e.jsxs("span",{className:"text-xs text-gray-500",children:["停留: ",Math.round(C.eventData.dwellTimeData.currentDwellTime),"秒"]})]})]})]},`${C.eventId}-${E}`)})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"系統警報"}),c.length>0&&e.jsx("button",{onClick:g,className:"text-xs text-gray-500 hover:text-gray-700",children:"清除全部"})]}),e.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:c.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"沒有未讀警報"}):c.map(C=>e.jsx(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:`p-3 rounded-lg border cursor-pointer transition-colors ${j(C.type)} ${C.read?"opacity-60":""}`,onClick:()=>v(C.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[N(C.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w(C.timestamp)})]}),!C.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},C.id))})]}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"異常檢測"}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(_a,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"未檢測到異常"})]}):r.map(C=>e.jsx("div",{className:`p-3 rounded-lg border-l-4 ${C.severity==="high"?"border-red-500 bg-red-50":C.severity==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.description}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["當前值: ",C.currentValue," (閾值: ",C.threshold,")"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w(C.timestamp)})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.severity==="high"?"bg-red-200 text-red-800":C.severity==="medium"?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"}`,children:C.severity==="high"?"高":C.severity==="medium"?"中":"低"})]})},C.id))})]})]})]}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"類別活動熱度"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:(T=s==null?void 0:s.topCategories)==null?void 0:T.map((C,E)=>e.jsxs(Q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:E*.1},className:"bg-white/50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-500 rounded-full flex items-center justify-center text-white font-bold text-lg mx-auto mb-2",children:E+1}),e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:C.categoryName}),e.jsx("p",{className:"text-lg font-bold text-primary-600 mt-1",children:C.activeUsers}),e.jsx("p",{className:"text-xs text-gray-500",children:"活躍用戶"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-primary-500 h-1 rounded-full transition-all duration-1000",style:{width:`${Math.min(100,C.clicksPerMinute/Math.max(...s.topCategories.map(R=>R.clicksPerMinute))*100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.clicksPerMinute," 點擊/分鐘"]})]})]},C.categoryId))})]})]})},UA=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(null),[a,i]=u.useState(!0),[l,o]=u.useState("overview"),[c,d]=u.useState(null);u.useEffect(()=>{m()},[]),u.useEffect(()=>{r&&h(r.segmentId)},[r]);const m=async()=>{try{i(!0);const v=await us.getUserSegmentData();t(v),v.length>0&&n(v[0])}catch(v){console.error("載入分群數據失敗:",v)}finally{i(!1)}},h=async v=>{try{const g={segmentId:v,recentActivity:Array.from({length:10},()=>({userId:`user-${Math.random().toString(36).substr(2,9)}`,action:["瀏覽商品","加入購物車","完成購買","搜尋","查看類別"][Math.floor(Math.random()*5)],timestamp:new Date(Date.now()-Math.random()*24*60*60*1e3),value:Math.floor(Math.random()*1e3)})),demographicBreakdown:{ageGroups:[{range:"18-25",percentage:25,count:250},{range:"26-35",percentage:35,count:350},{range:"36-45",percentage:25,count:250},{range:"46+",percentage:15,count:150}],genderDistribution:[{gender:"女性",percentage:68,count:680},{gender:"男性",percentage:32,count:320}]},behaviorPatterns:{preferredShoppingTime:[{time:"早上 (8-12)",percentage:20},{time:"下午 (12-18)",percentage:45},{time:"晚上 (18-24)",percentage:35}],devicePreference:[{device:"手機",percentage:60},{device:"桌機",percentage:30},{device:"平板",percentage:10}]}};d(g)}catch(g){console.error("載入分群詳情失敗:",g)}},p=v=>({new_users:e.jsx(Di,{className:"w-5 h-5"}),returning_users:e.jsx(Je,{className:"w-5 h-5"}),vip_users:e.jsx(Ac,{className:"w-5 h-5"}),price_conscious:e.jsx(dt,{className:"w-5 h-5"}),brand_loyal:e.jsx($t,{className:"w-5 h-5"}),frequent_buyers:e.jsx(Wc,{className:"w-5 h-5"})})[v]||e.jsx($t,{className:"w-5 h-5"}),y=v=>({new_users:"bg-green-500",returning_users:"bg-blue-500",vip_users:"bg-purple-500",price_conscious:"bg-yellow-500",brand_loyal:"bg-pink-500",frequent_buyers:"bg-indigo-500"})[v]||"bg-gray-500",x=v=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(v),f=v=>(v*100).toFixed(1)+"%",b=[{id:"overview",name:"總覽",icon:Ul},{id:"behavior",name:"行為分析",icon:$e},{id:"preferences",name:"偏好分析",icon:hs},{id:"personalization",name:"個人化設定",icon:af}];return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"用戶分群管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"分析用戶行為模式並創建個人化體驗"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsx(Di,{className:"w-4 h-4"}),e.jsx("span",{children:"創建新分群"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((v,g)=>e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},onClick:()=>n(v),className:`bg-white/70 backdrop-blur-sm rounded-xl p-6 border cursor-pointer transition-all ${(r==null?void 0:r.segmentId)===v.segmentId?"border-primary-500 shadow-lg scale-105":"border-white/20 shadow-md hover:shadow-lg hover:scale-102"}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 ${y(v.segmentId)} rounded-lg flex items-center justify-center text-white`,children:p(v.segmentId)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:v.segmentName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.userCount.toLocaleString()," 用戶"]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均會話時長"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Math.floor(v.behaviorMetrics.averageSessionDuration/60),":",(v.behaviorMetrics.averageSessionDuration%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"轉換率"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:f(v.behaviorMetrics.conversionRate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均訂單價值"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:x(v.behaviorMetrics.averageOrderValue)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"熱門類別"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:v.categoryPreferences.slice(0,3).map((w,N)=>{const j={"cat-1":"臉部保養","cat-2":"彩妝","cat-3":"身體護理","cat-4":"香水","cat-5":"工具配件"};return e.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-full",children:j[w.categoryId]||w.categoryId},N)})})]})]},v.segmentId))}),r&&e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-white/20 shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 ${y(r.segmentId)} rounded-lg flex items-center justify-center text-white`,children:p(r.segmentId)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r.segmentName}),e.jsxs("p",{className:"text-gray-600",children:[r.userCount.toLocaleString()," 名用戶"]})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:b.map(v=>{const g=v.icon;return e.jsxs("button",{onClick:()=>o(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${l===v.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:v.name})]},v.id)})})}),e.jsxs("div",{className:"p-6",children:[l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"跳出率"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:f(r.behaviorMetrics.bounceRate)})]}),e.jsx($e,{className:"w-8 h-8 text-blue-500 opacity-30"})]})}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"頁面瀏覽"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:r.behaviorMetrics.averagePageViews.toFixed(1)})]}),e.jsx(Ul,{className:"w-8 h-8 text-green-500 opacity-30"})]})}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"轉換率"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:f(r.behaviorMetrics.conversionRate)})]}),e.jsx(Je,{className:"w-8 h-8 text-purple-500 opacity-30"})]})}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"平均訂單"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 mt-1",children:x(r.behaviorMetrics.averageOrderValue)})]}),e.jsx(dt,{className:"w-8 h-8 text-orange-500 opacity-30"})]})})]}),c&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"年齡分佈"}),e.jsx("div",{className:"space-y-3",children:c.demographicBreakdown.ageGroups.map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[v.range," 歲"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${v.percentage}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[v.percentage,"%"]})]})]},v.range))})]}),e.jsxs("div",{className:"bg-white/50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"設備偏好"}),e.jsx("div",{className:"space-y-3",children:c.behaviorPatterns.devicePreference.map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:v.device}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${v.percentage}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[v.percentage,"%"]})]})]},v.device))})]})]})]}),l==="behavior"&&c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"最近用戶活動"}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:c.recentActivity.map((v,g)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["用戶 ",v.userId.slice(-6)," ",v.action]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(v.timestamp).toLocaleString()})]},g))})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"購物時段偏好"}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsx("div",{className:"space-y-3",children:c.behaviorPatterns.preferredShoppingTime.map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:v.time}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${v.percentage}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[v.percentage,"%"]})]})]},v.time))})})]})]}),l==="preferences"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"類別偏好排序"}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsx("div",{className:"space-y-3",children:r.categoryPreferences.map((v,g)=>{const w={"cat-1":"臉部保養","cat-2":"彩妝","cat-3":"身體護理","cat-4":"香水","cat-5":"工具配件"};return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:g+1}),e.jsx("span",{className:"font-medium text-gray-700",children:w[v.categoryId]||v.categoryId})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:`${v.preferenceScore*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[(v.preferenceScore*100).toFixed(0),"%"]})]})]},v.categoryId)})})})]})}),l==="personalization"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"個人化策略設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/70 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"智能商品推薦"}),e.jsx("p",{className:"text-sm text-gray-600",children:"基於此分群的偏好自動推薦商品"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500",defaultChecked:!0})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/70 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"個人化電子報"}),e.jsx("p",{className:"text-sm text-gray-600",children:"發送針對此分群的專屬優惠和內容"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500",defaultChecked:!0})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/70 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"動態價格顯示"}),e.jsx("p",{className:"text-sm text-gray-600",children:"根據用戶行為調整價格顯示策略"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/70 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"個人化首頁"}),e.jsx("p",{className:"text-sm text-gray-600",children:"自訂首頁內容和類別排序"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500",defaultChecked:!0})})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsx("button",{className:"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"儲存個人化設定"})})]})})]})]})]})},WA=()=>{const[s,t]=u.useState(null),[r,n]=u.useState(!0),[a,i]=u.useState("consent"),[l,o]=u.useState({necessary:!0,analytics:!0,marketing:!1,personalization:!0});u.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const f=await us.getPrivacySettings();t(f)}catch(f){console.error("載入隱私權設定失敗:",f)}finally{n(!1)}},d=async(f,b="demo-user")=>{try{const v=await us.processDataRequest(f,b);alert(`${f==="dataExport"?"數據導出":"數據刪除"}請求已提交！請求ID: ${v.requestId}`)}catch(v){console.error("處理數據請求失敗:",v),alert("處理請求時發生錯誤")}},m=async()=>{try{await us.updatePrivacyConsent("demo-user",l),alert("Cookie 設定已更新！")}catch(f){console.error("更新 Cookie 設定失敗:",f),alert("更新設定時發生錯誤")}},h=f=>{switch(f){case"completed":return"text-green-600 bg-green-100";case"processing":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},p=f=>{switch(f){case"completed":return e.jsx(he,{className:"w-4 h-4"});case"processing":return e.jsx(je,{className:"w-4 h-4"});case"pending":return e.jsx(Te,{className:"w-4 h-4"});default:return e.jsx(_t,{className:"w-4 h-4"})}},y=f=>new Date(f).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=[{id:"consent",name:"Cookie 同意",icon:_a},{id:"requests",name:"數據請求",icon:Ht},{id:"compliance",name:"合規狀態",icon:he},{id:"settings",name:"隱私設定",icon:ea}];return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"隱私權設定管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"管理用戶同意、數據保護與 GDPR 合規"})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-100 text-green-800 rounded-lg",children:[e.jsx(_a,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"GDPR 合規"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"總同意數"}),e.jsx("p",{className:"text-3xl font-bold text-primary-600 mt-2",children:(s==null?void 0:s.cookieConsent.totalConsents.toLocaleString())||0}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["同意率 ",(((s==null?void 0:s.cookieConsent.consentRate)||0)*100).toFixed(1),"%"]})]}),e.jsx(Xl,{className:"w-12 h-12 text-primary-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"數據請求"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:(s==null?void 0:s.dataRequests.totalRequests)||0}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"本月處理中"})]}),e.jsx(Ht,{className:"w-12 h-12 text-blue-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"分析追蹤"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-2",children:[(((s==null?void 0:s.cookieConsent.categoryConsents.analytics)||0)*100).toFixed(0),"%"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"同意分析追蹤"})]}),e.jsx($e,{className:"w-12 h-12 text-green-500 opacity-20"})]})}),e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"行銷追蹤"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:[(((s==null?void 0:s.cookieConsent.categoryConsents.marketing)||0)*100).toFixed(0),"%"]}),e.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"同意行銷追蹤"})]}),e.jsx(_a,{className:"w-12 h-12 text-purple-500 opacity-20"})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:x.map(f=>{const b=f.icon;return e.jsxs("button",{onClick:()=>i(f.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${a===f.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:f.name})]},f.id)})})}),e.jsxs("div",{className:"space-y-6",children:[a==="consent"&&e.jsx(e.Fragment,{children:e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cookie 同意分類統計"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:Object.entries((s==null?void 0:s.cookieConsent.categoryConsents)||{}).map(([f,b])=>{const v={necessary:"必要 Cookie",analytics:"分析 Cookie",marketing:"行銷 Cookie",personalization:"個人化 Cookie"};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:v[f]||f}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${f==="necessary"?"bg-green-500":f==="analytics"?"bg-blue-500":f==="marketing"?"bg-purple-500":"bg-orange-500"}`,style:{width:`${b*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[(b*100).toFixed(1),"%"]})]})]},f)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"最近同意記錄"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:s==null?void 0:s.cookieConsent.recentConsents.slice(0,10).map((f,b)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["用戶 ",f.userId.slice(-8)]}),e.jsx("p",{className:"text-xs text-gray-500",children:y(f.timestamp)})]}),e.jsx("div",{className:"flex space-x-1",children:Object.entries(f.consents).map(([v,g])=>e.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-red-500"}`,title:`${v}: ${g?"同意":"拒絕"}`},v))})]},b))})]})]})]})}),a==="requests"&&e.jsx(e.Fragment,{children:e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"數據請求處理"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>d("dataExport"),className:"flex items-center space-x-2 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[e.jsx(Tm,{className:"w-4 h-4"}),e.jsx("span",{children:"測試導出請求"})]}),e.jsxs("button",{onClick:()=>d("dataDeletion"),className:"flex items-center space-x-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"測試刪除請求"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries((s==null?void 0:s.dataRequests.requestTypes)||{}).map(([f,b])=>{const v={dataExport:"數據導出",dataDeletion:"數據刪除",consentWithdrawal:"撤回同意"};return e.jsxs("div",{className:"bg-white/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:b}),e.jsx("p",{className:"text-sm text-gray-600",children:v[f]||f})]},f)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"最近處理記錄"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"請求ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"用戶ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"請求類型"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"狀態"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"時間"})]})}),e.jsx("tbody",{children:s==null?void 0:s.dataRequests.recentRequests.map(f=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-white/30",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:f.requestId}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.userId.slice(-8)}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:{dataExport:"數據導出",dataDeletion:"數據刪除",consentWithdrawal:"撤回同意"}[f.requestType]||f.requestType}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${h(f.status)}`,children:[p(f.status),e.jsx("span",{children:{pending:"等待中",processing:"處理中",completed:"已完成"}[f.status]||f.status})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-500",children:y(f.timestamp)})]},f.requestId))})]})})]})]})}),a==="compliance"&&e.jsx(e.Fragment,{children:e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"GDPR 合規狀態"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"GDPR 合規"})]}),e.jsx("span",{className:"text-green-600 font-medium",children:"完全合規"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"CCPA 合規"})]}),e.jsx("span",{className:"text-green-600 font-medium",children:"完全合規"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(je,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"最後審計"})]}),e.jsx("span",{className:"text-blue-600 font-medium",children:y(s==null?void 0:s.complianceStatus.lastAuditDate)})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"自動化刪除"})]}),e.jsx("span",{className:"text-green-600 font-medium",children:s!=null&&s.complianceStatus.automatedDeletion?"已啟用":"未啟用"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"資料保存政策"}),e.jsx("div",{className:"bg-white/50 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"個人資料保存期限"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.complianceStatus.dataRetentionPolicy})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"行為追蹤資料"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"1年"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cookie 數據"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"30天"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"分析報告"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"匿名永久保存"})]})]})})]})]})]})}),a==="settings"&&e.jsx(e.Fragment,{children:e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"預設 Cookie 設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"必要 Cookie"}),e.jsx("p",{className:"text-sm text-gray-600",children:"網站基本功能運作所需"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.necessary,disabled:!0,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"必需"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"分析 Cookie"}),e.jsx("p",{className:"text-sm text-gray-600",children:"幫助我們了解網站使用情況"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.analytics,onChange:f=>o(b=>({...b,analytics:f.target.checked})),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"行銷 Cookie"}),e.jsx("p",{className:"text-sm text-gray-600",children:"用於顯示相關廣告內容"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.marketing,onChange:f=>o(b=>({...b,marketing:f.target.checked})),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"個人化 Cookie"}),e.jsx("p",{className:"text-sm text-gray-600",children:"提供個人化購物體驗"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:l.personalization,onChange:f=>o(b=>({...b,personalization:f.target.checked})),className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"})})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex space-x-4",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"儲存設定"}),e.jsx("button",{onClick:()=>o({necessary:!0,analytics:!0,marketing:!1,personalization:!0}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"重設為預設值"})]})]})})]})]})},Me={PENDING:"pending",IN_PROGRESS:"in_progress",COMPLETED:"completed",CANCELLED:"cancelled",OVERDUE:"overdue"},Dt={LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent",CRITICAL:"critical"},Ye={INVENTORY_RESTOCK:"inventory_restock",INVENTORY_AUDIT:"inventory_audit",LOW_STOCK_ALERT:"low_stock_alert",ORDER_PROCESSING:"order_processing",ORDER_REVIEW:"order_review",REFUND_PROCESSING:"refund_processing",CUSTOMER_INQUIRY:"customer_inquiry",COMPLAINT_HANDLING:"complaint_handling",QUALITY_ASSURANCE:"quality_assurance",PAYMENT_VERIFICATION:"payment_verification",INVOICE_PROCESSING:"invoice_processing",FINANCIAL_REVIEW:"financial_review",PROMOTION_REVIEW:"promotion_review",CONTENT_APPROVAL:"content_approval",CAMPAIGN_SETUP:"campaign_setup",SUPPLIER_EVALUATION:"supplier_evaluation",PURCHASE_ORDER_REVIEW:"purchase_order_review",VENDOR_COMMUNICATION:"vendor_communication",SYSTEM_MAINTENANCE:"system_maintenance",DATA_BACKUP:"data_backup",SECURITY_REVIEW:"security_review"},Sl={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},Se={PENDING:"pending",IN_PROGRESS:"in_progress",APPROVED:"approved",REJECTED:"rejected",CANCELLED:"cancelled"};class HA{constructor(){this.tasks=this.generateTasks(),this.approvalWorkflows=this.generateApprovalWorkflows(),this.approvalInstances=this.generateApprovalInstances(),this.operationalMetrics=this.generateOperationalMetrics(),this.alerts=this.generateAlerts(),this.reminders=this.generateReminders(),this.users=this.generateUsers(),this.initializeRealTimeUpdates()}generateTasks(){const t=[],r=Object.values(Ye),n=Object.values(Me),a=Object.values(Dt),i=Object.values(Sl);for(let l=1;l<=150;l++){const o=new Date(Date.now()-Math.random()*30*24*60*60*1e3),c=new Date(o.getTime()+Math.random()*14*24*60*60*1e3),d=n[Math.floor(Math.random()*n.length)];t.push({id:l,title:this.generateTaskTitle(r[Math.floor(Math.random()*r.length)]),description:this.generateTaskDescription(),task_type:r[Math.floor(Math.random()*r.length)],status:d,priority:a[Math.floor(Math.random()*a.length)],business_impact:i[Math.floor(Math.random()*i.length)],assigned_to:Math.random()>.3?Math.floor(Math.random()*10)+1:null,created_by:Math.floor(Math.random()*10)+1,created_at:o,due_date:c,started_at:d!==Me.PENDING?new Date(o.getTime()+Math.random()*24*60*60*1e3):null,completed_at:d===Me.COMPLETED?new Date(c.getTime()-Math.random()*48*60*60*1e3):null,estimated_hours:Math.floor(Math.random()*40)+1,actual_hours:d===Me.COMPLETED?Math.floor(Math.random()*35)+1:null,related_entity_type:this.getRelatedEntityType(),related_entity_id:Math.floor(Math.random()*1e3)+1,notes:[],attachments:[],auto_generated:Math.random()>.7,generation_rule_id:Math.random()>.7?Math.floor(Math.random()*5)+1:null,updated_at:new Date})}return t}generateTaskTitle(t){const n={[Ye.INVENTORY_RESTOCK]:["補充香水庫存","補充面霜庫存","補充口紅庫存","補充精華液庫存"],[Ye.INVENTORY_AUDIT]:["Q1庫存盤點","月度庫存檢查","年度庫存審計","不定期庫存抽查"],[Ye.LOW_STOCK_ALERT]:["香奈兒香水庫存不足","SK-II面霜庫存預警","雅詩蘭黛精華庫存警報"],[Ye.ORDER_PROCESSING]:["處理訂單 #12345","處理大宗訂單 #67890","處理VIP客戶訂單"],[Ye.ORDER_REVIEW]:["審核高額訂單","審核異常訂單","審核退換貨申請"],[Ye.REFUND_PROCESSING]:["處理退款申請","處理產品瑕疵退款","處理運送問題退款"],[Ye.CUSTOMER_INQUIRY]:["客戶產品諮詢","客戶配送查詢","客戶帳戶問題"],[Ye.COMPLAINT_HANDLING]:["處理產品投訴","處理服務投訴","處理配送投訴"],[Ye.QUALITY_ASSURANCE]:["品質檢查報告","供應商品質評估","客戶滿意度調查"],[Ye.PAYMENT_VERIFICATION]:["驗證大額付款","驗證信用卡交易","驗證銀行轉帳"],[Ye.INVOICE_PROCESSING]:["處理供應商發票","處理月度帳單","處理退款發票"],[Ye.FINANCIAL_REVIEW]:["月度財務審核","季度損益審查","年度預算檢討"],[Ye.PROMOTION_REVIEW]:["審核週年慶活動","審核新品促銷","審核會員優惠"],[Ye.CONTENT_APPROVAL]:["審核產品文案","審核行銷素材","審核網站內容"],[Ye.CAMPAIGN_SETUP]:["設定聖誕節活動","設定母親節促銷","設定夏季特賣"],[Ye.SUPPLIER_EVALUATION]:["評估新供應商","年度供應商考核","供應商績效檢討"],[Ye.PURCHASE_ORDER_REVIEW]:["審核採購單","審核大宗採購","審核緊急採購"],[Ye.VENDOR_COMMUNICATION]:["與供應商溝通交期","協調產品規格","討論價格調整"],[Ye.SYSTEM_MAINTENANCE]:["系統安全更新","資料庫維護","伺服器效能優化"],[Ye.DATA_BACKUP]:["每日資料備份","週度完整備份","災難復原測試"],[Ye.SECURITY_REVIEW]:["安全漏洞檢查","存取權限審核","防火牆規則更新"]}[t]||["一般任務"];return n[Math.floor(Math.random()*n.length)]}generateTaskDescription(){const t=["需要在指定時間內完成此項目，請注意相關細節和要求。","此任務涉及多個部門協調，請確保溝通順暢。","重要客戶相關事項，請優先處理並保持高品質服務。","定期例行作業，請按照標準作業程序執行。","緊急事項，需要立即關注和處理。","季度重點項目，關係到部門KPI達成。","新流程試行，請詳細記錄執行過程和結果。","客戶滿意度相關，請確保服務品質。"];return t[Math.floor(Math.random()*t.length)]}getRelatedEntityType(){const t=["product","order","customer","supplier","promotion","invoice"];return t[Math.floor(Math.random()*t.length)]}generateApprovalWorkflows(){return[{id:1,workflow_name:"採購單簽核流程",module:"procurement",entity_type:"purchase_order",description:"所有採購單都需要經過此簽核流程",trigger_conditions:[{field:"total_amount",operator:">",value:1e4}],approval_steps:[{step_order:1,step_name:"部門主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"department_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:24,allow_delegation:!0,require_comments:!1,attachment_required:!1},{step_order:2,step_name:"財務主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"finance_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:48,skip_conditions:[{field:"total_amount",operator:"<",value:5e4}],allow_delegation:!0,require_comments:!0,attachment_required:!1},{step_order:3,step_name:"總經理簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"general_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:72,skip_conditions:[{field:"total_amount",operator:"<",value:1e5}],allow_delegation:!1,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:12,escalation_after_hours:48},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date},{id:2,workflow_name:"退款簽核流程",module:"orders",entity_type:"refund_request",description:"客戶退款申請簽核流程",trigger_conditions:[{field:"refund_amount",operator:">",value:5e3}],approval_steps:[{step_order:1,step_name:"客服主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"customer_service_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:8,allow_delegation:!0,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:4,escalation_after_hours:12},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date},{id:3,workflow_name:"促銷活動簽核流程",module:"marketing",entity_type:"promotion",description:"行銷促銷活動審核流程",trigger_conditions:[{field:"discount_percentage",operator:">",value:30}],approval_steps:[{step_order:1,step_name:"行銷主管簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"marketing_manager"}],approval_logic:"any_one",required_approvals:1,sla_hours:24,allow_delegation:!0,require_comments:!1,attachment_required:!0},{step_order:2,step_name:"業務總監簽核",step_type:"role_based",approvers:[{approver_type:"role",role_name:"sales_director"}],approval_logic:"any_one",required_approvals:1,sla_hours:48,allow_delegation:!1,require_comments:!0,attachment_required:!1}],notification_settings:{notify_on_submit:!0,notify_on_approve:!0,notify_on_reject:!0,reminder_frequency_hours:8,escalation_after_hours:24},is_active:!0,created_at:new Date("2024-01-01"),updated_at:new Date}]}generateApprovalInstances(){const t=[],r=this.approvalWorkflows,n=Object.values(Se);for(let a=1;a<=50;a++){const i=r[Math.floor(Math.random()*r.length)],l=new Date(Date.now()-Math.random()*15*24*60*60*1e3),o=n[Math.floor(Math.random()*n.length)];t.push({id:a,workflow_id:i.id,entity_type:i.entity_type,entity_id:Math.floor(Math.random()*1e3)+1,submitted_by:Math.floor(Math.random()*10)+1,submitted_at:l,submission_notes:this.generateSubmissionNotes(i.entity_type),current_step:Math.floor(Math.random()*i.approval_steps.length)+1,overall_status:o,approval_history:this.generateApprovalHistory(a,i),due_date:new Date(l.getTime()+3*24*60*60*1e3),completed_at:o===Se.APPROVED||o===Se.REJECTED?new Date(l.getTime()+Math.random()*72*60*60*1e3):null,total_processing_time:o===Se.APPROVED||o===Se.REJECTED?Math.floor(Math.random()*4320)+60:null,priority:Object.values(Dt)[Math.floor(Math.random()*Object.values(Dt).length)],business_impact:Object.values(Sl)[Math.floor(Math.random()*Object.values(Sl).length)],risk_level:["low","medium","high"][Math.floor(Math.random()*3)],created_at:l,updated_at:new Date})}return t}generateSubmissionNotes(t){const n={purchase_order:["緊急採購需求","季度例行採購","新品上市採購","庫存補充採購"],refund_request:["產品品質問題","配送延遲","客戶不滿意","尺寸不合適"],promotion:["季節性促銷","清庫存活動","新客戶優惠","會員專屬優惠"]}[t]||["一般申請"];return n[Math.floor(Math.random()*n.length)]}generateApprovalHistory(t,r){var i,l;const n=[],a=["approve","reject","request_info","delegate"];for(let o=0;o<Math.floor(Math.random()*3)+1;o++)n.push({id:t*10+o,approval_instance_id:t,step_number:o+1,approver_id:Math.floor(Math.random()*10)+1,approver_name:this.generateUserName(),approver_role:((l=(i=r.approval_steps[o])==null?void 0:i.approvers[0])==null?void 0:l.role_name)||"manager",action:a[Math.floor(Math.random()*a.length)],decision_date:new Date(Date.now()-Math.random()*48*60*60*1e3),comments:this.generateApprovalComments(),attachments:[],processing_time_minutes:Math.floor(Math.random()*480)+15,created_at:new Date(Date.now()-Math.random()*48*60*60*1e3)});return n}generateUserName(){const t=["王小明","李美麗","張志偉","陳淑芬","林大維","黃怡君","吳建國","蔡雅婷","劉志強","鄭美玲"];return t[Math.floor(Math.random()*t.length)]}generateApprovalComments(){const t=["同意此申請，請按流程進行","金額合理，核准執行","需要補充更多資訊","建議降低預算後重新申請","緊急需求，加速處理","符合公司政策，准予執行","需要主管進一步確認","條件符合，同意核准"];return t[Math.floor(Math.random()*t.length)]}generateOperationalMetrics(){return{real_time_metrics:{current_timestamp:new Date,orders_today:{total_orders:Math.floor(Math.random()*150)+50,pending_orders:Math.floor(Math.random()*20)+5,processing_orders:Math.floor(Math.random()*30)+10,shipped_orders:Math.floor(Math.random()*80)+20,revenue_today:Math.floor(Math.random()*5e5)+1e5,avg_order_value:Math.floor(Math.random()*3e3)+1e3},inventory_alerts:{low_stock_items:Math.floor(Math.random()*15)+3,out_of_stock_items:Math.floor(Math.random()*5)+1,overstock_items:Math.floor(Math.random()*8)+2,total_inventory_value:Math.floor(Math.random()*5e6)+2e6},customer_service:{open_tickets:Math.floor(Math.random()*25)+10,overdue_tickets:Math.floor(Math.random()*5)+1,avg_response_time_minutes:Math.floor(Math.random()*120)+30,customer_satisfaction_today:(Math.random()*1+4).toFixed(1)},website_performance:{current_visitors:Math.floor(Math.random()*500)+100,conversion_rate_today:(Math.random()*3+2).toFixed(2),bounce_rate_today:(Math.random()*20+30).toFixed(2),page_load_time_avg:(Math.random()*2+1).toFixed(2),uptime_percentage:(Math.random()*1+99).toFixed(2)},financial_summary:{revenue_today:Math.floor(Math.random()*5e5)+1e5,profit_today:Math.floor(Math.random()*15e4)+3e4,outstanding_payments:Math.floor(Math.random()*2e5)+5e4,overdue_invoices:Math.floor(Math.random()*10)+2,cash_flow_status:["positive","negative","neutral"][Math.floor(Math.random()*3)]}},operational_efficiency:{processing_efficiency:{orders_processed_per_hour:Math.floor(Math.random()*20)+10,avg_order_processing_time_minutes:Math.floor(Math.random()*30)+15,orders_requiring_manual_review_percentage:(Math.random()*10+5).toFixed(1),automatic_processing_rate:(Math.random()*20+75).toFixed(1)},inventory_efficiency:{inventory_turnover_rate:(Math.random()*3+4).toFixed(1),stockout_rate_percentage:(Math.random()*3+1).toFixed(1),excess_inventory_percentage:(Math.random()*5+2).toFixed(1),inventory_accuracy_rate:(Math.random()*2+98).toFixed(1)},service_efficiency:{first_contact_resolution_rate:(Math.random()*15+80).toFixed(1),avg_ticket_resolution_time_hours:(Math.random()*12+4).toFixed(1),agent_utilization_rate:(Math.random()*15+80).toFixed(1),customer_effort_score:(Math.random()*1+4).toFixed(1)},supply_chain_efficiency:{supplier_on_time_delivery_rate:(Math.random()*10+90).toFixed(1),procurement_cycle_time_days:Math.floor(Math.random()*5)+7,supplier_defect_rate:(Math.random()*2+.5).toFixed(2),inventory_receiving_accuracy:(Math.random()*2+98).toFixed(1)}},anomaly_monitoring:{active_anomalies:this.generateActiveAnomalies(),system_health:{database_response_time:Math.floor(Math.random()*100)+50,api_response_time:Math.floor(Math.random()*200)+100,error_rate_percentage:(Math.random()*1+.1).toFixed(2),queue_processing_status:["healthy","warning","critical"][Math.floor(Math.random()*3)]},business_health:{conversion_rate_status:["normal","below_average","concerning"][Math.floor(Math.random()*3)],customer_satisfaction_trend:["improving","stable","declining"][Math.floor(Math.random()*3)],inventory_health_score:Math.floor(Math.random()*20)+80,financial_health_score:Math.floor(Math.random()*15)+85}},alert_system:{critical_alerts:this.generateCriticalAlerts(),trending_issues:this.generateTrendingIssues()}}}generateActiveAnomalies(){const t=[],r=["訂單轉換率","庫存週轉率","客戶回應時間","系統錯誤率","網站載入速度"],n=["low","medium","high","critical"],a=["open","investigating","resolved"];for(let i=0;i<Math.floor(Math.random()*5)+2;i++)t.push({anomaly_id:i+1,metric_name:r[Math.floor(Math.random()*r.length)],severity:n[Math.floor(Math.random()*n.length)],detected_at:new Date(Date.now()-Math.random()*24*60*60*1e3),description:"偵測到指標異常波動，建議進行進一步調查",recommended_action:"檢查相關系統狀態並分析根本原因",status:a[Math.floor(Math.random()*a.length)]});return t}generateCriticalAlerts(){const t=[],r=["庫存不足","系統異常","訂單積壓","客戶投訴","財務異常"],n=Object.values(Dt);for(let a=0;a<Math.floor(Math.random()*3)+1;a++)t.push({alert_id:a+1,alert_type:r[Math.floor(Math.random()*r.length)],priority:n[Math.floor(Math.random()*n.length)],message:"系統偵測到需要立即關注的狀況",affected_area:"營運管理",estimated_impact:"可能影響客戶體驗和營收",suggested_actions:["立即檢查相關數據","聯繫相關負責人","啟動緊急應變程序"],created_at:new Date(Date.now()-Math.random()*2*60*60*1e3),acknowledged_by:Math.random()>.5?Math.floor(Math.random()*10)+1:null,resolved_at:Math.random()>.7?new Date:null});return t}generateAlerts(){return{critical:this.generateCriticalAlerts(),anomalies:this.generateActiveAnomalies(),trending_issues:this.generateTrendingIssues()}}generateTrendingIssues(){const t=[],r=["配送延遲增加","退款申請上升","客服回應時間延長","庫存週轉下降","轉換率波動"],n=["increasing","stable","decreasing"],a=["low","medium","high"];for(let i=0;i<Math.floor(Math.random()*4)+2;i++)t.push({issue_pattern:r[Math.floor(Math.random()*r.length)],occurrence_count:Math.floor(Math.random()*20)+5,trend_direction:n[Math.floor(Math.random()*n.length)],risk_assessment:a[Math.floor(Math.random()*a.length)],prevention_recommendations:["加強監控機制","優化作業流程","提供員工培訓","改善系統效能"]});return t}generateReminders(){const t=[];for(let r=1;r<=20;r++)t.push({reminder_id:r,title:this.generateReminderTitle(),description:"系統自動生成的提醒事項",reminder_type:["task_deadline","approval_pending","inventory_alert","system_maintenance"][Math.floor(Math.random()*4)],priority:Object.values(Dt)[Math.floor(Math.random()*Object.values(Dt).length)],target_user_id:Math.floor(Math.random()*10)+1,related_entity_type:"task",related_entity_id:Math.floor(Math.random()*150)+1,scheduled_time:new Date(Date.now()+Math.random()*48*60*60*1e3),is_sent:Math.random()>.3,is_acknowledged:Math.random()>.5,notification_channels:["email","in_app","push"],created_at:new Date(Date.now()-Math.random()*24*60*60*1e3)});return t}generateReminderTitle(){const t=["任務即將到期提醒","簽核審批待處理","庫存預警通知","系統維護提醒","客戶回覆期限提醒","月度報告繳交提醒","供應商付款提醒","員工績效評估提醒"];return t[Math.floor(Math.random()*t.length)]}generateUsers(){const t=[],r=["admin","manager","employee","supervisor"],n=["營運部","行銷部","財務部","客服部","資訊部"];for(let a=1;a<=10;a++)t.push({id:a,name:this.generateUserName(),email:`user${a}@marelle.com`,role:r[Math.floor(Math.random()*r.length)],department:n[Math.floor(Math.random()*n.length)],is_active:!0,last_login:new Date(Date.now()-Math.random()*24*60*60*1e3),created_at:new Date("2024-01-01")});return t}initializeRealTimeUpdates(){setInterval(()=>{this.updateRealTimeMetrics()},6e4),setInterval(()=>{this.checkForAnomalies()},3e5)}updateRealTimeMetrics(){const t=this.operationalMetrics.real_time_metrics;t.orders_today.total_orders+=Math.floor(Math.random()*3),t.orders_today.revenue_today+=Math.floor(Math.random()*5e3),t.website_performance.current_visitors+=Math.floor(Math.random()*20)-10,t.website_performance.current_visitors<50&&(t.website_performance.current_visitors=50),t.current_timestamp=new Date}checkForAnomalies(){if(Math.random()>.7){const t={anomaly_id:this.operationalMetrics.anomaly_monitoring.active_anomalies.length+1,metric_name:"系統效能",severity:"medium",detected_at:new Date,description:"偵測到系統回應時間異常",recommended_action:"檢查伺服器狀態",status:"open"};this.operationalMetrics.anomaly_monitoring.active_anomalies.push(t)}}getTasks(t={}){let r=[...this.tasks];return t.status&&(r=r.filter(n=>t.status.includes(n.status))),t.priority&&(r=r.filter(n=>t.priority.includes(n.priority))),t.task_type&&(r=r.filter(n=>t.task_type.includes(n.task_type))),t.assigned_to&&(r=r.filter(n=>n.assigned_to===t.assigned_to)),{tasks:r,total:r.length,summary:this.getTaskSummary(r)}}getTaskSummary(t=this.tasks){const r={total:t.length,by_status:{},by_priority:{},overdue:0,due_today:0},n=new Date;return n.setHours(23,59,59,999),t.forEach(a=>{if(r.by_status[a.status]=(r.by_status[a.status]||0)+1,r.by_priority[a.priority]=(r.by_priority[a.priority]||0)+1,a.due_date&&a.status!==Me.COMPLETED){const i=new Date(a.due_date);i<new Date?r.overdue++:i<=n&&r.due_today++}}),r}updateTaskStatus(t,r,n=null){const a=this.tasks.find(i=>i.id===t);return a?(a.status=r,a.updated_at=new Date,r===Me.COMPLETED?a.completed_at=new Date:r===Me.IN_PROGRESS&&!a.started_at&&(a.started_at=new Date),n&&a.notes.push({note:n,created_by:1,created_at:new Date}),a):null}assignTask(t,r,n=null,a=null,i=null){const l=this.tasks.find(o=>o.id===t);return l?(l.assigned_to=r,l.updated_at=new Date,n&&(l.priority=n),a&&(l.due_date=new Date(a)),i&&l.notes.push({note:i,created_by:1,created_at:new Date}),l):null}getApprovalInstances(t={}){let r=[...this.approvalInstances];if(t.workflow_type){const n=this.approvalWorkflows.filter(a=>a.entity_type===t.workflow_type).map(a=>a.id);r=r.filter(a=>n.includes(a.workflow_id))}return t.status&&(r=r.filter(n=>t.status.includes(n.overall_status))),t.priority&&(r=r.filter(n=>t.priority.includes(n.priority))),{instances:r,total:r.length,summary:this.getApprovalSummary(r)}}getApprovalSummary(t=this.approvalInstances){const r={total:t.length,by_status:{},overdue:0,due_today:0,avg_processing_time:0},n=new Date;n.setHours(23,59,59,999);let a=0,i=0;return t.forEach(l=>{if(r.by_status[l.overall_status]=(r.by_status[l.overall_status]||0)+1,l.due_date&&l.overall_status===Se.PENDING){const o=new Date(l.due_date);o<new Date?r.overdue++:o<=n&&r.due_today++}l.total_processing_time&&(a+=l.total_processing_time,i++)}),i>0&&(r.avg_processing_time=Math.round(a/i)),r}getOperationalMetrics(){return this.operationalMetrics}getDashboardSummary(){const t=this.getTaskSummary(),r=this.getApprovalSummary(),n=this.operationalMetrics;return{tasks:t,approvals:r,metrics:{orders_today:n.real_time_metrics.orders_today.total_orders,revenue_today:n.real_time_metrics.orders_today.revenue_today,active_alerts:n.alert_system.critical_alerts.length,system_health:n.anomaly_monitoring.system_health.queue_processing_status},last_updated:new Date}}getReminders(t=null){let r=[...this.reminders];return t&&(r=r.filter(n=>n.target_user_id===t)),r.sort((n,a)=>new Date(n.scheduled_time)-new Date(a.scheduled_time))}acknowledgeReminder(t){const r=this.reminders.find(n=>n.reminder_id===t);return r?(r.is_acknowledged=!0,r):null}getUsers(){return this.users}getUserById(t){return this.users.find(r=>r.id===t)}getAlerts(){return this.alerts}getCriticalAlerts(){return this.alerts.critical}getAnomalies(){return this.alerts.anomalies}getTrendingIssues(){return this.alerts.trending_issues}}const Cl=new HA,GA=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState(!0),[l,o]=u.useState(null),[c,d]=u.useState(!1),[m,h]=u.useState(!1),[p,y]=u.useState(new Set),[x,f]=u.useState({status:[],priority:[],task_type:[],assigned_to:null,search:""}),[b,v]=u.useState("due_date"),[g,w]=u.useState("asc"),[N,j]=u.useState(1),[_]=u.useState(10);u.useEffect(()=>{k()},[]),u.useEffect(()=>{T()},[s,x,b,g]);const k=async()=>{i(!0);try{const O=Cl.getTasks();t(O.tasks)}catch(O){console.error("Error loading tasks:",O)}finally{i(!1)}},T=()=>{let O=[...s];x.search&&(O=O.filter(I=>I.title.toLowerCase().includes(x.search.toLowerCase())||I.description.toLowerCase().includes(x.search.toLowerCase()))),x.status.length>0&&(O=O.filter(I=>x.status.includes(I.status))),x.priority.length>0&&(O=O.filter(I=>x.priority.includes(I.priority))),x.task_type.length>0&&(O=O.filter(I=>x.task_type.includes(I.task_type))),x.assigned_to&&(O=O.filter(I=>I.assigned_to===x.assigned_to)),O.sort((I,F)=>{let S=I[b],V=F[b];return(b==="due_date"||b==="created_at")&&(S=S?new Date(S):new Date(0),V=V?new Date(V):new Date(0)),S<V?g==="asc"?-1:1:S>V?g==="asc"?1:-1:0}),n(O),j(1)},C=async(O,I,F=null)=>{try{const S=Cl.updateTaskStatus(O,I,F);S&&t(V=>V.map(G=>G.id===O?S:G))}catch(S){console.error("Error updating task status:",S)}},E=async(O,I,F=null,S=null,V=null)=>{try{const G=Cl.assignTask(O,I,F,S,V);G&&(t(q=>q.map(P=>P.id===O?G:P)),h(!1),o(null))}catch(G){console.error("Error assigning task:",G)}},R=async O=>{const I=Array.from(p);switch(O){case"complete":for(const F of I)await C(F,Me.COMPLETED);break;case"cancel":for(const F of I)await C(F,Me.CANCELLED);break}y(new Set)},M=O=>{const I=new Set(p);I.has(O)?I.delete(O):I.add(O),y(I)},$=Math.ceil(r.length/_),A=(N-1)*_,z=A+_,D=r.slice(A,z);return a?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})}):e.jsxs("div",{children:[e.jsx(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"任務管理"}),e.jsx("p",{className:"text-gray-600",children:"管理和追蹤系統任務和工作項目"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[e.jsx(br,{className:"h-4 w-4 mr-2"}),"重新載入"]})})]})}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsx(Kh,{label:"狀態",options:Object.values(Me),selected:x.status,onChange:O=>f({...x,status:O}),getLabel:O=>O.replace("_"," ")}),e.jsx(Kh,{label:"優先級",options:Object.values(Dt),selected:x.priority,onChange:O=>f({...x,priority:O}),getLabel:O=>O}),e.jsx(Kh,{label:"任務類型",options:Object.values(Ye),selected:x.task_type,onChange:O=>f({...x,task_type:O}),getLabel:O=>O.replace("_"," ")})]}),p.size>0&&e.jsxs(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("span",{className:"text-sm text-blue-800",children:["已選擇 ",p.size," 個任務"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>R("complete"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"標記完成"}),e.jsx("button",{onClick:()=>R("cancel"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"取消任務"}),e.jsx("button",{onClick:()=>y(new Set),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700",children:"清除選擇"})]})]})]}),e.jsx(qA,{tasks:r}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["任務列表 (",r.length,")"]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(ZA,{sortBy:b,sortOrder:g,onSortChange:(O,I)=>{v(O),w(I)}})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",className:"rounded",checked:p.size===D.length&&D.length>0,onChange:O=>{O.target.checked?y(new Set(D.map(I=>I.id))):y(new Set)}})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"任務"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"優先級"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"指派者"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"到期日"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white/30 divide-y divide-gray-200",children:e.jsx(zm,{children:D.map((O,I)=>e.jsx(YA,{task:O,index:I,isSelected:p.has(O.id),onToggleSelect:()=>M(O.id),onStatusChange:(F,S)=>C(O.id,F,S),onAssign:()=>{o(O),h(!0)},onViewDetails:()=>{o(O),d(!0)}},O.id))})})]})}),$>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50/50",children:e.jsx(KA,{currentPage:N,totalPages:$,onPageChange:j})})]}),e.jsx(XA,{task:l,isOpen:c,onClose:()=>{d(!1),o(null)},onStatusChange:(O,I)=>{C(l.id,O,I),d(!1),o(null)}}),e.jsx(QA,{task:l,isOpen:m,onClose:()=>{h(!1),o(null)},onAssign:E})]})},qA=({tasks:s})=>{const t={total:s.length,pending:s.filter(r=>r.status===Me.PENDING).length,inProgress:s.filter(r=>r.status===Me.IN_PROGRESS).length,completed:s.filter(r=>r.status===Me.COMPLETED).length,overdue:s.filter(r=>r.status!==Me.COMPLETED&&r.due_date&&new Date(r.due_date)<new Date).length};return e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"總任務"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"待處理"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.inProgress}),e.jsx("div",{className:"text-sm text-gray-600",children:"進行中"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.completed}),e.jsx("div",{className:"text-sm text-gray-600",children:"已完成"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.overdue}),e.jsx("div",{className:"text-sm text-gray-600",children:"逾期"})]})]})},YA=({task:s,index:t,isSelected:r,onToggleSelect:n,onStatusChange:a,onAssign:i,onViewDetails:l})=>{var d,m;const[o,c]=u.useState(!1);return e.jsxs(Q.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:t*.05},className:`hover:bg-gray-50/50 ${r?"bg-blue-50/50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",className:"rounded",checked:r,onChange:n})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[s.status&&e.jsx("div",{className:"mt-1",children:s.status===Me.COMPLETED?e.jsx(he,{className:"h-5 w-5 text-green-500"}):s.status===Me.IN_PROGRESS?e.jsx(br,{className:"h-5 w-5 text-blue-500"}):s.due_date&&new Date(s.due_date)<new Date?e.jsx(Te,{className:"h-5 w-5 text-red-500"}):e.jsx(je,{className:"h-5 w-5 text-amber-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.title}),e.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:(d=s.task_type)==null?void 0:d.replace("_"," ")}),s.business_impact&&e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${s.business_impact===Sl.CRITICAL?"bg-red-100 text-red-800":s.business_impact===Sl.HIGH?"bg-orange-100 text-orange-800":s.business_impact===Sl.MEDIUM?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:s.business_impact})]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status===Me.COMPLETED?"bg-green-100 text-green-800":s.status===Me.IN_PROGRESS?"bg-blue-100 text-blue-800":s.status===Me.CANCELLED?"bg-gray-100 text-gray-800":s.due_date&&new Date(s.due_date)<new Date?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"}`,children:(m=s.status)==null?void 0:m.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${s.priority===Dt.CRITICAL?"bg-red-100 text-red-800 border-red-200":s.priority===Dt.URGENT?"bg-orange-100 text-orange-800 border-orange-200":s.priority===Dt.HIGH?"bg-amber-100 text-amber-800 border-amber-200":s.priority===Dt.MEDIUM?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:s.priority})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xl,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.assigned_to?`用戶 ${s.assigned_to}`:"未指派"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Na,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:`text-sm ${s.due_date&&new Date(s.due_date)<new Date&&s.status!==Me.COMPLETED?"text-red-600 font-medium":"text-gray-900"}`,children:s.due_date?new Date(s.due_date).toLocaleDateString("zh-TW"):"-"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(!o),className:"text-gray-400 hover:text-gray-600",children:e.jsx(HS,{className:"h-5 w-5"})}),o&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>{l(),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"查看詳情"}),e.jsx("button",{onClick:()=>{i(),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"重新指派"}),s.status!==Me.COMPLETED&&e.jsx("button",{onClick:()=>{a(Me.COMPLETED),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-green-700 hover:bg-green-50",children:"標記完成"}),s.status===Me.PENDING&&e.jsx("button",{onClick:()=>{a(Me.IN_PROGRESS),c(!1)},className:"block w-full text-left px-4 py-2 text-sm text-blue-700 hover:bg-blue-50",children:"開始執行"})]})})]})})]})},Kh=({label:s,options:t,selected:r,onChange:n,getLabel:a})=>{const[i,l]=u.useState(!1),[o,c]=u.useState({top:0,left:0,width:0}),d=u.useRef(null),m=()=>{if(d.current){const p=d.current.getBoundingClientRect();c({top:p.bottom+2,left:p.left,width:p.width})}},h=()=>{i||m(),l(!i)};return e.jsxs("div",{ref:d,className:"relative",children:[e.jsxs("button",{onClick:h,className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("span",{children:r.length>0?`${s} (${r.length})`:s}),e.jsx(of,{className:"h-4 w-4"})]}),i&&bm.createPortal(e.jsx("div",{className:"glass-dropdown fixed z-[99999]",style:{top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,zIndex:99999},children:e.jsx("div",{className:"max-h-60 overflow-auto",children:t.map(p=>e.jsx("label",{className:"glass-dropdown-option cursor-pointer",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("input",{type:"checkbox",checked:r.includes(p),onChange:y=>{y.target.checked?n([...r,p]):n(r.filter(x=>x!==p))},className:"rounded mr-3"}),e.jsx("span",{className:"text-sm",children:a?a(p):p})]})},p))})}),document.body)]})},ZA=({sortBy:s,sortOrder:t,onSortChange:r})=>{const[n,a]=u.useState(!1),i=[{field:"due_date",label:"到期日"},{field:"created_at",label:"建立日期"},{field:"priority",label:"優先級"},{field:"status",label:"狀態"}];return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(!n),className:"flex items-center px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50",children:[e.jsx(hs,{className:"h-4 w-4 mr-1"}),"排序",e.jsx(of,{className:"h-4 w-4 ml-1"})]}),n&&e.jsx("div",{className:"absolute right-0 z-10 w-40 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:e.jsx("div",{className:"p-1",children:i.map(l=>e.jsx("button",{onClick:()=>{s===l.field?r(l.field,t==="asc"?"desc":"asc"):r(l.field,"asc"),a(!1)},className:`w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-100 ${s===l.field?"bg-amber-50 text-amber-700":"text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:l.label}),s===l.field&&e.jsx("span",{className:"text-xs",children:t==="asc"?"↑":"↓"})]})},l.field))})})]})},KA=({currentPage:s,totalPages:t,onPageChange:r})=>{const n=[];let i=Math.max(1,s-Math.floor(2.5)),l=Math.min(t,i+5-1);l-i+1<5&&(i=Math.max(1,l-5+1));for(let o=i;o<=l;o++)n.push(o);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["顯示第 ",(s-1)*10+1," - ",Math.min(s*10,t*10)," 項"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>r(s-1),disabled:s===1,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"上一頁"}),n.map(o=>e.jsx("button",{onClick:()=>r(o),className:`px-3 py-1 text-sm border rounded ${s===o?"bg-amber-600 text-white border-amber-600":"border-gray-300 hover:bg-gray-50"}`,children:o},o)),e.jsx("button",{onClick:()=>r(s+1),disabled:s===t,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"下一頁"})]})]})},XA=({task:s,isOpen:t,onClose:r,onStatusChange:n})=>{var a,i;return!t||!s?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"任務詳情"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(_t,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"狀態"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.status===Me.COMPLETED?"bg-green-100 text-green-800":s.status===Me.IN_PROGRESS?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"}`,children:(a=s.status)==null?void 0:a.replace("_"," ")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"優先級"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.priority===Dt.CRITICAL?"bg-red-100 text-red-800":s.priority===Dt.HIGH?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:s.priority})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"任務類型"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(i=s.task_type)==null?void 0:i.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"業務影響"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.business_impact})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"建立日期"}),e.jsx("p",{className:"mt-1 text-gray-900",children:new Date(s.created_at).toLocaleDateString("zh-TW")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"到期日"}),e.jsx("p",{className:"mt-1 text-gray-900",children:s.due_date?new Date(s.due_date).toLocaleDateString("zh-TW"):"-"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),s.status!==Me.COMPLETED&&e.jsx("button",{onClick:()=>n(Me.COMPLETED),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"標記完成"})]})]})]})})},QA=({task:s,isOpen:t,onClose:r,onAssign:n})=>{const[a,i]=u.useState({assigned_to:"",priority:"",due_date:"",notes:""});if(u.useEffect(()=>{s&&i({assigned_to:s.assigned_to||"",priority:s.priority||"",due_date:s.due_date?new Date(s.due_date).toISOString().split("T")[0]:"",notes:""})},[s]),!t||!s)return null;const l=o=>{o.preventDefault(),n(s.id,parseInt(a.assigned_to),a.priority,a.due_date?new Date(a.due_date):null,a.notes||null)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"指派任務"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(_t,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"指派給"}),e.jsxs("select",{value:a.assigned_to,onChange:o=>i({...a,assigned_to:o.target.value}),className:"glass-select w-full font-chinese",required:!0,children:[e.jsx("option",{value:"",children:"選擇用戶"}),[...Array(10)].map((o,c)=>e.jsxs("option",{value:c+1,children:["用戶 ",c+1]},c+1))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"優先級"}),e.jsxs("select",{value:a.priority,onChange:o=>i({...a,priority:o.target.value}),className:"glass-select w-full font-chinese",children:[e.jsx("option",{value:"",children:"選擇優先級"}),Object.values(Dt).map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"到期日"}),e.jsx("input",{type:"date",value:a.due_date,onChange:o=>i({...a,due_date:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"備註"}),e.jsx("textarea",{value:a.notes,onChange:o=>i({...a,notes:o.target.value}),placeholder:"新增備註...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"取消"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"指派任務"})]})]})]})})},JA=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState(!0),[c,d]=u.useState(null),[m,h]=u.useState(!1),[p,y]=u.useState("pending"),[x,f]=u.useState({workflow_type:"",status:[],priority:[],search:""});u.useEffect(()=>{b()},[]),u.useEffect(()=>{v()},[s,x,p]);const b=async()=>{o(!0);try{const N=Cl.getApprovalInstances(),j=Cl.approvalWorkflows;t(N.instances),n(j)}catch(N){console.error("Error loading approval data:",N)}finally{o(!1)}},v=()=>{let N=[...s];if(p==="pending"?N=N.filter(j=>j.overall_status===Se.PENDING||j.overall_status===Se.IN_PROGRESS):p==="history"&&(N=N.filter(j=>j.overall_status===Se.APPROVED||j.overall_status===Se.REJECTED||j.overall_status===Se.CANCELLED)),x.search&&(N=N.filter(j=>{var _;return((_=j.submission_notes)==null?void 0:_.toLowerCase().includes(x.search.toLowerCase()))||j.entity_type.toLowerCase().includes(x.search.toLowerCase())})),x.workflow_type){const j=r.filter(_=>_.entity_type===x.workflow_type).map(_=>_.id);N=N.filter(_=>j.includes(_.workflow_id))}x.status.length>0&&(N=N.filter(j=>x.status.includes(j.overall_status))),x.priority.length>0&&(N=N.filter(j=>x.priority.includes(j.priority))),N.sort((j,_)=>new Date(_.submitted_at)-new Date(j.submitted_at)),i(N)},g=async(N,j="")=>{try{console.log("Approving instance:",N,j),t(_=>_.map(k=>k.id===N?{...k,overall_status:Se.APPROVED,completed_at:new Date,approval_history:[...k.approval_history,{id:Date.now(),action:"approve",approver_name:"當前用戶",decision_date:new Date,comments:j||"核准通過"}]}:k))}catch(_){console.error("Error approving instance:",_)}},w=async(N,j="")=>{try{console.log("Rejecting instance:",N,j),t(_=>_.map(k=>k.id===N?{...k,overall_status:Se.REJECTED,completed_at:new Date,approval_history:[...k.approval_history,{id:Date.now(),action:"reject",approver_name:"當前用戶",decision_date:new Date,comments:j||"駁回申請"}]}:k))}catch(_){console.error("Error rejecting instance:",_)}};return l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})}):e.jsxs("div",{children:[e.jsx(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"簽核流程管理"}),e.jsx("p",{className:"text-gray-600",children:"管理和監控審批工作流程"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[e.jsx(br,{className:"h-4 w-4 mr-2"}),"重新載入"]})})]})}),e.jsx(eP,{instances:s}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"pending",label:"待簽核",count:s.filter(N=>N.overall_status===Se.PENDING||N.overall_status===Se.IN_PROGRESS).length},{key:"all",label:"全部",count:s.length},{key:"history",label:"歷史記錄",count:s.filter(N=>N.overall_status===Se.APPROVED||N.overall_status===Se.REJECTED).length}].map(N=>e.jsxs("button",{onClick:()=>y(N.key),className:`py-4 border-b-2 font-medium text-sm ${p===N.key?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[N.label," (",N.count,")"]},N.key))})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{value:x.workflow_type,onChange:N=>f({...x,workflow_type:N.target.value}),className:"glass-select font-chinese",children:[e.jsx("option",{value:"",children:"所有類型"}),e.jsx("option",{value:"purchase_order",children:"採購單"}),e.jsx("option",{value:"refund_request",children:"退款申請"}),e.jsx("option",{value:"promotion",children:"促銷活動"})]}),e.jsx(Jv,{label:"狀態",options:Object.values(Se),selected:x.status,onChange:N=>f({...x,status:N})}),e.jsx(Jv,{label:"優先級",options:Object.values(Dt),selected:x.priority,onChange:N=>f({...x,priority:N})})]})})]}),e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[e.jsx(zm,{children:a.map((N,j)=>e.jsx(tP,{instance:N,workflow:r.find(_=>_.id===N.workflow_id),index:j,onApprove:_=>g(N.id,_),onReject:_=>w(N.id,_),onViewDetails:()=>{d(N),h(!0)}},N.id))}),a.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white/70 backdrop-blur-md rounded-xl border border-white/20 shadow-lg",children:[e.jsx(Mm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到簽核項目"}),e.jsx("p",{className:"text-gray-500",children:p==="pending"?"目前沒有待簽核的項目":"沒有符合篩選條件的項目"})]})]}),e.jsx(nP,{instance:c,workflow:c?r.find(N=>N.id===c.workflow_id):null,isOpen:m,onClose:()=>{h(!1),d(null)},onApprove:N=>{g(c.id,N),h(!1),d(null)},onReject:N=>{w(c.id,N),h(!1),d(null)}})]})},eP=({instances:s})=>{const t={total:s.length,pending:s.filter(r=>r.overall_status===Se.PENDING).length,approved:s.filter(r=>r.overall_status===Se.APPROVED).length,rejected:s.filter(r=>r.overall_status===Se.REJECTED).length,overdue:s.filter(r=>r.overall_status===Se.PENDING&&r.due_date&&new Date(r.due_date)<new Date).length};return e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"總申請"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"待簽核"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.approved}),e.jsx("div",{className:"text-sm text-gray-600",children:"已核准"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.rejected}),e.jsx("div",{className:"text-sm text-gray-600",children:"已駁回"})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-lg p-4 border border-white/20 shadow-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.overdue}),e.jsx("div",{className:"text-sm text-gray-600",children:"逾期"})]})]})},tP=({instance:s,workflow:t,index:r,onApprove:n,onReject:a,onViewDetails:i})=>{u.useState(!1);const[l,o]=u.useState(!1),c=s.due_date&&s.overall_status===Se.PENDING&&new Date(s.due_date)<new Date;return e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:`bg-white/70 backdrop-blur-md rounded-xl p-6 border shadow-lg ${c?"border-red-300 bg-red-50/30":"border-white/20"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[Iw(s.overall_status),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(t==null?void 0:t.workflow_name)||"未知工作流程"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Lw(s.priority)}`,children:s.priority}),c&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"逾期"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體類型"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.entity_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請者"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["用戶 ",s.submitted_by]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"提交時間"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.submitted_at).toLocaleDateString("zh-TW")})]})]}),s.submission_notes&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請說明"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:s.submission_notes})]}),e.jsx(sP,{instance:s,workflow:t}),s.approval_history.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"最近操作"}),e.jsx("div",{className:"space-y-2",children:s.approval_history.slice(-2).map((d,m)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${d.action==="approve"?"bg-green-500":d.action==="reject"?"bg-red-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium",children:d.approver_name}),e.jsx("span",{className:"mx-1",children:"·"}),e.jsx("span",{children:d.action==="approve"?"核准":d.action==="reject"?"駁回":"處理"}),e.jsx("span",{className:"mx-1",children:"·"}),e.jsx("span",{children:new Date(d.decision_date).toLocaleDateString("zh-TW")})]},m))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:i,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"查看詳情"}),s.overall_status===Se.PENDING&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>o(!l),className:"px-3 py-1 text-sm bg-amber-600 text-white rounded hover:bg-amber-700",children:"簽核"})})]})]}),e.jsx(zm,{children:l&&e.jsx(rP,{onApprove:n,onReject:a,onCancel:()=>o(!1)})})]})},sP=({instance:s,workflow:t})=>!t||!t.approval_steps?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"簽核進度"}),e.jsx("div",{className:"flex items-center space-x-2",children:t.approval_steps.map((r,n)=>{const a=n+1===s.current_step,i=n+1<s.current_step;return n+1>s.current_step,e.jsxs(Oc.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-xs font-medium ${i?"bg-green-500 text-white":a?"bg-amber-500 text-white":"bg-gray-200 text-gray-600"}`,children:i?"✓":n+1}),e.jsx("div",{className:"flex-1 text-center",children:e.jsx("div",{className:`text-xs font-medium ${a?"text-amber-600":i?"text-green-600":"text-gray-400"}`,children:r.step_name})}),n<t.approval_steps.length-1&&e.jsx(Xk,{className:`h-4 w-4 ${i?"text-green-500":a?"text-amber-500":"text-gray-300"}`})]},n)})})]}),rP=({onApprove:s,onReject:t,onCancel:r})=>{const[n,a]=u.useState(""),[i,l]=u.useState(""),o=c=>{c==="approve"?s(n):c==="reject"&&t(n),a(""),l("")};return e.jsxs(Q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"簽核意見"}),e.jsx("textarea",{value:n,onChange:c=>a(c.target.value),placeholder:"請輸入簽核意見...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent mb-3"}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:r,className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"取消"}),e.jsxs("button",{onClick:()=>o("reject"),className:"flex items-center px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:[e.jsx(Y2,{className:"h-4 w-4 mr-1"}),"駁回"]}),e.jsxs("button",{onClick:()=>o("approve"),className:"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:[e.jsx(Z2,{className:"h-4 w-4 mr-1"}),"核准"]})]})]})},Jv=({label:s,options:t,selected:r,onChange:n})=>{const[a,i]=u.useState(!1),[l,o]=u.useState({top:0,left:0,width:0}),c=u.useRef(null),d=()=>{if(c.current){const h=c.current.getBoundingClientRect();o({top:h.bottom+2,left:h.left,width:h.width})}},m=()=>{a||d(),i(!a)};return e.jsxs("div",{ref:c,className:"relative",children:[e.jsxs("button",{onClick:m,className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("span",{children:r.length>0?`${s} (${r.length})`:s}),e.jsx(of,{className:"h-4 w-4"})]}),a&&bm.createPortal(e.jsx("div",{className:"glass-dropdown fixed z-[99999]",style:{top:`${l.top}px`,left:`${l.left}px`,width:`${l.width}px`,zIndex:99999},children:e.jsx("div",{className:"max-h-60 overflow-auto",children:t.map(h=>e.jsx("label",{className:"glass-dropdown-option cursor-pointer",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("input",{type:"checkbox",checked:r.includes(h),onChange:p=>{p.target.checked?n([...r,h]):n(r.filter(y=>y!==h))},className:"rounded mr-3"}),e.jsx("span",{className:"text-sm",children:h})]})},h))})}),document.body)]})},nP=({instance:s,workflow:t,isOpen:r,onClose:n,onApprove:a,onReject:i})=>{const[l,o]=u.useState("");return!r||!s?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"簽核詳情"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx(_t,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本資訊"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"工作流程"}),e.jsx("p",{className:"text-sm text-gray-900",children:t==null?void 0:t.workflow_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體類型"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.entity_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"實體ID"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.entity_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"申請者"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["用戶 ",s.submitted_by]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"提交時間"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.submitted_at).toLocaleString("zh-TW")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"狀態"}),e.jsxs("p",{className:"text-sm text-gray-900 flex items-center",children:[Iw(s.overall_status),e.jsx("span",{className:"ml-2",children:s.overall_status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"優先級"}),e.jsx("p",{className:"text-sm text-gray-900",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${Lw(s.priority)}`,children:s.priority})})]})]})]}),s.submission_notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"申請說明"}),e.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:s.submission_notes})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"簽核歷史"}),e.jsx("div",{className:"space-y-4",children:s.approval_history.map((c,d)=>e.jsxs("div",{className:"border-l-4 border-gray-200 pl-4 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c.action==="approve"?"bg-green-500":c.action==="reject"?"bg-red-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium text-gray-900",children:c.approver_name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",c.approver_role,")"]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(c.decision_date).toLocaleString("zh-TW")})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["操作: ",e.jsx("span",{className:"font-medium",children:c.action==="approve"?"核准":c.action==="reject"?"駁回":c.action==="delegate"?"委派":c.action==="request_info"?"要求補充資訊":"其他"})]}),c.comments&&e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["意見: ",c.comments]})]},d))})]})]}),s.overall_status===Se.PENDING&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"簽核操作"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"簽核意見"}),e.jsx("textarea",{value:l,onChange:c=>o(c.target.value),placeholder:"請輸入簽核意見...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),e.jsxs("button",{onClick:()=>i(l),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[e.jsx(Y2,{className:"h-4 w-4 mr-2"}),"駁回"]}),e.jsxs("button",{onClick:()=>a(l),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Z2,{className:"h-4 w-4 mr-2"}),"核准"]})]})]})]})]})})},Iw=s=>{switch(s){case Se.APPROVED:return e.jsx(he,{className:"h-5 w-5 text-green-500"});case Se.REJECTED:return e.jsx(_t,{className:"h-5 w-5 text-red-500"});case Se.IN_PROGRESS:return e.jsx(br,{className:"h-5 w-5 text-blue-500"});case Se.CANCELLED:return e.jsx(J2,{className:"h-5 w-5 text-gray-500"});default:return e.jsx(je,{className:"h-5 w-5 text-amber-500"})}},Lw=s=>{switch(s){case Dt.CRITICAL:return"bg-red-100 text-red-800 border-red-200";case Dt.URGENT:return"bg-orange-100 text-orange-800 border-orange-200";case Dt.HIGH:return"bg-amber-100 text-amber-800 border-amber-200";case Dt.MEDIUM:return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},aP=()=>{const[s,t]=u.useState(null),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState(null),[c,d]=u.useState(!0),[m,h]=u.useState(30),[p,y]=u.useState(new Date);u.useEffect(()=>{if(x(),c){const j=setInterval(x,m*1e3);return()=>clearInterval(j)}},[c,m]);const x=()=>{const j=Cl.getOperationalMetrics();t(j),n(j.alert_system.critical_alerts),i(j.anomaly_monitoring.active_anomalies),y(new Date)},f=j=>{n(_=>_.map(k=>k.alert_id===j?{...k,acknowledged_by:1,acknowledged_at:new Date}:k))},b=j=>{n(_=>_.map(k=>k.alert_id===j?{...k,resolved_at:new Date}:k))};if(!s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})});const{real_time_metrics:v,operational_efficiency:g,anomaly_monitoring:w,alert_system:N}=s;return e.jsxs("div",{children:[e.jsx(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"即時監控儀表板"}),e.jsx("p",{className:"text-gray-600",children:"實時系統狀態、警報和異常監控"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"自動更新"}),e.jsx("button",{onClick:()=>d(!c),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-amber-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["最後更新: ",p.toLocaleTimeString()]}),e.jsxs("button",{onClick:x,className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"刷新"]})]})]})}),e.jsx(iP,{systemHealth:w.system_health}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(lP,{metrics:v})}),e.jsx("div",{children:e.jsx(oP,{alerts:r,onAcknowledge:f,onResolve:b,onViewDetails:o})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(cP,{anomalies:a}),e.jsx(dP,{efficiency:g})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(uP,{issues:N.trending_issues}),e.jsx(mP,{metrics:v,anomalies:a,alerts:r})]}),e.jsx(hP,{alert:l,isOpen:!!l,onClose:()=>o(null),onAcknowledge:f,onResolve:b})]})},iP=({systemHealth:s})=>{const r=(()=>{const{database_response_time:n,api_response_time:a,error_rate_percentage:i,queue_processing_status:l}=s;return n>200||a>500||parseFloat(i)>2?{status:"critical",color:"red",text:"嚴重"}:n>100||a>300||parseFloat(i)>1?{status:"warning",color:"amber",text:"警告"}:{status:"healthy",color:"green",text:"正常"}})();return e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"系統健康狀態"}),e.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm font-medium ${r.color==="green"?"bg-green-100 text-green-800":r.color==="amber"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:[r.color==="green"?e.jsx(he,{className:"h-4 w-4 mr-1"}):r.color==="amber"?e.jsx(Te,{className:"h-4 w-4 mr-1"}):e.jsx(_t,{className:"h-4 w-4 mr-1"}),r.text]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mb-2 mx-auto",children:e.jsx(nC,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.database_response_time,"ms"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"資料庫回應"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mb-2 mx-auto",children:e.jsx(hC,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.api_response_time,"ms"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"API 回應"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-amber-100 rounded-lg mb-2 mx-auto",children:e.jsx(Te,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[s.error_rate_percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"錯誤率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mb-2 mx-auto",children:e.jsx(Dm,{className:"h-6 w-6 text-purple-600"})}),e.jsx("div",{className:`text-lg font-bold ${s.queue_processing_status==="healthy"?"text-green-600":s.queue_processing_status==="warning"?"text-amber-600":"text-red-600"}`,children:s.queue_processing_status==="healthy"?"正常":s.queue_processing_status==="warning"?"警告":"嚴重"}),e.jsx("div",{className:"text-sm text-gray-600",children:"佇列狀態"})]})]})]})},lP=({metrics:s})=>{const t=[{title:"今日訂單",value:s.orders_today.total_orders,change:"+12.5%",trend:"up",icon:Wc,color:"blue",subtitle:`總額: NT$ ${s.orders_today.revenue_today.toLocaleString()}`},{title:"當前訪客",value:s.website_performance.current_visitors,change:"+8.2%",trend:"up",icon:$t,color:"green",subtitle:`轉換率: ${s.website_performance.conversion_rate_today}%`},{title:"庫存警報",value:s.inventory_alerts.low_stock_items,change:"-5.1%",trend:"down",icon:Te,color:"amber",subtitle:`缺貨: ${s.inventory_alerts.out_of_stock_items} 項`},{title:"客服工單",value:s.customer_service.open_tickets,change:"+3.7%",trend:"up",icon:je,color:"red",subtitle:`逾期: ${s.customer_service.overdue_tickets} 件`},{title:"系統正常時間",value:`${s.website_performance.uptime_percentage}%`,change:"+0.1%",trend:"up",icon:_a,color:"green",subtitle:`載入時間: ${s.website_performance.page_load_time_avg}s`},{title:"今日營收",value:`NT$ ${Math.round(s.financial_summary.revenue_today/1e3)}K`,change:"+15.3%",trend:"up",icon:dt,color:"blue",subtitle:`利潤: NT$ ${Math.round(s.financial_summary.profit_today/1e3)}K`}];return e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"即時營運指標"}),e.jsx(ke,{className:"h-5 w-5 text-gray-500"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((r,n)=>e.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.1},className:"bg-white/50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${r.color==="blue"?"bg-blue-100":r.color==="green"?"bg-green-100":r.color==="amber"?"bg-amber-100":"bg-red-100"}`,children:e.jsx(r.icon,{className:`h-4 w-4 ${r.color==="blue"?"text-blue-600":r.color==="green"?"text-green-600":r.color==="amber"?"text-amber-600":"text-red-600"}`})}),e.jsxs("div",{className:"flex items-center text-sm",children:[r.trend==="up"?e.jsx(Je,{className:"h-3 w-3 text-green-500 mr-1"}):e.jsx(Pa,{className:"h-3 w-3 text-red-500 mr-1"}),e.jsx("span",{className:r.trend==="up"?"text-green-600":"text-red-600",children:r.change})]})]}),e.jsx("h4",{className:"text-xs font-medium text-gray-600 mb-1",children:r.title}),e.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:r.value}),e.jsx("p",{className:"text-xs text-gray-500",children:r.subtitle})]},r.title))})]})},oP=({alerts:s,onAcknowledge:t,onResolve:r,onViewDetails:n})=>{const a=s.filter(l=>!l.acknowledged_by),i=s.filter(l=>!l.resolved_at);return e.jsxs(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"關鍵警報"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lr,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-red-600",children:[a.length," 未確認"]})]})]}),e.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[e.jsx(zm,{children:i.map((l,o)=>e.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:o*.05},className:`p-4 rounded-lg border ${l.priority==="critical"?"bg-red-50 border-red-200":l.priority==="high"?"bg-orange-50 border-orange-200":"bg-amber-50 border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Zu,{className:`h-4 w-4 ${l.priority==="critical"?"text-red-500":l.priority==="high"?"text-orange-500":"text-amber-500"}`}),e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:l.alert_type}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.priority==="critical"?"bg-red-100 text-red-800":l.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:l.priority})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:l.message}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.created_at).toLocaleString("zh-TW")})]}),e.jsxs("div",{className:"flex flex-col space-y-1 ml-3",children:[e.jsx("button",{onClick:()=>n(l),className:"text-xs text-blue-600 hover:text-blue-800",children:"詳情"}),!l.acknowledged_by&&e.jsx("button",{onClick:()=>t(l.alert_id),className:"text-xs text-amber-600 hover:text-amber-800",children:"確認"}),e.jsx("button",{onClick:()=>r(l.alert_id),className:"text-xs text-green-600 hover:text-green-800",children:"解決"})]})]})},l.alert_id))}),i.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"目前沒有關鍵警報"})]})]})]})},cP=({anomalies:s})=>e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"異常監控"}),e.jsx($e,{className:"h-5 w-5 text-gray-500"})]}),e.jsxs("div",{className:"space-y-4",children:[s.map((t,r)=>e.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Te,{className:`h-4 w-4 ${t.severity==="critical"?"text-red-500":t.severity==="high"?"text-orange-500":t.severity==="medium"?"text-amber-500":"text-blue-500"}`}),e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:t.metric_name})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["偵測時間: ",new Date(t.detected_at).toLocaleString("zh-TW")]}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["建議: ",t.recommended_action]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.severity==="critical"?"bg-red-100 text-red-800":t.severity==="high"?"bg-orange-100 text-orange-800":t.severity==="medium"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:t.severity})]})},t.anomaly_id)),s.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"系統運行正常，未發現異常"})]})]})]}),dP=({efficiency:s})=>{const t=[{category:"處理效率",metrics:[{label:"每小時處理訂單",value:s.processing_efficiency.orders_processed_per_hour,unit:"單"},{label:"平均處理時間",value:s.processing_efficiency.avg_order_processing_time_minutes,unit:"分鐘"},{label:"自動化比率",value:s.processing_efficiency.automatic_processing_rate,unit:"%"}]},{category:"庫存效率",metrics:[{label:"庫存週轉率",value:s.inventory_efficiency.inventory_turnover_rate,unit:""},{label:"缺貨率",value:s.inventory_efficiency.stockout_rate_percentage,unit:"%"},{label:"庫存準確率",value:s.inventory_efficiency.inventory_accuracy_rate,unit:"%"}]},{category:"客服效率",metrics:[{label:"首次解決率",value:s.service_efficiency.first_contact_resolution_rate,unit:"%"},{label:"平均解決時間",value:s.service_efficiency.avg_ticket_resolution_time_hours,unit:"小時"},{label:"客戶滿意度",value:s.service_efficiency.customer_effort_score,unit:"分"}]}];return e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"營運效率"}),e.jsx(xS,{className:"h-5 w-5 text-gray-500"})]}),e.jsx("div",{className:"space-y-6",children:t.map((r,n)=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:r.category}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.metrics.map((a,i)=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:a.label}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[a.value,a.unit]})]},i))})]},r.category))})]})},uP=({issues:s})=>e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"趨勢問題"}),e.jsx(ke,{className:"h-5 w-5 text-gray-500"})]}),e.jsxs("div",{className:"space-y-4",children:[s.map((t,r)=>e.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:t.issue_pattern}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.risk_assessment==="high"?"bg-red-100 text-red-800":t.risk_assessment==="medium"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:t.risk_assessment}),e.jsx("span",{className:`text-xs ${t.trend_direction==="increasing"?"text-red-600":t.trend_direction==="decreasing"?"text-green-600":"text-gray-600"}`,children:t.trend_direction==="increasing"?"↗":t.trend_direction==="decreasing"?"↘":"→"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["發生次數: ",t.occurrence_count," 次"]}),e.jsxs("div",{className:"text-xs text-blue-600",children:["預防建議: ",t.prevention_recommendations.join(", ")]})]},r)),s.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"目前沒有發現趨勢問題"})]})]})]}),mP=({metrics:s,anomalies:t,alerts:r})=>{const a=(()=>{const i=[];return s.customer_service.open_tickets>20&&i.push({type:"performance",title:"客服工單積壓",description:"當前開放工單數量較高，建議增加客服人力或優化處理流程",priority:"high",action:"查看客服管理"}),s.inventory_alerts.low_stock_items>10&&i.push({type:"inventory",title:"庫存預警",description:"多項商品庫存不足，建議及時補貨以避免缺貨",priority:"medium",action:"檢視庫存狀態"}),parseFloat(s.website_performance.conversion_rate_today)<2&&i.push({type:"marketing",title:"轉換率偏低",description:"今日轉換率低於平均水平，建議檢查網站體驗或行銷策略",priority:"medium",action:"優化使用者體驗"}),t.length>3&&i.push({type:"system",title:"系統異常偵測",description:"系統偵測到多項異常，建議進行全面系統檢查",priority:"high",action:"進行系統診斷"}),r.length>2&&i.push({type:"alert",title:"警報處理",description:"有多個未解決的警報，建議優先處理高優先級警報",priority:"urgent",action:"處理關鍵警報"}),i})();return e.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/70 backdrop-blur-md rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"智能建議"}),e.jsx(wa,{className:"h-5 w-5 text-amber-500"})]}),e.jsxs("div",{className:"space-y-4",children:[a.map((i,l)=>e.jsx(Q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(wa,{className:"h-4 w-4 text-amber-500"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:i.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i.priority==="urgent"?"bg-red-100 text-red-800":i.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:i.priority})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:i.description}),e.jsxs("button",{className:"text-xs text-amber-600 hover:text-amber-800 font-medium",children:[i.action," →"]})]})})},l)),a.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"系統運行良好，暫無特別建議"})]})]})]})},hP=({alert:s,isOpen:t,onClose:r,onAcknowledge:n,onResolve:a})=>!t||!s?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"警報詳情"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(_t,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Zu,{className:`h-6 w-6 ${s.priority==="critical"?"text-red-500":s.priority==="high"?"text-orange-500":"text-amber-500"}`}),e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:s.alert_type}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s.priority==="critical"?"bg-red-100 text-red-800":s.priority==="high"?"bg-orange-100 text-orange-800":"bg-amber-100 text-amber-800"}`,children:s.priority})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"警報訊息"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"影響區域"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.affected_area})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"發生時間"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.created_at).toLocaleString("zh-TW")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"預估影響"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.estimated_impact})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"建議行動"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.suggested_actions.map((i,l)=>e.jsx("li",{className:"text-sm text-gray-700",children:i},l))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"關閉"}),!s.acknowledged_by&&e.jsx("button",{onClick:()=>{n(s.alert_id),r()},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"確認警報"}),!s.resolved_at&&e.jsx("button",{onClick:()=>{a(s.alert_id),r()},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"標記解決"})]})]})]})}),xP=()=>{const[s,t]=u.useState(null),[r,n]=u.useState(!0),a={totalAssets:58e5,totalLiabilities:21e5,totalEquity:37e5,netIncome:45e4,totalRevenue:28e5,totalExpenses:235e4,grossProfit:98e4,recentEntries:[{id:1,date:"2024-01-15",description:"銷售收入",amount:15e4,status:"posted"},{id:2,date:"2024-01-14",description:"辦公用品採購",amount:-5e3,status:"posted"},{id:3,date:"2024-01-13",description:"租金費用",amount:-25e3,status:"pending"},{id:4,date:"2024-01-12",description:"廣告費用",amount:-8e3,status:"draft"}]};u.useEffect(()=>{(async()=>{try{n(!0),await new Promise(o=>setTimeout(o,1e3)),t(a)}catch(o){console.error("載入會計概覽失敗:",o)}finally{n(!1)}})()},[]),u.useEffect(()=>{r||De.fromTo(".dashboard-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[r]);const i=l=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(l);return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#cc824d] mx-auto mb-4"}),e.jsx("span",{className:"text-gray-600",children:"載入會計概覽中.."})]})})})}):e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"會計管理概覽"}),e.jsx("p",{className:"text-gray-600",children:"財務狀況一覽及關鍵指標"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Mi,{className:"h-8 w-8 text-blue-600"})}),e.jsx(Je,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總資產"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(s.totalAssets)}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+5.2% 較上月"})]})]}),e.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Je,{className:"h-8 w-8 text-green-600"})}),e.jsx(Je,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"淨收入"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(s.netIncome)}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+12.8% 較上月"})]})]}),e.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(dt,{className:"h-8 w-8 text-purple-600"})}),e.jsx(Je,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總收入"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(s.totalRevenue)}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+8.4% 較上月"})]})]}),e.jsxs("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Pa,{className:"h-8 w-8 text-orange-600"})}),e.jsx(Pa,{className:"h-5 w-5 text-orange-500"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"總支出"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i(s.totalExpenses)}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"需要監控"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(ke,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"新增分錄"}),e.jsx("p",{className:"text-sm text-gray-600",children:"記錄新的會計交易"})]})]})}),e.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Mi,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"銀行對帳"}),e.jsx("p",{className:"text-sm text-gray-600",children:"核對銀行帳戶餘額"})]})]})}),e.jsx("div",{className:"dashboard-card bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg hover:shadow-xl transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(dt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"財務報表"}),e.jsx("p",{className:"text-sm text-gray-600",children:"生成財務分析報告"})]})]})})]})]})})},pP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0);u.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const l=accountingDataManager.getAllAccounts();t(l)}catch(l){console.error("載入剛才科目失�?:",l)}finally{n(!1)}},i=[{key:"code",label:"科目�✅",sortable:!0,render:l=>e.jsx("span",{className:"font-medium text-gray-900",children:l})},{key:"name",label:"科目?�稱",sortable:!0,render:l=>e.jsx("span",{className:"text-gray-900",children:l})},{key:"type",label:"科目類�?",sortable:!0,render:l=>e.jsx("span",{className:"text-gray-500",children:l})},{key:"balance",label:"餘�?",sortable:!0,render:l=>e.jsxs("span",{className:"text-gray-900",children:["NT$ ",(l==null?void 0:l.toLocaleString())||"0"]})},{key:"isActive",label:"狀態",sortable:!0,render:l=>e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l?"啟用":"停用"})},{key:"actions",label:"剛才",sortable:!1,render:(l,o)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(rt,{className:"h-4 w-4"})})]})}];return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#fdf8f2]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(lf,{className:"h-12 w-12 animate-pulse text-[#cc824d] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"載入剛才科目代碼.."})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"會計科目管理"}),e.jsx("p",{className:"text-gray-600",children:"管理和維護公司會計科目"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b3723f] transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),"剛才科目"]})})})}),e.jsx(StandardTable,{data:s,columns:i,title:"會計科目表",emptyMessage:"尚無會計科目",exportFileName:"會計科目表"})]})},fP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0);u.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const c=accountingDataManager.getAllJournalEntries();t(c)}catch(c){console.error("載入分析分析失�?:",c)}finally{n(!1)}},i=c=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(c),l=c=>{const d={[EntryStatus.DRAFT]:{color:"bg-gray-100 text-gray-800",text:"草稿"},[EntryStatus.PENDING]:{color:"bg-yellow-100 text-yellow-800",text:"待審"},[EntryStatus.APPROVED]:{color:"bg-green-100 text-green-800",text:"已審核"},[EntryStatus.REJECTED]:{color:"bg-red-100 text-red-800",text:"已拒絕"},[EntryStatus.POSTED]:{color:"bg-blue-100 text-blue-800",text:"已過帳"}},m=d[c]||d[EntryStatus.DRAFT];return e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.color}`,children:m.text})},o=[{key:"entryNumber",label:"分析編�?",sortable:!0,render:c=>e.jsx("span",{className:"font-medium text-gray-900",children:c})},{key:"date",label:"分析",sortable:!0,render:c=>e.jsx("span",{className:"text-gray-500",children:new Date(c).toLocaleDateString("zh-TW")})},{key:"description",label:"?�述",sortable:!0,render:c=>e.jsx("div",{className:"max-w-xs truncate text-gray-900",children:c})},{key:"totalAmount",label:"總金額",sortable:!0,render:c=>e.jsx("span",{className:"text-gray-900",children:i(c)})},{key:"status",label:"狀態",sortable:!0,render:c=>l(c)},{key:"actions",label:"操作",sortable:!1,render:(c,d)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"分析詳�?",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",title:"編輯",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",title:"?�除",children:e.jsx(rt,{className:"h-4 w-4"})})]})}];return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#fdf8f2]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(lf,{className:"h-12 w-12 animate-pulse text-[#cc824d] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"載入分析分析�?.."})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"分錄管理"}),e.jsx("p",{className:"text-gray-600",children:"管理和審核會計分錄"})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-white/20 shadow-lg mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[#cc824d] text-white rounded-lg hover:bg-[#b3723f] transition-colors",children:[e.jsx(ut,{className:"h-4 w-4"}),"分析分析"]})})})}),e.jsx(StandardTable,{data:s,columns:o,title:"分析分析清單",emptyMessage:"尚無分析分析",exportFileName:"分析分析清單"})]})},gP=()=>{u.useState([]);const[s,t]=u.useState(""),[r,n]=u.useState({startDate:"",endDate:""}),[a,i]=u.useState(!1),[l,o]=u.useState(null),c=[{id:"trial-balance",name:"試算表",description:"驗證總帳帳簿平衡",icon:Yu,color:"blue"},{id:"income-statement",name:"損益表",description:"公司收支狀況",icon:ke,color:"green"},{id:"balance-sheet",name:"資產負債表",description:"財務狀況總覽",icon:Mi,color:"purple"},{id:"cash-flow",name:"現金流量表",description:"現金流入流出分析",icon:dt,color:"orange"}],d={"trial-balance":{title:"試算表",period:"2024年1月1日 至 2024年1月31日",data:[{account:"現金",debit:5e5,credit:0,balance:5e5},{account:"應收帳款",debit:8e5,credit:1e5,balance:7e5},{account:"存貨",debit:12e5,credit:0,balance:12e5},{account:"應付帳款",debit:5e4,credit:4e5,balance:-35e4},{account:"營業收入",debit:0,credit:25e5,balance:-25e5},{account:"營業成本",debit:15e5,credit:0,balance:15e5}],totals:{debit:405e4,credit:3e6}},"income-statement":{title:"損益表",period:"2024年1月1日 至 2024年1月31日",data:{revenue:{name:"營業收入",items:[{name:"商品銷售收入",amount:22e5},{name:"服務收入",amount:3e5}],total:25e5},cost:{name:"營業成本",items:[{name:"商品成本",amount:12e5},{name:"人工成本",amount:3e5}],total:15e5},grossProfit:1e6,expenses:{name:"營業費用",items:[{name:"薪資費用",amount:4e5},{name:"租金費用",amount:1e5},{name:"廣告費用",amount:5e4}],total:55e4},netIncome:45e4}}};u.useEffect(()=>{De.fromTo(".report-card",{opacity:0,y:20},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]);const m=async()=>{if(!s){alert("請選擇報表類型");return}if(!r.startDate||!r.endDate){alert("請選擇日期範圍");return}i(!0);try{await new Promise(f=>setTimeout(f,2e3));const x=d[s];x&&o({...x,period:`${r.startDate} 至 ${r.endDate}`})}catch(x){console.error("Error generating report:",x),alert("生成報表失敗")}finally{i(!1)}},h=x=>{if(!l){alert("請先生成報表");return}alert(`正在匯出${x.toUpperCase()}格式報表...`)},p=()=>{if(!l){alert("請先生成報表");return}window.print()},y=x=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(x);return e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"財務報表"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"生成和查看各種財務報表"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map(x=>e.jsx("div",{onClick:()=>t(x.id),className:`report-card p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 ${s===x.id?`border-${x.color}-500 bg-${x.color}-50`:"border-gray-200 bg-white/60 backdrop-blur-sm hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${x.color}-100`,children:e.jsx(x.icon,{className:`w-6 h-6 text-${x.color}-600`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 font-chinese",children:x.name}),e.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]})},x.id))}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 font-chinese",children:"報表設定"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"報表類型"}),e.jsxs("select",{value:s,onChange:x=>t(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"",children:"請選擇報表類型"}),c.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日期"}),e.jsx("input",{type:"date",value:r.startDate,onChange:x=>n(f=>({...f,startDate:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"結束日期"}),e.jsx("input",{type:"date",value:r.endDate,onChange:x=>n(f=>({...f,endDate:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:m,disabled:a||!s||!r.startDate||!r.endDate,className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"生成中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Yu,{className:"w-4 h-4"}),e.jsx("span",{children:"生成報表"})]})})})]}),l&&e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-[#cc824d] to-[#b8743d]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white font-chinese",children:l.title}),e.jsx("p",{className:"text-white/80 mt-1",children:l.period})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:p,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(df,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>h("pdf"),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(Tm,{className:"w-5 h-5 text-white"})})]})]})}),e.jsxs("div",{className:"p-6",children:[s==="trial-balance"&&l.data&&e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"科目"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"借方"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"貸方"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-900",children:"餘額"})]})}),e.jsx("tbody",{children:l.data.map((x,f)=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.account}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:x.debit>0?y(x.debit):"-"}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:x.credit>0?y(x.credit):"-"}),e.jsx("td",{className:`py-3 px-4 text-right font-medium ${x.balance>=0?"text-green-600":"text-red-600"}`,children:y(Math.abs(x.balance))})]},f))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t-2 border-gray-300 bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-bold text-gray-900",children:"合計"}),e.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:y(l.totals.debit)}),e.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:y(l.totals.credit)}),e.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:"-"})]})})]})})}),s==="income-statement"&&l.data&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.revenue.name}),e.jsxs("div",{className:"space-y-2",children:[l.data.revenue.items.map((x,f)=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:x.name}),e.jsx("span",{className:"font-medium text-gray-900",children:y(x.amount)})]},f)),e.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-blue-50 rounded font-semibold",children:[e.jsx("span",{className:"text-blue-900",children:"營業收入總計"}),e.jsx("span",{className:"text-blue-900",children:y(l.data.revenue.total)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.cost.name}),e.jsxs("div",{className:"space-y-2",children:[l.data.cost.items.map((x,f)=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:x.name}),e.jsx("span",{className:"font-medium text-gray-900",children:y(x.amount)})]},f)),e.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-red-50 rounded font-semibold",children:[e.jsx("span",{className:"text-red-900",children:"營業成本總計"}),e.jsx("span",{className:"text-red-900",children:y(l.data.cost.total)})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 px-6 bg-green-100 rounded-lg font-bold text-lg",children:[e.jsx("span",{className:"text-green-900",children:"毛利"}),e.jsx("span",{className:"text-green-900",children:y(l.data.grossProfit)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 font-chinese",children:l.data.expenses.name}),e.jsxs("div",{className:"space-y-2",children:[l.data.expenses.items.map((x,f)=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-4 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-gray-700",children:x.name}),e.jsx("span",{className:"font-medium text-gray-900",children:y(x.amount)})]},f)),e.jsxs("div",{className:"flex justify-between items-center py-3 px-4 bg-orange-50 rounded font-semibold",children:[e.jsx("span",{className:"text-orange-900",children:"營業費用總計"}),e.jsx("span",{className:"text-orange-900",children:y(l.data.expenses.total)})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 px-6 bg-purple-100 rounded-lg font-bold text-xl",children:[e.jsx("span",{className:"text-purple-900",children:"本期淨利"}),e.jsx("span",{className:"text-purple-900",children:y(l.data.netIncome)})]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 font-chinese",children:"快速報表"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(ke,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"本月損益"}),e.jsx("p",{className:"text-sm text-gray-600",children:"當月收支狀況"})]})]})}),e.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(dt,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"現金流量"}),e.jsx("p",{className:"text-sm text-gray-600",children:"資金流動分析"})]})]})}),e.jsx("div",{className:"report-card bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 hover:shadow-lg transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Mi,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"資產負債"}),e.jsx("p",{className:"text-sm text-gray-600",children:"財務狀況總覽"})]})]})})]})]})]})})},yP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(""),[a,i]=u.useState(""),[l,o]=u.useState(""),[c,d]=u.useState(!1),[m,h]=u.useState([]),[p,y]=u.useState("pending"),x=[{id:"acc-001",name:"中國信託主要帳戶",accountNumber:"****-****-1234",balance:258e4,currency:"TWD"},{id:"acc-002",name:"台灣銀行外幣帳戶",accountNumber:"****-****-5678",balance:156e3,currency:"USD"}],f=[{id:"txn-001",date:"2024-01-15",description:"客戶付款 - 訂單 #ORD-2024-001",amount:125e3,type:"credit",status:"pending",reference:"PAY-001"},{id:"txn-002",date:"2024-01-16",description:"供應商付款 - 採購訂單 #PO-2024-001",amount:-85e3,type:"debit",status:"pending",reference:"PAY-002"},{id:"txn-003",date:"2024-01-17",description:"銀行手續費",amount:-150,type:"debit",status:"completed",reference:"FEE-001"}];u.useEffect(()=>{t(x),h(f)},[]);const b=j=>{const _={completed:{color:"bg-green-100 text-green-800",text:"已完成"},pending:{color:"bg-yellow-100 text-yellow-800",text:"待處理"},review:{color:"bg-blue-100 text-blue-800",text:"待審核"}},k=_[j]||_.pending;return e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.color}`,children:k.text})},v=()=>{const j=s.find(T=>T.id===r);if(!j)return 0;const k=m.filter(T=>T.status==="pending").reduce((T,C)=>T+C.amount,0);return j.balance+k},g=()=>{const j=v();return(parseFloat(l)||0)-j},w=()=>{if(!r){alert("請選擇銀行帳戶");return}if(!a){alert("請選擇對帳日期");return}if(!l){alert("請輸入銀行對帳單結餘");return}d(!0),setTimeout(()=>{const j=g();Math.abs(j)<.01?(y("completed"),alert("對帳成功！帳目平衡。")):(y("review"),alert(`對帳完成，但存在差異：${j.toFixed(2)} 元，需要審核。`)),d(!1)},2e3)},N=j=>{h(_=>_.map(k=>k.id===j?{...k,status:k.status==="pending"?"completed":"pending"}:k))};return e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"銀行對帳"}),e.jsx("p",{className:"text-gray-600",children:"進行銀行帳戶對帳，確保帳目準確性"})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"開始新的對帳"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"選擇銀行帳戶"}),e.jsxs("select",{value:r,onChange:j=>n(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"",children:"請選擇銀行帳戶"}),s.map(j=>e.jsxs("option",{value:j.id,children:[j.name," (",j.accountNumber,")"]},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"對帳日期"}),e.jsx("input",{type:"date",value:a,onChange:j=>i(j.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"銀行對帳單結餘"}),e.jsx("input",{type:"number",value:l,onChange:j=>o(j.target.value),placeholder:"0.00",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:w,disabled:c||!r||!a||!l,className:"px-6 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8743d] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"處理中..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Dd,{className:"w-4 h-4"}),e.jsx("span",{children:"開始對帳"})]})})})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Mi,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"銀行餘額"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",(parseFloat(l)||0).toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Dd,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"帳面餘額"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",v().toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"差異金額"}),e.jsxs("p",{className:`text-2xl font-bold ${Math.abs(g())<.01?"text-green-600":"text-red-600"}`,children:["$",g().toLocaleString()]})]})]})})]}),p!=="pending"&&e.jsx("div",{className:`p-4 rounded-lg mb-8 ${p==="completed"?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[p==="completed"?e.jsx(Dd,{className:"w-6 h-6 text-green-600"}):e.jsx(Te,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${p==="completed"?"text-green-800":"text-yellow-800"}`,children:p==="completed"?"對帳完成":"需要審核"}),e.jsx("p",{className:`text-sm ${p==="completed"?"text-green-600":"text-yellow-600"}`,children:p==="completed"?"銀行餘額與帳面餘額一致，對帳成功。":"發現差異，請檢查未處理的交易或聯繫會計部門。"})]})]})}),r&&e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg border border-white/20 p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"調整後銀行餘額"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"font-bold text-gray-800",children:"調整後銀行餘額"}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",v().toLocaleString()]})]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"銀行對帳單餘額："}),e.jsxs("span",{children:["$",(parseFloat(l)||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"減：未提示存款"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"加：未兌現支票"}),e.jsx("span",{children:"$0"})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"調整後銀行餘額："}),e.jsxs("span",{children:["$",v().toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"未對帳交易"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"搜尋交易...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:e.jsx(hs,{className:"w-4 h-4 text-gray-600"})})]})]})}),m.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"描述"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"參考號碼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金額"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"狀態"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.date}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.reference}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("span",{className:j.amount>=0?"text-green-600":"text-red-600",children:[j.amount>=0?"+":"","$",j.amount.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(j.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("button",{onClick:()=>N(j.id),className:`px-3 py-1 rounded text-xs font-medium ${j.status==="pending"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:j.status==="pending"?"標記為已核對":"標記為未核對"})})]},j.id))})]})}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Dd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"尚無銀行對帳記錄"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"請先進行第一次銀行對帳"})]})]})]})})},vP=()=>e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(t6,{to:"overview",replace:!0})}),e.jsx(W,{path:"overview",element:e.jsx(xP,{})}),e.jsx(W,{path:"chart-of-accounts",element:e.jsx(pP,{})}),e.jsx(W,{path:"journal-entries",element:e.jsx(fP,{})}),e.jsx(W,{path:"financial-reports",element:e.jsx(gP,{})}),e.jsx(W,{path:"bank-reconciliation",element:e.jsx(yP,{})})]});class bP{constructor(){this.festivals=this.loadFestivals(),this.promotions=this.loadPromotions(),this.coupons=this.loadCoupons()}loadFestivals(){const t=localStorage.getItem("festivals");return t?JSON.parse(t):[{id:"f001",name:"春節年貨節",type:"traditional",startDate:"2025-01-20",endDate:"2025-02-10",status:"active",description:"春節年貨大優惠，全館商品享優惠價格",bannerImage:"/images/festivals/spring-festival.jpg",themeColor:"#ff6b6b",targetProducts:["skincare","makeup"],promotionSettings:{discountType:"percentage",discountValue:15,freeShipping:!0,giftThreshold:2e3,giftItems:["紅包袋","春節禮盒"]},analytics:{views:12500,participation:850,revenue:458e3,conversionRate:6.8},createdAt:"2024-12-15T08:00:00Z",updatedAt:"2025-01-15T10:30:00Z"},{id:"f002",name:"情人節限定",type:"romantic",startDate:"2025-02-10",endDate:"2025-02-15",status:"scheduled",description:"情人節專屬美妝禮盒，傳遞愛意的最佳選擇",bannerImage:"/images/festivals/valentine.jpg",themeColor:"#ff69b4",targetProducts:["gift-sets","perfume"],promotionSettings:{discountType:"buy-one-get-one",discountValue:50,freeShipping:!1,giftThreshold:1500,giftItems:["情人節包裝","玫瑰花瓣"]},analytics:{views:0,participation:0,revenue:0,conversionRate:0},createdAt:"2025-01-20T14:00:00Z",updatedAt:"2025-01-20T14:00:00Z"},{id:"f003",name:"母親節感恩",type:"family",startDate:"2025-05-01",endDate:"2025-05-12",status:"draft",description:"感謝母親的愛，精選美妝保養品限時優惠",bannerImage:"/images/festivals/mothers-day.jpg",themeColor:"#ffa8cc",targetProducts:["anti-aging","luxury"],promotionSettings:{discountType:"fixed",discountValue:200,freeShipping:!0,giftThreshold:3e3,giftItems:["康乃馨","感謝卡片"]},analytics:{views:0,participation:0,revenue:0,conversionRate:0},createdAt:"2025-02-01T09:00:00Z",updatedAt:"2025-02-01T09:00:00Z"}]}loadPromotions(){const t=localStorage.getItem("festival_promotions");return t?JSON.parse(t):[{id:"p001",festivalId:"f001",name:"春節限時折扣",type:"discount",rules:{minAmount:1e3,discountRate:.15,maxDiscount:500},startTime:"2025-01-20T00:00:00Z",endTime:"2025-02-10T23:59:59Z",isActive:!0,usageCount:245,usageLimit:1e3},{id:"p002",festivalId:"f001",name:"滿額贈禮",type:"gift",rules:{minAmount:2e3,giftItems:["春節禮盒","紅包袋"]},startTime:"2025-01-20T00:00:00Z",endTime:"2025-02-10T23:59:59Z",isActive:!0,usageCount:128,usageLimit:500}]}loadCoupons(){const t=localStorage.getItem("festival_coupons");return t?JSON.parse(t):[{id:"c001",festivalId:"f001",code:"SPRING2025",name:"春節專屬優惠券",type:"percentage",value:20,minAmount:1500,maxDiscount:300,validFrom:"2025-01-20T00:00:00Z",validTo:"2025-02-10T23:59:59Z",isActive:!0,totalQuantity:500,usedQuantity:156,targetCustomers:"all"},{id:"c002",festivalId:"f002",code:"VALENTINE2025",name:"情人節甜蜜券",type:"fixed",value:150,minAmount:1e3,maxDiscount:150,validFrom:"2025-02-10T00:00:00Z",validTo:"2025-02-15T23:59:59Z",isActive:!1,totalQuantity:300,usedQuantity:0,targetCustomers:"members"}]}saveFestivals(){localStorage.setItem("festivals",JSON.stringify(this.festivals))}savePromotions(){localStorage.setItem("festival_promotions",JSON.stringify(this.promotions))}saveCoupons(){localStorage.setItem("festival_coupons",JSON.stringify(this.coupons))}getAllFestivals(){return[...this.festivals]}getFestivalById(t){return this.festivals.find(r=>r.id===t)}getFestivalsByStatus(t){return this.festivals.filter(r=>r.status===t)}getActiveFestivals(){const t=new Date;return this.festivals.filter(r=>{const n=new Date(r.startDate),a=new Date(r.endDate);return r.status==="active"&&t>=n&&t<=a})}getUpcomingFestivals(){const t=new Date;return this.festivals.filter(r=>{const n=new Date(r.startDate);return(r.status==="scheduled"||r.status==="active")&&n>t})}createFestival(t){const r={id:"f"+Date.now().toString().slice(-6),...t,analytics:{views:0,participation:0,revenue:0,conversionRate:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.festivals.push(r),this.saveFestivals(),r}updateFestival(t,r){const n=this.festivals.findIndex(a=>a.id===t);return n!==-1?(this.festivals[n]={...this.festivals[n],...r,updatedAt:new Date().toISOString()},this.saveFestivals(),this.festivals[n]):null}deleteFestival(t){const r=this.festivals.findIndex(n=>n.id===t);if(r!==-1){const n=this.festivals.splice(r,1)[0];return this.promotions=this.promotions.filter(a=>a.festivalId!==t),this.coupons=this.coupons.filter(a=>a.festivalId!==t),this.saveFestivals(),this.savePromotions(),this.saveCoupons(),n}return null}getPromotionsByFestival(t){return this.promotions.filter(r=>r.festivalId===t)}createPromotion(t){const r={id:"p"+Date.now().toString().slice(-6),...t,usageCount:0,createdAt:new Date().toISOString()};return this.promotions.push(r),this.savePromotions(),r}updatePromotion(t,r){const n=this.promotions.findIndex(a=>a.id===t);return n!==-1?(this.promotions[n]={...this.promotions[n],...r,updatedAt:new Date().toISOString()},this.savePromotions(),this.promotions[n]):null}deletePromotion(t){const r=this.promotions.findIndex(n=>n.id===t);if(r!==-1){const n=this.promotions.splice(r,1)[0];return this.savePromotions(),n}return null}getCouponsByFestival(t){return this.coupons.filter(r=>r.festivalId===t)}createCoupon(t){const r={id:"c"+Date.now().toString().slice(-6),...t,usedQuantity:0,createdAt:new Date().toISOString()};return this.coupons.push(r),this.saveCoupons(),r}updateCoupon(t,r){const n=this.coupons.findIndex(a=>a.id===t);return n!==-1?(this.coupons[n]={...this.coupons[n],...r,updatedAt:new Date().toISOString()},this.saveCoupons(),this.coupons[n]):null}deleteCoupon(t){const r=this.coupons.findIndex(n=>n.id===t);if(r!==-1){const n=this.coupons.splice(r,1)[0];return this.saveCoupons(),n}return null}getFestivalAnalytics(t){const r=this.getFestivalById(t),n=this.getPromotionsByFestival(t),a=this.getCouponsByFestival(t);return{festival:(r==null?void 0:r.analytics)||{},promotions:{total:n.length,active:n.filter(i=>i.isActive).length,totalUsage:n.reduce((i,l)=>i+l.usageCount,0)},coupons:{total:a.length,active:a.filter(i=>i.isActive).length,totalIssued:a.reduce((i,l)=>i+l.totalQuantity,0),totalUsed:a.reduce((i,l)=>i+l.usedQuantity,0)}}}updateFestivalAnalytics(t,r){const n=this.getFestivalById(t);n&&(n.analytics={...n.analytics,...r},this.updateFestival(t,{analytics:n.analytics}))}getOverallStats(){const t=this.festivals.length,r=this.getActiveFestivals().length,n=this.getUpcomingFestivals().length,a=this.festivals.reduce((o,c)=>{var d;return o+(((d=c.analytics)==null?void 0:d.revenue)||0)},0),i=this.festivals.reduce((o,c)=>{var d;return o+(((d=c.analytics)==null?void 0:d.participation)||0)},0),l=this.festivals.length>0?this.festivals.reduce((o,c)=>{var d;return o+(((d=c.analytics)==null?void 0:d.conversionRate)||0)},0)/this.festivals.length:0;return{totalFestivals:t,activeFestivals:r,upcomingFestivals:n,totalRevenue:a,totalParticipation:i,avgConversionRate:l,activePromotions:this.promotions.filter(o=>o.isActive).length,activeCoupons:this.coupons.filter(o=>o.isActive).length}}searchFestivals(t){const r=t.toLowerCase();return this.festivals.filter(n=>n.name.toLowerCase().includes(r)||n.description.toLowerCase().includes(r)||n.type.toLowerCase().includes(r))}filterFestivalsByDateRange(t,r){const n=new Date(t),a=new Date(r);return this.festivals.filter(i=>{const l=new Date(i.startDate),o=new Date(i.endDate);return l>=n&&l<=a||o>=n&&o<=a||l<=n&&o>=a})}filterFestivalsByType(t){return this.festivals.filter(r=>r.type===t)}}const Ct=new bP,jP=()=>{const[s,t]=u.useState({}),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState([]),[c,d]=u.useState(!0);u.useEffect(()=>{m()},[]);const m=()=>{try{const x=Ct.getOverallStats(),f=Ct.getActiveFestivals(),b=Ct.getUpcomingFestivals();t(x),n(f),i(b),o([{id:1,type:"festival_created",message:"新建節慶活動：情人節限定",timestamp:"2025-01-20T14:00:00Z",icon:Na,color:"text-blue-500"},{id:2,type:"promotion_activated",message:"春節限時折扣已啟用",timestamp:"2025-01-20T08:00:00Z",icon:Ot,color:"text-green-500"},{id:3,type:"coupon_issued",message:"發放500張春節專屬優惠券",timestamp:"2025-01-19T16:30:00Z",icon:ka,color:"text-purple-500"}]),d(!1)}catch(x){console.error("載入數據失敗:",x),d(!1)}},h=x=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(x),p=x=>new Date(x).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric"}),y=x=>{const f={active:{text:"進行中",color:"bg-green-100 text-green-800"},scheduled:{text:"已排程",color:"bg-blue-100 text-blue-800"},draft:{text:"草稿",color:"bg-gray-100 text-gray-800"},ended:{text:"已結束",color:"bg-red-100 text-red-800"}},b=f[x]||f.draft;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.color}`,children:b.text})};return c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"})}):e.jsx("div",{className:"min-h-screen bg-[#fdf8f2] p-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"節慶管理總覽"}),e.jsx("p",{className:"text-gray-600",children:"管理所有節慶活動、促銷設定與效果分析"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"進行中的節慶"}),e.jsx(ke,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsx("div",{className:"space-y-4",children:r.length>0?r.map(x=>{var f,b,v,g,w;return e.jsxs("div",{className:"p-4 bg-white/50 rounded-lg border border-white/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),y(x.status)]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"開始時間:"}),e.jsx("div",{className:"font-medium text-gray-900",children:p(x.startDate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"結束時間:"}),e.jsx("div",{className:"font-medium text-gray-900",children:p(x.endDate)})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(b=(f=x.analytics)==null?void 0:f.views)==null?void 0:b.toLocaleString()}),e.jsx("div",{className:"text-gray-500",children:"瀏覽量"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(g=(v=x.analytics)==null?void 0:v.participation)==null?void 0:g.toLocaleString()}),e.jsx("div",{className:"text-gray-500",children:"參與人次"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:h(((w=x.analytics)==null?void 0:w.revenue)||0)}),e.jsx("div",{className:"text-gray-500",children:"收益"})]})]})})]},x.id)}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Na,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"目前沒有進行中的節慶活動"})]})})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"即將到來的節慶"}),e.jsx(je,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(x=>{var f;return e.jsxs("div",{className:"p-4 bg-white/50 rounded-lg border border-white/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:x.name}),y(x.status)]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"開始時間:"}),e.jsx("div",{className:"font-medium text-gray-900",children:p(x.startDate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"結束時間:"}),e.jsx("div",{className:"font-medium text-gray-900",children:p(x.endDate)})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"目標商品類別:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(f=x.targetProducts)==null?void 0:f.map((b,v)=>e.jsx("span",{className:"px-2 py-1 bg-[#cc824d]/10 text-[#cc824d] rounded text-xs",children:b},v))})]})})]},x.id)}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"目前沒有即將到來的節慶活動"})]})})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"最近活動"}),e.jsx(Te,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsx("div",{className:"space-y-4",children:l.map(x=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/50 rounded-lg border border-white/30",children:[e.jsx("div",{className:`flex-shrink-0 ${x.color}`,children:e.jsx(x.icon,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.message}),e.jsx("p",{className:"text-sm text-gray-500",children:p(x.timestamp)})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5 text-green-500"})})]},x.id))})]}),e.jsxs("div",{className:"mt-8 bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"快速操作"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center px-4 py-3 bg-[#cc824d] text-white rounded-lg hover:bg-[#b8734a] transition-colors",children:[e.jsx(Na,{className:"h-5 w-5 mr-2"}),"新建節慶"]}),e.jsxs("button",{className:"flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(Ot,{className:"h-5 w-5 mr-2"}),"設定促銷"]}),e.jsxs("button",{className:"flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx(ka,{className:"h-5 w-5 mr-2"}),"發放優惠券"]}),e.jsxs("button",{className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"查看分析"]})]})]})]})})},NP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState("all"),[m,h]=u.useState(!1),[p,y]=u.useState(!1),[x,f]=u.useState(!1),[b,v]=u.useState(null),[g,w]=u.useState(!0),[N,j]=u.useState({name:"",type:"traditional",startDate:"",endDate:"",status:"draft",description:"",bannerImage:"",themeColor:"#ff6b6b",targetProducts:[],promotionSettings:{discountType:"percentage",discountValue:0,freeShipping:!1,giftThreshold:0,giftItems:[]}}),_=[{value:"traditional",label:"傳統節日"},{value:"romantic",label:"浪漫節日"},{value:"family",label:"家庭節日"},{value:"seasonal",label:"季節活動"},{value:"commercial",label:"商業促銷"}],k=[{value:"draft",label:"草稿"},{value:"scheduled",label:"已排程"},{value:"active",label:"進行中"},{value:"ended",label:"已結束"}],T=["skincare","makeup","fragrance","haircare","bodycare","anti-aging","luxury","organic","gift-sets","tools"];u.useEffect(()=>{C()},[]),u.useEffect(()=>{E()},[s,a,l,c]);const C=()=>{try{const S=Ct.getAllFestivals();t(S),w(!1)}catch(S){console.error("載入節慶數據失敗:",S),w(!1)}},E=()=>{let S=[...s];a&&(S=S.filter(V=>V.name.toLowerCase().includes(a.toLowerCase())||V.description.toLowerCase().includes(a.toLowerCase()))),l!=="all"&&(S=S.filter(V=>V.status===l)),c!=="all"&&(S=S.filter(V=>V.type===c)),n(S)},R=()=>{try{const S=Ct.createFestival(N);t([...s,S]),h(!1),A()}catch(S){console.error("創建節慶失敗:",S)}},M=()=>{try{const S=Ct.updateFestival(b.id,N);t(s.map(V=>V.id===b.id?S:V)),y(!1),v(null),A()}catch(S){console.error("更新節慶失敗:",S)}},$=()=>{try{Ct.deleteFestival(b.id),t(s.filter(S=>S.id!==b.id)),f(!1),v(null)}catch(S){console.error("刪除節慶失敗:",S)}},A=()=>{j({name:"",type:"traditional",startDate:"",endDate:"",status:"draft",description:"",bannerImage:"",themeColor:"#ff6b6b",targetProducts:[],promotionSettings:{discountType:"percentage",discountValue:0,freeShipping:!1,giftThreshold:0,giftItems:[]}})},z=S=>{v(S),j({name:S.name,type:S.type,startDate:S.startDate,endDate:S.endDate,status:S.status,description:S.description,bannerImage:S.bannerImage||"",themeColor:S.themeColor||"#ff6b6b",targetProducts:S.targetProducts||[],promotionSettings:S.promotionSettings||{discountType:"percentage",discountValue:0,freeShipping:!1,giftThreshold:0,giftItems:[]}}),y(!0)},D=S=>{v(S),f(!0)},O=S=>new Date(S).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric"}),I=S=>{const V={active:{text:"進行中",color:"bg-green-100 text-green-800"},scheduled:{text:"已排程",color:"bg-blue-100 text-blue-800"},draft:{text:"草稿",color:"bg-gray-100 text-gray-800"},ended:{text:"已結束",color:"bg-red-100 text-red-800"}},G=V[S]||V.draft;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${G.color}`,children:G.text})},F=S=>{const V=_.find(G=>G.value===S);return V?V.label:S};return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"})}):e.jsxs("div",{className:"min-h-screen bg-[#fdf8f2] p-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"節慶管理"}),e.jsx("p",{className:"text-gray-600",children:"管理所有節慶活動的詳細設定"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-[#cc824d] text-white font-medium rounded-lg hover:bg-[#b8734a] transition-colors",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"新建節慶"]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-8 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{value:l,onChange:S=>o(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent appearance-none bg-white",children:[e.jsx("option",{value:"all",children:"所有狀態"}),k.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ac,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent appearance-none bg-white",children:[e.jsx("option",{value:"all",children:"所有類型"}),_.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]})]})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["節慶列表 (",r.length,")"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"節慶資訊"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"類型/狀態"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"時間範圍"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"效果數據"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white/30 divide-y divide-gray-200",children:r.map(S=>{var V,G,q,P,U,Y;return e.jsxs("tr",{className:"hover:bg-white/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg flex-shrink-0 flex items-center justify-center",style:{backgroundColor:S.themeColor+"20"},children:e.jsx(Tc,{className:"h-6 w-6",style:{color:S.themeColor}})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),e.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:S.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-gray-900",children:F(S.type)}),I(S.status)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["開始: ",O(S.startDate)]}),e.jsxs("div",{children:["結束: ",O(S.endDate)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["瀏覽: ",((G=(V=S.analytics)==null?void 0:V.views)==null?void 0:G.toLocaleString())||0]}),e.jsxs("div",{children:["參與: ",((P=(q=S.analytics)==null?void 0:q.participation)==null?void 0:P.toLocaleString())||0]}),e.jsxs("div",{children:["收益: NT$",((Y=(U=S.analytics)==null?void 0:U.revenue)==null?void 0:Y.toLocaleString())||0]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>z(S),className:"text-[#cc824d] hover:text-[#b8734a] p-1 rounded",title:"編輯",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"查看詳情",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(S),className:"text-red-600 hover:text-red-800 p-1 rounded",title:"刪除",children:e.jsx(rt,{className:"h-4 w-4"})})]})})]},S.id)})})]}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Tc,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"沒有找到符合條件的節慶活動"})]})]})]})]}),(m||p)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m?"新建節慶":"編輯節慶"}),e.jsx("button",{onClick:()=>{h(!1),y(!1),A()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"節慶名稱"}),e.jsx("input",{type:"text",value:N.name,onChange:S=>j({...N,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入節慶名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"節慶類型"}),e.jsx("select",{value:N.type,onChange:S=>j({...N,type:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:_.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"狀態"}),e.jsx("select",{value:N.status,onChange:S=>j({...N,status:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:k.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"開始日期"}),e.jsx("input",{type:"date",value:N.startDate,onChange:S=>j({...N,startDate:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"結束日期"}),e.jsx("input",{type:"date",value:N.endDate,onChange:S=>j({...N,endDate:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"主題顏色"}),e.jsx("input",{type:"color",value:N.themeColor,onChange:S=>j({...N,themeColor:S.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"描述"}),e.jsx("textarea",{value:N.description,onChange:S=>j({...N,description:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入節慶描述"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"橫幅圖片 URL"}),e.jsx("input",{type:"url",value:N.bannerImage,onChange:S=>j({...N,bannerImage:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入圖片 URL"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"目標商品類別"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:T.map(S=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.targetProducts.includes(S),onChange:V=>{V.target.checked?j({...N,targetProducts:[...N.targetProducts,S]}):j({...N,targetProducts:N.targetProducts.filter(G=>G!==S)})},className:"mr-2"}),e.jsx("span",{className:"text-sm",children:S})]},S))})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"促銷設定"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"折扣類型"}),e.jsxs("select",{value:N.promotionSettings.discountType,onChange:S=>j({...N,promotionSettings:{...N.promotionSettings,discountType:S.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:[e.jsx("option",{value:"percentage",children:"百分比折扣"}),e.jsx("option",{value:"fixed",children:"固定金額"}),e.jsx("option",{value:"buy-one-get-one",children:"買一送一"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"折扣值"}),e.jsx("input",{type:"number",value:N.promotionSettings.discountValue,onChange:S=>j({...N,promotionSettings:{...N.promotionSettings,discountValue:Number(S.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入折扣值"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.promotionSettings.freeShipping,onChange:S=>j({...N,promotionSettings:{...N.promotionSettings,freeShipping:S.target.checked}}),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"免費運送"})]})})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{h(!1),y(!1),A()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"取消"}),e.jsx("button",{onClick:m?R:M,className:"px-4 py-2 bg-[#cc824d] text-white rounded-md hover:bg-[#b8734a]",children:m?"創建":"更新"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Te,{className:"h-6 w-6 text-red-600 mr-3"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"確認刪除"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["確定要刪除節慶「",b==null?void 0:b.name,"」嗎？此操作將同時刪除相關的促銷活動和優惠券，且無法復原。"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"取消"}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"刪除"})]})]})})]})},wP=()=>{var ue;const[s,t]=u.useState([]),[r,n]=u.useState(""),[a,i]=u.useState([]),[l,o]=u.useState([]),[c,d]=u.useState("promotions"),[m,h]=u.useState(!1),[p,y]=u.useState(!1),[x,f]=u.useState(!1),[b,v]=u.useState(null),[g,w]=u.useState(!1),[N,j]=u.useState(!0),[_,k]=u.useState({festivalId:"",name:"",type:"discount",rules:{minAmount:0,discountRate:0,maxDiscount:0,giftItems:[]},startTime:"",endTime:"",isActive:!0,usageLimit:0}),[T,C]=u.useState({festivalId:"",code:"",name:"",type:"percentage",value:0,minAmount:0,maxDiscount:0,validFrom:"",validTo:"",isActive:!0,totalQuantity:0,targetCustomers:"all"}),E=[{value:"discount",label:"折扣優惠",icon:$8},{value:"gift",label:"滿額贈禮",icon:Ot},{value:"shipping",label:"免運優惠",icon:Zt},{value:"bundle",label:"組合優惠",icon:Ec}],R=[{value:"percentage",label:"百分比折扣"},{value:"fixed",label:"固定金額"}],M=[{value:"all",label:"所有客戶"},{value:"members",label:"會員限定"},{value:"vip",label:"VIP 會員"},{value:"new",label:"新客戶"}];u.useEffect(()=>{$()},[]),u.useEffect(()=>{r&&A(r)},[r]);const $=()=>{try{const L=Ct.getAllFestivals();t(L),L.length>0&&n(L[0].id),j(!1)}catch(L){console.error("載入數據失敗:",L),j(!1)}},A=L=>{try{const ee=Ct.getPromotionsByFestival(L),re=Ct.getCouponsByFestival(L);i(ee),o(re)}catch(ee){console.error("載入促銷數據失敗:",ee)}},z=()=>{try{const L=Ct.createPromotion({..._,festivalId:r});i([...a,L]),h(!1),S()}catch(L){console.error("創建促銷失敗:",L)}},D=()=>{try{const L=Ct.updatePromotion(b.id,_);i(a.map(ee=>ee.id===b.id?L:ee)),h(!1),w(!1),S()}catch(L){console.error("更新促銷失敗:",L)}},O=()=>{try{const L=Ct.createCoupon({...T,festivalId:r});o([...l,L]),y(!1),V()}catch(L){console.error("創建優惠券失敗:",L)}},I=()=>{try{const L=Ct.updateCoupon(b.id,T);o(l.map(ee=>ee.id===b.id?L:ee)),y(!1),w(!1),V()}catch(L){console.error("更新優惠券失敗:",L)}},F=()=>{try{c==="promotions"?(Ct.deletePromotion(b.id),i(a.filter(L=>L.id!==b.id))):(Ct.deleteCoupon(b.id),o(l.filter(L=>L.id!==b.id))),f(!1),v(null)}catch(L){console.error("刪除失敗:",L)}},S=()=>{k({festivalId:"",name:"",type:"discount",rules:{minAmount:0,discountRate:0,maxDiscount:0,giftItems:[]},startTime:"",endTime:"",isActive:!0,usageLimit:0})},V=()=>{C({festivalId:"",code:"",name:"",type:"percentage",value:0,minAmount:0,maxDiscount:0,validFrom:"",validTo:"",isActive:!0,totalQuantity:0,targetCustomers:"all"})},G=L=>{var ee,re;v(L),k({festivalId:L.festivalId,name:L.name,type:L.type,rules:L.rules,startTime:((ee=L.startTime)==null?void 0:ee.split("T")[0])||"",endTime:((re=L.endTime)==null?void 0:re.split("T")[0])||"",isActive:L.isActive,usageLimit:L.usageLimit}),w(!0),h(!0)},q=L=>{var ee,re;v(L),C({festivalId:L.festivalId,code:L.code,name:L.name,type:L.type,value:L.value,minAmount:L.minAmount,maxDiscount:L.maxDiscount,validFrom:((ee=L.validFrom)==null?void 0:ee.split("T")[0])||"",validTo:((re=L.validTo)==null?void 0:re.split("T")[0])||"",isActive:L.isActive,totalQuantity:L.totalQuantity,targetCustomers:L.targetCustomers}),w(!0),y(!0)},P=()=>{const L="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ee="";for(let re=0;re<8;re++)ee+=L.charAt(Math.floor(Math.random()*L.length));C({...T,code:ee})},U=L=>new Date(L).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric"}),Y=L=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L?"啟用中":"已停用"}),se=L=>E.find(re=>re.value===L)||{label:L,icon:Ot};return N?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"})}):e.jsxs("div",{className:"min-h-screen bg-[#fdf8f2] p-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"促銷設定"}),e.jsx("p",{className:"text-gray-600",children:"管理節慶促銷活動和優惠券"})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-8 shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"選擇節慶:"}),e.jsx("select",{value:r,onChange:L=>n(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:s.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))})]})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex",children:[e.jsx("button",{onClick:()=>d("promotions"),className:`px-6 py-4 text-sm font-medium border-b-2 ${c==="promotions"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-5 w-5 mr-2"}),"促銷活動 (",a.length,")"]})}),e.jsx("button",{onClick:()=>d("coupons"),className:`px-6 py-4 text-sm font-medium border-b-2 ${c==="coupons"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"h-5 w-5 mr-2"}),"優惠券 (",l.length,")"]})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-end mb-6",children:c==="promotions"?e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-[#cc824d] text-white font-medium rounded-lg hover:bg-[#b8734a] transition-colors",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"新建促銷"]}):e.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center px-4 py-2 bg-[#cc824d] text-white font-medium rounded-lg hover:bg-[#b8734a] transition-colors",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"新建優惠券"]})}),c==="promotions"&&e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(L=>{var re,Ee,de,Ae;const ee=se(L.type);return e.jsxs("div",{className:"bg-white/50 border border-white/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-[#cc824d]/10 rounded-lg",children:e.jsx(ee.icon,{className:"h-6 w-6 text-[#cc824d]"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:L.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[e.jsx("span",{children:ee.label}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["已使用 ",L.usageCount,"/",L.usageLimit]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[U(L.startTime)," - ",U(L.endTime)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[Y(L.isActive),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>G(L),className:"text-[#cc824d] hover:text-[#b8734a] p-1 rounded",title:"編輯",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"查看詳情",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{v(L),f(!0)},className:"text-red-600 hover:text-red-800 p-1 rounded",title:"刪除",children:e.jsx(rt,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[L.type==="discount"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"最低金額:"}),e.jsxs("div",{className:"font-medium",children:["NT$",(re=L.rules.minAmount)==null?void 0:re.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"折扣率:"}),e.jsxs("div",{className:"font-medium",children:[L.rules.discountRate*100,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"最高折扣:"}),e.jsxs("div",{className:"font-medium",children:["NT$",(Ee=L.rules.maxDiscount)==null?void 0:Ee.toLocaleString()]})]})]}),L.type==="gift"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"最低金額:"}),e.jsxs("div",{className:"font-medium",children:["NT$",(de=L.rules.minAmount)==null?void 0:de.toLocaleString()]})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("span",{className:"text-gray-500",children:"贈品:"}),e.jsx("div",{className:"font-medium",children:(Ae=L.rules.giftItems)==null?void 0:Ae.join(", ")})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"使用限制:"}),e.jsxs("div",{className:"font-medium",children:[L.usageLimit," 次"]})]})]})})]},L.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ot,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"尚未建立任何促銷活動"})]})}),c==="coupons"&&e.jsx("div",{className:"space-y-4",children:l.length>0?l.map(L=>{var ee,re,Ee;return e.jsxs("div",{className:"bg-white/50 border border-white/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ka,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:L.name}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-mono rounded",children:L.code})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[e.jsx("span",{children:L.type==="percentage"?`${L.value}% 折扣`:`NT$${L.value} 減免`}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["已使用 ",L.usedQuantity,"/",L.totalQuantity]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[U(L.validFrom)," - ",U(L.validTo)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[Y(L.isActive),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>q(L),className:"text-[#cc824d] hover:text-[#b8734a] p-1 rounded",title:"編輯",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(L.code),className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"複製代碼",children:e.jsx(sS,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{v(L),f(!0)},className:"text-red-600 hover:text-red-800 p-1 rounded",title:"刪除",children:e.jsx(rt,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"最低金額:"}),e.jsxs("div",{className:"font-medium",children:["NT$",(ee=L.minAmount)==null?void 0:ee.toLocaleString()]})]}),L.type==="percentage"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"最高折扣:"}),e.jsxs("div",{className:"font-medium",children:["NT$",(re=L.maxDiscount)==null?void 0:re.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"目標客戶:"}),e.jsx("div",{className:"font-medium",children:(Ee=M.find(de=>de.value===L.targetCustomers))==null?void 0:Ee.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"剩餘數量:"}),e.jsx("div",{className:"font-medium",children:L.totalQuantity-L.usedQuantity})]})]})})]},L.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ka,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"尚未建立任何優惠券"})]})})]})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:g?"編輯促銷活動":"新建促銷活動"}),e.jsx("button",{onClick:()=>{h(!1),w(!1),S()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"促銷名稱"}),e.jsx("input",{type:"text",value:_.name,onChange:L=>k({..._,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入促銷名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"促銷類型"}),e.jsx("select",{value:_.type,onChange:L=>k({..._,type:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:E.map(L=>e.jsx("option",{value:L.value,children:L.label},L.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"開始時間"}),e.jsx("input",{type:"date",value:_.startTime,onChange:L=>k({..._,startTime:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"結束時間"}),e.jsx("input",{type:"date",value:_.endTime,onChange:L=>k({..._,endTime:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"促銷規則"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最低消費金額"}),e.jsx("input",{type:"number",value:_.rules.minAmount,onChange:L=>k({..._,rules:{..._.rules,minAmount:Number(L.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]}),_.type==="discount"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"折扣率 (%)"}),e.jsx("input",{type:"number",value:_.rules.discountRate*100,onChange:L=>k({..._,rules:{..._.rules,discountRate:Number(L.target.value)/100}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0",min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最高折扣金額"}),e.jsx("input",{type:"number",value:_.rules.maxDiscount,onChange:L=>k({..._,rules:{..._.rules,maxDiscount:Number(L.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]})]}),_.type==="gift"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"贈品項目 (以逗號分隔)"}),e.jsx("input",{type:"text",value:(ue=_.rules.giftItems)==null?void 0:ue.join(", "),onChange:L=>k({..._,rules:{..._.rules,giftItems:L.target.value.split(",").map(ee=>ee.trim())}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"贈品1, 贈品2, 贈品3"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"使用次數限制"}),e.jsx("input",{type:"number",value:_.usageLimit,onChange:L=>k({..._,usageLimit:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0 表示無限制"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.isActive,onChange:L=>k({..._,isActive:L.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"立即啟用"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{h(!1),w(!1),S()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"取消"}),e.jsx("button",{onClick:g?D:z,className:"px-4 py-2 bg-[#cc824d] text-white rounded-md hover:bg-[#b8734a]",children:g?"更新":"創建"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:g?"編輯優惠券":"新建優惠券"}),e.jsx("button",{onClick:()=>{y(!1),w(!1),V()},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"優惠券名稱"}),e.jsx("input",{type:"text",value:T.name,onChange:L=>C({...T,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入優惠券名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"優惠券代碼"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:T.code,onChange:L=>C({...T,code:L.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"輸入或生成代碼"}),e.jsx("button",{onClick:P,className:"px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"生成"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"優惠券類型"}),e.jsx("select",{value:T.type,onChange:L=>C({...T,type:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:R.map(L=>e.jsx("option",{value:L.value,children:L.label},L.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:T.type==="percentage"?"折扣百分比 (%)":"折扣金額 (NT$)"}),e.jsx("input",{type:"number",value:T.value,onChange:L=>C({...T,value:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最低消費金額"}),e.jsx("input",{type:"number",value:T.minAmount,onChange:L=>C({...T,minAmount:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]}),T.type==="percentage"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最高折扣金額"}),e.jsx("input",{type:"number",value:T.maxDiscount,onChange:L=>C({...T,maxDiscount:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"有效開始日期"}),e.jsx("input",{type:"date",value:T.validFrom,onChange:L=>C({...T,validFrom:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"有效結束日期"}),e.jsx("input",{type:"date",value:T.validTo,onChange:L=>C({...T,validTo:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"發行數量"}),e.jsx("input",{type:"number",value:T.totalQuantity,onChange:L=>C({...T,totalQuantity:Number(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"目標客戶"}),e.jsx("select",{value:T.targetCustomers,onChange:L=>C({...T,targetCustomers:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-[#cc824d] focus:border-[#cc824d]",children:M.map(L=>e.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:T.isActive,onChange:L=>C({...T,isActive:L.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"立即啟用"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{y(!1),w(!1),V()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"取消"}),e.jsx("button",{onClick:g?I:O,className:"px-4 py-2 bg-[#cc824d] text-white rounded-md hover:bg-[#b8734a]",children:g?"更新":"創建"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Te,{className:"h-6 w-6 text-red-600 mr-3"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"確認刪除"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["確定要刪除",c==="promotions"?"促銷活動":"優惠券","「",b==null?void 0:b.name,"」嗎？此操作無法復原。"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"取消"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"刪除"})]})]})})]})},_P=()=>{var T,C,E,R,M,$,A,z,D,O,I,F,S,V,G;const[s,t]=u.useState([]),[r,n]=u.useState(""),[a,i]=u.useState("30"),[l,o]=u.useState(null),[c,d]=u.useState({}),[m,h]=u.useState([]),[p,y]=u.useState(!0);u.useEffect(()=>{x()},[]),u.useEffect(()=>{r&&f(r)},[r,a]);const x=()=>{try{const q=Ct.getAllFestivals();t(q),q.length>0&&n(q[0].id),y(!1)}catch(q){console.error("載入數據失敗:",q),y(!1)}},f=q=>{try{const P=Ct.getFestivalAnalytics(q),U=Ct.getFestivalById(q);o(P);const Y=(U==null?void 0:U.analytics)||{},se=Number(Y.revenue)||0,ue=Number(Y.views)||0,L=Number(Y.participation)||0,ee=Number(Y.conversionRate)||0,re={totalRevenue:se,totalViews:ue,totalParticipation:L,conversionRate:ee,roi:b(se,5e4),avgOrderValue:L>0?se/L:0,clickThroughRate:ue>0?L/ue*100:0};d(re),v()}catch(P){console.error("載入分析數據失敗:",P),d({totalRevenue:0,totalViews:0,totalParticipation:0,conversionRate:0,roi:0,avgOrderValue:0,clickThroughRate:0})}},b=(q,P)=>{const U=Number(q)||0,Y=Number(P)||0;return Y===0?0:(U-Y)/Y*100},v=()=>{const q=[],P=new Date;for(let U=29;U>=0;U--){const Y=new Date(P);Y.setDate(Y.getDate()-U),q.push({date:Y.toISOString().split("T")[0],views:Math.floor(Math.random()*500)+100,participation:Math.floor(Math.random()*50)+10,revenue:Math.floor(Math.random()*2e4)+5e3,conversions:Math.floor(Math.random()*30)+5})}h(q)},g=q=>q==null||isNaN(q)?new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(0):new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(Number(q)),w=q=>q==null||isNaN(q)?"0.0%":`${Number(q).toFixed(1)}%`,N=q=>q>0?e.jsx(Je,{className:"h-4 w-4 text-green-500"}):q<0?e.jsx(Pa,{className:"h-4 w-4 text-red-500"}):null,j=q=>q>0?"text-green-600":q<0?"text-red-600":"text-gray-600",_=()=>{const q=s.find(L=>L.id===r),U=JSON.stringify({festival:q,analytics:l,metrics:c,timeSeriesData:m},null,2),Y="data:application/json;charset=utf-8,"+encodeURIComponent(U),se=`festival-analytics-${q==null?void 0:q.name}-${new Date().toISOString().split("T")[0]}.json`,ue=document.createElement("a");ue.setAttribute("href",Y),ue.setAttribute("download",se),ue.click()};if(p)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#cc824d]"})});const k=s.find(q=>q.id===r);return e.jsx("div",{className:"min-h-screen bg-[#fdf8f2] p-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"節慶分析"}),e.jsx("p",{className:"text-gray-600",children:"深入分析節慶活動的效果與ROI"})]}),e.jsxs("button",{onClick:_,className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-[#cc824d] text-white font-medium rounded-lg hover:bg-[#b8734a] transition-colors",children:[e.jsx(Tm,{className:"h-5 w-5 mr-2"}),"導出數據"]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-8 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"選擇節慶"}),e.jsx("select",{value:r,onChange:q=>n(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:s.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"時間範圍"}),e.jsxs("select",{value:a,onChange:q=>i(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"7",children:"過去7天"}),e.jsx("option",{value:"30",children:"過去30天"}),e.jsx("option",{value:"90",children:"過去3個月"}),e.jsx("option",{value:"365",children:"過去一年"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"狀態"}),e.jsx("div",{className:"px-3 py-2 bg-gray-100 rounded-lg text-sm",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(k==null?void 0:k.status)==="active"?"bg-green-100 text-green-800":(k==null?void 0:k.status)==="scheduled"?"bg-blue-100 text-blue-800":(k==null?void 0:k.status)==="ended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:(k==null?void 0:k.status)==="active"?"進行中":(k==null?void 0:k.status)==="scheduled"?"已排程":(k==null?void 0:k.status)==="ended"?"已結束":"草稿"})})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(dt,{className:"h-8 w-8 text-green-500"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總收益"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.totalRevenue)}),e.jsxs("div",{className:"flex items-center mt-1",children:[N(8.5),e.jsx("span",{className:`text-sm ml-1 ${j(8.5)}`,children:"+8.5%"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-8 w-8 text-blue-500"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總瀏覽量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(T=c.totalViews)==null?void 0:T.toLocaleString()}),e.jsxs("div",{className:"flex items-center mt-1",children:[N(12.3),e.jsx("span",{className:`text-sm ml-1 ${j(12.3)}`,children:"+12.3%"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($t,{className:"h-8 w-8 text-purple-500"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"參與人次"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(C=c.totalParticipation)==null?void 0:C.toLocaleString()}),e.jsxs("div",{className:"flex items-center mt-1",children:[N(5.7),e.jsx("span",{className:`text-sm ml-1 ${j(5.7)}`,children:"+5.7%"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Je,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"轉換率"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(c.conversionRate)}),e.jsxs("div",{className:"flex items-center mt-1",children:[N(-2.1),e.jsx("span",{className:`text-sm ml-1 ${j(-2.1)}`,children:"-2.1%"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"效果指標"}),e.jsx(ke,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"ROI (投資回報率)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"收益相對於投資成本的比率"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(c.roi)}),e.jsxs("div",{className:"flex items-center",children:[N(15.2),e.jsx("span",{className:`text-sm ${j(15.2)}`,children:"+15.2%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"平均訂單價值"}),e.jsx("p",{className:"text-xs text-gray-500",children:"每筆訂單的平均金額"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:g(c.avgOrderValue)}),e.jsxs("div",{className:"flex items-center",children:[N(3.8),e.jsx("span",{className:`text-sm ${j(3.8)}`,children:"+3.8%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"點擊率"}),e.jsx("p",{className:"text-xs text-gray-500",children:"瀏覽到參與的轉換比例"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:w(c.clickThroughRate)}),e.jsxs("div",{className:"flex items-center",children:[N(-1.5),e.jsx("span",{className:`text-sm ${j(-1.5)}`,children:"-1.5%"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"促銷活動表現"}),e.jsx(Ot,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"促銷活動"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((E=l==null?void 0:l.promotions)==null?void 0:E.total)||0," 個"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"啟用中:"}),e.jsx("span",{className:"font-medium text-green-600 ml-1",children:((R=l==null?void 0:l.promotions)==null?void 0:R.active)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"總使用:"}),e.jsx("span",{className:"font-medium text-gray-900 ml-1",children:((M=l==null?void 0:l.promotions)==null?void 0:M.totalUsage)||0})]})]})]}),e.jsxs("div",{className:"p-3 bg-white/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"優惠券"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[(($=l==null?void 0:l.coupons)==null?void 0:$.total)||0," 張"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"已發放:"}),e.jsx("span",{className:"font-medium text-blue-600 ml-1",children:((A=l==null?void 0:l.coupons)==null?void 0:A.totalIssued)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"已使用:"}),e.jsx("span",{className:"font-medium text-purple-600 ml-1",children:((z=l==null?void 0:l.coupons)==null?void 0:z.totalUsed)||0})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"使用率"}),e.jsx("span",{children:((D=l==null?void 0:l.coupons)==null?void 0:D.totalIssued)>0?w((((O=l==null?void 0:l.coupons)==null?void 0:O.totalUsed)||0)/((I=l==null?void 0:l.coupons)==null?void 0:I.totalIssued)*100):"0%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:((F=l==null?void 0:l.coupons)==null?void 0:F.totalIssued)>0?`${(((S=l==null?void 0:l.coupons)==null?void 0:S.totalUsed)||0)/((V=l==null?void 0:l.coupons)==null?void 0:V.totalIssued)*100}%`:"0%"}})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"趨勢分析"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{className:"glass-select text-sm font-chinese",children:[e.jsx("option",{value:"views",children:"瀏覽量"}),e.jsx("option",{value:"participation",children:"參與人次"}),e.jsx("option",{value:"revenue",children:"收益"}),e.jsx("option",{value:"conversions",children:"轉換次數"})]})})]}),e.jsx("div",{className:"h-64 bg-white/30 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"趨勢圖表區域"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["顯示過去",a,"天的數據趨勢"]})]})})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"客戶參與分析"}),e.jsx($t,{className:"h-5 w-5 text-[#cc824d]"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx($e,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"新訪客"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.floor(c.totalViews*.65).toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-500",children:"佔總瀏覽 65%"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx($t,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"回頭客"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.floor(c.totalViews*.35).toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-500",children:"佔總瀏覽 35%"})]}),e.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Wc,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"轉換客戶"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(G=c.totalParticipation)==null?void 0:G.toLocaleString()}),e.jsxs("p",{className:"text-sm text-gray-500",children:["轉換率 ",w(c.conversionRate)]})]})]})]})]})})};class kP{constructor(){this.storageKeys={campaigns:"marketing_campaigns",adCampaigns:"ad_campaigns",audiences:"marketing_audiences",creativeAssets:"creative_assets",automationRules:"automation_rules",settings:"marketing_settings"},this.initializeDefaultData()}initializeDefaultData(){if(!this.getCampaigns().length){const t=[{id:"mc001",name:"春季美妝節",type:"seasonal",status:"active",description:"春季限定美妝商品促銷活動",schedule:{startDate:"2025-03-01",endDate:"2025-03-31",timezone:"Asia/Taipei",preHeatPeriod:7,phases:[{id:"phase1",name:"預熱期",startDate:"2025-02-22",endDate:"2025-02-28",status:"completed"},{id:"phase2",name:"主要促銷期",startDate:"2025-03-01",endDate:"2025-03-25",status:"active"},{id:"phase3",name:"清倉期",startDate:"2025-03-26",endDate:"2025-03-31",status:"scheduled"}]},animations:{themeType:"seasonal",effectIntensity:"moderate",mobileOptimization:!0,performanceMode:"balanced"},discounts:{rules:[{id:"discount1",type:"percentage",value:20,minAmount:1e3,stackable:!0,targetProducts:["skincare","makeup"]}],stackingPolicy:"stackable",usageLimit:{perUser:3,total:1e4}},advertising:{adCampaigns:["ac001","ac002"],pushNotifications:!0,emailMarketing:!0,socialMediaPosts:["facebook","instagram","line"]},inventory:{reservedStockPercentage:15,priorityAllocation:!0,dynamicInventory:!0,oversellProtection:!0},budget:{totalBudget:5e5,spentBudget:125e3,projectedROI:3.2,actualROI:3.8},objectives:{primaryGoal:"sales",kpis:[{name:"conversion_rate",target:4.5,actual:5.2},{name:"roas",target:3,actual:3.8},{name:"new_customers",target:2e3,actual:2350}]},performance:{impressions:125e4,clicks:65e3,conversions:3380,revenue:19e5,ctr:5.2,conversionRate:5.2,cpa:37,roas:3.8},createdAt:"2024-12-15T08:00:00Z",updatedAt:"2025-01-15T10:30:00Z",createdBy:"admin",status:"active"},{id:"mc002",name:"母親節特惠",type:"festival",status:"scheduled",description:"母親節專屬美妝禮盒優惠",schedule:{startDate:"2025-05-01",endDate:"2025-05-12",timezone:"Asia/Taipei",preHeatPeriod:10,phases:[{id:"phase1",name:"預熱宣傳",startDate:"2025-04-21",endDate:"2025-04-30",status:"scheduled"},{id:"phase2",name:"正式促銷",startDate:"2025-05-01",endDate:"2025-05-12",status:"scheduled"}]},animations:{themeType:"traditional",effectIntensity:"intense",mobileOptimization:!0,performanceMode:"high_quality"},discounts:{rules:[{id:"discount2",type:"bundle",value:25,minAmount:1500,stackable:!1,targetProducts:["gift_sets","skincare"]}],stackingPolicy:"exclusive",usageLimit:{perUser:1,total:5e3}},budget:{totalBudget:3e5,spentBudget:0,projectedROI:3.5},objectives:{primaryGoal:"engagement",kpis:[{name:"gift_box_sales",target:1e3,actual:0},{name:"brand_awareness",target:15,actual:0}]},createdAt:"2025-01-10T08:00:00Z",updatedAt:"2025-01-10T08:00:00Z",createdBy:"admin",status:"scheduled"}];localStorage.setItem(this.storageKeys.campaigns,JSON.stringify(t))}if(!this.getAdCampaigns().length){const t=[{id:"ac001",campaignId:"mc001",name:"春季美妝節 - Facebook廣告",platform:{name:"facebook",accountId:"fb_act_12345",campaignId:"fb_campaign_001"},campaignType:"conversion",creatives:{images:["spring_makeup_banner.jpg","skincare_collection.jpg"],videos:["spring_tutorial.mp4"],texts:["春季限定！全館美妝8折起","新品上市，打造完美春日妝容"],callToActions:["立即購買","了解更多"]},targeting:{demographics:{age:{min:18,max:45},gender:["female"],interests:["beauty","skincare","makeup"]},geotargeting:{countries:["TW"],cities:["台北","台中","高雄"]}},budget:{dailyBudget:3e3,totalBudget:9e4,bidStrategy:"target_roas",targetROAS:3},delivery:{startDate:"2025-03-01",endDate:"2025-03-31",pacing:"standard"},status:"active",performance:{impressions:45e4,clicks:22500,conversions:1125,spend:67500,ctr:5,cpc:3,cpa:60,roas:3.2}},{id:"ac002",campaignId:"mc001",name:"春季美妝節 - Google Ads",platform:{name:"google_ads",accountId:"ga_act_67890",campaignId:"ga_campaign_002"},campaignType:"search",targeting:{keywords:["春季美妝","護膚品推薦","彩妝新品"],demographics:{age:{min:20,max:50},gender:["female"]}},budget:{dailyBudget:2e3,totalBudget:6e4,bidStrategy:"target_cpa",targetCPA:45},status:"active",performance:{impressions:18e4,clicks:14400,conversions:864,spend:43200,ctr:8,cpc:3,cpa:50,roas:2.8}}];localStorage.setItem(this.storageKeys.adCampaigns,JSON.stringify(t))}if(!this.getAudiences().length){const t=[{id:"aud001",name:"高價值客戶",description:"過去12個月消費金額超過10000元的客戶",type:"behavioral",criteria:{behavioral:{purchaseHistory:{totalSpent:{min:1e4},frequency:{min:3},lastPurchase:{days:90}},engagementLevel:"high"}},size:{estimated:1250,actual:1180,lastUpdated:"2025-01-15T10:00:00Z"},refreshFrequency:"weekly",campaigns:["mc001"],performance:{averageCTR:8.5,averageConversionRate:12.3,averageCPA:25,totalRevenue:285e4}},{id:"aud002",name:"新客戶",description:"註冊時間少於30天的新用戶",type:"demographic",criteria:{behavioral:{customerLifecycleStage:"new",registrationDate:{days:30}}},size:{estimated:2800,actual:2650,lastUpdated:"2025-01-15T10:00:00Z"},refreshFrequency:"daily",campaigns:["mc001","mc002"],performance:{averageCTR:6.2,averageConversionRate:3.8,averageCPA:85,totalRevenue:45e4}},{id:"aud003",name:"彩妝愛好者",description:"主要購買彩妝產品的客戶群",type:"psychographic",criteria:{behavioral:{purchaseHistory:{categories:["makeup","cosmetics"],frequency:{min:2}}},psychographic:{interests:["makeup","beauty_trends","color_cosmetics"]}},size:{estimated:3200,actual:3180,lastUpdated:"2025-01-15T10:00:00Z"},refreshFrequency:"weekly",campaigns:["mc001"],performance:{averageCTR:7.8,averageConversionRate:8.9,averageCPA:45,totalRevenue:168e4}}];localStorage.setItem(this.storageKeys.audiences,JSON.stringify(t))}if(!this.getCreativeAssets().length){const t=[{id:"ca001",name:"春季美妝主視覺",type:"image",file:{url:"/assets/creatives/spring_main_visual.jpg",size:2048576,dimensions:{width:1200,height:800},format:"jpg"},variants:[{platform:"facebook",placement:"feed",dimensions:{width:1200,height:628},url:"/assets/creatives/spring_main_visual_fb.jpg"},{platform:"instagram",placement:"story",dimensions:{width:1080,height:1920},url:"/assets/creatives/spring_main_visual_ig_story.jpg"}],tags:["spring","makeup","seasonal","promotion"],category:"campaign_banner",brand:"marelle",usage:{campaigns:["mc001"],platforms:["facebook","instagram"],performance:{impressions:58e4,clicks:23200,ctr:4,conversions:1392,conversionRate:6}},compliance:{approved:!0,approvedBy:"marketing_manager",approvedAt:"2025-02-15T09:00:00Z",issues:[]},version:"1.0",isActive:!0,createdAt:"2025-02-10T08:00:00Z",createdBy:"designer"},{id:"ca002",name:"母親節禮盒廣告影片",type:"video",file:{url:"/assets/creatives/mothers_day_gift_video.mp4",size:15728640,dimensions:{width:1920,height:1080},format:"mp4",duration:30},variants:[{platform:"facebook",placement:"video_feed",dimensions:{width:1280,height:720},url:"/assets/creatives/mothers_day_gift_video_fb.mp4"},{platform:"youtube",placement:"video_ad",dimensions:{width:1920,height:1080},url:"/assets/creatives/mothers_day_gift_video_yt.mp4"}],tags:["mothers_day","gift_box","emotional","family"],category:"video_ad",brand:"marelle",usage:{campaigns:["mc002"],platforms:["facebook","youtube"],performance:{impressions:0,clicks:0,ctr:0,conversions:0,conversionRate:0}},compliance:{approved:!0,approvedBy:"marketing_manager",approvedAt:"2025-01-20T14:00:00Z",issues:[]},version:"1.0",isActive:!0,createdAt:"2025-01-15T08:00:00Z",createdBy:"video_producer"}];localStorage.setItem(this.storageKeys.creativeAssets,JSON.stringify(t))}if(!this.getAutomationRules().length){const t=[{id:"ar001",name:"購物車遺棄挽回",type:"cart_abandonment",status:"active",trigger:{event:"cart_abandoned",conditions:{cartValue:{min:500},timeDelay:15}},actions:[{type:"send_email",delay:0,template:"cart_abandonment_reminder",discount:{type:"percentage",value:10,validityHours:24}},{type:"send_push_notification",delay:60,message:"您的購物車還有商品等待結帳唷！"},{type:"show_retargeting_ad",delay:120,platforms:["facebook","google"]}],performance:{triggered:2850,completed:570,conversionRate:20,revenue:285e3},createdAt:"2024-12-01T08:00:00Z",createdBy:"marketing_automation"},{id:"ar002",name:"生日祝賀與優惠",type:"birthday_campaign",status:"active",trigger:{event:"birthday_approaching",conditions:{advanceDays:7}},actions:[{type:"send_email",delay:0,template:"birthday_wishes",discount:{type:"percentage",value:20,validityDays:30}},{type:"send_sms",delay:0,message:"生日快樂！專屬生日禮已為您準備好"}],performance:{triggered:450,completed:315,conversionRate:70,revenue:189e3},createdAt:"2024-11-15T08:00:00Z",createdBy:"crm_manager"},{id:"ar003",name:"客戶流失挽回",type:"win_back",status:"active",trigger:{event:"customer_inactive",conditions:{inactiveDays:60,previousPurchases:{min:2}}},actions:[{type:"send_email",delay:0,template:"win_back_offer",discount:{type:"percentage",value:25,validityDays:14}},{type:"create_personalized_offer",delay:0,basedOn:"purchase_history"}],performance:{triggered:680,completed:102,conversionRate:15,revenue:153e3},createdAt:"2024-10-20T08:00:00Z",createdBy:"retention_specialist"}];localStorage.setItem(this.storageKeys.automationRules,JSON.stringify(t))}}getCampaigns(){const t=localStorage.getItem(this.storageKeys.campaigns);return t?JSON.parse(t):[]}getCampaignById(t){return this.getCampaigns().find(n=>n.id===t)}createCampaign(t){const r=this.getCampaigns(),n={id:`mc${String(Date.now()).slice(-6)}`,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:t.status||"draft"};return r.push(n),localStorage.setItem(this.storageKeys.campaigns,JSON.stringify(r)),n}updateCampaign(t,r){const n=this.getCampaigns(),a=n.findIndex(i=>i.id===t);return a!==-1?(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKeys.campaigns,JSON.stringify(n)),n[a]):null}deleteCampaign(t){const n=this.getCampaigns().filter(a=>a.id!==t);return localStorage.setItem(this.storageKeys.campaigns,JSON.stringify(n)),!0}updateCampaignStatus(t,r){return this.updateCampaign(t,{status:r,updatedAt:new Date().toISOString()})}getAdCampaigns(){const t=localStorage.getItem(this.storageKeys.adCampaigns);return t?JSON.parse(t):[]}getAdCampaignById(t){return this.getAdCampaigns().find(n=>n.id===t)}getAdCampaignsByCampaignId(t){return this.getAdCampaigns().filter(n=>n.campaignId===t)}createAdCampaign(t){const r=this.getAdCampaigns(),n={id:`ac${String(Date.now()).slice(-6)}`,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:t.status||"draft"};return r.push(n),localStorage.setItem(this.storageKeys.adCampaigns,JSON.stringify(r)),n}updateAdCampaign(t,r){const n=this.getAdCampaigns(),a=n.findIndex(i=>i.id===t);return a!==-1?(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKeys.adCampaigns,JSON.stringify(n)),n[a]):null}deleteAdCampaign(t){const n=this.getAdCampaigns().filter(a=>a.id!==t);return localStorage.setItem(this.storageKeys.adCampaigns,JSON.stringify(n)),!0}getAudiences(){const t=localStorage.getItem(this.storageKeys.audiences);return t?JSON.parse(t):[]}getAudienceById(t){return this.getAudiences().find(n=>n.id===t)}createAudience(t){const r=this.getAudiences(),n={id:`aud${String(Date.now()).slice(-6)}`,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(n),localStorage.setItem(this.storageKeys.audiences,JSON.stringify(r)),n}updateAudience(t,r){const n=this.getAudiences(),a=n.findIndex(i=>i.id===t);return a!==-1?(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKeys.audiences,JSON.stringify(n)),n[a]):null}deleteAudience(t){const n=this.getAudiences().filter(a=>a.id!==t);return localStorage.setItem(this.storageKeys.audiences,JSON.stringify(n)),!0}getCreativeAssets(){const t=localStorage.getItem(this.storageKeys.creativeAssets);return t?JSON.parse(t):[]}getCreativeAssetById(t){return this.getCreativeAssets().find(n=>n.id===t)}createCreativeAsset(t){const r=this.getCreativeAssets(),n={id:`ca${String(Date.now()).slice(-6)}`,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0};return r.push(n),localStorage.setItem(this.storageKeys.creativeAssets,JSON.stringify(r)),n}updateCreativeAsset(t,r){const n=this.getCreativeAssets(),a=n.findIndex(i=>i.id===t);return a!==-1?(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKeys.creativeAssets,JSON.stringify(n)),n[a]):null}deleteCreativeAsset(t){const n=this.getCreativeAssets().filter(a=>a.id!==t);return localStorage.setItem(this.storageKeys.creativeAssets,JSON.stringify(n)),!0}getAutomationRules(){const t=localStorage.getItem(this.storageKeys.automationRules);return t?JSON.parse(t):[]}getAutomationRuleById(t){return this.getAutomationRules().find(n=>n.id===t)}createAutomationRule(t){const r=this.getAutomationRules(),n={id:`ar${String(Date.now()).slice(-6)}`,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:t.status||"draft"};return r.push(n),localStorage.setItem(this.storageKeys.automationRules,JSON.stringify(r)),n}updateAutomationRule(t,r){const n=this.getAutomationRules(),a=n.findIndex(i=>i.id===t);return a!==-1?(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKeys.automationRules,JSON.stringify(n)),n[a]):null}deleteAutomationRule(t){const n=this.getAutomationRules().filter(a=>a.id!==t);return localStorage.setItem(this.storageKeys.automationRules,JSON.stringify(n)),!0}getMarketingAnalytics(){const t=this.getCampaigns(),r=this.getAdCampaigns(),n=this.getAudiences(),a=this.getAutomationRules(),i=t.reduce((g,w)=>{var N;return g+(((N=w.budget)==null?void 0:N.totalBudget)||0)},0),l=t.reduce((g,w)=>{var N;return g+(((N=w.budget)==null?void 0:N.spentBudget)||0)},0),o=t.reduce((g,w)=>{var N;return g+(((N=w.performance)==null?void 0:N.revenue)||0)},0),c=t.reduce((g,w)=>{var N;return g+(((N=w.performance)==null?void 0:N.impressions)||0)},0),d=t.reduce((g,w)=>{var N;return g+(((N=w.performance)==null?void 0:N.clicks)||0)},0),m=t.reduce((g,w)=>{var N;return g+(((N=w.performance)==null?void 0:N.conversions)||0)},0),h=t.filter(g=>g.status==="active"),p=c>0?d/c*100:0,y=d>0?m/d*100:0,x=l>0?o/l:0,f=m>0?l/m:0,b=r.reduce((g,w)=>{var j,_,k,T;const N=w.platform.name;return g[N]||(g[N]={platform:N,campaigns:0,impressions:0,clicks:0,conversions:0,spend:0,revenue:0}),g[N].campaigns++,g[N].impressions+=((j=w.performance)==null?void 0:j.impressions)||0,g[N].clicks+=((_=w.performance)==null?void 0:_.clicks)||0,g[N].conversions+=((k=w.performance)==null?void 0:k.conversions)||0,g[N].spend+=((T=w.performance)==null?void 0:T.spend)||0,g},{}),v=a.reduce((g,w)=>{var N,j,_;return g.totalTriggered+=((N=w.performance)==null?void 0:N.triggered)||0,g.totalCompleted+=((j=w.performance)==null?void 0:j.completed)||0,g.totalRevenue+=((_=w.performance)==null?void 0:_.revenue)||0,g},{totalTriggered:0,totalCompleted:0,totalRevenue:0});return{overview:{totalCampaigns:t.length,activeCampaigns:h.length,totalBudget:i,totalSpent:l,budgetUtilization:i>0?l/i*100:0,totalRevenue:o,totalROAS:x,totalImpressions:c,totalClicks:d,totalConversions:m,avgCTR:p,avgConversionRate:y,avgCPA:f},platformPerformance:Object.values(b),audienceInsights:{totalAudiences:n.length,averageAudienceSize:n.reduce((g,w)=>{var N;return g+(((N=w.size)==null?void 0:N.actual)||0)},0)/n.length||0,topPerformingAudience:n.sort((g,w)=>{var N,j;return(((N=w.performance)==null?void 0:N.totalRevenue)||0)-(((j=g.performance)==null?void 0:j.totalRevenue)||0)})[0]},automationInsights:{totalRules:a.length,activeRules:a.filter(g=>g.status==="active").length,...v,automationConversionRate:v.totalTriggered>0?v.totalCompleted/v.totalTriggered*100:0}}}getTrendData(t=30){const r=[],n=new Date;for(let a=t-1;a>=0;a--){const i=new Date(n);i.setDate(i.getDate()-a);const l=1e3,o=.8+Math.random()*.4,c=1+.3*Math.sin(a/t*Math.PI*2);r.push({date:i.toISOString().split("T")[0],impressions:Math.floor(l*50*o*c),clicks:Math.floor(l*2.5*o*c),conversions:Math.floor(l*.125*o*c),revenue:Math.floor(l*25*o*c),spend:Math.floor(l*8*o*c)})}return r}getPersonalizedRecommendations(t,r={}){return[{type:"product",products:[{id:"p001",name:"保濕精華液",score:.95,reason:"基於購買歷史"},{id:"p002",name:"抗老面霜",score:.88,reason:"相似用戶喜好"},{id:"p003",name:"維他命C精華",score:.82,reason:"季節推薦"}]},{type:"campaign",campaigns:[{id:"mc001",name:"春季美妝節",score:.92,reason:"符合興趣偏好"},{id:"mc002",name:"母親節特惠",score:.75,reason:"時節相關"}]},{type:"content",content:[{id:"c001",title:"春季護膚指南",type:"article",score:.89},{id:"c002",title:"彩妝教學影片",type:"video",score:.84}]}]}getDynamicPricingRecommendation(t,r=null){const a=.9+Math.random()*.2,i=.95+Math.random()*.1,l=1,o=r?.95+Math.random()*.1:1,c=Math.round(1200*a*i*l*o);return{productId:t,basePrice:1200,recommendedPrice:c,factors:{demand:a,competitor:i,seasonal:l,personal:o},confidence:.85,expectedUplift:Math.random()*10+5}}getCustomerSegmentAnalysis(){return{segments:[{name:"高價值客戶",size:1180,percentage:8.5,avgSpend:2850,avgFrequency:4.2,lifetimeValue:12e3,characteristics:["高消費","忠誠度高","品質導向"]},{name:"新客戶",size:2650,percentage:19.1,avgSpend:650,avgFrequency:1.2,lifetimeValue:1500,characteristics:["價格敏感","需要引導","潛力客戶"]},{name:"彩妝愛好者",size:3180,percentage:22.9,avgSpend:1450,avgFrequency:2.8,lifetimeValue:5200,characteristics:["品類專精","社群活躍","影響者"]},{name:"護膚專家",size:2890,percentage:20.8,avgSpend:1850,avgFrequency:3.5,lifetimeValue:7800,characteristics:["成分關注","長期投資","專業知識"]},{name:"偶爾購買者",size:3980,percentage:28.7,avgSpend:450,avgFrequency:.8,lifetimeValue:800,characteristics:["機會性購買","促銷敏感","需要激活"]}],insights:["高價值客戶雖然只佔8.5%，但貢獻了35%的總收入","新客戶轉換率有待提升，建議加強新手引導","彩妝愛好者具有較高的社群影響力，適合推薦計畫","偶爾購買者群體最大，是激活的重要目標"]}}}const lt=new kP,SP=()=>{var g,w,N,j,_,k,T,C,E,R,M,$,A,z,D,O,I,F,S,V,G,q;const[s,t]=u.useState({}),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState([]),[c,d]=u.useState("30d");u.useEffect(()=>{m()},[c]);const m=()=>{const P=lt.getMarketingAnalytics(),U=lt.getCampaigns(),Y=lt.getAdCampaigns(),se=lt.getTrendData(c==="7d"?7:30);t(P),n(U),i(Y),o(se)},h=(P,U)=>{lt.updateCampaignStatus(P,U),m()},p=P=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(P||0),y=P=>P>=1e6?(P/1e6).toFixed(1)+"M":P>=1e3?(P/1e3).toFixed(1)+"K":(P==null?void 0:P.toLocaleString())||"0",x=P=>`${(P||0).toFixed(1)}%`,f=P=>({active:"text-green-600 bg-green-50",scheduled:"text-blue-600 bg-blue-50",paused:"text-yellow-600 bg-yellow-50",completed:"text-gray-600 bg-gray-50",draft:"text-purple-600 bg-purple-50",cancelled:"text-red-600 bg-red-50"})[P]||"text-gray-600 bg-gray-50",b=P=>({active:"進行中",scheduled:"已排程",paused:"已暫停",completed:"已完成",draft:"草稿",cancelled:"已取消"})[P]||P,v=P=>({active:e.jsx(rn,{className:"h-4 w-4"}),scheduled:e.jsx(Na,{className:"h-4 w-4"}),paused:e.jsx(Ra,{className:"h-4 w-4"}),completed:e.jsx(J2,{className:"h-4 w-4"}),draft:e.jsx(ea,{className:"h-4 w-4"})})[P]||e.jsx(ea,{className:"h-4 w-4"});return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"行銷管理總覽"}),e.jsx("p",{className:"text-gray-600",children:"統一管理檔期活動、廣告投放與客戶關係"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Kt,{options:[{value:"7d",label:"過去7天"},{value:"30d",label:"過去30天"}],value:c,onChange:d,placeholder:"選擇時間範圍",className:"min-w-[140px]"}),e.jsxs("button",{className:"bg-[#cc824d] text-white px-4 py-2 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[e.jsx(Lr,{className:"h-5 w-5 mr-2"}),"即時警報"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(dt,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總收入"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p((g=s.overview)==null?void 0:g.totalRevenue)}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Je,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsxs("span",{className:"text-green-600 font-medium",children:["+",x(15.2)]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ke,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ROAS"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(((w=s.overview)==null?void 0:w.totalROAS)||0).toFixed(1),"x"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Je,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsxs("span",{className:"text-green-600 font-medium",children:["+",x(8.7)]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"總曝光數"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y((N=s.overview)==null?void 0:N.totalImpressions)}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Je,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsxs("span",{className:"text-green-600 font-medium",children:["+",x(23.1)]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(hs,{className:"h-8 w-8 text-[#cc824d]"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"轉換率"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x((j=s.overview)==null?void 0:j.avgConversionRate)}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Pa,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["-",x(2.3)]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"較上期"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"進行中檔期活動"}),e.jsx(Iy,{className:"h-6 w-6 text-[#cc824d]"})]}),e.jsx("div",{className:"space-y-4",children:r.filter(P=>P.status==="active").slice(0,3).map(P=>{var U;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:P.name}),e.jsx("p",{className:"text-sm text-gray-500",children:P.description}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f(P.status)}`,children:[v(P.status),e.jsx("span",{className:"ml-1",children:b(P.status)})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["ROAS: ",(((U=P.budget)==null?void 0:U.actualROI)||0).toFixed(1),"x"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h(P.id,P.status==="active"?"paused":"active"),className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",children:P.status==="active"?e.jsx(Ra,{className:"h-5 w-5"}):e.jsx(rn,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",children:e.jsx(ea,{className:"h-5 w-5"})})]})]},P.id)})})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"平台廣告表現"}),e.jsx(ke,{className:"h-6 w-6 text-[#cc824d]"})]}),e.jsx("div",{className:"space-y-4",children:(_=s.platformPerformance)==null?void 0:_.map(P=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-[#cc824d] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:P.platform.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"font-medium text-gray-900 capitalize",children:P.platform.replace("_"," ")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[P.campaigns," 個廣告系列"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:p(P.spend)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["CTR: ",P.clicks&&P.impressions?x(P.clicks/P.impressions*100):"0%"]})]})]},P.platform))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"受眾洞察"}),e.jsx($t,{className:"h-6 w-6 text-[#cc824d]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"總受眾數"}),e.jsx("span",{className:"font-semibold",children:((k=s.audienceInsights)==null?void 0:k.totalAudiences)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均受眾規模"}),e.jsx("span",{className:"font-semibold",children:y((T=s.audienceInsights)==null?void 0:T.averageAudienceSize)})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"最佳表現受眾"}),e.jsx("p",{className:"text-sm text-gray-900",children:((E=(C=s.audienceInsights)==null?void 0:C.topPerformingAudience)==null?void 0:E.name)||"暫無數據"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["收入: ",p((($=(M=(R=s.audienceInsights)==null?void 0:R.topPerformingAudience)==null?void 0:M.performance)==null?void 0:$.totalRevenue)||0)]})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"自動化表現"}),e.jsx(ea,{className:"h-6 w-6 text-[#cc824d]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"啟用規則"}),e.jsx("span",{className:"font-semibold",children:((A=s.automationInsights)==null?void 0:A.activeRules)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"觸發次數"}),e.jsx("span",{className:"font-semibold",children:y((z=s.automationInsights)==null?void 0:z.totalTriggered)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"轉換率"}),e.jsx("span",{className:"font-semibold text-green-600",children:x((D=s.automationInsights)==null?void 0:D.automationConversionRate)})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"自動化收入"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:p((O=s.automationInsights)==null?void 0:O.totalRevenue)})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"預算使用狀況"}),e.jsx(dt,{className:"h-6 w-6 text-[#cc824d]"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"總預算"}),e.jsx("span",{className:"font-semibold",children:p((I=s.overview)==null?void 0:I.totalBudget)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#cc824d] h-2 rounded-full",style:{width:`${Math.min(((F=s.overview)==null?void 0:F.budgetUtilization)||0,100)}%`}})}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"已使用"}),e.jsx("span",{className:"text-sm font-medium",children:x((S=s.overview)==null?void 0:S.budgetUtilization)})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"已花費"}),e.jsx("span",{className:"font-semibold",children:p((V=s.overview)==null?void 0:V.totalSpent)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"剩餘預算"}),e.jsx("span",{className:"font-semibold text-green-600",children:p((((G=s.overview)==null?void 0:G.totalBudget)||0)-(((q=s.overview)==null?void 0:q.totalSpent)||0))})]})]})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"快速操作"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Iy,{className:"h-6 w-6 text-[#cc824d] mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"建立檔期"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(ke,{className:"h-6 w-6 text-[#cc824d] mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"廣告投放"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx($t,{className:"h-6 w-6 text-[#cc824d] mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"受眾分析"})]}),e.jsxs("button",{className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(ea,{className:"h-6 w-6 text-[#cc824d] mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"自動化設定"})]})]})]})]})})},CP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState("all"),[m,h]=u.useState(!1),[p,y]=u.useState(null),[x,f]=u.useState({name:"",type:"seasonal",description:"",startDate:"",endDate:"",budget:0,objectives:{primaryGoal:"sales",kpis:[]}});u.useEffect(()=>{b()},[]),u.useEffect(()=>{v()},[s,a,l,c]);const b=()=>{const M=lt.getCampaigns();t(M)},v=()=>{let M=s;a&&(M=M.filter($=>$.name.toLowerCase().includes(a.toLowerCase())||$.description.toLowerCase().includes(a.toLowerCase()))),l!=="all"&&(M=M.filter($=>$.status===l)),c!=="all"&&(M=M.filter($=>$.type===c)),n(M)},g=()=>{const M={...x,schedule:{startDate:x.startDate,endDate:x.endDate,timezone:"Asia/Taipei",preHeatPeriod:7,phases:[{id:"main",name:"主要促銷期",startDate:x.startDate,endDate:x.endDate,status:"scheduled"}]},budget:{totalBudget:x.budget,spentBudget:0,projectedROI:3},animations:{themeType:"promotional",effectIntensity:"moderate",mobileOptimization:!0,performanceMode:"balanced"},discounts:{rules:[],stackingPolicy:"stackable",usageLimit:{perUser:5,total:1e3}},advertising:{adCampaigns:[],pushNotifications:!0,emailMarketing:!0,socialMediaPosts:["facebook","instagram"]},inventory:{reservedStockPercentage:10,priorityAllocation:!1,dynamicInventory:!0,oversellProtection:!0},performance:{impressions:0,clicks:0,conversions:0,revenue:0,ctr:0,conversionRate:0,cpa:0,roas:0},createdBy:"admin",status:"draft"};lt.createCampaign(M),b(),h(!1),f({name:"",type:"seasonal",description:"",startDate:"",endDate:"",budget:0,objectives:{primaryGoal:"sales",kpis:[]}})},w=(M,$)=>{lt.updateCampaignStatus(M,$),b()},N=M=>{window.confirm("確定要刪除此檔期活動嗎？")&&(lt.deleteCampaign(M),b())},j=M=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(M||0),_=M=>M?new Date(M).toLocaleDateString("zh-TW"):"",k=M=>({active:"text-green-600 bg-green-50 border-green-200",scheduled:"text-blue-600 bg-blue-50 border-blue-200",paused:"text-yellow-600 bg-yellow-50 border-yellow-200",completed:"text-gray-600 bg-gray-50 border-gray-200",draft:"text-purple-600 bg-purple-50 border-purple-200",cancelled:"text-red-600 bg-red-50 border-red-200"})[M]||"text-gray-600 bg-gray-50 border-gray-200",T=M=>({active:"進行中",scheduled:"已排程",paused:"已暫停",completed:"已完成",draft:"草稿",cancelled:"已取消"})[M]||M,C=M=>({festival:"節慶活動",seasonal:"季節性",product_launch:"新品發佈",clearance:"清倉促銷",brand_collab:"品牌合作",flash_sale:"限時搶購"})[M]||M,E=M=>({active:e.jsx(rn,{className:"h-4 w-4"}),scheduled:e.jsx(Na,{className:"h-4 w-4"}),paused:e.jsx(Ra,{className:"h-4 w-4"}),completed:e.jsx(Gk,{className:"h-4 w-4"}),draft:e.jsx(Ge,{className:"h-4 w-4"})})[M]||e.jsx(je,{className:"h-4 w-4"}),R=M=>{if(!M)return null;const $=new Date,z=new Date(M)-$;return Math.ceil(z/(1e3*60*60*24))};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"檔期活動管理"}),e.jsx("p",{className:"text-gray-600",children:"創建和管理行銷檔期活動"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"bg-[#cc824d] text-white px-6 py-3 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center font-medium",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"建立新檔期"]})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{value:l,onChange:M=>o(M.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"進行中"}),e.jsx("option",{value:"scheduled",children:"已排程"}),e.jsx("option",{value:"paused",children:"已暫停"}),e.jsx("option",{value:"completed",children:"已完成"}),e.jsx("option",{value:"draft",children:"草稿"})]}),e.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有類型"}),e.jsx("option",{value:"festival",children:"節慶活動"}),e.jsx("option",{value:"seasonal",children:"季節性"}),e.jsx("option",{value:"product_launch",children:"新品發佈"}),e.jsx("option",{value:"clearance",children:"清倉促銷"}),e.jsx("option",{value:"brand_collab",children:"品牌合作"}),e.jsx("option",{value:"flash_sale",children:"限時搶購"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(hs,{className:"h-5 w-5 mr-2"}),"共 ",r.length," 個檔期"]})]})}),e.jsx("div",{className:"space-y-4",children:r.map(M=>{var $,A,z,D,O,I,F,S,V,G,q,P,U,Y,se,ue,L;return e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:M.name}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${k(M.status)}`,children:[E(M.status),e.jsx("span",{className:"ml-1",children:T(M.status)})]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[e.jsx(Ac,{className:"h-4 w-4 mr-1"}),C(M.type)]})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:M.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Na,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"檔期時間"}),e.jsxs("p",{children:[_(($=M.schedule)==null?void 0:$.startDate)," - ",_((A=M.schedule)==null?void 0:A.endDate)]}),R((z=M.schedule)==null?void 0:z.endDate)!==null&&e.jsx("p",{className:"text-xs text-gray-500",children:R((D=M.schedule)==null?void 0:D.endDate)>0?`剩餘 ${R((O=M.schedule)==null?void 0:O.endDate)} 天`:"已結束"})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(dt,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"預算使用"}),e.jsxs("p",{children:[j((I=M.budget)==null?void 0:I.spentBudget)," / ",j((F=M.budget)==null?void 0:F.totalBudget)]}),e.jsx("p",{className:"text-xs text-gray-500",children:(S=M.budget)!=null&&S.totalBudget?`使用率 ${((((V=M.budget)==null?void 0:V.spentBudget)||0)/M.budget.totalBudget*100).toFixed(1)}%`:"未設定預算"})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ke,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"表現指標"}),e.jsxs("p",{children:["ROAS: ",(((G=M.budget)==null?void 0:G.actualROI)||((q=M.budget)==null?void 0:q.projectedROI)||0).toFixed(1),"x"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["轉換率: ",(((P=M.performance)==null?void 0:P.conversionRate)||0).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx($t,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"目標設定"}),e.jsx("p",{children:((U=M.objectives)==null?void 0:U.primaryGoal)==="sales"?"銷售導向":((Y=M.objectives)==null?void 0:Y.primaryGoal)==="engagement"?"互動導向":((se=M.objectives)==null?void 0:se.primaryGoal)==="awareness"?"認知導向":"其他"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((L=(ue=M.objectives)==null?void 0:ue.kpis)==null?void 0:L.length)||0," 個KPI指標"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[M.status==="active"&&e.jsx("button",{onClick:()=>w(M.id,"paused"),className:"p-2 text-gray-400 hover:text-yellow-600 transition-colors",title:"暫停檔期",children:e.jsx(Ra,{className:"h-5 w-5"})}),M.status==="paused"&&e.jsx("button",{onClick:()=>w(M.id,"active"),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"恢復檔期",children:e.jsx(rn,{className:"h-5 w-5"})}),(M.status==="draft"||M.status==="scheduled")&&e.jsx("button",{onClick:()=>w(M.id,"active"),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"啟動檔期",children:e.jsx(rn,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>y(M),className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"編輯檔期",children:e.jsx(Ge,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>N(M.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"刪除檔期",children:e.jsx(rt,{className:"h-5 w-5"})})]})]})},M.id)})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Na,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到檔期活動"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a||l!=="all"||c!=="all"?"請調整搜尋條件或篩選設定":"開始建立您的第一個檔期活動"}),e.jsx("button",{onClick:()=>h(!0),className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors",children:"建立新檔期"})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"建立新檔期活動"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"檔期名稱"}),e.jsx("input",{type:"text",value:x.name,onChange:M=>f({...x,name:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入檔期活動名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"檔期類型"}),e.jsxs("select",{value:x.type,onChange:M=>f({...x,type:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"seasonal",children:"季節性"}),e.jsx("option",{value:"festival",children:"節慶活動"}),e.jsx("option",{value:"product_launch",children:"新品發佈"}),e.jsx("option",{value:"clearance",children:"清倉促銷"}),e.jsx("option",{value:"brand_collab",children:"品牌合作"}),e.jsx("option",{value:"flash_sale",children:"限時搶購"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"檔期描述"}),e.jsx("textarea",{value:x.description,onChange:M=>f({...x,description:M.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"描述檔期活動的目標和內容"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日期"}),e.jsx("input",{type:"date",value:x.startDate,onChange:M=>f({...x,startDate:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"結束日期"}),e.jsx("input",{type:"date",value:x.endDate,onChange:M=>f({...x,endDate:M.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"預算金額"}),e.jsx("input",{type:"number",value:x.budget,onChange:M=>f({...x,budget:Number(M.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入預算金額"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"主要目標"}),e.jsxs("select",{value:x.objectives.primaryGoal,onChange:M=>f({...x,objectives:{...x.objectives,primaryGoal:M.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"sales",children:"銷售導向"}),e.jsx("option",{value:"engagement",children:"互動導向"}),e.jsx("option",{value:"awareness",children:"認知導向"}),e.jsx("option",{value:"retention",children:"客戶留存"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"取消"}),e.jsx("button",{onClick:g,disabled:!x.name||!x.startDate||!x.endDate,className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"建立檔期"})]})]})})]})})},TP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState([]),[l,o]=u.useState([]),[c,d]=u.useState(""),[m,h]=u.useState("all"),[p,y]=u.useState("all"),[x,f]=u.useState(!1),[b,v]=u.useState(!1),[g,w]=u.useState("campaigns"),[N,j]=u.useState({name:"",campaignId:"",platform:{name:"facebook",accountId:"",campaignId:""},campaignType:"conversion",budget:{dailyBudget:1e3,bidStrategy:"target_roas",targetROAS:3},targeting:{demographics:{age:{min:18,max:65},gender:["all"],interests:[]},geotargeting:{countries:["TW"],cities:[]}},delivery:{startDate:"",endDate:"",pacing:"standard"}}),[_,k]=u.useState({name:"",type:"image",category:"campaign_banner",tags:[]});u.useEffect(()=>{T()},[]),u.useEffect(()=>{C()},[s,c,m,p]);const T=()=>{t(lt.getAdCampaigns()),n(lt.getCampaigns()),i(lt.getCreativeAssets())},C=()=>{let P=s;c&&(P=P.filter(U=>U.name.toLowerCase().includes(c.toLowerCase()))),m!=="all"&&(P=P.filter(U=>U.platform.name===m)),p!=="all"&&(P=P.filter(U=>U.status===p)),o(P)},E=()=>{const P={...N,creatives:{images:[],videos:[],texts:[],callToActions:["立即購買"]},tracking:{conversionEvents:["purchase","add_to_cart"],utmParameters:{source:N.platform.name,medium:"cpc",campaign:N.name.toLowerCase().replace(/\s+/g,"_")}},performance:{impressions:0,clicks:0,conversions:0,spend:0,ctr:0,cpc:0,cpa:0,roas:0},status:"draft"};lt.createAdCampaign(P),T(),f(!1),A()},R=()=>{const P={..._,file:{url:`/assets/creatives/${_.name.toLowerCase().replace(/\s+/g,"_")}.jpg`,size:1024e3,dimensions:{width:1200,height:800},format:_.type==="image"?"jpg":"mp4"},variants:[],brand:"marelle",usage:{campaigns:[],platforms:[],performance:{impressions:0,clicks:0,ctr:0,conversions:0,conversionRate:0}},compliance:{approved:!1,issues:[]},version:"1.0"};lt.createCreativeAsset(P),T(),v(!1),k({name:"",type:"image",category:"campaign_banner",tags:[]})},M=(P,U)=>{lt.updateAdCampaign(P,{status:U}),T()},$=P=>{window.confirm("確定要刪除此廣告系列嗎？")&&(lt.deleteAdCampaign(P),T())},A=()=>{j({name:"",campaignId:"",platform:{name:"facebook",accountId:"",campaignId:""},campaignType:"conversion",budget:{dailyBudget:1e3,bidStrategy:"target_roas",targetROAS:3},targeting:{demographics:{age:{min:18,max:65},gender:["all"],interests:[]},geotargeting:{countries:["TW"],cities:[]}},delivery:{startDate:"",endDate:"",pacing:"standard"}})},z=P=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(P||0),D=P=>P>=1e6?(P/1e6).toFixed(1)+"M":P>=1e3?(P/1e3).toFixed(1)+"K":(P==null?void 0:P.toLocaleString())||"0",O=P=>`${(P||0).toFixed(1)}%`,I=P=>({facebook:"📘",instagram:"📷",google_ads:"🔍",line:"💚",tiktok:"🎵",youtube:"📺"})[P]||"🌐",F=P=>({facebook:"Facebook",instagram:"Instagram",google_ads:"Google Ads",line:"LINE",tiktok:"TikTok",youtube:"YouTube"})[P]||P,S=P=>({active:"text-green-600 bg-green-50 border-green-200",paused:"text-yellow-600 bg-yellow-50 border-yellow-200",draft:"text-purple-600 bg-purple-50 border-purple-200",review:"text-blue-600 bg-blue-50 border-blue-200",approved:"text-green-600 bg-green-50 border-green-200",completed:"text-gray-600 bg-gray-50 border-gray-200"})[P]||"text-gray-600 bg-gray-50 border-gray-200",V=P=>({active:"投放中",paused:"已暫停",draft:"草稿",review:"審核中",approved:"已批准",completed:"已完成"})[P]||P,G=P=>{const U=r.find(Y=>Y.id===P);return U?U.name:"未關聯檔期"},q=()=>{const P={};return s.forEach(U=>{var se,ue,L,ee;const Y=U.platform.name;P[Y]||(P[Y]={platform:Y,campaigns:0,totalSpend:0,totalImpressions:0,totalClicks:0,totalConversions:0}),P[Y].campaigns++,P[Y].totalSpend+=((se=U.performance)==null?void 0:se.spend)||0,P[Y].totalImpressions+=((ue=U.performance)==null?void 0:ue.impressions)||0,P[Y].totalClicks+=((L=U.performance)==null?void 0:L.clicks)||0,P[Y].totalConversions+=((ee=U.performance)==null?void 0:ee.conversions)||0}),Object.values(P).map(U=>({...U,avgCTR:U.totalImpressions>0?U.totalClicks/U.totalImpressions*100:0,avgCPC:U.totalClicks>0?U.totalSpend/U.totalClicks:0,avgROAS:U.totalSpend>0?U.totalConversions*1e3/U.totalSpend:0}))};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"廣告投放管理"}),e.jsx("p",{className:"text-gray-600",children:"跨平台廣告系列與創意素材管理"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[e.jsx(Ph,{className:"h-5 w-5 mr-2"}),"上傳素材"]}),e.jsxs("button",{onClick:()=>f(!0),className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"建立廣告系列"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>w("campaigns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${g==="campaigns"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"廣告系列管理"}),e.jsx("button",{onClick:()=>w("platforms"),className:`py-2 px-1 border-b-2 font-medium text-sm ${g==="platforms"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"平台表現總覽"}),e.jsx("button",{onClick:()=>w("creatives"),className:`py-2 px-1 border-b-2 font-medium text-sm ${g==="creatives"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"創意素材庫"})]})}),g==="campaigns"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{value:m,onChange:P=>h(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有平台"}),e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"google_ads",children:"Google Ads"}),e.jsx("option",{value:"line",children:"LINE"}),e.jsx("option",{value:"tiktok",children:"TikTok"}),e.jsx("option",{value:"youtube",children:"YouTube"})]}),e.jsxs("select",{value:p,onChange:P=>y(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有狀態"}),e.jsx("option",{value:"active",children:"投放中"}),e.jsx("option",{value:"paused",children:"已暫停"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"review",children:"審核中"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:["共 ",l.length," 個廣告系列"]})]})}),e.jsx("div",{className:"space-y-4",children:l.map(P=>{var U,Y,se,ue,L,ee,re,Ee,de,Ae,Bt,Jt;return e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:I(P.platform.name)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["關聯檔期: ",G(P.campaignId)]})]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${S(P.status)}`,children:V(P.status)}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:F(P.platform.name)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"曝光數"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D((U=P.performance)==null?void 0:U.impressions)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"點擊數"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D((Y=P.performance)==null?void 0:Y.clicks)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["CTR: ",O((se=P.performance)==null?void 0:se.ctr)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"轉換數"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D((ue=P.performance)==null?void 0:ue.conversions)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"花費"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:z((L=P.performance)==null?void 0:L.spend)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["CPC: ",z((ee=P.performance)==null?void 0:ee.cpc)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"ROAS"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[(((re=P.performance)==null?void 0:re.roas)||0).toFixed(1),"x"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["CPA: ",z((Ee=P.performance)==null?void 0:Ee.cpa)]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["預算: ",z((de=P.budget)==null?void 0:de.dailyBudget),"/日"]}),e.jsxs("span",{children:["出價策略: ",(Ae=P.budget)==null?void 0:Ae.bidStrategy]}),e.jsxs("span",{children:["投放期間: ",(Bt=P.delivery)==null?void 0:Bt.startDate," - ",(Jt=P.delivery)==null?void 0:Jt.endDate]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[P.status==="active"&&e.jsx("button",{onClick:()=>M(P.id,"paused"),className:"p-2 text-gray-400 hover:text-yellow-600 transition-colors",title:"暫停廣告",children:e.jsx(Ra,{className:"h-5 w-5"})}),P.status==="paused"&&e.jsx("button",{onClick:()=>M(P.id,"active"),className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"恢復廣告",children:e.jsx(rn,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"編輯廣告",children:e.jsx(Ge,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>$(P.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"刪除廣告",children:e.jsx(rt,{className:"h-5 w-5"})})]})]})},P.id)})}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ke,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到廣告系列"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"開始建立您的第一個廣告系列"}),e.jsx("button",{onClick:()=>f(!0),className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors",children:"建立廣告系列"})]})]}),g==="platforms"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:q().map(P=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:I(P.platform)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F(P.platform)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[P.campaigns," 個廣告系列"]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"總花費"}),e.jsx("span",{className:"font-semibold text-gray-900",children:z(P.totalSpend)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"總曝光"}),e.jsx("span",{className:"font-semibold text-gray-900",children:D(P.totalImpressions)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"總點擊"}),e.jsx("span",{className:"font-semibold text-gray-900",children:D(P.totalClicks)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均CTR"}),e.jsx("span",{className:"font-semibold text-gray-900",children:O(P.avgCTR)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均CPC"}),e.jsx("span",{className:"font-semibold text-gray-900",children:z(P.avgCPC)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ROAS"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[P.avgROAS.toFixed(1),"x"]})]})]})]},P.platform))}),g==="creatives"&&e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(P=>{var U,Y,se,ue,L,ee,re;return e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-4 shadow-sm",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4 bg-gray-100 rounded-lg flex items-center justify-center",children:P.type==="image"?e.jsx(Ph,{className:"h-12 w-12 text-gray-400"}):e.jsx(rn,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:P.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[P.type," • ",(Y=(U=P.file)==null?void 0:U.dimensions)==null?void 0:Y.width,"x",(ue=(se=P.file)==null?void 0:se.dimensions)==null?void 0:ue.height]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:(L=P.tags)==null?void 0:L.slice(0,3).map(Ee=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:Ee},Ee))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(ee=P.compliance)!=null&&ee.approved?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"}`,children:(re=P.compliance)!=null&&re.approved?"已審核":"待審核"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-[#cc824d] transition-colors",children:e.jsx($e,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-[#cc824d] transition-colors",children:e.jsx(Ge,{className:"h-4 w-4"})})]})]})]},P.id)})})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"建立廣告系列"}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"廣告系列名稱"}),e.jsx("input",{type:"text",value:N.name,onChange:P=>j({...N,name:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入廣告系列名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"關聯檔期"}),e.jsxs("select",{value:N.campaignId,onChange:P=>j({...N,campaignId:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"",children:"選擇檔期活動"}),r.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"投放平台"}),e.jsxs("select",{value:N.platform.name,onChange:P=>j({...N,platform:{...N.platform,name:P.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"facebook",children:"Facebook"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"google_ads",children:"Google Ads"}),e.jsx("option",{value:"line",children:"LINE"}),e.jsx("option",{value:"tiktok",children:"TikTok"}),e.jsx("option",{value:"youtube",children:"YouTube"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"廣告目標"}),e.jsxs("select",{value:N.campaignType,onChange:P=>j({...N,campaignType:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"conversion",children:"轉換"}),e.jsx("option",{value:"traffic",children:"流量"}),e.jsx("option",{value:"awareness",children:"認知"}),e.jsx("option",{value:"engagement",children:"互動"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"每日預算"}),e.jsx("input",{type:"number",value:N.budget.dailyBudget,onChange:P=>j({...N,budget:{...N.budget,dailyBudget:Number(P.target.value)}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"出價策略"}),e.jsxs("select",{value:N.budget.bidStrategy,onChange:P=>j({...N,budget:{...N.budget,bidStrategy:P.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"target_roas",children:"目標ROAS"}),e.jsx("option",{value:"target_cpa",children:"目標CPA"}),e.jsx("option",{value:"manual_cpc",children:"手動CPC"}),e.jsx("option",{value:"automatic",children:"自動出價"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"目標ROAS"}),e.jsx("input",{type:"number",step:"0.1",value:N.budget.targetROAS,onChange:P=>j({...N,budget:{...N.budget,targetROAS:Number(P.target.value)}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"開始日期"}),e.jsx("input",{type:"date",value:N.delivery.startDate,onChange:P=>j({...N,delivery:{...N.delivery,startDate:P.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"結束日期"}),e.jsx("input",{type:"date",value:N.delivery.endDate,onChange:P=>j({...N,delivery:{...N.delivery,endDate:P.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"取消"}),e.jsx("button",{onClick:E,disabled:!N.name||!N.delivery.startDate,className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"建立廣告系列"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"上傳創意素材"}),e.jsx("button",{onClick:()=>v(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"素材名稱"}),e.jsx("input",{type:"text",value:_.name,onChange:P=>k({..._,name:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入素材名稱"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"素材類型"}),e.jsxs("select",{value:_.type,onChange:P=>k({..._,type:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"image",children:"圖片"}),e.jsx("option",{value:"video",children:"影片"}),e.jsx("option",{value:"gif",children:"GIF"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"素材分類"}),e.jsxs("select",{value:_.category,onChange:P=>k({..._,category:P.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"campaign_banner",children:"檔期橫幅"}),e.jsx("option",{value:"product_image",children:"商品圖片"}),e.jsx("option",{value:"video_ad",children:"廣告影片"}),e.jsx("option",{value:"social_post",children:"社群貼文"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"檔案上傳"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Ph,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"拖拽檔案至此處或點擊上傳"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"支援 JPG, PNG, GIF, MP4 格式"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"標籤 (以逗號分隔)"}),e.jsx("input",{type:"text",value:_.tags.join(", "),onChange:P=>k({..._,tags:P.target.value.split(",").map(U=>U.trim()).filter(U=>U)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"例如: 春季, 美妝, 促銷"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"取消"}),e.jsx("button",{onClick:R,disabled:!_.name,className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"上傳素材"})]})]})})]})})},MP=()=>{var A,z;const[s,t]=u.useState([]),[r,n]=u.useState([]),[a,i]=u.useState({}),[l,o]=u.useState("audiences"),[c,d]=u.useState(""),[m,h]=u.useState("all"),[p,y]=u.useState(!1),[x,f]=u.useState({name:"",description:"",type:"behavioral",criteria:{demographics:{age:{min:18,max:65},gender:["all"]},behavioral:{purchaseHistory:{totalSpent:{min:0},frequency:{min:1}},engagementLevel:"all"},geographic:{countries:["TW"],cities:[]},psychographic:{interests:[],lifestyle:[]}},refreshFrequency:"weekly"});u.useEffect(()=>{b()},[]),u.useEffect(()=>{v()},[s,c,m]);const b=()=>{t(lt.getAudiences()),i(lt.getCustomerSegmentAnalysis())},v=()=>{let D=s;c&&(D=D.filter(O=>O.name.toLowerCase().includes(c.toLowerCase())||O.description.toLowerCase().includes(c.toLowerCase()))),m!=="all"&&(D=D.filter(O=>O.type===m)),n(D)},g=()=>{const D={...x,size:{estimated:Math.floor(Math.random()*5e3)+500,actual:Math.floor(Math.random()*4500)+450,lastUpdated:new Date().toISOString()},campaigns:[],platforms:[],performance:{averageCTR:Math.random()*10+2,averageConversionRate:Math.random()*15+3,averageCPA:Math.random()*100+50,totalRevenue:Math.random()*5e5+1e5},lastRefreshAt:new Date().toISOString()};lt.createAudience(D),b(),y(!1),N()},w=D=>{window.confirm("確定要刪除此受眾群體嗎？")&&(lt.deleteAudience(D),b())},N=()=>{f({name:"",description:"",type:"behavioral",criteria:{demographics:{age:{min:18,max:65},gender:["all"]},behavioral:{purchaseHistory:{totalSpent:{min:0},frequency:{min:1}},engagementLevel:"all"},geographic:{countries:["TW"],cities:[]},psychographic:{interests:[],lifestyle:[]}},refreshFrequency:"weekly"})},j=D=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(D||0),_=D=>D>=1e6?(D/1e6).toFixed(1)+"M":D>=1e3?(D/1e3).toFixed(1)+"K":(D==null?void 0:D.toLocaleString())||"0",k=D=>`${(D||0).toFixed(1)}%`,T=D=>({demographic:e.jsx($t,{className:"h-5 w-5"}),behavioral:e.jsx(ke,{className:"h-5 w-5"}),psychographic:e.jsx(wa,{className:"h-5 w-5"}),geographic:e.jsx(c8,{className:"h-5 w-5"}),custom:e.jsx(af,{className:"h-5 w-5"})})[D]||e.jsx($t,{className:"h-5 w-5"}),C=D=>({demographic:"人口統計",behavioral:"行為特徵",psychographic:"心理特徵",geographic:"地理位置",custom:"自訂條件"})[D]||D,E=D=>({demographic:"text-blue-600 bg-blue-50 border-blue-200",behavioral:"text-green-600 bg-green-50 border-green-200",psychographic:"text-purple-600 bg-purple-50 border-purple-200",geographic:"text-orange-600 bg-orange-50 border-orange-200",custom:"text-gray-600 bg-gray-50 border-gray-200"})[D]||"text-gray-600 bg-gray-50 border-gray-200",R=(D,O)=>D>=O*1.2?"text-green-600":D>=O*.8?"text-yellow-600":"text-red-600",M=(D="sample_user")=>lt.getPersonalizedRecommendations(D),$=(D="sample_product")=>lt.getDynamicPricingRecommendation(D);return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"受眾管理中心"}),e.jsx("p",{className:"text-gray-600",children:"客戶分群分析、個人化推薦與精準行銷"})]}),e.jsxs("button",{onClick:()=>y(!0),className:"bg-[#cc824d] text-white px-6 py-3 rounded-lg hover:bg-[#b8753f] transition-colors flex items-center font-medium",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"建立受眾群體"]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>o("audiences"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="audiences"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"受眾群體管理"}),e.jsx("button",{onClick:()=>o("segments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="segments"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"客戶分群洞察"}),e.jsx("button",{onClick:()=>o("personalization"),className:`py-2 px-1 border-b-2 font-medium text-sm ${l==="personalization"?"border-[#cc824d] text-[#cc824d]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"個人化推薦"})]})}),l==="audiences"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 mb-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{value:m,onChange:D=>h(D.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"所有類型"}),e.jsx("option",{value:"demographic",children:"人口統計"}),e.jsx("option",{value:"behavioral",children:"行為特徵"}),e.jsx("option",{value:"psychographic",children:"心理特徵"}),e.jsx("option",{value:"geographic",children:"地理位置"}),e.jsx("option",{value:"custom",children:"自訂條件"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(hs,{className:"h-5 w-5 mr-2"}),"共 ",r.length," 個受眾群體"]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center text-sm",children:[e.jsx(Di,{className:"h-4 w-4 mr-2"}),"AI智能分群"]})})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(D=>{var O,I,F,S,V,G,q,P,U,Y;return e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${E(D.type)}`,children:[T(D.type),e.jsx("span",{className:"ml-1",children:C(D.type)})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:D.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"查看詳情",children:e.jsx($e,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#cc824d] transition-colors",title:"編輯受眾",children:e.jsx(Ge,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>w(D.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"刪除受眾",children:e.jsx(rt,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"受眾規模"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:_((O=D.size)==null?void 0:O.actual)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["預估 ",_((I=D.size)==null?void 0:I.estimated)]})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"總收入"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:j((F=D.performance)==null?void 0:F.totalRevenue)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均CTR"}),e.jsx("span",{className:`font-semibold ${R((S=D.performance)==null?void 0:S.averageCTR,5)}`,children:k((V=D.performance)==null?void 0:V.averageCTR)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"轉換率"}),e.jsx("span",{className:`font-semibold ${R((G=D.performance)==null?void 0:G.averageConversionRate,5)}`,children:k((q=D.performance)==null?void 0:q.averageConversionRate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均CPA"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j((P=D.performance)==null?void 0:P.averageCPA)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["更新頻率: ",D.refreshFrequency==="daily"?"每日":D.refreshFrequency==="weekly"?"每週":D.refreshFrequency==="monthly"?"每月":"手動"]}),e.jsxs("div",{className:"flex space-x-2",children:[((U=D.campaigns)==null?void 0:U.length)>0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[D.campaigns.length," 個檔期"]}),((Y=D.platforms)==null?void 0:Y.length)>0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[D.platforms.length," 個平台"]})]})]})})]},D.id)})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($t,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"沒有找到受眾群體"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"開始建立您的第一個受眾群體"}),e.jsx("button",{onClick:()=>y(!0),className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors",children:"建立受眾群體"})]})]}),l==="segments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(A=a.segments)==null?void 0:A.map((D,O)=>{var I;return e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-[#cc824d]",children:k(D.percentage)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[_(D.size)," 人"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均消費"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j(D.avgSpend)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"購買頻率"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[D.avgFrequency.toFixed(1)," 次/年"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"終身價值"}),e.jsx("span",{className:"font-semibold text-gray-900",children:j(D.lifetimeValue)})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"主要特徵"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(I=D.characteristics)==null?void 0:I.map((F,S)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:F},S))})]})]},O)})}),a.insights&&e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(wa,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"關鍵洞察"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.insights.map((D,O)=>e.jsxs("div",{className:"flex items-start p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx(wa,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700",children:D})]},O))})]})]}),l==="personalization"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Wc,{className:"h-8 w-8 text-[#cc824d] mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"商品推薦"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI驅動的個人化商品推薦"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"推薦準確率"}),e.jsx("span",{className:"font-semibold text-green-600",children:"87.3%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"點擊率提升"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+42%"})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(dt,{className:"h-8 w-8 text-[#cc824d] mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"動態定價"}),e.jsx("p",{className:"text-sm text-gray-600",children:"個人化價格策略"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"收入提升"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+15.8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"轉換率改善"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+23%"})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(f8,{className:"h-8 w-8 text-[#cc824d] mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"內容個人化"}),e.jsx("p",{className:"text-sm text-gray-600",children:"客製化內容體驗"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"參與度提升"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+38%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"停留時間"}),e.jsx("span",{className:"font-semibold text-green-600",children:"+28%"})]})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Di,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"個人化推薦示例"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"商品推薦 (示例用戶)"}),e.jsx("div",{className:"space-y-3",children:(z=M().find(D=>D.type==="product"))==null?void 0:z.products.map((D,O)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:D.name}),e.jsx("p",{className:"text-sm text-gray-600",children:D.reason})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-semibold text-[#cc824d]",children:[(D.score*100).toFixed(0),"% 匹配"]})})]},O))})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"動態定價建議"}),(()=>{const D=$();return e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-3 bg-white rounded border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"示例商品"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["信心度: ",(D.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"基礎價格"}),e.jsx("span",{className:"font-semibold",children:j(D.basePrice)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"建議價格"}),e.jsx("span",{className:"font-semibold text-[#cc824d]",children:j(D.recommendedPrice)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"預期提升"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["+",D.expectedUplift.toFixed(1),"%"]})]})]})})})()]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ea,{className:"h-5 w-5 mr-2 text-[#cc824d]"}),"個人化自動化規則"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"瀏覽行為觸發"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"基於用戶瀏覽歷史推薦相關商品"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"已啟用"})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"購買週期預測"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"預測用戶下次購買時間並主動推薦"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"已啟用"})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"價格敏感度調整"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"根據用戶行為調整個人化價格"}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"測試中"})]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"建立受眾群體"}),e.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ln,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"受眾名稱"}),e.jsx("input",{type:"text",value:x.name,onChange:D=>f({...x,name:D.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"輸入受眾群體名稱"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"分群類型"}),e.jsxs("select",{value:x.type,onChange:D=>f({...x,type:D.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"demographic",children:"人口統計"}),e.jsx("option",{value:"behavioral",children:"行為特徵"}),e.jsx("option",{value:"psychographic",children:"心理特徵"}),e.jsx("option",{value:"geographic",children:"地理位置"}),e.jsx("option",{value:"custom",children:"自訂條件"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"描述"}),e.jsx("textarea",{value:x.description,onChange:D=>f({...x,description:D.target.value}),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"描述此受眾群體的特徵和用途"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"分群條件設定"}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"人口統計"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"年齡範圍"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:x.criteria.demographics.age.min,onChange:D=>f({...x,criteria:{...x.criteria,demographics:{...x.criteria.demographics,age:{...x.criteria.demographics.age,min:Number(D.target.value)}}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"最小"}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("input",{type:"number",value:x.criteria.demographics.age.max,onChange:D=>f({...x,criteria:{...x.criteria,demographics:{...x.criteria.demographics,age:{...x.criteria.demographics.age,max:Number(D.target.value)}}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"最大"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"性別"}),e.jsxs("select",{value:x.criteria.demographics.gender[0],onChange:D=>f({...x,criteria:{...x.criteria,demographics:{...x.criteria.demographics,gender:[D.target.value]}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"不限"}),e.jsx("option",{value:"female",children:"女性"}),e.jsx("option",{value:"male",children:"男性"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"更新頻率"}),e.jsxs("select",{value:x.refreshFrequency,onChange:D=>f({...x,refreshFrequency:D.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:"real_time",children:"即時"}),e.jsx("option",{value:"daily",children:"每日"}),e.jsx("option",{value:"weekly",children:"每週"}),e.jsx("option",{value:"monthly",children:"每月"})]})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"行為特徵"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"最低消費金額"}),e.jsx("input",{type:"number",value:x.criteria.behavioral.purchaseHistory.totalSpent.min,onChange:D=>f({...x,criteria:{...x.criteria,behavioral:{...x.criteria.behavioral,purchaseHistory:{...x.criteria.behavioral.purchaseHistory,totalSpent:{min:Number(D.target.value)}}}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"最低購買次數"}),e.jsx("input",{type:"number",value:x.criteria.behavioral.purchaseHistory.frequency.min,onChange:D=>f({...x,criteria:{...x.criteria,behavioral:{...x.criteria.behavioral,purchaseHistory:{...x.criteria.behavioral.purchaseHistory,frequency:{min:Number(D.target.value)}}}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"參與度"}),e.jsxs("select",{value:x.criteria.behavioral.engagementLevel,onChange:D=>f({...x,criteria:{...x.criteria,behavioral:{...x.criteria.behavioral,engagementLevel:D.target.value}}}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"不限"}),e.jsx("option",{value:"high",children:"高參與"}),e.jsx("option",{value:"medium",children:"中等參與"}),e.jsx("option",{value:"low",children:"低參與"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 p-6 border-t",children:[e.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"取消"}),e.jsx("button",{onClick:g,disabled:!x.name||!x.description,className:"bg-[#cc824d] text-white px-6 py-2 rounded-lg hover:bg-[#b8753f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"建立受眾群體"})]})]})})]})})},DP=()=>e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zS,{className:"w-8 h-8 text-amber-500 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-chinese",children:"文件管理"})]})}),e.jsxs("div",{className:"glass rounded-2xl p-6",children:[e.jsx("h2",{className:"text-xl font-bold font-chinese mb-4",children:"文件總覽"}),e.jsx("p",{className:"text-gray-600 font-chinese",children:"文件管理功能開發中..."})]})]})}),EP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0);u.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),await new Promise(d=>setTimeout(d,500)),t([{id:"SO-2024-001",type:"sales_order",status:"confirmed",customerName:"優雅生活股份有限公司",amount:25800,documentDate:"2024-01-15",createdBy:"張小明"},{id:"SI-2024-001",type:"sales_invoice",status:"completed",customerName:"美好時光有限公司",amount:18900,documentDate:"2024-01-14",createdBy:"李小華"}])}catch(c){console.error("載入銷售文件失敗:",c)}finally{n(!1)}},i=c=>({sales_order:"銷售訂單",sales_return:"銷售退貨",delivery_order:"出貨單",sales_invoice:"銷售發票",payment_receipt:"收款單",refund_receipt:"退款單"})[c]||c,l=c=>({draft:"草稿",submitted:"已提交",pending_approval:"待審核",approved:"已審核",rejected:"已拒絕",confirmed:"已確認",in_progress:"處理中",partially_completed:"部分完成",completed:"已完成",cancelled:"已取消"})[c]||c,o=c=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD"}).format(c);return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"銷售文件管理"}),e.jsx("p",{className:"text-gray-600 mt-2 font-chinese",children:"管理銷售訂單、出貨、發票、收款等銷售相關單據"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"總文件數"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(aN,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"待處理"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"1"})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:e.jsx(rN,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"已完成"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1"})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(sN,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 font-chinese",children:"總金額"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:o(44700)})]}),e.jsx("div",{className:"bg-emerald-100 p-3 rounded-lg",children:e.jsx(mT,{className:"w-6 h-6 text-emerald-600"})})]})})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 font-chinese",children:"銷售文件列表"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"文件編號"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"類型"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"客戶"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"金額"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"狀態"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"日期"})]})}),e.jsx("tbody",{children:s.map(c=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-mono text-sm text-blue-600",children:c.id}),e.jsx("td",{className:"py-3 px-4",children:i(c.type)}),e.jsx("td",{className:"py-3 px-4",children:c.customerName}),e.jsx("td",{className:"py-3 px-4",children:o(c.amount)}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:l(c.status)})}),e.jsx("td",{className:"py-3 px-4",children:new Date(c.documentDate).toLocaleDateString("zh-TW")})]},c.id))})]})})]})]})})},AP=()=>{const[s,t]=u.useState([]),[r,n]=u.useState(!0),[a,i]=u.useState(""),[l,o]=u.useState("all"),[c,d]=u.useState("all"),[m,h]=u.useState("createdAt"),[p,y]=u.useState("desc"),[x,f]=u.useState(!1),[b,v]=u.useState(null),[g,w]=u.useState(!1),[N,j]=u.useState(!1);u.useEffect(()=>{De.fromTo(".purchase-section",{opacity:0,y:30},{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},[]),u.useEffect(()=>{_()},[]);const _=async()=>{try{n(!0);const F=await procurementDataManager.getAllDocuments();t(F)}catch(F){console.error("載入採購文件失敗:",F),console.error("載入文件失敗:",F)}finally{n(!1)}},k=[{key:"documentNumber",label:"文件編號",sortable:!0,render:(F,S)=>e.jsx("span",{className:"font-medium text-gray-900 font-chinese",children:S.documentNumber})},{key:"type",label:"類型",sortable:!0,render:(F,S)=>e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(S.type)}`,children:T(S.type)})},{key:"supplier",label:"供應商",sortable:!0,render:(F,S)=>{var V,G;return e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900 font-chinese",children:(V=S.supplier)==null?void 0:V.name}),e.jsx("div",{className:"text-gray-500",children:(G=S.supplier)==null?void 0:G.code})]})}},{key:"amount",label:"金額",sortable:!0,render:(F,S)=>{var V;return e.jsx("span",{className:"font-medium text-gray-900",children:(V=S.amount)==null?void 0:V.toLocaleString()})}},{key:"status",label:"狀態",sortable:!0,render:(F,S)=>e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(S.status)}`,children:[M(S.status),E(S.status)]})},{key:"createdAt",label:"建立時間",sortable:!0,render:(F,S)=>e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("div",{children:new Date(S.createdAt).toLocaleDateString()}),e.jsx("div",{className:"text-xs",children:new Date(S.createdAt).toLocaleTimeString()})]})},{key:"actions",label:"操作",render:(F,S)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>$(S),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"預覽",children:e.jsx(pT,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(S),className:"text-green-600 hover:text-green-800 transition-colors",title:"編輯",children:e.jsx(By,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(S.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"刪除",children:e.jsx(kT,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(),className:"text-purple-600 hover:text-purple-800 transition-colors",title:"下載",children:e.jsx(nN,{className:"w-4 h-4"})})]})}],T=F=>({purchase_request:"採購申請",purchase_order:"採購訂單",purchase_return:"採購退貨",goods_receipt:"收貨單",purchase_invoice:"採購發票",payment_voucher:"付款憑證"})[F]||F,C=F=>({purchase_request:"bg-blue-100 text-blue-800",purchase_order:"bg-green-100 text-green-800",purchase_return:"bg-red-100 text-red-800",goods_receipt:"bg-purple-100 text-purple-800",purchase_invoice:"bg-orange-100 text-orange-800",payment_voucher:"bg-pink-100 text-pink-800"})[F]||"bg-gray-100 text-gray-800",E=F=>({draft:"草稿",pending:"待審核",approved:"已核准",rejected:"已拒絕",completed:"已完成",cancelled:"已取消"})[F]||F,R=F=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800"})[F]||"bg-gray-100 text-gray-800",M=F=>{switch(F){case"draft":return e.jsx(By,{className:"w-3 h-3 mr-1"});case"pending":return e.jsx(rN,{className:"w-3 h-3 mr-1"});case"approved":return e.jsx(sN,{className:"w-3 h-3 mr-1"});case"rejected":return e.jsx($y,{className:"w-3 h-3 mr-1"});case"completed":return e.jsx(NT,{className:"w-3 h-3 mr-1"});case"cancelled":return e.jsx($y,{className:"w-3 h-3 mr-1"});default:return null}},$=F=>{v(F),w(!0)},A=F=>{v(F),j(!0),f(!0)},z=async F=>{if(window.confirm("確定要刪除這個文件嗎？"))try{await procurementDataManager.deleteDocument(F),await _(),console.log("文件刪除成功")}catch(S){console.error("刪除文件失敗:",S),console.error("刪除文件失敗:",S)}},D=async F=>{try{console.log("文件下載中...")}catch(S){console.error("下載文件失敗:",S),console.error("下載文件失敗:",S)}},I=[...s.filter(F=>{var q,P;const S=F.documentNumber.toLowerCase().includes(a.toLowerCase())||((P=(q=F.supplier)==null?void 0:q.name)==null?void 0:P.toLowerCase().includes(a.toLowerCase())),V=l==="all"||F.type===l,G=c==="all"||F.status===c;return S&&V&&G})].sort((F,S)=>{const V=F[m],G=S[m];return p==="asc"?V>G?1:-1:V<G?1:-1});return r?e.jsx("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Vy,{className:"w-8 h-8 animate-spin text-[#cc824d]"}),e.jsx("span",{className:"ml-2 text-gray-600 font-chinese",children:"載入中..."})]})}):e.jsxs("div",{className:"bg-[#fdf8f2] min-h-screen p-6",children:[e.jsx("div",{className:"purchase-section mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 font-chinese",children:"採購文件管理"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"管理所有採購相關文件和審核流程"})]}),e.jsxs("button",{onClick:()=>{v(null),j(!1),f(!0)},className:`${J.primaryButton} flex items-center space-x-2`,children:[e.jsx(yT,{className:"w-5 h-5"}),e.jsx("span",{children:"新增文件"})]})]})}),e.jsx("div",{className:"purchase-section mb-6",children:e.jsx("div",{className:J.glassCard,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-chinese",children:"搜尋"}),e.jsxs("div",{className:"relative",children:[e.jsx(vx,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:F=>i(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",placeholder:"搜尋文件編號或供應商..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-chinese",children:"文件類型"}),e.jsxs("select",{value:l,onChange:F=>o(F.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"全部類型"}),e.jsx("option",{value:"purchase_request",children:"採購申請"}),e.jsx("option",{value:"purchase_order",children:"採購訂單"}),e.jsx("option",{value:"purchase_return",children:"採購退貨"}),e.jsx("option",{value:"goods_receipt",children:"收貨單"}),e.jsx("option",{value:"purchase_invoice",children:"採購發票"}),e.jsx("option",{value:"payment_voucher",children:"付款憑證"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 font-chinese",children:"狀態"}),e.jsxs("select",{value:c,onChange:F=>d(F.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"全部狀態"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"pending",children:"待審核"}),e.jsx("option",{value:"approved",children:"已核准"}),e.jsx("option",{value:"rejected",children:"已拒絕"}),e.jsx("option",{value:"completed",children:"已完成"}),e.jsx("option",{value:"cancelled",children:"已取消"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:_,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Vy,{className:"w-4 h-4"}),e.jsx("span",{className:"font-chinese",children:"重新整理"})]})})]})})}),e.jsx("div",{className:"purchase-section",children:e.jsx("div",{className:J.glassCard,children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-gray-200",children:k.map(F=>e.jsx("th",{className:`text-left py-3 px-4 font-medium text-gray-900 font-chinese ${F.sortable?"cursor-pointer hover:bg-gray-50":""}`,onClick:()=>{F.sortable&&(m===F.key?y(p==="asc"?"desc":"asc"):(h(F.key),y("asc")))},children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:F.label}),F.sortable&&m===F.key&&e.jsx("span",{className:"text-[#cc824d]",children:""})]})},F.key))})}),e.jsx("tbody",{children:I.map(F=>e.jsx("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:k.map(S=>e.jsx("td",{className:"py-3 px-4",children:S.render?S.render(F[S.key],F):F[S.key]},S.key))},F.id))})]}),I.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(aN,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-chinese",children:"沒有找到符合條件的文件"})]})]})})})]})},PP=()=>(u.useState([]),u.useState(!1),e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsx("div",{className:"max-w-6xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"庫存文檔管理"}),e.jsx("p",{className:"text-gray-600",children:"管理庫存相關文檔和記錄"})]})})})),RP=()=>(u.useState([]),u.useState(!1),e.jsx("div",{className:"min-h-screen",style:{backgroundColor:"#fdf8f2"},children:e.jsx("div",{className:"max-w-6xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-white/50 rounded-xl p-6 shadow-sm mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"審批工作流"}),e.jsx("p",{className:"text-gray-600",children:"管理文檔審批流程"})]})})})),IP=()=>{const[s,t]=u.useState(!1),[r,n]=u.useState(!1),[a,i]=u.useState(!1),[l,o]=u.useState(""),c=$r(),d=wr(),m=x=>{x.preventDefault(),l.trim()&&(c(`/products?search=${encodeURIComponent(l)}`),i(!1),o(""))};u.useEffect(()=>{localStorage.getItem("marelle-admin-token")||c("/login"),De.fromTo(".admin-content",Oy.pageLoad.from,Oy.pageLoad.to)},[c]);const h=[{name:"總覽",href:"/",icon:v8},{name:"商品管理",href:"/products",icon:Ec},{name:"庫存管理",href:"/inventory",icon:Zo},{name:"訂單管理",href:"/orders",icon:Mm},{name:"物流管理",href:"/logistics",icon:sn},{name:"優惠管理",href:"/coupons",icon:ka},{name:"節慶管理",href:"/festivals",icon:Tc},{name:"行銷管理",href:"/marketing",icon:yC},{name:"會員管理",href:"/members",icon:Em},{name:"贈品管理",href:"/gifts",icon:Ot},{name:"供應商管理",href:"/suppliers",icon:Zt},{name:"採購管理",href:"/procurement",icon:Wc},{name:"會計管理",href:"/accounting",icon:lf},{name:"文檔管理",href:"/documents",icon:Ht},{name:"用戶追蹤",href:"/user-tracking",icon:ke},{name:"通知管理",href:"/notifications",icon:Lr},{name:"管理員管理",href:"/admin-management",icon:_a},{name:"數據分析",href:"/analytics",icon:ke},{name:"系統設定",href:"/settings",icon:Dm}],p=()=>{localStorage.removeItem("marelle-admin-token"),c("/login")},y=x=>x==="/"?d.pathname==="/"||d.pathname==="":d.pathname.startsWith(x);return e.jsxs("div",{className:`${J.pageContainer} flex`,children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>t(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transform transition-all duration-300 ease-in-out lg:relative ${s?"translate-x-0 w-64":"-translate-x-full w-64"} lg:translate-x-0 ${r?"lg:w-64":"lg:w-16"}`,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:e.jsxs("div",{className:"flex flex-col h-full bg-[#fdf8f2] border-r border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 h-16 border-b border-gray-200",children:[e.jsxs(Kr,{to:"/",className:"flex items-center space-x-3 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 bg-[#cc824d] rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),e.jsx("span",{className:`font-bold text-xl text-[#2d1e0f] font-serif transition-opacity duration-300 whitespace-nowrap ${r||s?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"管理後台"})]}),e.jsx("button",{onClick:()=>t(!1),className:`lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-opacity duration-300 ${r||s?"opacity-100":"lg:opacity-0"}`,children:e.jsx(ln,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1",children:h.map(x=>e.jsxs(Kr,{to:x.href,onClick:()=>t(!1),className:`flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 font-serif group ${y(x.href)?"bg-[#cc824d] text-white shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-[#cc824d]"}`,title:r||s?"":x.name,children:[e.jsx(x.icon,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap ${r||s?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:x.name}),!(r||s)&&e.jsx("div",{className:"hidden lg:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:x.name})]},x.name))}),e.jsx("div",{className:"p-3 border-t border-gray-200",children:e.jsxs("button",{onClick:p,className:"flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all duration-200 font-serif group",title:r||s?"":"登出",children:[e.jsx(ok,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:`ml-3 transition-opacity duration-300 whitespace-nowrap ${r||s?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"登出"}),!(r||s)&&e.jsx("div",{className:"hidden lg:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:"登出"})]})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("header",{className:"bg-[#fdf8f2] border-b border-gray-200 sticky top-0 z-30 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 h-16",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg mr-4",children:e.jsx(gk,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center mr-8",children:e.jsxs(Kr,{to:"/",className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"w-9 h-9 bg-[#cc824d] rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),e.jsx("span",{className:"font-bold text-xl text-[#2d1e0f] font-serif",children:"管理後台"})]})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-6 h-full flex-1 justify-center"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"relative",children:a?e.jsxs("form",{onSubmit:m,className:"flex items-center",children:[e.jsx("input",{type:"text",value:l,onChange:x=>o(x.target.value),placeholder:"全域搜尋商品、訂單...",className:"w-64 px-4 py-2 pr-10 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#cc824d] focus:border-transparent",autoFocus:!0,onBlur:()=>{l.trim()||i(!1)}}),e.jsx("button",{type:"button",onClick:()=>{i(!1),o("")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(ln,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>i(!0),className:"p-2 text-gray-400 hover:text-[#cc824d] rounded-lg transition-colors",title:"全域搜尋",children:e.jsx(Fr,{className:"w-5 h-5"})})}),e.jsx("span",{className:"text-sm text-gray-600 font-serif",children:"歡迎回來，管理員"}),e.jsx(Kr,{to:"/",className:"px-4 py-2 text-sm font-medium text-[#cc824d] border border-[#cc824d] rounded-lg hover:bg-[#cc824d] hover:text-white transition-all duration-200 font-serif",children:"查看網站"})]})]})}),e.jsx("main",{className:`admin-content flex-1 ${J.contentContainer} overflow-auto`,children:e.jsxs(Vr,{children:[e.jsx(W,{index:!0,element:e.jsx(GC,{})}),e.jsx(W,{path:"sales",element:e.jsx(YC,{})}),e.jsx(W,{path:"operations",element:e.jsx(KC,{})}),e.jsx(W,{path:"finance",element:e.jsx(XC,{})}),e.jsx(W,{path:"logistics-dashboard",element:e.jsx(QC,{})}),e.jsx(W,{path:"tasks",element:e.jsx(GA,{})}),e.jsx(W,{path:"approvals",element:e.jsx(JA,{})}),e.jsx(W,{path:"monitoring",element:e.jsx(aP,{})}),e.jsx(W,{path:"products",element:e.jsx(MT,{})}),e.jsx(W,{path:"products/add",element:e.jsx(DT,{})}),e.jsx(W,{path:"products/edit/:id",element:e.jsx(ET,{})}),e.jsx(W,{path:"orders/*",element:e.jsx(RT,{})}),e.jsx(W,{path:"logistics/*",element:e.jsx(p9,{})}),e.jsx(W,{path:"coupons/*",element:e.jsx(l9,{})}),e.jsx(W,{path:"festivals",element:e.jsx(jP,{})}),e.jsx(W,{path:"festivals/management",element:e.jsx(NP,{})}),e.jsx(W,{path:"festivals/promotions",element:e.jsx(wP,{})}),e.jsx(W,{path:"festivals/analytics",element:e.jsx(_P,{})}),e.jsx(W,{path:"marketing",element:e.jsx(SP,{})}),e.jsx(W,{path:"marketing/campaigns",element:e.jsx(CP,{})}),e.jsx(W,{path:"marketing/advertising",element:e.jsx(TP,{})}),e.jsx(W,{path:"marketing/audiences",element:e.jsx(MP,{})}),e.jsx(W,{path:"accounting/*",element:e.jsx(vP,{})}),e.jsx(W,{path:"user-tracking",element:e.jsx(VA,{})}),e.jsx(W,{path:"user-tracking/behavior",element:e.jsx(BA,{})}),e.jsx(W,{path:"user-tracking/real-time",element:e.jsx(zA,{})}),e.jsx(W,{path:"user-tracking/segments",element:e.jsx(UA,{})}),e.jsx(W,{path:"user-tracking/privacy",element:e.jsx(WA,{})}),e.jsx(W,{path:"members/*",element:e.jsx(e7,{})}),e.jsx(W,{path:"gifts/*",element:e.jsx(x7,{})}),e.jsx(W,{path:"suppliers/*",element:e.jsx(J7,{})}),e.jsx(W,{path:"procurement/*",element:e.jsx(i9,{})}),e.jsx(W,{path:"notifications/*",element:e.jsx(l7,{})}),e.jsx(W,{path:"analytics/*",element:e.jsx(zT,{})}),e.jsx(W,{path:"admin-management/*",element:e.jsx(o7,{})}),e.jsx(W,{path:"settings/*",element:e.jsx(ZT,{})}),e.jsx(W,{path:"inventory",element:e.jsx(XT,{})}),e.jsx(W,{path:"documents",element:e.jsx(DP,{})}),e.jsx(W,{path:"documents/sales",element:e.jsx(EP,{})}),e.jsx(W,{path:"documents/purchase",element:e.jsx(AP,{})}),e.jsx(W,{path:"documents/inventory",element:e.jsx(PP,{})}),e.jsx(W,{path:"documents/workflow",element:e.jsx(RP,{})})]})})]})]})},LP={product:{create:"新增商品",read:"查看商品",update:"編輯商品",delete:"刪除商品"},inventory:{create:"新增庫存",read:"查看庫存",update:"編輯庫存",delete:"刪除庫存"},order:{create:"新增訂單",read:"查看訂單",update:"編輯訂單",delete:"刪除訂單"},member:{create:"新增會員",read:"查看會員",update:"編輯會員",delete:"刪除會員"},promotion:{create:"新增優惠",read:"查看優惠",update:"編輯優惠",delete:"刪除優惠"},supplier:{create:"新增供應商",read:"查看供應商",update:"編輯供應商",delete:"刪除供應商"},analytics:{create:"新增分析",read:"查看分析",update:"編輯分析",delete:"刪除分析"},system:{create:"新增系統設定",read:"查看系統設定",update:"編輯系統設定",delete:"刪除系統設定"},notification:{create:"新增通知",read:"查看通知",update:"編輯通知",delete:"刪除通知"},content:{create:"新增內容",read:"查看內容",update:"編輯內容",delete:"刪除內容"},admin:{create:"新增管理員",read:"查看管理員",update:"編輯管理員",delete:"刪除管理員"},marketing:{create:"新增行銷",read:"查看行銷",update:"編輯行銷",delete:"刪除行銷"},purchase:{create:"新增採購",read:"查看採購",update:"編輯採購",delete:"刪除採購"},gift:{create:"新增贈品",read:"查看贈品",update:"編輯贈品",delete:"刪除贈品"}},OP=[{id:1,roleName:"超級管理員",rolePrefix:"S",permissions:Object.keys(LP).reduce((s,t)=>(s[t]={create:!0,read:!0,update:!0,delete:!0},s),{}),isSystemRole:!0},{id:2,roleName:"商品管理員",rolePrefix:"P",permissions:{product:{create:!0,read:!0,update:!0,delete:!0},inventory:{create:!0,read:!0,update:!0,delete:!1},order:{create:!1,read:!0,update:!0,delete:!1},analytics:{create:!1,read:!0,update:!1,delete:!1}},isSystemRole:!1},{id:3,roleName:"客服管理員",rolePrefix:"C",permissions:{order:{create:!1,read:!0,update:!0,delete:!1},member:{create:!1,read:!0,update:!0,delete:!1},notification:{create:!0,read:!0,update:!0,delete:!1}},isSystemRole:!1}],FP=[{id:1,employeeId:"S0001",roleId:1,email:"admin@marelle.com",displayName:"系統管理員",avatarUrl:null,isActive:!0,failedLoginAttempts:0,lockedUntil:null,lastLoginAt:null,createdAt:new Date().toISOString()}],eb={minLength:4,maxLength:10,startNumber:1,padZeros:4},$P={maxAge:24*60*60*1e3,warningTime:10*60*1e3,extendTime:2*60*60*1e3},Xh={maxFailedAttempts:5,lockoutDuration:24*60*60*1e3,inactiveThreshold:30*24*60*60*1e3},VP=(s,t=[])=>{const r=s.toUpperCase();let n=eb.startNumber;const a=t.filter(l=>l.startsWith(r)).map(l=>parseInt(l.substring(r.length))).filter(l=>!isNaN(l));a.length>0&&(n=Math.max(...a)+1);const i=n.toString().padStart(eb.padZeros,"0");return`${r}${i}`},BP=(s,t,r)=>{var n;return((n=s==null?void 0:s[t])==null?void 0:n[r])===!0},zP=()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let r=0;r<64;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return t};class UP{constructor(){this.initializeData()}initializeData(){if(localStorage.getItem("admin_roles")||localStorage.setItem("admin_roles",JSON.stringify(OP)),!localStorage.getItem("admin_users")){const t=FP.map(r=>({...r,passwordHash:this.hashPassword("Admin123!")}));localStorage.setItem("admin_users",JSON.stringify(t))}localStorage.getItem("admin_sessions")||localStorage.setItem("admin_sessions",JSON.stringify([])),localStorage.getItem("admin_login_logs")||localStorage.setItem("admin_login_logs",JSON.stringify([]))}getAllRoles(){return JSON.parse(localStorage.getItem("admin_roles")||"[]")}getRoleById(t){return this.getAllRoles().find(n=>n.id===t)}createRole(t){const r=this.getAllRoles();this.getAllUsers().map(a=>a.employeeId);const n={id:Math.max(0,...r.map(a=>a.id))+1,...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(n),localStorage.setItem("admin_roles",JSON.stringify(r)),n}updateRole(t,r){const n=this.getAllRoles(),a=n.findIndex(i=>i.id===t);return a===-1?null:(n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem("admin_roles",JSON.stringify(n)),n[a])}deleteRole(t){const r=this.getAllRoles(),n=r.find(o=>o.id===t);if(!n||n.isSystemRole||this.getAllUsers().some(o=>o.roleId===t))return!1;const l=r.filter(o=>o.id!==t);return localStorage.setItem("admin_roles",JSON.stringify(l)),!0}getAllUsers(){return JSON.parse(localStorage.getItem("admin_users")||"[]")}getUserById(t){return this.getAllUsers().find(n=>n.id===t)}getUserByEmail(t){return this.getAllUsers().find(n=>n.email===t)}getUserByEmployeeId(t){return this.getAllUsers().find(n=>n.employeeId===t)}createUser(t){const r=this.getAllUsers(),n=this.getRoleById(t.roleId);if(!n)throw new Error("指定的角色不存在");const a=r.map(o=>o.employeeId),i=VP(n.rolePrefix,a),l={id:Math.max(0,...r.map(o=>o.id))+1,employeeId:i,...t,passwordHash:this.hashPassword(t.password),isActive:!0,failedLoginAttempts:0,lockedUntil:null,lastLoginAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return delete l.password,r.push(l),localStorage.setItem("admin_users",JSON.stringify(r)),l}updateUser(t,r){const n=this.getAllUsers(),a=n.findIndex(i=>i.id===t);return a===-1?null:(r.password&&(r.passwordHash=this.hashPassword(r.password),delete r.password),n[a]={...n[a],...r,updatedAt:new Date().toISOString()},localStorage.setItem("admin_users",JSON.stringify(n)),n[a])}deleteUser(t){const r=this.getAllUsers(),n=r.find(l=>l.id===t);if(!n)return!1;const a=this.getRoleById(n.roleId);if(a&&a.rolePrefix==="S")return!1;const i=r.filter(l=>l.id!==t);return localStorage.setItem("admin_users",JSON.stringify(i)),!0}getAllSessions(){return JSON.parse(localStorage.getItem("admin_sessions")||"[]")}createSession(t){const r=this.getAllSessions(),n=zP(),a=new Date(Date.now()+$P.maxAge),i={id:Math.max(0,...r.map(l=>l.id))+1,userId:t,sessionToken:n,expiresAt:a.toISOString(),lastActivity:new Date().toISOString(),createdAt:new Date().toISOString()};return r.push(i),localStorage.setItem("admin_sessions",JSON.stringify(r)),i}validateSession(t){const n=this.getAllSessions().find(c=>c.sessionToken===t);if(!n)return null;const a=new Date,i=new Date(n.expiresAt);if(a>i)return this.invalidateSession(t),null;this.updateSessionActivity(t);const l=this.getUserById(n.userId),o=this.getRoleById(l==null?void 0:l.roleId);return!l||!l.isActive||!o?(this.invalidateSession(t),null):{sessionId:n.id,userId:l.id,employeeId:l.employeeId,displayName:l.displayName,email:l.email,roleId:o.id,roleName:o.roleName,permissions:o.permissions,avatarUrl:l.avatarUrl,lastActivity:n.lastActivity}}updateSessionActivity(t){const r=this.getAllSessions(),n=r.findIndex(a=>a.sessionToken===t);n!==-1&&(r[n].lastActivity=new Date().toISOString(),localStorage.setItem("admin_sessions",JSON.stringify(r)))}invalidateSession(t){const n=this.getAllSessions().filter(a=>a.sessionToken!==t);localStorage.setItem("admin_sessions",JSON.stringify(n))}cleanExpiredSessions(){const t=this.getAllSessions(),r=new Date,n=t.filter(a=>{const i=new Date(a.expiresAt);return r<=i});localStorage.setItem("admin_sessions",JSON.stringify(n))}getAllLoginLogs(){return JSON.parse(localStorage.getItem("admin_login_logs")||"[]")}addLoginLog(t){const r=this.getAllLoginLogs(),n={id:Math.max(0,...r.map(a=>a.id))+1,...t,createdAt:new Date().toISOString()};return r.push(n),r.length>1e3&&r.splice(0,r.length-1e3),localStorage.setItem("admin_login_logs",JSON.stringify(r)),n}authenticate(t,r){const n=this.getUserByEmail(t);if(!n)return this.addLoginLog({userId:null,email:t,loginMethod:"password",success:!1,failureReason:"用戶不存在",ipAddress:this.getClientIP(),userAgent:navigator.userAgent}),{success:!1,message:"帳號或密碼錯誤"};if(n.lockedUntil&&new Date(n.lockedUntil)>new Date)return this.addLoginLog({userId:n.id,email:t,loginMethod:"password",success:!1,failureReason:"帳號被鎖定",ipAddress:this.getClientIP(),userAgent:navigator.userAgent}),{success:!1,message:"帳號已被鎖定，請聯繫管理員"};if(!n.isActive)return this.addLoginLog({userId:n.id,email:t,loginMethod:"password",success:!1,failureReason:"帳號已停用",ipAddress:this.getClientIP(),userAgent:navigator.userAgent}),{success:!1,message:"帳號已停用"};if(!this.verifyPassword(r,n.passwordHash)){const l=n.failedLoginAttempts+1;let o={failedLoginAttempts:l};return l>=Xh.maxFailedAttempts&&(o.lockedUntil=new Date(Date.now()+Xh.lockoutDuration).toISOString()),this.updateUser(n.id,o),this.addLoginLog({userId:n.id,email:t,loginMethod:"password",success:!1,failureReason:"密碼錯誤",ipAddress:this.getClientIP(),userAgent:navigator.userAgent}),{success:!1,message:l>=Xh.maxFailedAttempts?"密碼錯誤次數過多，帳號已被鎖定":"帳號或密碼錯誤"}}this.updateUser(n.id,{failedLoginAttempts:0,lockedUntil:null,lastLoginAt:new Date().toISOString()});const i=this.createSession(n.id);return this.addLoginLog({userId:n.id,email:t,loginMethod:"password",success:!0,failureReason:null,ipAddress:this.getClientIP(),userAgent:navigator.userAgent}),{success:!0,sessionToken:i.sessionToken,user:this.validateSession(i.sessionToken)}}hashPassword(t){return btoa(t+"marelle_salt")}verifyPassword(t,r){return this.hashPassword(t)===r}getClientIP(){return"127.0.0.1"}getStatistics(){const t=this.getAllUsers(),r=this.getAllRoles(),n=this.getAllSessions(),a=this.getAllLoginLogs(),i=t.filter(c=>c.isActive),l=t.filter(c=>c.lockedUntil&&new Date(c.lockedUntil)>new Date),o=n.filter(c=>new Date(c.expiresAt)>new Date);return{totalUsers:t.length,activeUsers:i.length,lockedUsers:l.length,totalRoles:r.length,activeSessions:o.length,totalLoginAttempts:a.length,successfulLogins:a.filter(c=>c.success).length,failedLogins:a.filter(c=>!c.success).length}}}const Hi=new UP,Ow=u.createContext(),WP=({children:s})=>{const[t,r]=u.useState(null),[n,a]=u.useState(!1),[i,l]=u.useState(0);u.useEffect(()=>{const b=localStorage.getItem("marelle-admin-token");if(b){const v=Hi.validateSession(b);v?(r(v),o(v)):localStorage.removeItem("marelle-admin-token")}},[]);const o=b=>{const g=new Date(b.lastActivity).getTime()+864e5-10*60*1e3,w=Date.now();g>w&&setTimeout(()=>{c()},g-w)},c=()=>{a(!0),l(10*60);const b=setInterval(()=>{l(v=>v<=1?(clearInterval(b),m(),0):v-1)},1e3)},d=()=>{const b=localStorage.getItem("marelle-admin-token");if(b){Hi.updateSessionActivity(b),a(!1),l(0);const v=Hi.validateSession(b);v&&o(v)}},m=()=>{p(),alert("會話已到期，請重新登入")},h=b=>{const v=Hi.authenticate(b.email,b.password);return v.success?(localStorage.setItem("marelle-admin-token",v.sessionToken),r(v.user),o(v.user),{success:!0}):v},p=()=>{const b=localStorage.getItem("marelle-admin-token");b&&Hi.invalidateSession(b),localStorage.removeItem("marelle-admin-token"),r(null),a(!1),l(0)},y=(b,v)=>t?BP(t.permissions,b,v):!1,x=b=>{const v=Math.floor(b/60),g=b%60;return`${v}:${g.toString().padStart(2,"0")}`},f={currentUser:t,login:h,logout:p,checkPermission:y,isAuthenticated:!!t};return e.jsxs(Ow.Provider,{value:f,children:[s,n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100000]",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 font-chinese",children:"會話即將到期"}),e.jsxs("p",{className:"text-gray-600 mb-4 font-chinese",children:["您的會話將在 ",e.jsx("span",{className:"font-bold text-red-600",children:x(i)})," 後到期"]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 font-chinese",children:"是否要繼續操作？"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:d,className:"flex-1 px-4 py-3 bg-[#cc824d] text-white rounded-xl hover:bg-[#b3723f] transition-colors font-chinese",children:"繼續操作"}),e.jsx("button",{onClick:p,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-chinese",children:"登出"})]})]})})})]})},HP=()=>{const s=u.useContext(Ow);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},GP=({email:s})=>{const[t,r]=u.useState(null);if(u.useEffect(()=>{if(s){const i=Hi.getUserByEmail(s);r(i)}},[s]),!t||t.failedLoginAttempts===0)return null;const n=5-t.failedLoginAttempts;return t.lockedUntil&&new Date(t.lockedUntil)>new Date?e.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 font-chinese",children:"帳號已被鎖定"}),e.jsx("p",{className:"text-xs text-red-600 font-chinese",children:"請聯繫管理員解鎖或等待24小時後自動解鎖"})]})]})}):e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-yellow-800 font-chinese",children:["登入失敗 ",t.failedLoginAttempts," 次"]}),e.jsxs("p",{className:"text-xs text-yellow-600 font-chinese",children:["還有 ",n," 次機會，超過將被鎖定24小時"]})]})]})})},qP=()=>{const s=$r(),{login:t}=HP(),[r,n]=u.useState({email:"",password:""}),[a,i]=u.useState(!1),[l,o]=u.useState(!1),[c,d]=u.useState(""),m=async p=>{p.preventDefault(),o(!0),d("");try{const y=t(r);y.success?s("/"):d(y.message)}catch{d("登入失敗，請稍後再試")}finally{o(!1)}},h=(p,y)=>{n(x=>({...x,[p]:y})),c&&d("")};return e.jsx("div",{className:"min-h-screen flex flex-col bg-[#fdf8f2]",children:e.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center py-8 pt-16",children:[e.jsxs("form",{onSubmit:m,className:"w-full max-w-md mx-auto bg-transparent flex flex-col items-center",children:[e.jsx("h2",{className:"text-2xl font-serif font-bold text-[#2d1e0f] mb-8 mt-2 tracking-wider",children:"Marelle 管理員登入"}),e.jsxs("div",{className:"w-full flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("input",{type:"email",value:r.email,onChange:p=>h("email",p.target.value),className:"block w-full border-0 border-b border-[#e5ded6] bg-transparent text-base py-3 px-0 focus:ring-0 focus:border-[#bfae9b] placeholder-[#bfae9b] font-serif",placeholder:"管理員信箱",required:!0,autoFocus:!0}),e.jsx(GP,{email:r.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a?"text":"password",value:r.password,onChange:p=>h("password",p.target.value),className:"block w-full border-0 border-b border-[#e5ded6] bg-transparent text-base py-3 px-0 focus:ring-0 focus:border-[#bfae9b] placeholder-[#bfae9b] font-serif",placeholder:"密碼",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(p=>!p),className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#bfae9b] hover:text-[#a88c6b]",tabIndex:-1,children:a?e.jsx(QS,{className:"w-5 h-5"}):e.jsx($e,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",className:"text-xs text-[#bfae9b] hover:underline font-serif",children:"忘記密碼？"})}),c&&e.jsx("div",{className:"text-red-600 text-sm font-serif text-center",children:c}),e.jsx("button",{type:"submit",disabled:l||!r.email||!r.password,className:"w-full bg-[#cc824d] hover:bg-[#b86c37] text-white text-base font-bold py-3 rounded transition-colors font-serif tracking-wider mt-2 disabled:bg-[#e5ded6] disabled:text-[#bfae9b]",children:l?"登入中...":"進入管理後台"})]}),e.jsxs("div",{className:"w-full flex items-center my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-[#e5ded6]"}),e.jsx("span",{className:"mx-4 text-[#bfae9b] text-sm font-serif",children:"或使用社群帳號登入"}),e.jsx("div",{className:"flex-1 h-px bg-[#e5ded6]"})]})]}),e.jsx("div",{className:"w-full max-w-md mx-auto mb-8",children:e.jsxs("button",{type:"button",className:"w-full bg-[#00c300] hover:bg-[#00b300] text-white text-base font-bold py-3 rounded transition-colors font-serif tracking-wider flex items-center justify-center gap-3",children:[e.jsx("i",{className:"fa-brands fa-line text-xl"}),e.jsx("span",{children:"LINE 登入"})]})}),e.jsxs("div",{className:"w-full max-w-md mx-auto mt-8 p-4 bg-[#f7f2e8] border border-[#e5ded6] rounded",children:[e.jsx("h4",{className:"text-sm font-bold text-[#2d1e0f] mb-2 font-serif",children:"預設管理員帳號"}),e.jsxs("div",{className:"text-xs text-[#666] space-y-1 font-serif",children:[e.jsx("p",{children:"帳號：admin@marelle.com"}),e.jsx("p",{children:"密碼：Admin123!"}),e.jsx("p",{className:"text-[#cc824d] mt-2",children:"建議首次登入後立即修改密碼"})]})]})]})})};De.registerPlugin(ge);function YP(){return u.useEffect(()=>{De.fromTo(".animate-on-load",{opacity:0,y:30},{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"})},[]),e.jsx(WP,{children:e.jsx(d6,{children:e.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-cream-50 to-apricot-50",children:e.jsxs(Vr,{children:[e.jsx(W,{path:"/login",element:e.jsx(qP,{})}),e.jsx(W,{path:"/*",element:e.jsx(IP,{})})]})})})})}Qh.createRoot(document.getElementById("root")).render(e.jsx(Oc.StrictMode,{children:e.jsx(YP,{})}));
